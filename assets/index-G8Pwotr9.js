(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function wS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wf={exports:{}},fa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function RS(){if(r_)return fa;r_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return fa.Fragment=t,fa.jsx=i,fa.jsxs=i,fa}var a_;function AS(){return a_||(a_=1,wf.exports=RS()),wf.exports}var B=AS(),Rf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function NS(){if(l_)return se;l_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function z(b,U,Y){this.props=b,this.context=U,this.refs=P,this.updater=Y||O}z.prototype.isReactComponent={},z.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function G(){}G.prototype=z.prototype;function j(b,U,Y){this.props=b,this.context=U,this.refs=P,this.updater=Y||O}var K=j.prototype=new G;K.constructor=j,L(K,z.prototype),K.isPureReactComponent=!0;var Te=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},Qe=Object.prototype.hasOwnProperty;function qe(b,U,Y,q,X,de){return Y=de.ref,{$$typeof:s,type:b,key:U,ref:Y!==void 0?Y:null,props:de}}function Ke(b,U){return qe(b.type,U,void 0,void 0,void 0,b.props)}function Le(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function St(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return U[Y]})}var It=/\/+/g;function rt(b,U){return typeof b=="object"&&b!==null&&b.key!=null?St(""+b.key):U.toString(36)}function Ci(){}function wi(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Ci,Ci):(b.status="pending",b.then(function(U){b.status==="pending"&&(b.status="fulfilled",b.value=U)},function(U){b.status==="pending"&&(b.status="rejected",b.reason=U)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function at(b,U,Y,q,X){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ie=!1;if(b===null)ie=!0;else switch(de){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(b.$$typeof){case s:case t:ie=!0;break;case y:return ie=b._init,at(ie(b._payload),U,Y,q,X)}}if(ie)return X=X(b),ie=q===""?"."+rt(b,0):q,Te(X)?(Y="",ie!=null&&(Y=ie.replace(It,"$&/")+"/"),at(X,U,Y,"",function(Pn){return Pn})):X!=null&&(Le(X)&&(X=Ke(X,Y+(X.key==null||b&&b.key===X.key?"":(""+X.key).replace(It,"$&/")+"/")+ie)),U.push(X)),1;ie=0;var bt=q===""?".":q+":";if(Te(b))for(var De=0;De<b.length;De++)q=b[De],de=bt+rt(q,De),ie+=at(q,U,Y,de,X);else if(De=E(b),typeof De=="function")for(b=De.call(b),De=0;!(q=b.next()).done;)q=q.value,de=bt+rt(q,De++),ie+=at(q,U,Y,de,X);else if(de==="object"){if(typeof b.then=="function")return at(wi(b),U,Y,q,X);throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ie}function M(b,U,Y){if(b==null)return b;var q=[],X=0;return at(b,q,"","",function(de){return U.call(Y,de,X++)}),q}function V(b){if(b._status===-1){var U=b._result;U=U(),U.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var $=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Ce(){}return se.Children={map:M,forEach:function(b,U,Y){M(b,function(){U.apply(this,arguments)},Y)},count:function(b){var U=0;return M(b,function(){U++}),U},toArray:function(b){return M(b,function(U){return U})||[]},only:function(b){if(!Le(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},se.Component=z,se.Fragment=i,se.Profiler=o,se.PureComponent=j,se.StrictMode=a,se.Suspense=m,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ne.H.useMemoCache(b)}},se.cache=function(b){return function(){return b.apply(null,arguments)}},se.cloneElement=function(b,U,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var q=L({},b.props),X=b.key,de=void 0;if(U!=null)for(ie in U.ref!==void 0&&(de=void 0),U.key!==void 0&&(X=""+U.key),U)!Qe.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(q[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)q.children=Y;else if(1<ie){for(var bt=Array(ie),De=0;De<ie;De++)bt[De]=arguments[De+2];q.children=bt}return qe(b.type,X,void 0,void 0,de,q)},se.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},se.createElement=function(b,U,Y){var q,X={},de=null;if(U!=null)for(q in U.key!==void 0&&(de=""+U.key),U)Qe.call(U,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(X[q]=U[q]);var ie=arguments.length-2;if(ie===1)X.children=Y;else if(1<ie){for(var bt=Array(ie),De=0;De<ie;De++)bt[De]=arguments[De+2];X.children=bt}if(b&&b.defaultProps)for(q in ie=b.defaultProps,ie)X[q]===void 0&&(X[q]=ie[q]);return qe(b,de,void 0,void 0,null,X)},se.createRef=function(){return{current:null}},se.forwardRef=function(b){return{$$typeof:d,render:b}},se.isValidElement=Le,se.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:V}},se.memo=function(b,U){return{$$typeof:p,type:b,compare:U===void 0?null:U}},se.startTransition=function(b){var U=ne.T,Y={};ne.T=Y;try{var q=b(),X=ne.S;X!==null&&X(Y,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ce,$)}catch(de){$(de)}finally{ne.T=U}},se.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},se.use=function(b){return ne.H.use(b)},se.useActionState=function(b,U,Y){return ne.H.useActionState(b,U,Y)},se.useCallback=function(b,U){return ne.H.useCallback(b,U)},se.useContext=function(b){return ne.H.useContext(b)},se.useDebugValue=function(){},se.useDeferredValue=function(b,U){return ne.H.useDeferredValue(b,U)},se.useEffect=function(b,U,Y){var q=ne.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(b,U)},se.useId=function(){return ne.H.useId()},se.useImperativeHandle=function(b,U,Y){return ne.H.useImperativeHandle(b,U,Y)},se.useInsertionEffect=function(b,U){return ne.H.useInsertionEffect(b,U)},se.useLayoutEffect=function(b,U){return ne.H.useLayoutEffect(b,U)},se.useMemo=function(b,U){return ne.H.useMemo(b,U)},se.useOptimistic=function(b,U){return ne.H.useOptimistic(b,U)},se.useReducer=function(b,U,Y){return ne.H.useReducer(b,U,Y)},se.useRef=function(b){return ne.H.useRef(b)},se.useState=function(b){return ne.H.useState(b)},se.useSyncExternalStore=function(b,U,Y){return ne.H.useSyncExternalStore(b,U,Y)},se.useTransition=function(){return ne.H.useTransition()},se.version="19.1.1",se}var o_;function gh(){return o_||(o_=1,Rf.exports=NS()),Rf.exports}var I=gh();const Ki=wS(I);var Af={exports:{}},ha={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function OS(){return u_||(u_=1,(function(s){function t(M,V){var $=M.length;M.push(V);e:for(;0<$;){var Ce=$-1>>>1,b=M[Ce];if(0<o(b,V))M[Ce]=V,M[$]=b,$=Ce;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var V=M[0],$=M.pop();if($!==V){M[0]=$;e:for(var Ce=0,b=M.length,U=b>>>1;Ce<U;){var Y=2*(Ce+1)-1,q=M[Y],X=Y+1,de=M[X];if(0>o(q,$))X<b&&0>o(de,q)?(M[Ce]=de,M[X]=$,Ce=X):(M[Ce]=q,M[Y]=$,Ce=Y);else if(X<b&&0>o(de,$))M[Ce]=de,M[X]=$,Ce=X;else break e}}return V}function o(M,V){var $=M.sortIndex-V.sortIndex;return $!==0?$:M.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var m=[],p=[],y=1,v=null,E=3,O=!1,L=!1,P=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Te(M){for(var V=i(p);V!==null;){if(V.callback===null)a(p);else if(V.startTime<=M)a(p),V.sortIndex=V.expirationTime,t(m,V);else break;V=i(p)}}function ne(M){if(P=!1,Te(M),!L)if(i(m)!==null)L=!0,Qe||(Qe=!0,rt());else{var V=i(p);V!==null&&at(ne,V.startTime-M)}}var Qe=!1,qe=-1,Ke=5,Le=-1;function St(){return z?!0:!(s.unstable_now()-Le<Ke)}function It(){if(z=!1,Qe){var M=s.unstable_now();Le=M;var V=!0;try{e:{L=!1,P&&(P=!1,j(qe),qe=-1),O=!0;var $=E;try{t:{for(Te(M),v=i(m);v!==null&&!(v.expirationTime>M&&St());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,E=v.priorityLevel;var b=Ce(v.expirationTime<=M);if(M=s.unstable_now(),typeof b=="function"){v.callback=b,Te(M),V=!0;break t}v===i(m)&&a(m),Te(M)}else a(m);v=i(m)}if(v!==null)V=!0;else{var U=i(p);U!==null&&at(ne,U.startTime-M),V=!1}}break e}finally{v=null,E=$,O=!1}V=void 0}}finally{V?rt():Qe=!1}}}var rt;if(typeof K=="function")rt=function(){K(It)};else if(typeof MessageChannel<"u"){var Ci=new MessageChannel,wi=Ci.port2;Ci.port1.onmessage=It,rt=function(){wi.postMessage(null)}}else rt=function(){G(It,0)};function at(M,V){qe=G(function(){M(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(M){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var $=E;E=V;try{return M()}finally{E=$}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=E;E=M;try{return V()}finally{E=$}},s.unstable_scheduleCallback=function(M,V,$){var Ce=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ce+$:Ce):$=Ce,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,M={id:y++,callback:V,priorityLevel:M,startTime:$,expirationTime:b,sortIndex:-1},$>Ce?(M.sortIndex=$,t(p,M),i(m)===null&&M===i(p)&&(P?(j(qe),qe=-1):P=!0,at(ne,$-Ce))):(M.sortIndex=b,t(m,M),L||O||(L=!0,Qe||(Qe=!0,rt()))),M},s.unstable_shouldYield=St,s.unstable_wrapCallback=function(M){var V=E;return function(){var $=E;E=V;try{return M.apply(this,arguments)}finally{E=$}}}})(Of)),Of}var c_;function DS(){return c_||(c_=1,Nf.exports=OS()),Nf.exports}var Df={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function MS(){if(f_)return ut;f_=1;var s=gh();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ut.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(m,p,null,y)},ut.flushSync=function(m){var p=h.T,y=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=p,a.p=y,a.d.f()}},ut.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},ut.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},ut.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:O}):y==="script"&&a.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ut.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},ut.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);a.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ut.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},ut.requestFormReset=function(m){a.d.r(m)},ut.unstable_batchedUpdates=function(m,p){return m(p)},ut.useFormState=function(m,p,y){return h.H.useFormState(m,p,y)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.1.1",ut}var h_;function xS(){if(h_)return Df.exports;h_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Df.exports=MS(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function IS(){if(d_)return ha;d_=1;var s=DS(),t=gh(),i=xS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return d(u),e;if(f===l)return d(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Le=Symbol.for("react.activity"),St=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=It&&e[It]||e["@@iterator"],typeof e=="function"?e:null)}var Ci=Symbol.for("react.client.reference");function wi(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ci?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case ne:return"Suspense";case Qe:return"SuspenseList";case Le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case K:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case Te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return n=e.displayName||null,n!==null?n:wi(e.type)||"Memo";case Ke:n=e._payload,e=e._init;try{return wi(e(n))}catch{}}return null}var at=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ce=[],b=-1;function U(e){return{current:e}}function Y(e){0>b||(e.current=Ce[b],Ce[b]=null,b--)}function q(e,n){b++,Ce[b]=e.current,e.current=n}var X=U(null),de=U(null),ie=U(null),bt=U(null);function De(e,n){switch(q(ie,n),q(de,e),q(X,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ig(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ig(n),e=Lg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(X),q(X,e)}function Pn(){Y(X),Y(de),Y(ie)}function uu(e){e.memoizedState!==null&&q(bt,e);var n=X.current,r=Lg(n,e.type);n!==r&&(q(de,e),q(X,r))}function $a(e){de.current===e&&(Y(X),Y(de)),bt.current===e&&(Y(bt),aa._currentValue=$)}var cu=Object.prototype.hasOwnProperty,fu=s.unstable_scheduleCallback,hu=s.unstable_cancelCallback,i0=s.unstable_shouldYield,s0=s.unstable_requestPaint,en=s.unstable_now,r0=s.unstable_getCurrentPriorityLevel,dd=s.unstable_ImmediatePriority,pd=s.unstable_UserBlockingPriority,Ja=s.unstable_NormalPriority,a0=s.unstable_LowPriority,md=s.unstable_IdlePriority,l0=s.log,o0=s.unstable_setDisableYieldValue,pr=null,Tt=null;function Bn(e){if(typeof l0=="function"&&o0(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(pr,e)}catch{}}var Ct=Math.clz32?Math.clz32:f0,u0=Math.log,c0=Math.LN2;function f0(e){return e>>>=0,e===0?32:31-(u0(e)/c0|0)|0}var el=256,tl=4194304;function Ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nl(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=Ri(l):(g&=_,g!==0?u=Ri(g):r||(r=_&~e,r!==0&&(u=Ri(r))))):(_=l&~f,_!==0?u=Ri(_):g!==0?u=Ri(g):r||(r=l&~e,r!==0&&(u=Ri(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function mr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function h0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gd(){var e=el;return el<<=1,(el&4194048)===0&&(el=256),e}function _d(){var e=tl;return tl<<=1,(tl&62914560)===0&&(tl=4194304),e}function du(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function d0(e,n,r,l,u,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(r=g&~r;0<r;){var D=31-Ct(r),k=1<<D;_[D]=0,S[D]=-1;var A=R[D];if(A!==null)for(R[D]=null,D=0;D<A.length;D++){var N=A[D];N!==null&&(N.lane&=-536870913)}r&=~k}l!==0&&yd(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yd(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ct(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&4194090}function vd(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Ct(r),u=1<<l;u&n|e[l]&n&&(e[l]|=n),r&=~u}}function pu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ed(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Jg(e.type))}function p0(e,n){var r=V.p;try{return V.p=e,n()}finally{V.p=r}}var jn=Math.random().toString(36).slice(2),lt="__reactFiber$"+jn,pt="__reactProps$"+jn,rs="__reactContainer$"+jn,gu="__reactEvents$"+jn,m0="__reactListeners$"+jn,g0="__reactHandles$"+jn,Sd="__reactResources$"+jn,_r="__reactMarker$"+jn;function _u(e){delete e[lt],delete e[pt],delete e[gu],delete e[m0],delete e[g0]}function as(e){var n=e[lt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[rs]||r[lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Hg(e);e!==null;){if(r=e[lt])return r;e=Hg(e)}return n}e=r,r=e.parentNode}return null}function ls(e){if(e=e[lt]||e[rs]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function os(e){var n=e[Sd];return n||(n=e[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[_r]=!0}var bd=new Set,Td={};function Ai(e,n){us(e,n),us(e+"Capture",n)}function us(e,n){for(Td[e]=n,e=0;e<n.length;e++)bd.add(n[e])}var _0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},wd={};function y0(e){return cu.call(wd,e)?!0:cu.call(Cd,e)?!1:_0.test(e)?wd[e]=!0:(Cd[e]=!0,!1)}function il(e,n,r){if(y0(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function sl(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function fn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}var yu,Rd;function cs(e){if(yu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);yu=n&&n[1]||"",Rd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yu+e+Rd}var vu=!1;function Eu(e,n){if(!e||vu)return"";vu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(N){var A=N}Reflect.construct(e,[],k)}else{try{k.call()}catch(N){A=N}e.call(k.prototype)}}else{try{throw Error()}catch(N){A=N}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var S=g.split(`
`),R=_.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===R.length)for(l=S.length-1,u=R.length-1;1<=l&&0<=u&&S[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==R[u]){var D=`
`+S[l].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=l&&0<=u);break}}}finally{vu=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?cs(r):""}function v0(e){switch(e.tag){case 26:case 27:case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return Eu(e.type,!1);case 11:return Eu(e.type.render,!1);case 1:return Eu(e.type,!0);case 31:return cs("Activity");default:return""}}function Ad(e){try{var n="";do n+=v0(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function E0(e){var n=Nd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rl(e){e._valueTracker||(e._valueTracker=E0(e))}function Od(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Nd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var S0=/[\n"\\]/g;function kt(e){return e.replace(S0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Su(e,n,r,l,u,f,g,_){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Lt(n)):e.value!==""+Lt(n)&&(e.value=""+Lt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bu(e,g,Lt(n)):r!=null?bu(e,g,Lt(r)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Lt(_):e.removeAttribute("name")}function Dd(e,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function bu(e,n,r){n==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function fs(e,n,r,l){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Md(e,n,r){if(n!=null&&(n=""+Lt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Lt(r):""}function xd(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(at(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l)}function hs(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var b0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||b0.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ld(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&Id(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&Id(e,f,n[f])}function Tu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(e){return C0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cu=null;function wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,ps=null;function kd(e){var n=ls(e);if(n&&(e=n.stateNode)){var r=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Su(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var u=l[pt]||null;if(!u)throw Error(a(90));Su(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Od(l)}break e;case"textarea":Md(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&fs(e,!!r.multiple,n,!1)}}}var Ru=!1;function Ud(e,n,r){if(Ru)return e(n,r);Ru=!0;try{var l=e(n);return l}finally{if(Ru=!1,(ds!==null||ps!==null)&&(Fl(),ds&&(n=ds,e=ps,ps=ds=null,kd(n),e)))for(n=0;n<e.length;n++)kd(e[n])}}function vr(e,n){var r=e.stateNode;if(r===null)return null;var l=r[pt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(hn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Au=!1}var qn=null,Nu=null,ol=null;function zd(){if(ol)return ol;var e,n=Nu,r=n.length,l,u="value"in qn?qn.value:qn.textContent,f=u.length;for(e=0;e<r&&n[e]===u[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return ol=u.slice(e,1<l?1-l:void 0)}function ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Hd(){return!1}function mt(e){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cl:Hd,this.isPropagationStopped=Hd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=mt(Ni),Sr=y({},Ni,{view:0,detail:0}),w0=mt(Sr),Ou,Du,br,hl=y({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(Ou=e.screenX-br.screenX,Du=e.screenY-br.screenY):Du=Ou=0,br=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),Pd=mt(hl),R0=y({},hl,{dataTransfer:0}),A0=mt(R0),N0=y({},Sr,{relatedTarget:0}),Mu=mt(N0),O0=y({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=mt(O0),M0=y({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x0=mt(M0),I0=y({},Ni,{data:0}),Bd=mt(I0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=U0[e])?!!n[e]:!1}function xu(){return z0}var H0=y({},Sr,{key:function(e){if(e.key){var n=L0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P0=mt(H0),B0=y({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=mt(B0),j0=y({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),q0=mt(j0),V0=y({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),G0=mt(V0),Y0=y({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F0=mt(Y0),Q0=y({},Ni,{newState:0,oldState:0}),K0=mt(Q0),X0=[9,13,27,32],Iu=hn&&"CompositionEvent"in window,Tr=null;hn&&"documentMode"in document&&(Tr=document.documentMode);var W0=hn&&"TextEvent"in window&&!Tr,qd=hn&&(!Iu||Tr&&8<Tr&&11>=Tr),Vd=" ",Gd=!1;function Yd(e,n){switch(e){case"keyup":return X0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function Z0(e,n){switch(e){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(Gd=!0,Vd);case"textInput":return e=n.data,e===Vd&&Gd?null:e;default:return null}}function $0(e,n){if(ms)return e==="compositionend"||!Iu&&Yd(e,n)?(e=zd(),ol=Nu=qn=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qd&&n.locale!=="ko"?null:n.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!J0[e.type]:n==="textarea"}function Kd(e,n,r,l){ds?ps?ps.push(l):ps=[l]:ds=l,n=$l(n,"onChange"),0<n.length&&(r=new fl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Cr=null,wr=null;function eE(e){Ng(e,0)}function dl(e){var n=yr(e);if(Od(n))return e}function Xd(e,n){if(e==="change")return n}var Wd=!1;if(hn){var Lu;if(hn){var ku="oninput"in document;if(!ku){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),ku=typeof Zd.oninput=="function"}Lu=ku}else Lu=!1;Wd=Lu&&(!document.documentMode||9<document.documentMode)}function $d(){Cr&&(Cr.detachEvent("onpropertychange",Jd),wr=Cr=null)}function Jd(e){if(e.propertyName==="value"&&dl(wr)){var n=[];Kd(n,wr,e,wu(e)),Ud(eE,n)}}function tE(e,n,r){e==="focusin"?($d(),Cr=n,wr=r,Cr.attachEvent("onpropertychange",Jd)):e==="focusout"&&$d()}function nE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(wr)}function iE(e,n){if(e==="click")return dl(n)}function sE(e,n){if(e==="input"||e==="change")return dl(n)}function rE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wt=typeof Object.is=="function"?Object.is:rE;function Rr(e,n){if(wt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!cu.call(n,u)||!wt(e[u],n[u]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,n){var r=ep(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ep(r)}}function np(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?np(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=al(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=al(e.document)}return n}function Uu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var aE=hn&&"documentMode"in document&&11>=document.documentMode,gs=null,zu=null,Ar=null,Hu=!1;function sp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hu||gs==null||gs!==al(l)||(l=gs,"selectionStart"in l&&Uu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ar&&Rr(Ar,l)||(Ar=l,l=$l(zu,"onSelect"),0<l.length&&(n=new fl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=gs)))}function Oi(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var _s={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Pu={},rp={};hn&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Di(e){if(Pu[e])return Pu[e];if(!_s[e])return e;var n=_s[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in rp)return Pu[e]=n[r];return e}var ap=Di("animationend"),lp=Di("animationiteration"),op=Di("animationstart"),lE=Di("transitionrun"),oE=Di("transitionstart"),uE=Di("transitioncancel"),up=Di("transitionend"),cp=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function Gt(e,n){cp.set(e,n),Ai(n,[e])}var fp=new WeakMap;function Ut(e,n){if(typeof e=="object"&&e!==null){var r=fp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ad(n)},fp.set(e,n),n)}return{value:e,source:n,stack:Ad(n)}}var zt=[],ys=0,ju=0;function pl(){for(var e=ys,n=ju=ys=0;n<e;){var r=zt[n];zt[n++]=null;var l=zt[n];zt[n++]=null;var u=zt[n];zt[n++]=null;var f=zt[n];if(zt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&hp(r,u,f)}}function ml(e,n,r,l){zt[ys++]=e,zt[ys++]=n,zt[ys++]=r,zt[ys++]=l,ju|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qu(e,n,r,l){return ml(e,n,r,l),gl(e)}function vs(e,n){return ml(e,null,null,n),gl(e)}function hp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-Ct(r),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function gl(e){if(50<$r)throw $r=0,Kc=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Es={};function cE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,r,l){return new cE(e,n,r,l)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,n){var r=e.alternate;return r===null?(r=Rt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _l(e,n,r,l,u,f){var g=0;if(l=e,typeof e=="function")Vu(e)&&(g=1);else if(typeof e=="string")g=hS(e,r,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Le:return e=Rt(31,r,n,u),e.elementType=Le,e.lanes=f,e;case L:return Mi(r.children,u,f,n);case P:g=8,u|=24;break;case z:return e=Rt(12,r,n,u|2),e.elementType=z,e.lanes=f,e;case ne:return e=Rt(13,r,n,u),e.elementType=ne,e.lanes=f,e;case Qe:return e=Rt(19,r,n,u),e.elementType=Qe,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:case K:g=10;break e;case j:g=9;break e;case Te:g=11;break e;case qe:g=14;break e;case Ke:g=16,l=null;break e}g=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Rt(g,r,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function Mi(e,n,r,l){return e=Rt(7,e,l,n),e.lanes=r,e}function Gu(e,n,r){return e=Rt(6,e,null,n),e.lanes=r,e}function Yu(e,n,r){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ss=[],bs=0,yl=null,vl=0,Ht=[],Pt=0,xi=null,pn=1,mn="";function Ii(e,n){Ss[bs++]=vl,Ss[bs++]=yl,yl=e,vl=n}function pp(e,n,r){Ht[Pt++]=pn,Ht[Pt++]=mn,Ht[Pt++]=xi,xi=e;var l=pn;e=mn;var u=32-Ct(l)-1;l&=~(1<<u),r+=1;var f=32-Ct(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,pn=1<<32-Ct(n)+u|r<<u|l,mn=f+e}else pn=1<<f|r<<u|l,mn=e}function Fu(e){e.return!==null&&(Ii(e,1),pp(e,1,0))}function Qu(e){for(;e===yl;)yl=Ss[--bs],Ss[bs]=null,vl=Ss[--bs],Ss[bs]=null;for(;e===xi;)xi=Ht[--Pt],Ht[Pt]=null,mn=Ht[--Pt],Ht[Pt]=null,pn=Ht[--Pt],Ht[Pt]=null}var ft=null,ke=null,ge=!1,Li=null,tn=!1,Ku=Error(a(519));function ki(e){var n=Error(a(418,""));throw Dr(Ut(n,e)),Ku}function mp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[lt]=e,n[pt]=l,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(r=0;r<ea.length;r++)ue(ea[r],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),Dd(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rl(n);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),xd(n,l.value,l.defaultValue,l.children),rl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||xg(n.textContent,r)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=Jl),n=!0):n=!1,n||ki(e)}function gp(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:ft=ft.return}}function Nr(e){if(e!==ft)return!1;if(!ge)return gp(e),ge=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ff(e.type,e.memoizedProps)),r=!r),r&&ke&&ki(e),gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ke=Ft(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ke=null}}else n===27?(n=ke,si(e.type)?(e=mf,mf=null,ke=e):ke=n):ke=ft?Ft(e.stateNode.nextSibling):null;return!0}function Or(){ke=ft=null,ge=!1}function _p(){var e=Li;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Li=null),e}function Dr(e){Li===null?Li=[e]:Li.push(e)}var Xu=U(null),Ui=null,gn=null;function Vn(e,n,r){q(Xu,n._currentValue),n._currentValue=r}function _n(e){e._currentValue=Xu.current,Y(Xu)}function Wu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Zu(e,n,r,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),Wu(f.return,r,e),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Wu(g,r,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Mr(e,n,r,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;wt(u.pendingProps.value,g.value)||(e!==null?e.push(_):e=[_])}}else if(u===bt.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(aa):e=[aa])}u=u.return}e!==null&&Zu(n,e,r,l),n.flags|=262144}function El(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zi(e){Ui=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return yp(Ui,e)}function Sl(e,n){return Ui===null&&zi(e),yp(e,n)}function yp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},gn===null){if(e===null)throw Error(a(308));gn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else gn=gn.next=n;return r}var fE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},hE=s.unstable_scheduleCallback,dE=s.unstable_NormalPriority,Ve={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new fE,data:new Map,refCount:0}}function xr(e){e.refCount--,e.refCount===0&&hE(dE,function(){e.controller.abort()})}var Ir=null,Ju=0,Ts=0,Cs=null;function pE(e,n){if(Ir===null){var r=Ir=[];Ju=0,Ts=tf(),Cs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ju++,n.then(vp,vp),n}function vp(){if(--Ju===0&&Ir!==null){Cs!==null&&(Cs.status="fulfilled");var e=Ir;Ir=null,Ts=0,Cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function mE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Ep=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(e,n),Ep!==null&&Ep(e,n)};var Hi=U(null);function ec(){var e=Hi.current;return e!==null?e:Ae.pooledCache}function bl(e,n){n===null?q(Hi,Hi.current):q(Hi,n.pool)}function Sp(){var e=ec();return e===null?null:{parent:Ve._currentValue,pool:e}}var Lr=Error(a(460)),bp=Error(a(474)),Tl=Error(a(542)),tc={then:function(){}};function Tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cl(){}function Cp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Cl,Cl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rp(e),e;default:if(typeof n.status=="string")n.then(Cl,Cl);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rp(e),e}throw kr=n,Lr}}var kr=null;function wp(){if(kr===null)throw Error(a(459));var e=kr;return kr=null,e}function Rp(e){if(e===Lr||e===Tl)throw Error(a(483))}var Gn=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ic(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(_e&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=gl(e),hp(e,null,r),n}return ml(e,l,n,r),gl(e)}function Ur(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,vd(e,r)}}function sc(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rc=!1;function zr(){if(rc){var e=Cs;if(e!==null)throw e}}function Hr(e,n,r,l){rc=!1;var u=e.updateQueue;Gn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,R=S.next;S.next=null,g===null?f=R:g.next=R,g=S;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==g&&(_===null?D.firstBaseUpdate=R:_.next=R,D.lastBaseUpdate=S))}if(f!==null){var k=u.baseState;g=0,D=R=S=null,_=f;do{var A=_.lane&-536870913,N=A!==_.lane;if(N?(he&A)===A:(l&A)===A){A!==0&&A===Ts&&(rc=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=e,W=_;A=n;var Se=r;switch(W.tag){case 1:if(ee=W.payload,typeof ee=="function"){k=ee.call(Se,k,A);break e}k=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=W.payload,A=typeof ee=="function"?ee.call(Se,k,A):ee,A==null)break e;k=y({},k,A);break e;case 2:Gn=!0}}A=_.callback,A!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[A]:N.push(A))}else N={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(R=D=N,S=k):D=D.next=N,g|=A;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);D===null&&(S=k),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=D,f===null&&(u.shared.lanes=0),ei|=g,e.lanes=g,e.memoizedState=k}}function Ap(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Np(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ap(r[e],n)}var ws=U(null),wl=U(0);function Op(e,n){e=Cn,q(wl,e),q(ws,n),Cn=e|n.baseLanes}function ac(){q(wl,Cn),q(ws,ws.current)}function lc(){Cn=wl.current,Y(ws),Y(wl)}var Qn=0,re=null,ve=null,Be=null,Rl=!1,Rs=!1,Pi=!1,Al=0,Pr=0,As=null,gE=0;function He(){throw Error(a(321))}function oc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wt(e[r],n[r]))return!1;return!0}function uc(e,n,r,l,u,f){return Qn=f,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?hm:dm,Pi=!1,f=r(l,u),Pi=!1,Rs&&(f=Mp(n,r,l,u)),Dp(e),f}function Dp(e){M.H=Il;var n=ve!==null&&ve.next!==null;if(Qn=0,Be=ve=re=null,Rl=!1,Pr=0,As=null,n)throw Error(a(300));e===null||We||(e=e.dependencies,e!==null&&El(e)&&(We=!0))}function Mp(e,n,r,l){re=e;var u=0;do{if(Rs&&(As=null),Pr=0,Rs=!1,25<=u)throw Error(a(301));if(u+=1,Be=ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=TE,f=n(r,l)}while(Rs);return f}function _E(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Br(n):n,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(re.flags|=1024),n}function cc(){var e=Al!==0;return Al=0,e}function fc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function hc(e){if(Rl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rl=!1}Qn=0,Be=ve=re=null,Rs=!1,Pr=Al=0,As=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?re.memoizedState=Be=e:Be=Be.next=e,Be}function je(){if(ve===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var n=Be===null?re.memoizedState:Be.next;if(n!==null)Be=n,ve=e;else{if(e===null)throw re.alternate===null?Error(a(467)):Error(a(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Be===null?re.memoizedState=Be=e:Be=Be.next=e}return Be}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(e){var n=Pr;return Pr+=1,As===null&&(As=[]),e=Cp(As,e,n),n=re,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?hm:dm),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Br(e);if(e.$$typeof===K)return ot(e)}throw Error(a(438,String(e)))}function pc(e){var n=null,r=re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=dc(),re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=St;return n.index++,r}function yn(e,n){return typeof n=="function"?n(e):n}function Ol(e){var n=je();return mc(n,ve,e)}function mc(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var _=g=null,S=null,R=n,D=!1;do{var k=R.lane&-536870913;if(k!==R.lane?(he&k)===k:(Qn&k)===k){var A=R.revertLane;if(A===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),k===Ts&&(D=!0);else if((Qn&A)===A){R=R.next,A===Ts&&(D=!0);continue}else k={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=k,g=f):S=S.next=k,re.lanes|=A,ei|=A;k=R.action,Pi&&r(f,k),f=R.hasEagerState?R.eagerState:r(f,k)}else A={lane:k,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=A,g=f):S=S.next=A,re.lanes|=k,ei|=k;R=R.next}while(R!==null&&R!==n);if(S===null?g=f:S.next=_,!wt(f,e.memoizedState)&&(We=!0,D&&(r=Cs,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=S,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gc(e){var n=je(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);wt(f,n.memoizedState)||(We=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function xp(e,n,r){var l=re,u=je(),f=ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!wt((ve||u).memoizedState,r);g&&(u.memoizedState=r,We=!0),u=u.queue;var _=kp.bind(null,l,u,e);if(jr(2048,8,_,[e]),u.getSnapshot!==n||g||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,Ns(9,Dl(),Lp.bind(null,l,u,r,n),null),Ae===null)throw Error(a(349));f||(Qn&124)!==0||Ip(l,n,r)}return r}function Ip(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=re.updateQueue,n===null?(n=dc(),re.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Lp(e,n,r,l){n.value=r,n.getSnapshot=l,Up(n)&&zp(e)}function kp(e,n,r){return r(function(){Up(n)&&zp(e)})}function Up(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wt(e,r)}catch{return!0}}function zp(e){var n=vs(e,2);n!==null&&Mt(n,e,2)}function _c(e){var n=gt();if(typeof e=="function"){var r=e;if(e=r(),Pi){Bn(!0);try{r()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},n}function Hp(e,n,r,l){return e.baseState=r,mc(e,ve,typeof l=="function"?l:yn)}function yE(e,n,r,l,u){if(xl(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Pp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Pp(e,n){var r=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var _=r(u,l),S=M.S;S!==null&&S(g,_),Bp(e,n,_)}catch(R){yc(e,n,R)}finally{M.T=f}}else try{f=r(u,l),Bp(e,n,f)}catch(R){yc(e,n,R)}}function Bp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){jp(e,n,l)},function(l){return yc(e,n,l)}):jp(e,n,r)}function jp(e,n,r){n.status="fulfilled",n.value=r,qp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Pp(e,r)))}function yc(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,qp(n),n=n.next;while(n!==l)}e.action=null}function qp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vp(e,n){return n}function Gp(e,n){if(ge){var r=Ae.formState;if(r!==null){e:{var l=re;if(ge){if(ke){t:{for(var u=ke,f=tn;u.nodeType!==8;){if(!f){u=null;break t}if(u=Ft(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ke=Ft(u.nextSibling),l=u.data==="F!";break e}}ki(l)}l=!1}l&&(n=r[0])}}return r=gt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:n},r.queue=l,r=um.bind(null,re,l),l.dispatch=r,l=_c(!1),f=Tc.bind(null,re,!1,l.queue),l=gt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,r=yE.bind(null,re,u,f,r),u.dispatch=r,l.memoizedState=e,[n,r,!1]}function Yp(e){var n=je();return Fp(n,ve,e)}function Fp(e,n,r){if(n=mc(e,n,Vp)[0],e=Ol(yn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Br(n)}catch(g){throw g===Lr?Tl:g}else l=n;n=je();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(re.flags|=2048,Ns(9,Dl(),vE.bind(null,u,r),null)),[l,f,e]}function vE(e,n){e.action=n}function Qp(e){var n=je(),r=ve;if(r!==null)return Fp(n,r,e);je(),n=n.memoizedState,r=je();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ns(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=dc(),re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Dl(){return{destroy:void 0,resource:void 0}}function Kp(){return je().memoizedState}function Ml(e,n,r,l){var u=gt();l=l===void 0?null:l,re.flags|=e,u.memoizedState=Ns(1|n,Dl(),r,l)}function jr(e,n,r,l){var u=je();l=l===void 0?null:l;var f=u.memoizedState.inst;ve!==null&&l!==null&&oc(l,ve.memoizedState.deps)?u.memoizedState=Ns(n,f,r,l):(re.flags|=e,u.memoizedState=Ns(1|n,f,r,l))}function Xp(e,n){Ml(8390656,8,e,n)}function Wp(e,n){jr(2048,8,e,n)}function Zp(e,n){return jr(4,2,e,n)}function $p(e,n){return jr(4,4,e,n)}function Jp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function em(e,n,r){r=r!=null?r.concat([e]):null,jr(4,4,Jp.bind(null,n,e),r)}function vc(){}function tm(e,n){var r=je();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&oc(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function nm(e,n){var r=je();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&oc(n,l[1]))return l[0];if(l=e(),Pi){Bn(!0);try{e()}finally{Bn(!1)}}return r.memoizedState=[l,n],l}function Ec(e,n,r){return r===void 0||(Qn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=rg(),re.lanes|=e,ei|=e,r)}function im(e,n,r,l){return wt(r,n)?r:ws.current!==null?(e=Ec(e,r,l),wt(e,n)||(We=!0),e):(Qn&42)===0?(We=!0,e.memoizedState=r):(e=rg(),re.lanes|=e,ei|=e,n)}function sm(e,n,r,l,u){var f=V.p;V.p=f!==0&&8>f?f:8;var g=M.T,_={};M.T=_,Tc(e,!1,n,r);try{var S=u(),R=M.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var D=mE(S,l);qr(e,n,D,Dt(e))}else qr(e,n,l,Dt(e))}catch(k){qr(e,n,{then:function(){},status:"rejected",reason:k},Dt())}finally{V.p=f,M.T=g}}function EE(){}function Sc(e,n,r,l){if(e.tag!==5)throw Error(a(476));var u=rm(e).queue;sm(e,u,n,$,r===null?EE:function(){return am(e),r(l)})}function rm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:$},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function am(e){var n=rm(e).next.queue;qr(e,n,{},Dt())}function bc(){return ot(aa)}function lm(){return je().memoizedState}function om(){return je().memoizedState}function SE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dt();e=Yn(r);var l=Fn(n,e,r);l!==null&&(Mt(l,n,r),Ur(l,n,r)),n={cache:$u()},e.payload=n;return}n=n.return}}function bE(e,n,r){var l=Dt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},xl(e)?cm(n,r):(r=qu(e,n,r,l),r!==null&&(Mt(r,e,l),fm(r,n,l)))}function um(e,n,r){var l=Dt();qr(e,n,r,l)}function qr(e,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(xl(e))cm(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,wt(_,g))return ml(e,n,u,0),Ae===null&&pl(),!1}catch{}finally{}if(r=qu(e,n,u,l),r!==null)return Mt(r,e,l),fm(r,n,l),!0}return!1}function Tc(e,n,r,l){if(l={lane:2,revertLane:tf(),action:l,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(n)throw Error(a(479))}else n=qu(e,r,l,2),n!==null&&Mt(n,e,2)}function xl(e){var n=e.alternate;return e===re||n!==null&&n===re}function cm(e,n){Rs=Rl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fm(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,vd(e,r)}}var Il={readContext:ot,use:Nl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},hm={readContext:ot,use:Nl,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:Xp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ml(4194308,4,Jp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ml(4194308,4,e,n)},useInsertionEffect:function(e,n){Ml(4,2,e,n)},useMemo:function(e,n){var r=gt();n=n===void 0?null:n;var l=e();if(Pi){Bn(!0);try{e()}finally{Bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=gt();if(r!==void 0){var u=r(n);if(Pi){Bn(!0);try{r(n)}finally{Bn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=bE.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=_c(e);var n=e.queue,r=um.bind(null,re,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vc,useDeferredValue:function(e,n){var r=gt();return Ec(r,e,n)},useTransition:function(){var e=_c(!1);return e=sm.bind(null,re,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=re,u=gt();if(ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ae===null)throw Error(a(349));(he&124)!==0||Ip(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,Xp(kp.bind(null,l,f,e),[e]),l.flags|=2048,Ns(9,Dl(),Lp.bind(null,l,f,r,n),null),r},useId:function(){var e=gt(),n=Ae.identifierPrefix;if(ge){var r=mn,l=pn;r=(l&~(1<<32-Ct(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Al++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=gE++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:bc,useFormState:Gp,useActionState:Gp,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Tc.bind(null,re,!0,r),r.dispatch=n,[e,n]},useMemoCache:pc,useCacheRefresh:function(){return gt().memoizedState=SE.bind(null,re)}},dm={readContext:ot,use:Nl,useCallback:tm,useContext:ot,useEffect:Wp,useImperativeHandle:em,useInsertionEffect:Zp,useLayoutEffect:$p,useMemo:nm,useReducer:Ol,useRef:Kp,useState:function(){return Ol(yn)},useDebugValue:vc,useDeferredValue:function(e,n){var r=je();return im(r,ve.memoizedState,e,n)},useTransition:function(){var e=Ol(yn)[0],n=je().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:xp,useId:lm,useHostTransitionStatus:bc,useFormState:Yp,useActionState:Yp,useOptimistic:function(e,n){var r=je();return Hp(r,ve,e,n)},useMemoCache:pc,useCacheRefresh:om},TE={readContext:ot,use:Nl,useCallback:tm,useContext:ot,useEffect:Wp,useImperativeHandle:em,useInsertionEffect:Zp,useLayoutEffect:$p,useMemo:nm,useReducer:gc,useRef:Kp,useState:function(){return gc(yn)},useDebugValue:vc,useDeferredValue:function(e,n){var r=je();return ve===null?Ec(r,e,n):im(r,ve.memoizedState,e,n)},useTransition:function(){var e=gc(yn)[0],n=je().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:xp,useId:lm,useHostTransitionStatus:bc,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,n){var r=je();return ve!==null?Hp(r,ve,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pc,useCacheRefresh:om},Os=null,Vr=0;function Ll(e){var n=Vr;return Vr+=1,Os===null&&(Os=[]),Cp(Os,e,n)}function Gr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function kl(e,n){throw n.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pm(e){var n=e._init;return n(e._payload)}function mm(e){function n(C,T){if(e){var w=C.deletions;w===null?(C.deletions=[T],C.flags|=16):w.push(T)}}function r(C,T){if(!e)return null;for(;T!==null;)n(C,T),T=T.sibling;return null}function l(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function u(C,T){return C=dn(C,T),C.index=0,C.sibling=null,C}function f(C,T,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<T?(C.flags|=67108866,T):w):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,w,x){return T===null||T.tag!==6?(T=Gu(w,C.mode,x),T.return=C,T):(T=u(T,w),T.return=C,T)}function S(C,T,w,x){var F=w.type;return F===L?D(C,T,w.props.children,x,w.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ke&&pm(F)===T.type)?(T=u(T,w.props),Gr(T,w),T.return=C,T):(T=_l(w.type,w.key,w.props,null,C.mode,x),Gr(T,w),T.return=C,T)}function R(C,T,w,x){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=Yu(w,C.mode,x),T.return=C,T):(T=u(T,w.children||[]),T.return=C,T)}function D(C,T,w,x,F){return T===null||T.tag!==7?(T=Mi(w,C.mode,x,F),T.return=C,T):(T=u(T,w),T.return=C,T)}function k(C,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Gu(""+T,C.mode,w),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return w=_l(T.type,T.key,T.props,null,C.mode,w),Gr(w,T),w.return=C,w;case O:return T=Yu(T,C.mode,w),T.return=C,T;case Ke:var x=T._init;return T=x(T._payload),k(C,T,w)}if(at(T)||rt(T))return T=Mi(T,C.mode,w,null),T.return=C,T;if(typeof T.then=="function")return k(C,Ll(T),w);if(T.$$typeof===K)return k(C,Sl(C,T),w);kl(C,T)}return null}function A(C,T,w,x){var F=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return F!==null?null:_(C,T,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return w.key===F?S(C,T,w,x):null;case O:return w.key===F?R(C,T,w,x):null;case Ke:return F=w._init,w=F(w._payload),A(C,T,w,x)}if(at(w)||rt(w))return F!==null?null:D(C,T,w,x,null);if(typeof w.then=="function")return A(C,T,Ll(w),x);if(w.$$typeof===K)return A(C,T,Sl(C,w),x);kl(C,w)}return null}function N(C,T,w,x,F){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C=C.get(w)||null,_(T,C,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case E:return C=C.get(x.key===null?w:x.key)||null,S(T,C,x,F);case O:return C=C.get(x.key===null?w:x.key)||null,R(T,C,x,F);case Ke:var ae=x._init;return x=ae(x._payload),N(C,T,w,x,F)}if(at(x)||rt(x))return C=C.get(w)||null,D(T,C,x,F,null);if(typeof x.then=="function")return N(C,T,w,Ll(x),F);if(x.$$typeof===K)return N(C,T,w,Sl(T,x),F);kl(T,x)}return null}function ee(C,T,w,x){for(var F=null,ae=null,Q=T,Z=T=0,$e=null;Q!==null&&Z<w.length;Z++){Q.index>Z?($e=Q,Q=null):$e=Q.sibling;var pe=A(C,Q,w[Z],x);if(pe===null){Q===null&&(Q=$e);break}e&&Q&&pe.alternate===null&&n(C,Q),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe,Q=$e}if(Z===w.length)return r(C,Q),ge&&Ii(C,Z),F;if(Q===null){for(;Z<w.length;Z++)Q=k(C,w[Z],x),Q!==null&&(T=f(Q,T,Z),ae===null?F=Q:ae.sibling=Q,ae=Q);return ge&&Ii(C,Z),F}for(Q=l(Q);Z<w.length;Z++)$e=N(Q,C,Z,w[Z],x),$e!==null&&(e&&$e.alternate!==null&&Q.delete($e.key===null?Z:$e.key),T=f($e,T,Z),ae===null?F=$e:ae.sibling=$e,ae=$e);return e&&Q.forEach(function(ui){return n(C,ui)}),ge&&Ii(C,Z),F}function W(C,T,w,x){if(w==null)throw Error(a(151));for(var F=null,ae=null,Q=T,Z=T=0,$e=null,pe=w.next();Q!==null&&!pe.done;Z++,pe=w.next()){Q.index>Z?($e=Q,Q=null):$e=Q.sibling;var ui=A(C,Q,pe.value,x);if(ui===null){Q===null&&(Q=$e);break}e&&Q&&ui.alternate===null&&n(C,Q),T=f(ui,T,Z),ae===null?F=ui:ae.sibling=ui,ae=ui,Q=$e}if(pe.done)return r(C,Q),ge&&Ii(C,Z),F;if(Q===null){for(;!pe.done;Z++,pe=w.next())pe=k(C,pe.value,x),pe!==null&&(T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return ge&&Ii(C,Z),F}for(Q=l(Q);!pe.done;Z++,pe=w.next())pe=N(Q,C,Z,pe.value,x),pe!==null&&(e&&pe.alternate!==null&&Q.delete(pe.key===null?Z:pe.key),T=f(pe,T,Z),ae===null?F=pe:ae.sibling=pe,ae=pe);return e&&Q.forEach(function(CS){return n(C,CS)}),ge&&Ii(C,Z),F}function Se(C,T,w,x){if(typeof w=="object"&&w!==null&&w.type===L&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case E:e:{for(var F=w.key;T!==null;){if(T.key===F){if(F=w.type,F===L){if(T.tag===7){r(C,T.sibling),x=u(T,w.props.children),x.return=C,C=x;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ke&&pm(F)===T.type){r(C,T.sibling),x=u(T,w.props),Gr(x,w),x.return=C,C=x;break e}r(C,T);break}else n(C,T);T=T.sibling}w.type===L?(x=Mi(w.props.children,C.mode,x,w.key),x.return=C,C=x):(x=_l(w.type,w.key,w.props,null,C.mode,x),Gr(x,w),x.return=C,C=x)}return g(C);case O:e:{for(F=w.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(C,T.sibling),x=u(T,w.children||[]),x.return=C,C=x;break e}else{r(C,T);break}else n(C,T);T=T.sibling}x=Yu(w,C.mode,x),x.return=C,C=x}return g(C);case Ke:return F=w._init,w=F(w._payload),Se(C,T,w,x)}if(at(w))return ee(C,T,w,x);if(rt(w)){if(F=rt(w),typeof F!="function")throw Error(a(150));return w=F.call(w),W(C,T,w,x)}if(typeof w.then=="function")return Se(C,T,Ll(w),x);if(w.$$typeof===K)return Se(C,T,Sl(C,w),x);kl(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(r(C,T.sibling),x=u(T,w),x.return=C,C=x):(r(C,T),x=Gu(w,C.mode,x),x.return=C,C=x),g(C)):r(C,T)}return function(C,T,w,x){try{Vr=0;var F=Se(C,T,w,x);return Os=null,F}catch(Q){if(Q===Lr||Q===Tl)throw Q;var ae=Rt(29,Q,null,C.mode);return ae.lanes=x,ae.return=C,ae}finally{}}}var Ds=mm(!0),gm=mm(!1),Bt=U(null),nn=null;function Kn(e){var n=e.alternate;q(Ge,Ge.current&1),q(Bt,e),nn===null&&(n===null||ws.current!==null||n.memoizedState!==null)&&(nn=e)}function _m(e){if(e.tag===22){if(q(Ge,Ge.current),q(Bt,e),nn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(nn=e)}}else Xn()}function Xn(){q(Ge,Ge.current),q(Bt,Bt.current)}function vn(e){Y(Bt),nn===e&&(nn=null),Y(Ge)}var Ge=U(0);function Ul(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||pf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Cc(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wc={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Dt(),u=Yn(l);u.payload=n,r!=null&&(u.callback=r),n=Fn(e,u,l),n!==null&&(Mt(n,e,l),Ur(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Dt(),u=Yn(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Fn(e,u,l),n!==null&&(Mt(n,e,l),Ur(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dt(),l=Yn(r);l.tag=2,n!=null&&(l.callback=n),n=Fn(e,l,r),n!==null&&(Mt(n,e,r),Ur(n,e,r))}};function ym(e,n,r,l,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Rr(r,l)||!Rr(u,f):!0}function vm(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&wc.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=y({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Em(e){zl(e)}function Sm(e){console.error(e)}function bm(e){zl(e)}function Hl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tm(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Rc(e,n,r){return r=Yn(r),r.tag=3,r.payload={element:null},r.callback=function(){Hl(e,n)},r}function Cm(e){return e=Yn(e),e.tag=3,e}function wm(e,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){Tm(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Tm(n,r,l),typeof u!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function CE(e,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Mr(n,r,u,!0),r=Bt.current,r!==null){switch(r.tag){case 13:return nn===null?Wc():r.alternate===null&&Ue===0&&(Ue=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===tc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$c(e,l,u)),!1;case 22:return r.flags|=65536,l===tc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$c(e,l,u)),!1}throw Error(a(435,r.tag))}return $c(e,l,u),Wc(),!1}if(ge)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ku&&(e=Error(a(422),{cause:l}),Dr(Ut(e,r)))):(l!==Ku&&(n=Error(a(423),{cause:l}),Dr(Ut(n,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Ut(l,r),u=Rc(e.stateNode,l,u),sc(e,u),Ue!==4&&(Ue=2)),!1;var f=Error(a(520),{cause:l});if(f=Ut(f,r),Zr===null?Zr=[f]:Zr.push(f),Ue!==4&&(Ue=2),n===null)return!0;l=Ut(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Rc(r.stateNode,l,e),sc(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ti===null||!ti.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Cm(u),wm(u,e,r,l),sc(r,u),!1}r=r.return}while(r!==null);return!1}var Rm=Error(a(461)),We=!1;function tt(e,n,r,l){n.child=e===null?gm(n,null,r,l):Ds(n,e.child,r,l)}function Am(e,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return zi(n),l=uc(e,n,r,g,f,u),_=cc(),e!==null&&!We?(fc(e,n,u),En(e,n,u)):(ge&&_&&Fu(n),n.flags|=1,tt(e,n,l,u),n.child)}function Nm(e,n,r,l,u){if(e===null){var f=r.type;return typeof f=="function"&&!Vu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Om(e,n,f,l,u)):(e=_l(r.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lc(e,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Rr,r(g,l)&&e.ref===n.ref)return En(e,n,u)}return n.flags|=1,e=dn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Om(e,n,r,l,u){if(e!==null){var f=e.memoizedProps;if(Rr(f,l)&&e.ref===n.ref)if(We=!1,n.pendingProps=l=f,Lc(e,u))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,En(e,n,u)}return Ac(e,n,r,l,u)}function Dm(e,n,r){var l=n.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Mm(e,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bl(n,f!==null?f.cachePool:null),f!==null?Op(n,f):ac(),_m(n);else return n.lanes=n.childLanes=536870912,Mm(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(bl(n,f.cachePool),Op(n,f),Xn(),n.memoizedState=null):(e!==null&&bl(n,null),ac(),Xn());return tt(e,n,u,r),n.child}function Mm(e,n,r,l){var u=ec();return u=u===null?null:{parent:Ve._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},e!==null&&bl(n,null),ac(),_m(n),e!==null&&Mr(e,n,l,!0),null}function Pl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Ac(e,n,r,l,u){return zi(n),r=uc(e,n,r,l,void 0,u),l=cc(),e!==null&&!We?(fc(e,n,u),En(e,n,u)):(ge&&l&&Fu(n),n.flags|=1,tt(e,n,r,u),n.child)}function xm(e,n,r,l,u,f){return zi(n),n.updateQueue=null,r=Mp(n,l,r,u),Dp(e),l=cc(),e!==null&&!We?(fc(e,n,f),En(e,n,f)):(ge&&l&&Fu(n),n.flags|=1,tt(e,n,r,f),n.child)}function Im(e,n,r,l,u){if(zi(n),n.stateNode===null){var f=Es,g=r.contextType;typeof g=="object"&&g!==null&&(f=ot(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ot(g):Es,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Cc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wc.enqueueReplaceState(f,f.state,null),Hr(n,l,f,u),zr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,S=Bi(r,_);f.props=S;var R=f.context,D=r.contextType;g=Es,typeof D=="object"&&D!==null&&(g=ot(D));var k=r.getDerivedStateFromProps;D=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==g)&&vm(n,f,l,g),Gn=!1;var A=n.memoizedState;f.state=A,Hr(n,l,f,u),zr(),R=n.memoizedState,_||A!==R||Gn?(typeof k=="function"&&(Cc(n,r,k,l),R=n.memoizedState),(S=Gn||ym(n,r,S,l,A,R,g))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=g,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ic(e,n),g=n.memoizedProps,D=Bi(r,g),f.props=D,k=n.pendingProps,A=f.context,R=r.contextType,S=Es,typeof R=="object"&&R!==null&&(S=ot(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==k||A!==S)&&vm(n,f,l,S),Gn=!1,A=n.memoizedState,f.state=A,Hr(n,l,f,u),zr();var N=n.memoizedState;g!==k||A!==N||Gn||e!==null&&e.dependencies!==null&&El(e.dependencies)?(typeof _=="function"&&(Cc(n,r,_,l),N=n.memoizedState),(D=Gn||ym(n,r,D,l,A,N,S)||e!==null&&e.dependencies!==null&&El(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=S,l=D):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Pl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ds(n,e.child,null,u),n.child=Ds(n,null,r,u)):tt(e,n,r,u),n.memoizedState=f.state,e=n.child):e=En(e,n,u),e}function Lm(e,n,r,l){return Or(),n.flags|=256,tt(e,n,r,l),n.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(e){return{baseLanes:e,cachePool:Sp()}}function Dc(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=jt),e}function km(e,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(ge){if(u?Kn(n):Xn(),ge){var _=ke,S;if(S=_){e:{for(S=_,_=tn;S.nodeType!==8;){if(!_){_=null;break e}if(S=Ft(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:xi!==null?{id:pn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},S=Rt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,ft=n,ke=null,S=!0):S=!1}S||ki(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return pf(_)?n.lanes=32:n.lanes=536870912,null;vn(n)}return _=l.children,l=l.fallback,u?(Xn(),u=n.mode,_=Bl({mode:"hidden",children:_},u),l=Mi(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Oc(r),u.childLanes=Dc(e,g,r),n.memoizedState=Nc,l):(Kn(n),Mc(n,_))}if(S=e.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?(Kn(n),n.flags&=-257,n=xc(e,n,r)):n.memoizedState!==null?(Xn(),n.child=e.child,n.flags|=128,n=null):(Xn(),u=l.fallback,_=n.mode,l=Bl({mode:"visible",children:l.children},_),u=Mi(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Ds(n,e.child,null,r),l=n.child,l.memoizedState=Oc(r),l.childLanes=Dc(e,g,r),n.memoizedState=Nc,n=u);else if(Kn(n),pf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(a(419)),l.stack="",l.digest=g,Dr({value:l,source:null,stack:null}),n=xc(e,n,r)}else if(We||Mr(e,n,r,!1),g=(r&e.childLanes)!==0,We||g){if(g=Ae,g!==null&&(l=r&-r,l=(l&42)!==0?1:pu(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,vs(e,l),Mt(g,e,l),Rm;_.data==="$?"||Wc(),n=xc(e,n,r)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,ke=Ft(_.nextSibling),ft=n,ge=!0,Li=null,tn=!1,e!==null&&(Ht[Pt++]=pn,Ht[Pt++]=mn,Ht[Pt++]=xi,pn=e.id,mn=e.overflow,xi=n),n=Mc(n,l.children),n.flags|=4096);return n}return u?(Xn(),u=l.fallback,_=n.mode,S=e.child,R=S.sibling,l=dn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,R!==null?u=dn(R,u):(u=Mi(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=e.child.memoizedState,_===null?_=Oc(r):(S=_.cachePool,S!==null?(R=Ve._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Sp(),_={baseLanes:_.baseLanes|r,cachePool:S}),u.memoizedState=_,u.childLanes=Dc(e,g,r),n.memoizedState=Nc,l):(Kn(n),r=e.child,e=r.sibling,r=dn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mc(e,n){return n=Bl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bl(e,n){return e=Rt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xc(e,n,r){return Ds(n,e.child,null,r),e=Mc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Um(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wu(e.return,n,r)}function Ic(e,n,r,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function zm(e,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(tt(e,n,l.children,r),l=Ge.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Um(e,r,n);else if(e.tag===19)Um(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(q(Ge,l),u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Ul(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Ic(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ul(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Ic(n,!0,r,null,f);break;case"together":Ic(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function En(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ei|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Mr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=dn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=dn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&El(e)))}function wE(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Vn(n,Ve,e.memoizedState.cache),Or();break;case 27:case 5:uu(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Vn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Kn(n),n.flags|=128,null):(r&n.child.childLanes)!==0?km(e,n,r):(Kn(n),e=En(e,n,r),e!==null?e.sibling:null);Kn(n);break;case 19:var u=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Mr(e,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return zm(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Ge,Ge.current),l)break;return null;case 22:case 23:return n.lanes=0,Dm(e,n,r);case 24:Vn(n,Ve,e.memoizedState.cache)}return En(e,n,r)}function Hm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!Lc(e,r)&&(n.flags&128)===0)return We=!1,wE(e,n,r);We=(e.flags&131072)!==0}else We=!1,ge&&(n.flags&1048576)!==0&&pp(n,vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")Vu(l)?(e=Bi(l,e),n.tag=1,n=Im(null,n,l,e,r)):(n.tag=0,n=Ac(null,n,l,e,r));else{if(l!=null){if(u=l.$$typeof,u===Te){n.tag=11,n=Am(null,n,l,e,r);break e}else if(u===qe){n.tag=14,n=Nm(null,n,l,e,r);break e}}throw n=wi(l)||l,Error(a(306,n,""))}}return n;case 0:return Ac(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=Bi(l,n.pendingProps),Im(e,n,l,u,r);case 3:e:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,ic(e,n),Hr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Vn(n,Ve,l),l!==f.cache&&Zu(n,[Ve],r,!0),zr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lm(e,n,l,r);break e}else if(l!==u){u=Ut(Error(a(424)),n),Dr(u),n=Lm(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Ft(e.firstChild),ft=n,ge=!0,Li=null,tn=!0,r=gm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Or(),l===u){n=En(e,n,r);break e}tt(e,n,l,r)}n=n.child}return n;case 26:return Pl(e,n),e===null?(r=qg(n.type,null,n.pendingProps,null))?n.memoizedState=r:ge||(r=n.type,e=n.pendingProps,l=eo(ie.current).createElement(r),l[lt]=n,l[pt]=e,it(l,r,e),Xe(l),n.stateNode=l):n.memoizedState=qg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return uu(n),e===null&&ge&&(l=n.stateNode=Pg(n.type,n.pendingProps,ie.current),ft=n,tn=!0,u=ke,si(n.type)?(mf=u,ke=Ft(l.firstChild)):ke=u),tt(e,n,n.pendingProps.children,r),Pl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ge&&((u=l=ke)&&(l=JE(l,n.type,n.pendingProps,tn),l!==null?(n.stateNode=l,ft=n,ke=Ft(l.firstChild),tn=!1,u=!0):u=!1),u||ki(n)),uu(n),u=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,ff(u,f)?l=null:g!==null&&ff(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=uc(e,n,_E,null,null,r),aa._currentValue=u),Pl(e,n),tt(e,n,l,r),n.child;case 6:return e===null&&ge&&((e=r=ke)&&(r=eS(r,n.pendingProps,tn),r!==null?(n.stateNode=r,ft=n,ke=null,e=!0):e=!1),e||ki(n)),null;case 13:return km(e,n,r);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ds(n,null,l,r):tt(e,n,l,r),n.child;case 11:return Am(e,n,n.type,n.pendingProps,r);case 7:return tt(e,n,n.pendingProps,r),n.child;case 8:return tt(e,n,n.pendingProps.children,r),n.child;case 12:return tt(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Vn(n,n.type,l.value),tt(e,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,zi(n),u=ot(u),l=l(u),n.flags|=1,tt(e,n,l,r),n.child;case 14:return Nm(e,n,n.type,n.pendingProps,r);case 15:return Om(e,n,n.type,n.pendingProps,r);case 19:return zm(e,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},e===null?(r=Bl(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=dn(e.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Dm(e,n,r);case 24:return zi(n),l=ot(Ve),e===null?(u=ec(),u===null&&(u=Ae,f=$u(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},nc(n),Vn(n,Ve,u)):((e.lanes&r)!==0&&(ic(e,n),Hr(n,null,null,r),zr()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Vn(n,Ve,l)):(l=f.cache,Vn(n,Ve,l),l!==u.cache&&Zu(n,[Ve],r,!0))),tt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Sn(e){e.flags|=4}function Pm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qg(n)){if(n=Bt.current,n!==null&&((he&4194048)===he?nn!==null:(he&62914560)!==he&&(he&536870912)===0||n!==nn))throw kr=tc,bp;e.flags|=8192}}function jl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_d():536870912,e.lanes|=n,Ls|=n)}function Yr(e,n){if(!ge)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function RE(e,n,r){var l=n.pendingProps;switch(Qu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(n),null;case 1:return xe(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_n(Ve),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nr(n)?Sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_p())),xe(n),null;case 26:return r=n.memoizedState,e===null?(Sn(n),r!==null?(xe(n),Pm(n,r)):(xe(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Sn(n),xe(n),Pm(n,r)):(xe(n),n.flags&=-16777217):(e.memoizedProps!==l&&Sn(n),xe(n),n.flags&=-16777217),null;case 27:$a(n),r=ie.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Sn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return xe(n),null}e=X.current,Nr(n)?mp(n):(e=Pg(u,l,r),n.stateNode=e,Sn(n))}return xe(n),null;case 5:if($a(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Sn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return xe(n),null}if(e=X.current,Nr(n))mp(n);else{switch(u=eo(ie.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}e[lt]=n,e[pt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(it(e,r,l),r){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Sn(n)}}return xe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Sn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ie.current,Nr(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,u=ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[lt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xg(e.nodeValue,r)),e||ki(n)}else e=eo(e).createTextNode(l),e[lt]=n,n.stateNode=e}return xe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Nr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[lt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xe(n),u=!1}else u=_p(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(vn(n),n):(vn(n),null)}if(vn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,e=e!==null&&e.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),jl(n,n.updateQueue),xe(n),null;case 4:return Pn(),e===null&&af(n.stateNode.containerInfo),xe(n),null;case 10:return _n(n.type),xe(n),null;case 19:if(Y(Ge),u=n.memoizedState,u===null)return xe(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)Yr(u,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ul(e),f!==null){for(n.flags|=128,Yr(u,!1),e=f.updateQueue,n.updateQueue=e,jl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)dp(r,e),r=r.sibling;return q(Ge,Ge.current&1|2),n.child}e=e.sibling}u.tail!==null&&en()>Gl&&(n.flags|=128,l=!0,Yr(u,!1),n.lanes=4194304)}else{if(!l)if(e=Ul(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,jl(n,e),Yr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!ge)return xe(n),null}else 2*en()-u.renderingStartTime>Gl&&r!==536870912&&(n.flags|=128,l=!0,Yr(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=en(),n.sibling=null,e=Ge.current,q(Ge,l?e&1|2:e&1),n):(xe(n),null);case 22:case 23:return vn(n),lc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(xe(n),n.subtreeFlags&6&&(n.flags|=8192)):xe(n),r=n.updateQueue,r!==null&&jl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Y(Hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_n(Ve),xe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AE(e,n){switch(Qu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return _n(Ve),Pn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $a(n),null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ge),null;case 4:return Pn(),null;case 10:return _n(n.type),null;case 22:case 23:return vn(n),lc(),e!==null&&Y(Hi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return _n(Ve),null;case 25:return null;default:return null}}function Bm(e,n){switch(Qu(n),n.tag){case 3:_n(Ve),Pn();break;case 26:case 27:case 5:$a(n);break;case 4:Pn();break;case 13:vn(n);break;case 19:Y(Ge);break;case 10:_n(n.type);break;case 22:case 23:vn(n),lc(),e!==null&&Y(Hi);break;case 24:_n(Ve)}}function Fr(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){we(n,n.return,_)}}function Wn(e,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var S=r,R=_;try{R()}catch(D){we(u,S,D)}}}l=l.next}while(l!==f)}}catch(D){we(n,n.return,D)}}function jm(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Np(n,r)}catch(l){we(e,e.return,l)}}}function qm(e,n,r){r.props=Bi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){we(e,n,l)}}function Qr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(u){we(e,n,u)}}function sn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){we(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){we(e,n,u)}else r.current=null}function Vm(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){we(e,e.return,u)}}function kc(e,n,r){try{var l=e.stateNode;KE(l,e.type,r,n),l[pt]=n}catch(u){we(e,e.return,u)}}function Gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Jl));else if(l!==4&&(l===27&&si(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(zc(e,n,r),e=e.sibling;e!==null;)zc(e,n,r),e=e.sibling}function ql(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&si(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ql(e,n,r),e=e.sibling;e!==null;)ql(e,n,r),e=e.sibling}function Ym(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);it(n,l,r),n[lt]=e,n[pt]=r}catch(f){we(e,e.return,f)}}var bn=!1,Pe=!1,Hc=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function NE(e,n){if(e=e.containerInfo,uf=ao,e=ip(e),Uu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,S=-1,R=0,D=0,k=e,A=null;t:for(;;){for(var N;k!==r||u!==0&&k.nodeType!==3||(_=g+u),k!==f||l!==0&&k.nodeType!==3||(S=g+l),k.nodeType===3&&(g+=k.nodeValue.length),(N=k.firstChild)!==null;)A=k,k=N;for(;;){if(k===e)break t;if(A===r&&++R===u&&(_=g),A===f&&++D===l&&(S=g),(N=k.nextSibling)!==null)break;k=A,A=k.parentNode}k=N}r=_===-1||S===-1?null:{start:_,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(cf={focusedElem:e,selectionRange:r},ao=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ee=Bi(r.type,u,r.elementType===r.type);e=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(W){we(r,r.return,W)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)df(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":df(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function Qm(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(e,r),l&4&&Fr(5,r);break;case 1:if(Zn(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){we(r,r.return,g)}else{var u=Bi(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){we(r,r.return,g)}}l&64&&jm(r),l&512&&Qr(r,r.return);break;case 3:if(Zn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Np(e,n)}catch(g){we(r,r.return,g)}}break;case 27:n===null&&l&4&&Ym(r);case 26:case 5:Zn(e,r),n===null&&l&4&&Vm(r),l&512&&Qr(r,r.return);break;case 12:Zn(e,r);break;case 13:Zn(e,r),l&4&&Wm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=zE.bind(null,r),tS(e,r))));break;case 22:if(l=r.memoizedState!==null||bn,!l){n=n!==null&&n.memoizedState!==null||Pe,u=bn;var f=Pe;bn=l,(Pe=n)&&!f?$n(e,r,(r.subtreeFlags&8772)!==0):Zn(e,r),bn=u,Pe=f}break;case 30:break;default:Zn(e,r)}}function Km(e){var n=e.alternate;n!==null&&(e.alternate=null,Km(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&_u(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,_t=!1;function Tn(e,n,r){for(r=r.child;r!==null;)Xm(e,n,r),r=r.sibling}function Xm(e,n,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(pr,r)}catch{}switch(r.tag){case 26:Pe||sn(r,n),Tn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pe||sn(r,n);var l=Me,u=_t;si(r.type)&&(Me=r.stateNode,_t=!1),Tn(e,n,r),na(r.stateNode),Me=l,_t=u;break;case 5:Pe||sn(r,n);case 6:if(l=Me,u=_t,Me=null,Tn(e,n,r),Me=l,_t=u,Me!==null)if(_t)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(r.stateNode)}catch(f){we(r,n,f)}else try{Me.removeChild(r.stateNode)}catch(f){we(r,n,f)}break;case 18:Me!==null&&(_t?(e=Me,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ca(e)):zg(Me,r.stateNode));break;case 4:l=Me,u=_t,Me=r.stateNode.containerInfo,_t=!0,Tn(e,n,r),Me=l,_t=u;break;case 0:case 11:case 14:case 15:Pe||Wn(2,r,n),Pe||Wn(4,r,n),Tn(e,n,r);break;case 1:Pe||(sn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&qm(r,n,l)),Tn(e,n,r);break;case 21:Tn(e,n,r);break;case 22:Pe=(l=Pe)||r.memoizedState!==null,Tn(e,n,r),Pe=l;break;default:Tn(e,n,r)}}function Wm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(r){we(n,n.return,r)}}function OE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fm),n;default:throw Error(a(435,e.tag))}}function Pc(e,n){var r=OE(e);n.forEach(function(l){var u=HE.bind(null,e,l);r.has(l)||(r.add(l),l.then(u,u))})}function At(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=e,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(si(_.type)){Me=_.stateNode,_t=!1;break e}break;case 5:Me=_.stateNode,_t=!1;break e;case 3:case 4:Me=_.stateNode.containerInfo,_t=!0;break e}_=_.return}if(Me===null)throw Error(a(160));Xm(f,g,u),Me=null,_t=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zm(n,e),n=n.sibling}var Yt=null;function Zm(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(n,e),Nt(e),l&4&&(Wn(3,e,e.return),Fr(3,e),Wn(5,e,e.return));break;case 1:At(n,e),Nt(e),l&512&&(Pe||r===null||sn(r,r.return)),l&64&&bn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Yt;if(At(n,e),Nt(e),l&512&&(Pe||r===null||sn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[_r]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),it(f,l,r),f[lt]=e,Xe(f),l=f;break e;case"link":var g=Yg("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),it(f,l,r),u.head.appendChild(f);break;case"meta":if(g=Yg("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),it(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[lt]=e,Xe(f),l=f}e.stateNode=l}else Fg(u,e.type,e.stateNode);else e.stateNode=Gg(u,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Fg(u,e.type,e.stateNode):Gg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kc(e,e.memoizedProps,r.memoizedProps)}break;case 27:At(n,e),Nt(e),l&512&&(Pe||r===null||sn(r,r.return)),r!==null&&l&4&&kc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(At(n,e),Nt(e),l&512&&(Pe||r===null||sn(r,r.return)),e.flags&32){u=e.stateNode;try{hs(u,"")}catch(N){we(e,e.return,N)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,kc(e,u,r!==null?r.memoizedProps:u)),l&1024&&(Hc=!0);break;case 6:if(At(n,e),Nt(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(N){we(e,e.return,N)}}break;case 3:if(io=null,u=Yt,Yt=to(n.containerInfo),At(n,e),Yt=u,Nt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ca(n.containerInfo)}catch(N){we(e,e.return,N)}Hc&&(Hc=!1,$m(e));break;case 4:l=Yt,Yt=to(e.stateNode.containerInfo),At(n,e),Nt(e),Yt=l;break;case 12:At(n,e),Nt(e);break;case 13:At(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pc(e,l)));break;case 22:u=e.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,R=bn,D=Pe;if(bn=R||u,Pe=D||S,At(n,e),Pe=D,bn=R,Nt(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||S||bn||Pe||ji(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(f=S.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=S.stateNode;var k=S.memoizedProps.style,A=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(N){we(S,S.return,N)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(N){we(S,S.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Pc(e,r))));break;case 19:At(n,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pc(e,l)));break;case 30:break;case 21:break;default:At(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Gm(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=Uc(e);ql(e,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(hs(g,""),r.flags&=-33);var _=Uc(e);ql(e,_,g);break;case 3:case 4:var S=r.stateNode.containerInfo,R=Uc(e);zc(e,R,S);break;default:throw Error(a(161))}}catch(D){we(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$m(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qm(e,n.alternate,n),n=n.sibling}function ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wn(4,n,n.return),ji(n);break;case 1:sn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qm(n,n.return,r),ji(n);break;case 27:na(n.stateNode);case 26:case 5:sn(n,n.return),ji(n);break;case 22:n.memoizedState===null&&ji(n);break;case 30:ji(n);break;default:ji(n)}e=e.sibling}}function $n(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:$n(u,f,r),Fr(4,f);break;case 1:if($n(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){we(l,l.return,R)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Ap(S[u],_)}catch(R){we(l,l.return,R)}}r&&g&64&&jm(f),Qr(f,f.return);break;case 27:Ym(f);case 26:case 5:$n(u,f,r),r&&l===null&&g&4&&Vm(f),Qr(f,f.return);break;case 12:$n(u,f,r);break;case 13:$n(u,f,r),r&&g&4&&Wm(u,f);break;case 22:f.memoizedState===null&&$n(u,f,r),Qr(f,f.return);break;case 30:break;default:$n(u,f,r)}n=n.sibling}}function Bc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xr(r))}function jc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xr(e))}function rn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jm(e,n,r,l),n=n.sibling}function Jm(e,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,r,l),u&2048&&Fr(9,n);break;case 1:rn(e,n,r,l);break;case 3:rn(e,n,r,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xr(e)));break;case 12:if(u&2048){rn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){we(n,n.return,S)}}else rn(e,n,r,l);break;case 13:rn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?rn(e,n,r,l):Kr(e,n):f._visibility&2?rn(e,n,r,l):(f._visibility|=2,Ms(e,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&Bc(g,n);break;case 24:rn(e,n,r,l),u&2048&&jc(n.alternate,n);break;default:rn(e,n,r,l)}}function Ms(e,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,g=n,_=r,S=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(f,g,_,S,u),Fr(8,g);break;case 23:break;case 22:var D=g.stateNode;g.memoizedState!==null?D._visibility&2?Ms(f,g,_,S,u):Kr(f,g):(D._visibility|=2,Ms(f,g,_,S,u)),u&&R&2048&&Bc(g.alternate,g);break;case 24:Ms(f,g,_,S,u),u&&R&2048&&jc(g.alternate,g);break;default:Ms(f,g,_,S,u)}n=n.sibling}}function Kr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,u=l.flags;switch(l.tag){case 22:Kr(r,l),u&2048&&Bc(l.alternate,l);break;case 24:Kr(r,l),u&2048&&jc(l.alternate,l);break;default:Kr(r,l)}n=n.sibling}}var Xr=8192;function xs(e){if(e.subtreeFlags&Xr)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 26:xs(e),e.flags&Xr&&e.memoizedState!==null&&pS(Yt,e.memoizedState,e.memoizedProps);break;case 5:xs(e);break;case 3:case 4:var n=Yt;Yt=to(e.stateNode.containerInfo),xs(e),Yt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xr,Xr=16777216,xs(e),Xr=n):xs(e));break;default:xs(e)}}function tg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,ig(l,e)}tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ng(e),e=e.sibling}function ng(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vl(e)):Wr(e);break;default:Wr(e)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,ig(l,e)}tg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wn(8,n,n.return),Vl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Vl(n));break;default:Vl(n)}e=e.sibling}}function ig(e,n){for(;Ze!==null;){var r=Ze;switch(r.tag){case 0:case 11:case 15:Wn(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ze=l;else e:for(r=e;Ze!==null;){l=Ze;var u=l.sibling,f=l.return;if(Km(l),l===r){Ze=null;break e}if(u!==null){u.return=f,Ze=u;break e}Ze=f}}}var DE={getCacheForType:function(e){var n=ot(Ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},ME=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,oe=null,he=0,ye=0,Ot=null,Jn=!1,Is=!1,qc=!1,Cn=0,Ue=0,ei=0,qi=0,Vc=0,jt=0,Ls=0,Zr=null,yt=null,Gc=!1,Yc=0,Gl=1/0,Yl=null,ti=null,nt=0,ni=null,ks=null,Us=0,Fc=0,Qc=null,sg=null,$r=0,Kc=null;function Dt(){if((_e&2)!==0&&he!==0)return he&-he;if(M.T!==null){var e=Ts;return e!==0?e:tf()}return Ed()}function rg(){jt===0&&(jt=(he&536870912)===0||ge?gd():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),jt}function Mt(e,n,r){(e===Ae&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(zs(e,0),ii(e,he,jt,!1)),gr(e,r),((_e&2)===0||e!==Ae)&&(e===Ae&&((_e&2)===0&&(qi|=r),Ue===4&&ii(e,he,jt,!1)),an(e))}function ag(e,n,r){if((_e&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&e.expiredLanes)===0||mr(e,n),u=l?LE(e,n):Zc(e,n,!0),f=l;do{if(u===0){Is&&!l&&ii(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!xE(r)){u=Zc(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=e;u=Zr;var S=_.current.memoizedState.isDehydrated;if(S&&(zs(_,g).flags|=256),g=Zc(_,g,!1),g!==2){if(qc&&!S){_.errorRecoveryDisabledLanes|=f,qi|=f,u=4;break e}f=yt,yt=u,f!==null&&(yt===null?yt=f:yt.push.apply(yt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){zs(e,0),ii(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ii(l,n,jt,!Jn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Yc+300-en(),10<u)){if(ii(l,n,jt,!Jn),nl(l,0,!0)!==0)break e;l.timeoutHandle=kg(lg.bind(null,l,r,yt,Yl,Gc,n,jt,qi,Ls,Jn,f,2,-0,0),u);break e}lg(l,r,yt,Yl,Gc,n,jt,qi,Ls,Jn,f,0,-0,0)}}break}while(!0);an(e)}function lg(e,n,r,l,u,f,g,_,S,R,D,k,A,N){if(e.timeoutHandle=-1,k=n.subtreeFlags,(k&8192||(k&16785408)===16785408)&&(ra={stylesheets:null,count:0,unsuspend:dS},eg(n),k=mS(),k!==null)){e.cancelPendingCommit=k(pg.bind(null,e,n,f,r,l,u,g,_,S,D,1,A,N)),ii(e,f,g,!R);return}pg(e,n,f,r,l,u,g,_,S)}function xE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!wt(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(e,n,r,l){n&=~Vc,n&=~qi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-Ct(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&yd(e,r,n)}function Fl(){return(_e&6)===0?(Jr(0),!1):!0}function Xc(){if(oe!==null){if(ye===0)var e=oe.return;else e=oe,gn=Ui=null,hc(e),Os=null,Vr=0,e=oe;for(;e!==null;)Bm(e.alternate,e),e=e.return;oe=null}}function zs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,WE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Xc(),Ae=e,oe=r=dn(e.current,null),he=n,ye=0,Ot=null,Jn=!1,Is=mr(e,n),qc=!1,Ls=jt=Vc=qi=ei=Ue=0,yt=Zr=null,Gc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-Ct(l),f=1<<u;n|=e[u],l&=~f}return Cn=n,pl(),r}function og(e,n){re=null,M.H=Il,n===Lr||n===Tl?(n=wp(),ye=3):n===bp?(n=wp(),ye=4):ye=n===Rm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ot=n,oe===null&&(Ue=1,Hl(e,Ut(n,e.current)))}function ug(){var e=M.H;return M.H=Il,e===null?Il:e}function cg(){var e=M.A;return M.A=DE,e}function Wc(){Ue=4,Jn||(he&4194048)!==he&&Bt.current!==null||(Is=!0),(ei&134217727)===0&&(qi&134217727)===0||Ae===null||ii(Ae,he,jt,!1)}function Zc(e,n,r){var l=_e;_e|=2;var u=ug(),f=cg();(Ae!==e||he!==n)&&(Yl=null,zs(e,n)),n=!1;var g=Ue;e:do try{if(ye!==0&&oe!==null){var _=oe,S=Ot;switch(ye){case 8:Xc(),g=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var R=ye;if(ye=0,Ot=null,Hs(e,_,S,R),r&&Is){g=0;break e}break;default:R=ye,ye=0,Ot=null,Hs(e,_,S,R)}}IE(),g=Ue;break}catch(D){og(e,D)}while(!0);return n&&e.shellSuspendCounter++,gn=Ui=null,_e=l,M.H=u,M.A=f,oe===null&&(Ae=null,he=0,pl()),g}function IE(){for(;oe!==null;)fg(oe)}function LE(e,n){var r=_e;_e|=2;var l=ug(),u=cg();Ae!==e||he!==n?(Yl=null,Gl=en()+500,zs(e,n)):Is=mr(e,n);e:do try{if(ye!==0&&oe!==null){n=oe;var f=Ot;t:switch(ye){case 1:ye=0,Ot=null,Hs(e,n,f,1);break;case 2:case 9:if(Tp(f)){ye=0,Ot=null,hg(n);break}n=function(){ye!==2&&ye!==9||Ae!==e||(ye=7),an(e)},f.then(n,n);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Tp(f)?(ye=0,Ot=null,hg(n)):(ye=0,Ot=null,Hs(e,n,f,7));break;case 5:var g=null;switch(oe.tag){case 26:g=oe.memoizedState;case 5:case 27:var _=oe;if(!g||Qg(g)){ye=0,Ot=null;var S=_.sibling;if(S!==null)oe=S;else{var R=_.return;R!==null?(oe=R,Ql(R)):oe=null}break t}}ye=0,Ot=null,Hs(e,n,f,5);break;case 6:ye=0,Ot=null,Hs(e,n,f,6);break;case 8:Xc(),Ue=6;break e;default:throw Error(a(462))}}kE();break}catch(D){og(e,D)}while(!0);return gn=Ui=null,M.H=l,M.A=u,_e=r,oe!==null?0:(Ae=null,he=0,pl(),Ue)}function kE(){for(;oe!==null&&!i0();)fg(oe)}function fg(e){var n=Hm(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,n===null?Ql(e):oe=n}function hg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=xm(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=xm(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:hc(n);default:Bm(r,n),n=oe=dp(n,Cn),n=Hm(r,n,Cn)}e.memoizedProps=e.pendingProps,n===null?Ql(e):oe=n}function Hs(e,n,r,l){gn=Ui=null,hc(n),Os=null,Vr=0;var u=n.return;try{if(CE(e,u,n,r,he)){Ue=1,Hl(e,Ut(r,e.current)),oe=null;return}}catch(f){if(u!==null)throw oe=u,f;Ue=1,Hl(e,Ut(r,e.current)),oe=null;return}n.flags&32768?(ge||l===1?e=!0:Is||(he&536870912)!==0?e=!1:(Jn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),dg(n,e)):Ql(n)}function Ql(e){var n=e;do{if((n.flags&32768)!==0){dg(n,Jn);return}e=n.return;var r=RE(n.alternate,n,Cn);if(r!==null){oe=r;return}if(n=n.sibling,n!==null){oe=n;return}oe=n=e}while(n!==null);Ue===0&&(Ue=5)}function dg(e,n){do{var r=AE(e.alternate,e);if(r!==null){r.flags&=32767,oe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){oe=e;return}oe=e=r}while(e!==null);Ue=6,oe=null}function pg(e,n,r,l,u,f,g,_,S){e.cancelPendingCommit=null;do Kl();while(nt!==0);if((_e&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ju,d0(e,r,f,g,_,S),e===Ae&&(oe=Ae=null,he=0),ks=n,ni=e,Us=r,Fc=f,Qc=u,sg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PE(Ja,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=V.p,V.p=2,g=_e,_e|=4;try{NE(e,n,r)}finally{_e=g,V.p=u,M.T=l}}nt=1,mg(),gg(),_g()}}function mg(){if(nt===1){nt=0;var e=ni,n=ks,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var u=_e;_e|=4;try{Zm(n,e);var f=cf,g=ip(e.containerInfo),_=f.focusedElem,S=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&np(_.ownerDocument.documentElement,_)){if(S!==null&&Uu(_)){var R=S.start,D=S.end;if(D===void 0&&(D=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(D,_.value.length);else{var k=_.ownerDocument||document,A=k&&k.defaultView||window;if(A.getSelection){var N=A.getSelection(),ee=_.textContent.length,W=Math.min(S.start,ee),Se=S.end===void 0?W:Math.min(S.end,ee);!N.extend&&W>Se&&(g=Se,Se=W,W=g);var C=tp(_,W),T=tp(_,Se);if(C&&T&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==T.node||N.focusOffset!==T.offset)){var w=k.createRange();w.setStart(C.node,C.offset),N.removeAllRanges(),W>Se?(N.addRange(w),N.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),N.addRange(w))}}}}for(k=[],N=_;N=N.parentNode;)N.nodeType===1&&k.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var x=k[_];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}ao=!!uf,cf=uf=null}finally{_e=u,V.p=l,M.T=r}}e.current=n,nt=2}}function gg(){if(nt===2){nt=0;var e=ni,n=ks,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=V.p;V.p=2;var u=_e;_e|=4;try{Qm(e,n.alternate,n)}finally{_e=u,V.p=l,M.T=r}}nt=3}}function _g(){if(nt===4||nt===3){nt=0,s0();var e=ni,n=ks,r=Us,l=sg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,ks=ni=null,yg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ti=null),mu(r),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(pr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=V.p,V.p=2,M.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{M.T=n,V.p=u}}(Us&3)!==0&&Kl(),an(e),u=e.pendingLanes,(r&4194090)!==0&&(u&42)!==0?e===Kc?$r++:($r=0,Kc=e):$r=0,Jr(0)}}function yg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xr(n)))}function Kl(e){return mg(),gg(),_g(),vg()}function vg(){if(nt!==5)return!1;var e=ni,n=Fc;Fc=0;var r=mu(Us),l=M.T,u=V.p;try{V.p=32>r?32:r,M.T=null,r=Qc,Qc=null;var f=ni,g=Us;if(nt=0,ks=ni=null,Us=0,(_e&6)!==0)throw Error(a(331));var _=_e;if(_e|=4,ng(f.current),Jm(f,f.current,g,r),_e=_,Jr(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(pr,f)}catch{}return!0}finally{V.p=u,M.T=l,yg(e,n)}}function Eg(e,n,r){n=Ut(r,n),n=Rc(e.stateNode,n,2),e=Fn(e,n,2),e!==null&&(gr(e,2),an(e))}function we(e,n,r){if(e.tag===3)Eg(e,e,r);else for(;n!==null;){if(n.tag===3){Eg(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ti===null||!ti.has(l))){e=Ut(r,e),r=Cm(2),l=Fn(n,r,2),l!==null&&(wm(r,l,n,e),gr(l,2),an(l));break}}n=n.return}}function $c(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new ME;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(qc=!0,u.add(r),e=UE.bind(null,e,n,r),n.then(e,e))}function UE(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ae===e&&(he&r)===r&&(Ue===4||Ue===3&&(he&62914560)===he&&300>en()-Yc?(_e&2)===0&&zs(e,0):Vc|=r,Ls===he&&(Ls=0)),an(e)}function Sg(e,n){n===0&&(n=_d()),e=vs(e,n),e!==null&&(gr(e,n),an(e))}function zE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Sg(e,r)}function HE(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Sg(e,r)}function PE(e,n){return fu(e,n)}var Xl=null,Ps=null,Jc=!1,Wl=!1,ef=!1,Vi=0;function an(e){e!==Ps&&e.next===null&&(Ps===null?Xl=Ps=e:Ps=Ps.next=e),Wl=!0,Jc||(Jc=!0,jE())}function Jr(e,n){if(!ef&&Wl){ef=!0;do for(var r=!1,l=Xl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Ct(42|e)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,wg(l,f))}else f=he,f=nl(l,l===Ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||mr(l,f)||(r=!0,wg(l,f));l=l.next}while(r);ef=!1}}function BE(){bg()}function bg(){Wl=Jc=!1;var e=0;Vi!==0&&(XE()&&(e=Vi),Vi=0);for(var n=en(),r=null,l=Xl;l!==null;){var u=l.next,f=Tg(l,n);f===0?(l.next=null,r===null?Xl=u:r.next=u,u===null&&(Ps=r)):(r=l,(e!==0||(f&3)!==0)&&(Wl=!0)),l=u}Jr(e)}function Tg(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ct(f),_=1<<g,S=u[g];S===-1?((_&r)===0||(_&l)!==0)&&(u[g]=h0(_,n)):S<=n&&(e.expiredLanes|=_),f&=~_}if(n=Ae,r=he,r=nl(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hu(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||mr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&hu(l),mu(r)){case 2:case 8:r=pd;break;case 32:r=Ja;break;case 268435456:r=md;break;default:r=Ja}return l=Cg.bind(null,e),r=fu(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&hu(l),e.callbackPriority=2,e.callbackNode=null,2}function Cg(e,n){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Kl()&&e.callbackNode!==r)return null;var l=he;return l=nl(e,e===Ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ag(e,l,n),Tg(e,en()),e.callbackNode!=null&&e.callbackNode===r?Cg.bind(null,e):null)}function wg(e,n){if(Kl())return null;ag(e,n,!0)}function jE(){ZE(function(){(_e&6)!==0?fu(dd,BE):bg()})}function tf(){return Vi===0&&(Vi=gd()),Vi}function Rg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ll(""+e)}function Ag(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function qE(e,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Rg((u[pt]||null).action),g=l.submitter;g&&(n=(n=g[pt]||null)?Rg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new fl("action","action",null,l,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vi!==0){var S=g?Ag(u,g):new FormData(u);Sc(r,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=g?Ag(u,g):new FormData(u),Sc(r,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var nf=0;nf<Bu.length;nf++){var sf=Bu[nf],VE=sf.toLowerCase(),GE=sf[0].toUpperCase()+sf.slice(1);Gt(VE,"on"+GE)}Gt(ap,"onAnimationEnd"),Gt(lp,"onAnimationIteration"),Gt(op,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(lE,"onTransitionRun"),Gt(oE,"onTransitionStart"),Gt(uE,"onTransitionCancel"),Gt(up,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ea));function Ng(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(D){zl(D)}u.currentTarget=null,f=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(D){zl(D)}u.currentTarget=null,f=S}}}}function ue(e,n){var r=n[gu];r===void 0&&(r=n[gu]=new Set);var l=e+"__bubble";r.has(l)||(Og(n,e,2,!1),r.add(l))}function rf(e,n,r){var l=0;n&&(l|=4),Og(r,e,l,n)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[Zl]){e[Zl]=!0,bd.forEach(function(r){r!=="selectionchange"&&(YE.has(r)||rf(r,!1,e),rf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zl]||(n[Zl]=!0,rf("selectionchange",!1,n))}}function Og(e,n,r,l){switch(Jg(n)){case 2:var u=yS;break;case 8:u=vS;break;default:u=Ef}r=u.bind(null,n,r,e),u=void 0,!Au||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function lf(e,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=as(_),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=f=g;continue e}_=_.parentNode}}l=l.return}Ud(function(){var R=f,D=wu(r),k=[];e:{var A=cp.get(e);if(A!==void 0){var N=fl,ee=e;switch(e){case"keypress":if(ul(r)===0)break e;case"keydown":case"keyup":N=P0;break;case"focusin":ee="focus",N=Mu;break;case"focusout":ee="blur",N=Mu;break;case"beforeblur":case"afterblur":N=Mu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=q0;break;case ap:case lp:case op:N=D0;break;case up:N=G0;break;case"scroll":case"scrollend":N=w0;break;case"wheel":N=F0;break;case"copy":case"cut":case"paste":N=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=jd;break;case"toggle":case"beforetoggle":N=K0}var W=(n&4)!==0,Se=!W&&(e==="scroll"||e==="scrollend"),C=W?A!==null?A+"Capture":null:A;W=[];for(var T=R,w;T!==null;){var x=T;if(w=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||w===null||C===null||(x=vr(T,C),x!=null&&W.push(ta(T,x,w))),Se)break;T=T.return}0<W.length&&(A=new N(A,ee,null,r,D),k.push({event:A,listeners:W}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",A&&r!==Cu&&(ee=r.relatedTarget||r.fromElement)&&(as(ee)||ee[rs]))break e;if((N||A)&&(A=D.window===D?D:(A=D.ownerDocument)?A.defaultView||A.parentWindow:window,N?(ee=r.relatedTarget||r.toElement,N=R,ee=ee?as(ee):null,ee!==null&&(Se=c(ee),W=ee.tag,ee!==Se||W!==5&&W!==27&&W!==6)&&(ee=null)):(N=null,ee=R),N!==ee)){if(W=Pd,x="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(W=jd,x="onPointerLeave",C="onPointerEnter",T="pointer"),Se=N==null?A:yr(N),w=ee==null?A:yr(ee),A=new W(x,T+"leave",N,r,D),A.target=Se,A.relatedTarget=w,x=null,as(D)===R&&(W=new W(C,T+"enter",ee,r,D),W.target=w,W.relatedTarget=Se,x=W),Se=x,N&&ee)t:{for(W=N,C=ee,T=0,w=W;w;w=Bs(w))T++;for(w=0,x=C;x;x=Bs(x))w++;for(;0<T-w;)W=Bs(W),T--;for(;0<w-T;)C=Bs(C),w--;for(;T--;){if(W===C||C!==null&&W===C.alternate)break t;W=Bs(W),C=Bs(C)}W=null}else W=null;N!==null&&Dg(k,A,N,W,!1),ee!==null&&Se!==null&&Dg(k,Se,ee,W,!0)}}e:{if(A=R?yr(R):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var F=Xd;else if(Qd(A))if(Wd)F=sE;else{F=nE;var ae=tE}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?R&&Tu(R.elementType)&&(F=Xd):F=iE;if(F&&(F=F(e,R))){Kd(k,F,r,D);break e}ae&&ae(e,A,R),e==="focusout"&&R&&A.type==="number"&&R.memoizedProps.value!=null&&bu(A,"number",A.value)}switch(ae=R?yr(R):window,e){case"focusin":(Qd(ae)||ae.contentEditable==="true")&&(gs=ae,zu=R,Ar=null);break;case"focusout":Ar=zu=gs=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,sp(k,r,D);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":sp(k,r,D)}var Q;if(Iu)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ms?Yd(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(qd&&r.locale!=="ko"&&(ms||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ms&&(Q=zd()):(qn=D,Nu="value"in qn?qn.value:qn.textContent,ms=!0)),ae=$l(R,Z),0<ae.length&&(Z=new Bd(Z,e,null,r,D),k.push({event:Z,listeners:ae}),Q?Z.data=Q:(Q=Fd(r),Q!==null&&(Z.data=Q)))),(Q=W0?Z0(e,r):$0(e,r))&&(Z=$l(R,"onBeforeInput"),0<Z.length&&(ae=new Bd("onBeforeInput","beforeinput",null,r,D),k.push({event:ae,listeners:Z}),ae.data=Q)),qE(k,e,R,r,D)}Ng(k,n)})}function ta(e,n,r){return{instance:e,listener:n,currentTarget:r}}function $l(e,n){for(var r=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=vr(e,r),u!=null&&l.unshift(ta(e,u,f)),u=vr(e,n),u!=null&&l.push(ta(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dg(e,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||R===null||(S=R,u?(R=vr(r,f),R!=null&&g.unshift(ta(r,R,S))):u||(R=vr(r,f),R!=null&&g.push(ta(r,R,S)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var FE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function Mg(e){return(typeof e=="string"?e:""+e).replace(FE,`
`).replace(QE,"")}function xg(e,n){return n=Mg(n),Mg(e)===n}function Jl(){}function Ee(e,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hs(e,""+l);break;case"className":sl(e,"class",l);break;case"tabIndex":sl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(e,r,l);break;case"style":Ld(e,l,f);break;case"data":if(n!=="object"){sl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ll(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ee(e,n,"name",u.name,u,null),Ee(e,n,"formEncType",u.formEncType,u,null),Ee(e,n,"formMethod",u.formMethod,u,null),Ee(e,n,"formTarget",u.formTarget,u,null)):(Ee(e,n,"encType",u.encType,u,null),Ee(e,n,"method",u.method,u,null),Ee(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ll(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Jl);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ll(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":ue("beforetoggle",e),ue("toggle",e),il(e,"popover",l);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":il(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=T0.get(r)||r,il(e,r,l))}}function of(e,n,r,l,u,f){switch(r){case"style":Ld(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?hs(e,l):(typeof l=="number"||typeof l=="bigint")&&hs(e,""+l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=e[pt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,u);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):il(e,r,l)}}}function it(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(e,n,f,g,r,null)}}u&&Ee(e,n,"srcSet",r.srcSet,r,null),l&&Ee(e,n,"src",r.src,r,null);return;case"input":ue("invalid",e);var _=f=g=u=null,S=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var D=r[l];if(D!=null)switch(l){case"name":u=D;break;case"type":g=D;break;case"checked":S=D;break;case"defaultChecked":R=D;break;case"value":f=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Ee(e,n,l,D,r,null)}}Dd(e,f,_,S,R,g,u,!1),rl(e);return;case"select":ue("invalid",e),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ee(e,n,u,_,r,null)}n=f,r=g,e.multiple=!!l,n!=null?fs(e,!!l,n,!1):r!=null&&fs(e,!!l,r,!0);return;case"textarea":ue("invalid",e),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ee(e,n,g,_,r,null)}xd(e,l,u,f),rl(e);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ee(e,n,S,l,r,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(l=0;l<ea.length;l++)ue(ea[l],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ee(e,n,R,l,r,null)}return;default:if(Tu(n)){for(D in r)r.hasOwnProperty(D)&&(l=r[D],l!==void 0&&of(e,n,D,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ee(e,n,_,l,r,null))}function KE(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,S=null,R=null,D=null;for(N in r){var k=r[N];if(r.hasOwnProperty(N)&&k!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=k;default:l.hasOwnProperty(N)||Ee(e,n,N,null,l,k)}}for(var A in l){var N=l[A];if(k=r[A],l.hasOwnProperty(A)&&(N!=null||k!=null))switch(A){case"type":f=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":D=N;break;case"value":g=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:N!==k&&Ee(e,n,A,N,l,k)}}Su(e,g,_,S,R,D,f,u);return;case"select":N=g=_=A=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":N=S;default:l.hasOwnProperty(f)||Ee(e,n,f,null,l,S)}for(u in l)if(f=l[u],S=r[u],l.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":A=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==S&&Ee(e,n,u,f,l,S)}n=_,r=g,l=N,A!=null?fs(e,!!r,A,!1):!!l!=!!r&&(n!=null?fs(e,!!r,n,!0):fs(e,!!r,r?[]:"",!1));return;case"textarea":N=A=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(e,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":A=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Ee(e,n,g,u,l,f)}Md(e,A,N);return;case"option":for(var ee in r)if(A=r[ee],r.hasOwnProperty(ee)&&A!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ee(e,n,ee,null,l,A)}for(S in l)if(A=l[S],N=r[S],l.hasOwnProperty(S)&&A!==N&&(A!=null||N!=null))switch(S){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Ee(e,n,S,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in r)A=r[W],r.hasOwnProperty(W)&&A!=null&&!l.hasOwnProperty(W)&&Ee(e,n,W,null,l,A);for(R in l)if(A=l[R],N=r[R],l.hasOwnProperty(R)&&A!==N&&(A!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(137,n));break;default:Ee(e,n,R,A,l,N)}return;default:if(Tu(n)){for(var Se in r)A=r[Se],r.hasOwnProperty(Se)&&A!==void 0&&!l.hasOwnProperty(Se)&&of(e,n,Se,void 0,l,A);for(D in l)A=l[D],N=r[D],!l.hasOwnProperty(D)||A===N||A===void 0&&N===void 0||of(e,n,D,A,l,N);return}}for(var C in r)A=r[C],r.hasOwnProperty(C)&&A!=null&&!l.hasOwnProperty(C)&&Ee(e,n,C,null,l,A);for(k in l)A=l[k],N=r[k],!l.hasOwnProperty(k)||A===N||A==null&&N==null||Ee(e,n,k,A,l,N)}var uf=null,cf=null;function eo(e){return e.nodeType===9?e:e.ownerDocument}function Ig(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ff(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function XE(){var e=window.event;return e&&e.type==="popstate"?e===hf?!1:(hf=e,!0):(hf=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch($E)}:kg;function $E(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function zg(e,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var g=e.ownerDocument;if(r&1&&na(g.documentElement),r&2&&na(g.body),r&4)for(r=g.head,na(r),g=r.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[_r]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(u===0){e.removeChild(f),ca(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);ca(n)}function df(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":df(r),_u(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function JE(e,n,r,l){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_r])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function eS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ft(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function tS(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ft(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var mf=null;function Hg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Pg(e,n,r){switch(n=eo(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function na(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);_u(e)}var qt=new Map,Bg=new Set;function to(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=V.d;V.d={f:nS,r:iS,D:sS,C:rS,L:aS,m:lS,X:uS,S:oS,M:cS};function nS(){var e=wn.f(),n=Fl();return e||n}function iS(e){var n=ls(e);n!==null&&n.tag===5&&n.type==="form"?am(n):wn.r(e)}var js=typeof document>"u"?null:document;function jg(e,n,r){var l=js;if(l&&typeof n=="string"&&n){var u=kt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Bg.has(u)||(Bg.add(u),e={rel:e,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),it(n,"link",e),Xe(n),l.head.appendChild(n)))}}function sS(e){wn.D(e),jg("dns-prefetch",e,null)}function rS(e,n){wn.C(e,n),jg("preconnect",e,n)}function aS(e,n,r){wn.L(e,n,r);var l=js;if(l&&e&&n){var u='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+kt(r.imageSizes)+'"]')):u+='[href="'+kt(e)+'"]';var f=u;switch(n){case"style":f=qs(e);break;case"script":f=Vs(e)}qt.has(f)||(e=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),qt.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(ia(f))||n==="script"&&l.querySelector(sa(f))||(n=l.createElement("link"),it(n,"link",e),Xe(n),l.head.appendChild(n)))}}function lS(e,n){wn.m(e,n);var r=js;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vs(e)}if(!qt.has(f)&&(e=y({rel:"modulepreload",href:e},n),qt.set(f,e),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sa(f)))return}l=r.createElement("link"),it(l,"link",e),Xe(l),r.head.appendChild(l)}}}function oS(e,n,r){wn.S(e,n,r);var l=js;if(l&&e){var u=os(l).hoistableStyles,f=qs(e);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ia(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},r),(r=qt.get(f))&&gf(e,r);var S=g=l.createElement("link");Xe(S),it(S,"link",e),S._p=new Promise(function(R,D){S.onload=R,S.onerror=D}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,no(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function uS(e,n){wn.X(e,n);var r=js;if(r&&e){var l=os(r).hoistableScripts,u=Vs(e),f=l.get(u);f||(f=r.querySelector(sa(u)),f||(e=y({src:e,async:!0},n),(n=qt.get(u))&&_f(e,n),f=r.createElement("script"),Xe(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function cS(e,n){wn.M(e,n);var r=js;if(r&&e){var l=os(r).hoistableScripts,u=Vs(e),f=l.get(u);f||(f=r.querySelector(sa(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=qt.get(u))&&_f(e,n),f=r.createElement("script"),Xe(f),it(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function qg(e,n,r,l){var u=(u=ie.current)?to(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=qs(r.href),r=os(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qs(r.href);var f=os(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(ia(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qt.set(e,r),f||fS(u,e,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(r),r=os(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qs(e){return'href="'+kt(e)+'"'}function ia(e){return'link[rel="stylesheet"]['+e+"]"}function Vg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function fS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),it(n,"link",r),Xe(n),e.head.appendChild(n))}function Vs(e){return'[src="'+kt(e)+'"]'}function sa(e){return"script[async]"+e}function Gg(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+kt(r.href)+'"]');if(l)return n.instance=l,Xe(l),l;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Xe(l),it(l,"style",u),no(l,r.precedence,e),n.instance=l;case"stylesheet":u=qs(r.href);var f=e.querySelector(ia(u));if(f)return n.state.loading|=4,n.instance=f,Xe(f),f;l=Vg(r),(u=qt.get(u))&&gf(l,u),f=(e.ownerDocument||e).createElement("link"),Xe(f);var g=f;return g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),it(f,"link",l),n.state.loading|=4,no(f,r.precedence,e),n.instance=f;case"script":return f=Vs(r.src),(u=e.querySelector(sa(f)))?(n.instance=u,Xe(u),u):(l=r,(u=qt.get(f))&&(l=y({},r),_f(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),it(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,r.precedence,e));return n.instance}function no(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var io=null;function Yg(e,n,r){if(io===null){var l=new Map,u=io=new Map;u.set(r,l)}else u=io,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var f=r[u];if(!(f[_r]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function Fg(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ra=null;function dS(){}function pS(e,n,r){if(ra===null)throw Error(a(475));var l=ra;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=qs(r.href),f=e.querySelector(ia(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=so.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Xe(f);return}f=e.ownerDocument||e,r=Vg(r),(u=qt.get(u))&&gf(r,u),f=f.createElement("link"),Xe(f);var g=f;g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),it(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=so.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function mS(){if(ra===null)throw Error(a(475));var e=ra;return e.stylesheets&&e.count===0&&yf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&yf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function so(){if(this.count--,this.count===0){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ro=null;function yf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ro=new Map,n.forEach(gS,e),ro=null,so.call(e))}function gS(e,n){if(!(n.state.loading&4)){var r=ro.get(e);if(r)var l=r.get(null);else{r=new Map,ro.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=so.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var aa={$$typeof:K,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function _S(e,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=du(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.hiddenUpdates=du(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Kg(e,n,r,l,u,f,g,_,S,R,D,k){return e=new _S(e,n,r,g,_,S,R,k),n=1,f===!0&&(n|=24),f=Rt(3,null,null,n),e.current=f,f.stateNode=e,n=$u(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},nc(f),e}function Xg(e){return e?(e=Es,e):Es}function Wg(e,n,r,l,u,f){u=Xg(u),l.context===null?l.context=u:l.pendingContext=u,l=Yn(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fn(e,l,n),r!==null&&(Mt(r,e,n),Ur(r,e,n))}function Zg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vf(e,n){Zg(e,n),(e=e.alternate)&&Zg(e,n)}function $g(e){if(e.tag===13){var n=vs(e,67108864);n!==null&&Mt(n,e,67108864),vf(e,67108864)}}var ao=!0;function yS(e,n,r,l){var u=M.T;M.T=null;var f=V.p;try{V.p=2,Ef(e,n,r,l)}finally{V.p=f,M.T=u}}function vS(e,n,r,l){var u=M.T;M.T=null;var f=V.p;try{V.p=8,Ef(e,n,r,l)}finally{V.p=f,M.T=u}}function Ef(e,n,r,l){if(ao){var u=Sf(l);if(u===null)lf(e,n,l,lo,r),e_(e,l);else if(SS(u,e,n,r,l))l.stopPropagation();else if(e_(e,l),n&4&&-1<ES.indexOf(e)){for(;u!==null;){var f=ls(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ri(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var S=1<<31-Ct(g);_.entanglements[1]|=S,g&=~S}an(f),(_e&6)===0&&(Gl=en()+500,Jr(0))}}break;case 13:_=vs(f,2),_!==null&&Mt(_,f,2),Fl(),vf(f,2)}if(f=Sf(l),f===null&&lf(e,n,l,lo,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else lf(e,n,l,null,r)}}function Sf(e){return e=wu(e),bf(e)}var lo=null;function bf(e){if(lo=null,e=as(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=h(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lo=e,null}function Jg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r0()){case dd:return 2;case pd:return 8;case Ja:case a0:return 32;case md:return 268435456;default:return 32}default:return 32}}var Tf=!1,ri=null,ai=null,li=null,la=new Map,oa=new Map,oi=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,n){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":la.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(n.pointerId)}}function ua(e,n,r,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=ls(n),n!==null&&$g(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function SS(e,n,r,l,u){switch(n){case"focusin":return ri=ua(ri,e,n,r,l,u),!0;case"dragenter":return ai=ua(ai,e,n,r,l,u),!0;case"mouseover":return li=ua(li,e,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return la.set(f,ua(la.get(f)||null,e,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,oa.set(f,ua(oa.get(f)||null,e,n,r,l,u)),!0}return!1}function t_(e){var n=as(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){e.blockedOn=n,p0(e.priority,function(){if(r.tag===13){var l=Dt();l=pu(l);var u=vs(r,l);u!==null&&Mt(u,r,l),vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Sf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Cu=l,r.target.dispatchEvent(l),Cu=null}else return n=ls(r),n!==null&&$g(n),e.blockedOn=r,!1;n.shift()}return!0}function n_(e,n,r){oo(e)&&r.delete(n)}function bS(){Tf=!1,ri!==null&&oo(ri)&&(ri=null),ai!==null&&oo(ai)&&(ai=null),li!==null&&oo(li)&&(li=null),la.forEach(n_),oa.forEach(n_)}function uo(e,n){e.blockedOn===n&&(e.blockedOn=null,Tf||(Tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bS)))}var co=null;function i_(e){co!==e&&(co=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){co===e&&(co=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(bf(l||r)===null)continue;break}var f=ls(r);f!==null&&(e.splice(n,3),n-=3,Sc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function ca(e){function n(S){return uo(S,e)}ri!==null&&uo(ri,e),ai!==null&&uo(ai,e),li!==null&&uo(li,e),la.forEach(n),oa.forEach(n);for(var r=0;r<oi.length;r++){var l=oi[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<oi.length&&(r=oi[0],r.blockedOn===null);)t_(r),r.blockedOn===null&&oi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[pt]||null;if(typeof f=="function")g||i_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[pt]||null)_=g.formAction;else if(bf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),i_(r)}}}function Cf(e){this._internalRoot=e}fo.prototype.render=Cf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Dt();Wg(r,l,e,n,null,null)},fo.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wg(e.current,2,null,e,null,null),Fl(),n[rs]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ed();e={blockedOn:null,target:e,priority:n};for(var r=0;r<oi.length&&n!==0&&n<oi[r].priority;r++);oi.splice(r,0,e),r===0&&t_(e)}};var s_=t.version;if(s_!=="19.1.1")throw Error(a(527,s_,"19.1.1"));V.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{pr=ho.inject(TS),Tt=ho}catch{}}return ha.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",u=Em,f=Sm,g=bm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Kg(e,1,!1,null,null,r,l,u,f,g,_,null),e[rs]=n.current,af(e),new Cf(n)},ha.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,u="",f=Em,g=Sm,_=bm,S=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=Kg(e,1,!0,n,r??null,l,u,f,g,_,S,R),n.context=Xg(null),r=n.current,l=Dt(),l=pu(l),u=Yn(l),u.callback=null,Fn(r,u,l),r=l,n.current.lanes=r,gr(n,r),an(n),e[rs]=n.current,af(e),new fo(n)},ha.version="19.1.1",ha}var p_;function LS(){if(p_)return Af.exports;p_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Af.exports=IS(),Af.exports}var kS=LS();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function US(s={}){function t(a,o){let{pathname:c,search:h,hash:d}=a.location;return Qf("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ra(o)}return HS(t,i,null,s)}function Ie(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function on(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function g_(s,t){return{usr:s.state,key:s.key,idx:t}}function Qf(s,t,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?rr(t):t,state:i,key:t&&t.key||a||zS()}}function Ra({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function rr(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function HS(s,t,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,d="POP",m=null,p=y();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function y(){return(h.state||{idx:null}).idx}function v(){d="POP";let z=y(),G=z==null?null:z-p;p=z,m&&m({action:d,location:P.location,delta:G})}function E(z,G){d="PUSH";let j=Qf(P.location,z,G);p=y()+1;let K=g_(j,p),Te=P.createHref(j);try{h.pushState(K,"",Te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(Te)}c&&m&&m({action:d,location:P.location,delta:1})}function O(z,G){d="REPLACE";let j=Qf(P.location,z,G);p=y();let K=g_(j,p),Te=P.createHref(j);h.replaceState(K,"",Te),c&&m&&m({action:d,location:P.location,delta:0})}function L(z){return PS(z)}let P={get action(){return d},get location(){return s(o,h)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,v),m=z,()=>{o.removeEventListener(m_,v),m=null}},createHref(z){return t(o,z)},createURL:L,encodeLocation(z){let G=L(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:O,go(z){return h.go(z)}};return P}function PS(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ra(s);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Dy(s,t,i="/"){return BS(s,t,i,!1)}function BS(s,t,i,a){let o=typeof t=="string"?rr(t):t,c=xn(o.pathname||"/",i);if(c==null)return null;let h=My(s);jS(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let p=$S(c);d=WS(h[m],p,a)}return d}function My(s,t=[],i=[],a="",o=!1){let c=(h,d,m=o,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&m)return;Ie(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Dn([a,y.relativePath]),E=i.concat(y);h.children&&h.children.length>0&&(Ie(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),My(h.children,t,E,v,m)),!(h.path==null&&!h.index)&&t.push({path:v,score:KS(v,h.index),routesMeta:E})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))c(h,d);else for(let m of xy(h.path))c(h,d,!0,m)}),t}function xy(s){let t=s.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=xy(a.join("/")),d=[];return d.push(...h.map(m=>m===""?c:[c,m].join("/"))),o&&d.push(...h),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function jS(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:XS(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var qS=/^:[\w-]+$/,VS=3,GS=2,YS=1,FS=10,QS=-2,__=s=>s==="*";function KS(s,t){let i=s.split("/"),a=i.length;return i.some(__)&&(a+=QS),t&&(a+=GS),i.filter(o=>!__(o)).reduce((o,c)=>o+(qS.test(c)?VS:c===""?YS:FS),a)}function XS(s,t){return s.length===t.length&&s.slice(0,-1).every((a,o)=>a===t[o])?s[s.length-1]-t[t.length-1]:0}function WS(s,t,i=!1){let{routesMeta:a}=s,o={},c="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],p=d===a.length-1,y=c==="/"?t:t.slice(c.length)||"/",v=wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&i&&!a[a.length-1].route.index&&(v=wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Dn([c,v.pathname]),pathnameBase:nb(Dn([c,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(c=Dn([c,v.pathnameBase]))}return h}function wo(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=ZS(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let L=d[E]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const O=d[E];return v&&!O?p[y]=void 0:p[y]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:s}}function ZS(s,t=!1,i=!0){on(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function $S(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return on(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function xn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function JS(s,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?rr(s):s;return{pathname:i?i.startsWith("/")?i:eb(i,t):t,search:ib(a),hash:sb(o)}}function eb(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Mf(s,t,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tb(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Iy(s){let t=tb(s);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Ly(s,t,i,a=!1){let o;typeof s=="string"?o=rr(s):(o={...s},Ie(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,d;if(h==null)d=i;else{let v=t.length-1;if(!a&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}d=v>=0?t[v]:"/"}let m=JS(o,d),p=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Dn=s=>s.join("/").replace(/\/\/+/g,"/"),nb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,sb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function rb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var ky=["POST","PUT","PATCH","DELETE"];new Set(ky);var ab=["GET",...ky];new Set(ab);var ar=I.createContext(null);ar.displayName="DataRouter";var Wo=I.createContext(null);Wo.displayName="DataRouterState";I.createContext(!1);var Uy=I.createContext({isTransitioning:!1});Uy.displayName="ViewTransition";var lb=I.createContext(new Map);lb.displayName="Fetchers";var ob=I.createContext(null);ob.displayName="Await";var cn=I.createContext(null);cn.displayName="Navigation";var Ha=I.createContext(null);Ha.displayName="Location";var Un=I.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var _h=I.createContext(null);_h.displayName="RouteError";function ub(s,{relative:t}={}){Ie(Pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(cn),{hash:o,pathname:c,search:h}=Ba(s,{relative:t}),d=c;return i!=="/"&&(d=c==="/"?i:Dn([i,c])),a.createHref({pathname:d,search:h,hash:o})}function Pa(){return I.useContext(Ha)!=null}function ns(){return Ie(Pa(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ha).location}var zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hy(s){I.useContext(cn).static||I.useLayoutEffect(s)}function cb(){let{isDataRoute:s}=I.useContext(Un);return s?Tb():fb()}function fb(){Ie(Pa(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(ar),{basename:t,navigator:i}=I.useContext(cn),{matches:a}=I.useContext(Un),{pathname:o}=ns(),c=JSON.stringify(Iy(a)),h=I.useRef(!1);return Hy(()=>{h.current=!0}),I.useCallback((m,p={})=>{if(on(h.current,zy),!h.current)return;if(typeof m=="number"){i.go(m);return}let y=Ly(m,JSON.parse(c),o,p.relative==="path");s==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Dn([t,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[t,i,c,o,s])}I.createContext(null);function Ba(s,{relative:t}={}){let{matches:i}=I.useContext(Un),{pathname:a}=ns(),o=JSON.stringify(Iy(i));return I.useMemo(()=>Ly(s,JSON.parse(o),a,t==="path"),[s,o,a,t])}function hb(s,t){return Py(s,t)}function Py(s,t,i,a,o){Ie(Pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(cn),{matches:h}=I.useContext(Un),d=h[h.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";By(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=ns(),O;if(t){let j=typeof t=="string"?rr(t):t;Ie(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),O=j}else O=E;let L=O.pathname||"/",P=L;if(y!=="/"){let j=y.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(j.length).join("/")}let z=Dy(s,{pathname:P});on(v||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),on(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=_b(z&&z.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:Dn([y,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Dn([y,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),h,i,a,o);return t&&G?I.createElement(Ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},G):G}function db(){let s=bb(),t=rb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),i?I.createElement("pre",{style:o},i):null,h)}var pb=I.createElement(db,null),mb=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?I.createElement(Un.Provider,{value:this.props.routeContext},I.createElement(_h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gb({routeContext:s,match:t,children:i}){let a=I.useContext(ar);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Un.Provider,{value:s},i)}function _b(s,t=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,h=i?.errors;if(h!=null){let p=c.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);Ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:E}=i,O=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||O){d=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,y,v)=>{let E,O=!1,L=null,P=null;i&&(E=h&&y.route.id?h[y.route.id]:void 0,L=y.route.errorElement||pb,d&&(m<0&&v===0?(By("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):m===v&&(O=!0,P=y.route.hydrateFallbackElement||null)));let z=t.concat(c.slice(0,v+1)),G=()=>{let j;return E?j=L:O?j=P:y.route.Component?j=I.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=p,I.createElement(gb,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:i!=null},children:j})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?I.createElement(mb,{location:i.location,revalidation:i.revalidation,component:L,error:E,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:a}):G()},null)}function yh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(s){let t=I.useContext(ar);return Ie(t,yh(s)),t}function vb(s){let t=I.useContext(Wo);return Ie(t,yh(s)),t}function Eb(s){let t=I.useContext(Un);return Ie(t,yh(s)),t}function vh(s){let t=Eb(s),i=t.matches[t.matches.length-1];return Ie(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Sb(){return vh("useRouteId")}function bb(){let s=I.useContext(_h),t=vb("useRouteError"),i=vh("useRouteError");return s!==void 0?s:t.errors?.[i]}function Tb(){let{router:s}=yb("useNavigate"),t=vh("useNavigate"),i=I.useRef(!1);return Hy(()=>{i.current=!0}),I.useCallback(async(o,c={})=>{on(i.current,zy),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var y_={};function By(s,t,i){!t&&!y_[s]&&(y_[s]=!0,on(!1,i))}I.memo(Cb);function Cb({routes:s,future:t,state:i,unstable_onError:a}){return Py(s,void 0,i,a,t)}function ya(s){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wb({basename:s="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){Ie(!Pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=rr(i));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=i,O=I.useMemo(()=>{let L=xn(m,h);return L==null?null:{location:{pathname:L,search:p,hash:y,state:v,key:E},navigationType:a}},[h,m,p,y,v,E,a]);return on(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:I.createElement(cn.Provider,{value:d},I.createElement(Ha.Provider,{children:t,value:O}))}function Rb({children:s,location:t}){return hb(Kf(s),t)}function Kf(s,t=[]){let i=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let c=[...t,o];if(a.type===I.Fragment){i.push.apply(i,Kf(a.props.children,c));return}Ie(a.type===ya,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Kf(a.props.children,c)),i.push(h)}),i}var yo="get",vo="application/x-www-form-urlencoded";function Zo(s){return s!=null&&typeof s.tagName=="string"}function Ab(s){return Zo(s)&&s.tagName.toLowerCase()==="button"}function Nb(s){return Zo(s)&&s.tagName.toLowerCase()==="form"}function Ob(s){return Zo(s)&&s.tagName.toLowerCase()==="input"}function Db(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Mb(s,t){return s.button===0&&(!t||t==="_self")&&!Db(s)}var po=null;function xb(){if(po===null)try{new FormData(document.createElement("form"),0),po=!1}catch{po=!0}return po}var Ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(s){return s!=null&&!Ib.has(s)?(on(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vo}"`),null):s}function Lb(s,t){let i,a,o,c,h;if(Nb(s)){let d=s.getAttribute("action");a=d?xn(d,t):null,i=s.getAttribute("method")||yo,o=xf(s.getAttribute("enctype"))||vo,c=new FormData(s)}else if(Ab(s)||Ob(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(a=m?xn(m,t):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||yo,o=xf(s.getAttribute("formenctype"))||xf(d.getAttribute("enctype"))||vo,c=new FormData(d,s),!xb()){let{name:p,type:y,value:v}=s;if(y==="image"){let E=p?`${p}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else p&&c.append(p,v)}}else{if(Zo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yo,a=null,o=vo,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eh(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function kb(s,t,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&xn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Ub(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Hb(s,t,i){let a=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let h=await Ub(c,i);return h.links?h.links():[]}return[]}));return qb(a.flat(1).filter(zb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v_(s,t,i,a,o,c){let h=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,p)=>h(m,p)||d(m,p)):c==="data"?t.filter((m,p)=>{let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(h(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Pb(s,t,{includeHydrateFallback:i}={}){return Bb(s.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Bb(s){return[...new Set(s)]}function jb(s){let t={},i=Object.keys(s).sort();for(let a of i)t[a]=s[a];return t}function qb(s,t){let i=new Set;return new Set(t),s.reduce((a,o)=>{let c=JSON.stringify(jb(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function jy(){let s=I.useContext(ar);return Eh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Vb(){let s=I.useContext(Wo);return Eh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sh=I.createContext(void 0);Sh.displayName="FrameworkContext";function qy(){let s=I.useContext(Sh);return Eh(s,"You must render this element inside a <HydratedRouter> element"),s}function Gb(s,t){let i=I.useContext(Sh),[a,o]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=t,E=I.useRef(null);I.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let P=G=>{G.forEach(j=>{h(j.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[s]),I.useEffect(()=>{if(a){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[a]);let O=()=>{o(!0)},L=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,E,{}]:[c,E,{onFocus:da(d,O),onBlur:da(m,L),onMouseEnter:da(p,O),onMouseLeave:da(y,L),onTouchStart:da(v,O)}]:[!1,E,{}]}function da(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function Yb({page:s,...t}){let{router:i}=jy(),a=I.useMemo(()=>Dy(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(Qb,{page:s,matches:a,...t}):null}function Fb(s){let{manifest:t,routeModules:i}=qy(),[a,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return Hb(s,t,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,t,i]),a}function Qb({page:s,matches:t,...i}){let a=ns(),{manifest:o,routeModules:c}=qy(),{basename:h}=jy(),{loaderData:d,matches:m}=Vb(),p=I.useMemo(()=>v_(s,t,m,o,a,"data"),[s,t,m,o,a]),y=I.useMemo(()=>v_(s,t,m,o,a,"assets"),[s,t,m,o,a]),v=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let L=new Set,P=!1;if(t.forEach(G=>{let j=o.routes[G.route.id];!j||!j.hasLoader||(!p.some(K=>K.route.id===G.route.id)&&G.route.id in d&&c[G.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:L.add(G.route.id))}),L.size===0)return[];let z=kb(s,h,"data");return P&&L.size>0&&z.searchParams.set("_routes",t.filter(G=>L.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[h,d,a,o,p,t,s,c]),E=I.useMemo(()=>Pb(y,o),[y,o]),O=Fb(y);return I.createElement(I.Fragment,null,v.map(L=>I.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),E.map(L=>I.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),O.map(({key:L,link:P})=>I.createElement("link",{key:L,nonce:i.nonce,...P})))}function Kb(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vy&&(window.__reactRouterVersion="7.8.2")}catch{}function Xb({basename:s,children:t,window:i}){let a=I.useRef();a.current==null&&(a.current=US({window:i,v5Compat:!0}));let o=a.current,[c,h]=I.useState({action:o.action,location:o.location}),d=I.useCallback(m=>{I.startTransition(()=>h(m))},[h]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(wb,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o})}var Gy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=I.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:d,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},O){let{basename:L}=I.useContext(cn),P=typeof p=="string"&&Gy.test(p),z,G=!1;if(typeof p=="string"&&P&&(z=p,Vy))try{let Le=new URL(window.location.href),St=p.startsWith("//")?new URL(Le.protocol+p):new URL(p),It=xn(St.pathname,L);St.origin===Le.origin&&It!=null?p=It+St.search+St.hash:G=!0}catch{on(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=ub(p,{relative:o}),[K,Te,ne]=Gb(a,E),Qe=Jb(p,{replace:h,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:v});function qe(Le){t&&t(Le),Le.defaultPrevented||Qe(Le)}let Ke=I.createElement("a",{...E,...ne,href:z||j,onClick:G||c?t:qe,ref:Kb(O,Te),target:m,"data-discover":!P&&i==="render"?"true":void 0});return K&&!P?I.createElement(I.Fragment,null,Ke,I.createElement(Yb,{page:j})):Ke});Qs.displayName="Link";var Wb=I.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:d,children:m,...p},y){let v=Ba(h,{relative:p.relative}),E=ns(),O=I.useContext(Wo),{navigator:L,basename:P}=I.useContext(cn),z=O!=null&&sT(v)&&d===!0,G=L.encodeLocation?L.encodeLocation(v).pathname:v.pathname,j=E.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(j=j.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&P&&(K=xn(K,P)||K);const Te=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ne=j===G||!o&&j.startsWith(G)&&j.charAt(Te)==="/",Qe=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),qe={isActive:ne,isPending:Qe,isTransitioning:z},Ke=ne?t:void 0,Le;typeof a=="function"?Le=a(qe):Le=[a,ne?"active":null,Qe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let St=typeof c=="function"?c(qe):c;return I.createElement(Qs,{...p,"aria-current":Ke,className:Le,ref:y,style:St,to:h,viewTransition:d},typeof m=="function"?m(qe):m)});Wb.displayName="NavLink";var Zb=I.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:c,method:h=yo,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},O)=>{let L=nT(),P=iT(d,{relative:p}),z=h.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&Gy.test(d),j=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let Te=K.nativeEvent.submitter,ne=Te?.getAttribute("formmethod")||h;L(Te||K.currentTarget,{fetcherKey:t,method:ne,navigate:i,replace:o,state:c,relative:p,preventScrollReset:y,viewTransition:v})};return I.createElement("form",{ref:O,method:z,action:P,onSubmit:a?m:j,...E,"data-discover":!G&&s==="render"?"true":void 0})});Zb.displayName="Form";function $b(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yy(s){let t=I.useContext(ar);return Ie(t,$b(s)),t}function Jb(s,{target:t,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let d=cb(),m=ns(),p=Ba(s,{relative:c});return I.useCallback(y=>{if(Mb(y,t)){y.preventDefault();let v=i!==void 0?i:Ra(m)===Ra(p);d(s,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[m,d,p,i,a,t,s,o,c,h])}var eT=0,tT=()=>`__${String(++eT)}__`;function nT(){let{router:s}=Yy("useSubmit"),{basename:t}=I.useContext(cn),i=Sb();return I.useCallback(async(a,o={})=>{let{action:c,method:h,encType:d,formData:m,body:p}=Lb(a,t);if(o.navigate===!1){let y=o.fetcherKey||tT();await s.fetch(y,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function iT(s,{relative:t}={}){let{basename:i}=I.useContext(cn),a=I.useContext(Un);Ie(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Ba(s||".",{relative:t})},h=ns();if(s==null){c.search=h.search;let d=new URLSearchParams(c.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();c.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Dn([i,c.pathname])),Ra(c)}function sT(s,{relative:t}={}){let i=I.useContext(Uy);Ie(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Yy("useViewTransitionState"),o=Ba(s,{relative:t});if(!i.isTransitioning)return!1;let c=xn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=xn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return wo(o.pathname,h)!=null||wo(o.pathname,c)!=null}const rT=()=>B.jsx(B.Fragment,{children:B.jsx("div",{className:"text-xl text-bold p-4",children:"Home"})}),aT=()=>B.jsx(B.Fragment,{children:B.jsx("div",{className:"p-4",children:"Oh, not found your page."})}),lT=()=>B.jsx(B.Fragment,{children:B.jsx("div",{className:"text-xl text-bold p-4",children:"Let's start study!"})}),oT=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,t){if(!s)throw lr(t)},lr=function(s){return new Error("Firebase Database ("+Fy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},uT=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],m=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],h=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,y=c>>2,v=(c&3)<<4|d>>4;let E=(d&15)<<2|p>>6,O=p&63;m||(O=64,h||(E=64)),a.push(i[y],i[v],i[E],i[O])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Qy(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||p==null||v==null)throw new cT;const E=c<<2|d>>4;if(a.push(E),p!==64){const O=d<<4&240|p>>2;if(a.push(O),v!==64){const L=p<<6&192|v;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ky=function(s){const t=Qy(s);return bh.encodeByteArray(t,!0)},Ro=function(s){return Ky(s).replace(/\./g,"")},Ao=function(s){try{return bh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(s){return Xy(void 0,s)}function Xy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!hT(i)||(s[i]=Xy(s[i],t[i]));return s}function hT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=()=>dT().__FIREBASE_DEFAULTS__,mT=()=>{if(typeof process>"u"||typeof E_>"u")return;const s=E_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Ao(s[1]);return t&&JSON.parse(t)},Th=()=>{try{return oT()||pT()||mT()||gT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wy=s=>Th()?.emulatorHosts?.[s],_T=s=>{const t=Wy(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Zy=()=>Th()?.config,$y=s=>Th()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jy(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ro(JSON.stringify(i)),Ro(JSON.stringify(h)),""].join(".")}const va={};function vT(){const s={prod:[],emulator:[]};for(const t of Object.keys(va))va[t]?s.emulator.push(t):s.prod.push(t);return s}function ET(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let S_=!1;function ev(s,t){if(typeof window>"u"||typeof document>"u"||!or(window.location.host)||va[s]===t||va[s]||S_)return;va[s]=t;function i(E){return`__firebase__banner__${E}`}const a="__firebase__banner",c=vT().prod.length>0;function h(){const E=document.getElementById(a);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,O){E.setAttribute("width","24"),E.setAttribute("id",O),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{S_=!0,h()},E}function y(E,O){E.setAttribute("id",O),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=ET(a),O=i("text"),L=document.getElementById(O)||document.createElement("span"),P=i("learnmore"),z=document.getElementById(P)||document.createElement("a"),G=i("preprendIcon"),j=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;d(K),y(z,P);const Te=p();m(j,G),K.append(j,L,z,Te),document.body.appendChild(K)}c?(L.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function ST(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function tv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TT(){const s=dt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CT(){return Fy.NODE_ADMIN===!0}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class bi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=AT,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ja.prototype.create)}}class ja{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?NT(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new bi(o,d,a)}}function NT(s,t){return s.replace(OT,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const OT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(s){return JSON.parse(s)}function Ye(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(s){let t={},i={},a={},o="";try{const c=s.split(".");t=Aa(Ao(c[0])||""),i=Aa(Ao(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},DT=function(s){const t=nv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},MT=function(s){const t=nv(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Js(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Xf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function No(s,t,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=t.call(i,s[o],o,s));return a}function Wi(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=t[o];if(b_(c)&&b_(h)){if(!Wi(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function b_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)a[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=d^c&(h^d),y=1518500249):(p=c^h^d,y=1859775393):v<60?(p=c&h|d&(c|h),y=2400959708):(p=c^h^d,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+a[v]&4294967295;m=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[a]=this.chain_[o]>>c&255,++a;return t}}function IT(s,t){const i=new LT(s,t);return i.subscribe.bind(i)}class LT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");kT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function If(){}function iv(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,H(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$o=function(s){let t=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s){return s&&s._delegate?s._delegate:s}class Zi{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Ch;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PT(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HT(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HT(s){return s===Gi?void 0:s}function PT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new zT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(be||(be={}));const jT={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},qT=be.INFO,VT={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},GT=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=VT[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rh{constructor(t){this.name=t,this._logLevel=qT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const YT=(s,t)=>t.some(i=>s instanceof i);let T_,C_;function FT(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sv=new WeakMap,Wf=new WeakMap,rv=new WeakMap,Lf=new WeakMap,Ah=new WeakMap;function KT(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(pi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&sv.set(i,s)}).catch(()=>{}),Ah.set(t,s),t}function XT(s){if(Wf.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Wf.set(s,t)}let Zf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Wf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||rv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function WT(s){Zf=s(Zf)}function ZT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(kf(this),t,...i);return rv.set(a,t.sort?t.sort():[t]),pi(a)}:QT().includes(s)?function(...t){return s.apply(kf(this),t),pi(sv.get(this))}:function(...t){return pi(s.apply(kf(this),t))}}function $T(s){return typeof s=="function"?ZT(s):(s instanceof IDBTransaction&&XT(s),YT(s,FT())?new Proxy(s,Zf):s)}function pi(s){if(s instanceof IDBRequest)return KT(s);if(Lf.has(s))return Lf.get(s);const t=$T(s);return t!==s&&(Lf.set(s,t),Ah.set(t,s)),t}const kf=s=>Ah.get(s);function JT(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,t),d=pi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(pi(h.result),m.oldVersion,m.newVersion,pi(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const eC=["get","getKey","getAll","getAllKeys","count"],tC=["put","add","delete","clear"],Uf=new Map;function w_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Uf.get(t))return Uf.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=tC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||eC.includes(i)))return;const c=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Uf.set(t,c),c}WT(s=>({...s,get:(t,i,a)=>w_(t,i)||s.get(t,i,a),has:(t,i)=>!!w_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function iC(s){return s.getComponent()?.type==="VERSION"}const $f="@firebase/app",R_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Rh("@firebase/app"),sC="@firebase/app-compat",rC="@firebase/analytics-compat",aC="@firebase/analytics",lC="@firebase/app-check-compat",oC="@firebase/app-check",uC="@firebase/auth",cC="@firebase/auth-compat",fC="@firebase/database",hC="@firebase/data-connect",dC="@firebase/database-compat",pC="@firebase/functions",mC="@firebase/functions-compat",gC="@firebase/installations",_C="@firebase/installations-compat",yC="@firebase/messaging",vC="@firebase/messaging-compat",EC="@firebase/performance",SC="@firebase/performance-compat",bC="@firebase/remote-config",TC="@firebase/remote-config-compat",CC="@firebase/storage",wC="@firebase/storage-compat",RC="@firebase/firestore",AC="@firebase/ai",NC="@firebase/firestore-compat",OC="firebase",DC="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",MC={[$f]:"fire-core",[sC]:"fire-core-compat",[aC]:"fire-analytics",[rC]:"fire-analytics-compat",[oC]:"fire-app-check",[lC]:"fire-app-check-compat",[uC]:"fire-auth",[cC]:"fire-auth-compat",[fC]:"fire-rtdb",[hC]:"fire-data-connect",[dC]:"fire-rtdb-compat",[pC]:"fire-fn",[mC]:"fire-fn-compat",[gC]:"fire-iid",[_C]:"fire-iid-compat",[yC]:"fire-fcm",[vC]:"fire-fcm-compat",[EC]:"fire-perf",[SC]:"fire-perf-compat",[bC]:"fire-rc",[TC]:"fire-rc-compat",[CC]:"fire-gcs",[wC]:"fire-gcs-compat",[RC]:"fire-fst",[NC]:"fire-fst-compat",[AC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Map,xC=new Map,eh=new Map;function A_(s,t){try{s.container.addComponent(t)}catch(i){In.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function er(s){const t=s.name;if(eh.has(t))return In.debug(`There were multiple attempts to register component ${t}.`),!1;eh.set(t,s);for(const i of Oo.values())A_(i,s);for(const i of xC.values())A_(i,s);return!0}function Nh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Qt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new ja("app","Firebase",IC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=DC;function av(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Jf,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(i||(i=Zy()),!i)throw mi.create("no-options");const c=Oo.get(o);if(c){if(Wi(i,c.options)&&Wi(a,c.config))return c;throw mi.create("duplicate-app",{appName:o})}const h=new BT(o);for(const m of eh.values())h.addComponent(m);const d=new LC(i,a,h);return Oo.set(o,d),d}function lv(s=Jf){const t=Oo.get(s);if(!t&&s===Jf&&Zy())return av();if(!t)throw mi.create("no-app",{appName:s});return t}function gi(s,t,i){let a=MC[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),In.warn(h.join(" "));return}er(new Zi(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebase-heartbeat-database",UC=1,Na="firebase-heartbeat-store";let zf=null;function ov(){return zf||(zf=JT(kC,UC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Na)}catch(i){console.warn(i)}}}}).catch(s=>{throw mi.create("idb-open",{originalErrorMessage:s.message})})),zf}async function zC(s){try{const i=(await ov()).transaction(Na),a=await i.objectStore(Na).get(uv(s));return await i.done,a}catch(t){if(t instanceof bi)In.warn(t.message);else{const i=mi.create("idb-get",{originalErrorMessage:t?.message});In.warn(i.message)}}}async function N_(s,t){try{const a=(await ov()).transaction(Na,"readwrite");await a.objectStore(Na).put(t,uv(s)),await a.done}catch(i){if(i instanceof bi)In.warn(i.message);else{const a=mi.create("idb-set",{originalErrorMessage:i?.message});In.warn(a.message)}}}function uv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1024,PC=30;class BC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qC(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>PC){const o=VC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){In.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:i,unsentEntries:a}=jC(this._heartbeatsCache.heartbeats),o=Ro(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return In.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function jC(s,t=HC){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),D_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zC(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return N_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return N_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function D_(s){return Ro(JSON.stringify({version:2,heartbeats:s})).length}function VC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(s){er(new Zi("platform-logger",t=>new nC(t),"PRIVATE")),er(new Zi("heartbeat",t=>new BC(t),"PRIVATE")),gi($f,R_,s),gi($f,R_,"esm2020"),gi("fire-js","")}GC("");var YC="firebase",FC="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(YC,FC,"app");function cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QC=cv,fv=new ja("auth","Firebase",cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Rh("@firebase/auth");function KC(s,...t){Do.logLevel<=be.WARN&&Do.warn(`Auth (${cr}): ${s}`,...t)}function Eo(s,...t){Do.logLevel<=be.ERROR&&Do.error(`Auth (${cr}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(s,...t){throw Dh(s,...t)}function $t(s,...t){return Dh(s,...t)}function Oh(s,t,i){const a={...QC(),[t]:i};return new ja("auth","Firebase",a).create(t,{appName:s.name})}function Xi(s){return Oh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XC(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&un(s,"argument-error"),Oh(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dh(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return fv.create(s,...t)}function te(s,t,...i){if(!s)throw Dh(t,...i)}function An(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Eo(t),new Error(t)}function Ln(s,t){s||An(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){return typeof self<"u"&&self.location?.href||""}function WC(){return M_()==="http:"||M_()==="https:"}function M_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WC()||bT()||"connection"in navigator)?navigator.onLine:!0}function $C(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ln(i>t,"Short delay should be less than long delay!"),this.isMobile=wh()||tv()}get(){return ZC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(s,t){Ln(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;An("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;An("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;An("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tw=new qa(3e4,6e4);function xh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fr(s,t,i,a,o={}){return dv(s,o,async()=>{let c={},h={};a&&(t==="GET"?h=a:c={body:JSON.stringify(a)});const d=ur({key:s.config.apiKey,...h}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:m,...c};return ST()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&or(s.emulatorConfig.host)&&(p.credentials="include"),hv.fetch()(await pv(s,s.config.apiHost,i,d),p)})}async function dv(s,t,i){s._canInitEmulator=!1;const a={...JC,...t};try{const o=new iw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw mo(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mo(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw mo(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw mo(s,"user-disabled",h);const y=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Oh(s,y,p);un(s,y)}}catch(o){if(o instanceof bi)throw o;un(s,"network-request-failed",{message:String(o)})}}async function nw(s,t,i,a,o={}){const c=await fr(s,t,i,a,o);return"mfaPendingCredential"in c&&un(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function pv(s,t,i,a){const o=`${t}${i}?${a}`,c=s,h=c.config.emulator?Mh(s.config,o):`${s.config.apiScheme}://${o}`;return ew.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($t(this.auth,"network-request-failed")),tw.get())})}}function mo(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=$t(s,t,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(s,t){return fr(s,"POST","/v1/accounts:delete",t)}async function Mo(s,t){return fr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rw(s,t=!1){const i=Vt(s),a=await i.getIdToken(t),o=Ih(a);te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:a,authTime:Ea(Hf(o.auth_time)),issuedAtTime:Ea(Hf(o.iat)),expirationTime:Ea(Hf(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hf(s){return Number(s)*1e3}function Ih(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Eo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ao(i);return o?JSON.parse(o):(Eo("Failed to decode base64 JWT payload"),null)}catch(o){return Eo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function x_(s){const t=Ih(s);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof bi&&aw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function aw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(s){const t=s.auth,i=await s.getIdToken(),a=await Oa(s,Mo(t,{idToken:i}));te(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?mv(o.providerUserInfo):[],h=uw(s.providerData,c),d=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!h?.length,p=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new nh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,y)}async function ow(s){const t=Vt(s);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uw(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function mv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(s,t){const i=await dv(s,{},async()=>{const a=ur({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await pv(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return s.emulatorConfig&&or(s.emulatorConfig.host)&&(m.credentials="include"),hv.fetch()(h,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fw(s,t){return fr(s,"POST","/v2/accounts:revokeToken",xh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){te(t.length!==0,"internal-error");const i=x_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await cw(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new Ks;return a&&(te(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(te(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&(te(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ks,this.toJSON())}_performRefresh(){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(s,t){te(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xt{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Oa(this,this.stsTokenManager.getToken(this.auth,t));return te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return rw(this,t)}reload(){return ow(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await xo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Xi(this.auth));const t=await this.getIdToken();return await Oa(this,sw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,m=i._redirectEventId??void 0,p=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:O,providerData:L,stsTokenManager:P}=i;te(v&&P,t,"internal-error");const z=Ks.fromJSON(this.name,P);te(typeof v=="string",t,"internal-error"),ci(a,t.name),ci(o,t.name),te(typeof E=="boolean",t,"internal-error"),te(typeof O=="boolean",t,"internal-error"),ci(c,t.name),ci(h,t.name),ci(d,t.name),ci(m,t.name),ci(p,t.name),ci(y,t.name);const G=new Xt({uid:v,auth:t,email:o,emailVerified:E,displayName:a,isAnonymous:O,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:z,createdAt:p,lastLoginAt:y});return L&&Array.isArray(L)&&(G.providerData=L.map(j=>({...j}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ks;o.updateFromServerResponse(i);const c=new Xt({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await xo(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?mv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,d=new Ks;d.updateFromIdToken(a);const m=new Xt({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function Nn(s){Ln(s instanceof Function,"Expected a class definition");let t=I_.get(s);return t?(Ln(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,I_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}gv.type="NONE";const L_=gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(s,t,i){return`firebase:${s}:${t}:${i}`}class Xs{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=So(this.userKey,o.apiKey,c),this.fullPersistenceKey=So("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Mo(this.auth,{idToken:t}).catch(()=>{});return i?Xt._fromGetAccountInfoResponse(this.auth,i,t):null}return Xt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xs(Nn(L_),t,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Nn(L_);const h=So(a,t.config.apiKey,t.name);let d=null;for(const p of i)try{const y=await p._get(h);if(y){let v;if(typeof y=="string"){const E=await Mo(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Xt._fromGetAccountInfoResponse(t,E,y)}else v=Xt._fromJSON(t,y);p!==c&&(d=v),c=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Xs(c,t,a):(c=m[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new Xs(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ev(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_v(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bv(t))return"Blackberry";if(Tv(t))return"Webos";if(yv(t))return"Safari";if((t.includes("chrome/")||vv(t))&&!t.includes("edge/"))return"Chrome";if(Sv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function _v(s=dt()){return/firefox\//i.test(s)}function yv(s=dt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vv(s=dt()){return/crios\//i.test(s)}function Ev(s=dt()){return/iemobile/i.test(s)}function Sv(s=dt()){return/android/i.test(s)}function bv(s=dt()){return/blackberry/i.test(s)}function Tv(s=dt()){return/webos/i.test(s)}function Lh(s=dt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hw(s=dt()){return Lh(s)&&!!window.navigator?.standalone}function dw(){return TT()&&document.documentMode===10}function Cv(s=dt()){return Lh(s)||Sv(s)||Tv(s)||bv(s)||/windows phone/i.test(s)||Ev(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s,t=[]){let i;switch(s){case"Browser":i=k_(dt());break;case"Worker":i=`${k_(dt())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${cr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((h,d)=>{try{const m=t(c);h(m)}catch(m){d(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(s,t={}){return fr(s,"GET","/v2/passwordPolicy",xh(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=6;class _w{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new pw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Nn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xs.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Mo(this,{idToken:t}),a=await Xt._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await xo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$C()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qt(this.app))return Promise.reject(Xi(this));const i=t?Vt(t):null;return i&&te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qt(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mw(this),i=new _w(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ja("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Nn(t)||this._popupRedirectResolver;te(i,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[Nn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jo(s){return Vt(s)}class U_{constructor(t){this.auth=t,this.observer=null,this.addObserver=IT(i=>this.observer=i)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vw(s){kh=s}function Ew(s){return kh.loadJS(s)}function Sw(){return kh.gapiScript}function bw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(s,t){const i=Nh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Wi(c,t??{}))return o;un(o,"already-initialized")}return i.initialize({options:t})}function Cw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Nn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ww(s,t,i){const a=Jo(s);te(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Rv(t),{host:h,port:d}=Rw(t),m=d===null?"":`:${d}`,p={url:`${c}//${h}${m}/`},y=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),te(Wi(p,a.config.emulator)&&Wi(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,or(h)?(Jy(`${c}//${h}${m}`),ev("Auth",!0)):Aw()}function Rv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Rw(s){const t=Rv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:z_(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:z_(h)}}}function z_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Aw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return An("not implemented")}_getIdTokenResponse(t){return An("not implemented")}_linkToIdToken(t,i){return An("not implemented")}_getReauthenticationResolver(t){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(s,t){return nw(s,"POST","/v1/accounts:signInWithIdp",xh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="http://localhost";class $i extends Av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const h=new $i(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Ws(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ws(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ws(t,i)}buildRequest(){const t={requestUri:Nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ur(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Uh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Va{constructor(){super("facebook.com")}static credential(t){return $i._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $i._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Rn.credentialFromTaggedObject(t)}static credentialFromError(t){return Rn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Rn.credential(i,a)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Va{constructor(){super("github.com")}static credential(t){return $i._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Va{constructor(){super("twitter.com")}static credential(t,i){return $i._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return di.credential(i,a)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Xt._fromIdTokenResponse(t,a,o),h=H_(a);return new tr({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=H_(a);return new tr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function H_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends bi{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Io.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Io(t,i,a,o)}}function Nv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Io._fromErrorAndOperation(s,c,t,a):c})}async function Ow(s,t,i=!1){const a=await Oa(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return tr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(s,t,i=!1){const{auth:a}=s;if(Qt(a.app))return Promise.reject(Xi(a));const o="reauthenticate";try{const c=await Oa(s,Nv(a,o,t,s),i);te(c.idToken,a,"internal-error");const h=Ih(c.idToken);te(h,a,"internal-error");const{sub:d}=h;return te(s.uid===d,a,"user-mismatch"),tr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&un(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,t,i=!1){if(Qt(s.app))return Promise.reject(Xi(s));const a="signIn",o=await Nv(s,a,t),c=await tr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function xw(s,t,i,a){return Vt(s).onIdTokenChanged(t,i,a)}function Iw(s,t,i){return Vt(s).beforeAuthStateChanged(t,i)}function Lw(s,t,i,a){return Vt(s).onAuthStateChanged(t,i,a)}const Lo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e3,Uw=10;class Dv extends Ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);dw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Uw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dv.type="LOCAL";const zw=Dv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Mv.type="SESSION";const xv=Mv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new eu(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async p=>p(i.origin,c)),m=await Hw(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,m)=>{const p=zh("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(E.data.response);break;default:clearTimeout(y),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function Bw(s){ln().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qw(){return navigator?.serviceWorker?.controller||null}function Vw(){return Iv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="firebaseLocalStorageDb",Gw=1,ko="firebaseLocalStorage",kv="fbase_key";class Ga{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function tu(s,t){return s.transaction([ko],t?"readwrite":"readonly").objectStore(ko)}function Yw(){const s=indexedDB.deleteDatabase(Lv);return new Ga(s).toPromise()}function ih(){const s=indexedDB.open(Lv,Gw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ko,{keyPath:kv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ko)?t(a):(a.close(),await Yw(),t(await ih()))})})}async function P_(s,t,i){const a=tu(s,!0).put({[kv]:t,value:i});return new Ga(a).toPromise()}async function Fw(s,t){const i=tu(s,!1).get(t),a=await new Ga(i).toPromise();return a===void 0?null:a.value}function B_(s,t){const i=tu(s,!0).delete(t);return new Ga(i).toPromise()}const Qw=800,Kw=3;class Uv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ih(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eu._getInstance(Vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jw(),!this.activeServiceWorker)return;this.sender=new Pw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ih();return await P_(t,Lo,"1"),await B_(t,Lo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Fw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>B_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=tu(o,!1).getAll();return new Ga(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uv.type="LOCAL";const Xw=Uv;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s,t){return t?Nn(t):(te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Av{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ws(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ww(s){return Mw(s.auth,new Hh(s),s.bypassAuthState)}function Zw(s){const{auth:t,user:i}=s;return te(i,t,"internal-error"),Dw(i,new Hh(s),s.bypassAuthState)}async function $w(s){const{auth:t,user:i}=s;return te(i,t,"internal-error"),Ow(i,new Hh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ww;case"linkViaPopup":case"linkViaRedirect":return $w;case"reauthViaPopup":case"reauthViaRedirect":return Zw;default:un(this.auth,"internal-error")}}resolve(t){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new qa(2e3,1e4);async function e2(s,t,i){if(Qt(s.app))return Promise.reject($t(s,"operation-not-supported-in-this-environment"));const a=Jo(s);XC(s,t,Uh);const o=zv(a,i);return new Fi(a,"signInViaPopup",t,o).executeNotNull()}class Fi extends Hv{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Ln(this.filter.length===1,"Popup operations only handle one event");const t=zh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Jw.get())};t()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="pendingRedirect",bo=new Map;class n2 extends Hv{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=bo.get(this.auth._key());if(!t){try{const a=await i2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}bo.set(this.auth._key(),t)}return this.bypassAuthState||bo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i2(s,t){const i=a2(t),a=r2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function s2(s,t){bo.set(s._key(),t)}function r2(s){return Nn(s._redirectPersistence)}function a2(s){return So(t2,s.config.apiKey,s.name)}async function l2(s,t,i=!1){if(Qt(s.app))return Promise.reject(Xi(s));const a=Jo(s),o=zv(a,t),h=await new n2(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=600*1e3;class u2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Pv(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError($t(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o2&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(t))}saveEventToCache(t){this.cachedEventUids.add(j_(t)),this.lastProcessedEventTime=Date.now()}}function j_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Pv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function c2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(s,t={}){return fr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d2=/^https?/;async function p2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await f2(s);for(const i of t)try{if(m2(i))return}catch{}un(s,"unauthorized-domain")}function m2(s){const t=th(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!d2.test(i))return!1;if(h2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new qa(3e4,6e4);function q_(){const s=ln().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function _2(s){return new Promise((t,i)=>{function a(){q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q_(),i($t(s,"network-request-failed"))},timeout:g2.get()})}if(ln().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ln().gapi?.load)a();else{const o=bw("iframefcb");return ln()[o]=()=>{gapi.load?a():i($t(s,"network-request-failed"))},Ew(`${Sw()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw To=null,t})}let To=null;function y2(s){return To=To||_2(s),To}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new qa(5e3,15e3),E2="__/auth/iframe",S2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C2(s){const t=s.config;te(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Mh(t,S2):`https://${s.config.authDomain}/${E2}`,a={apiKey:t.apiKey,appName:s.name,v:cr},o=T2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ur(a).slice(1)}`}async function w2(s){const t=await y2(s),i=ln().gapi;return te(i,s,"internal-error"),t.open({where:document.body,url:C2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=$t(s,"network-request-failed"),d=ln().setTimeout(()=>{c(h)},v2.get());function m(){ln().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,N2=600,O2="_blank",D2="http://localhost";class V_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(s,t,i,a=A2,o=N2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...R2,width:a.toString(),height:o.toString(),top:c,left:h},p=dt().toLowerCase();i&&(d=vv(p)?O2:i),_v(p)&&(t=t||D2,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[O,L])=>`${E}${O}=${L},`,"");if(hw(p)&&d!=="_self")return x2(t||"",d),new V_(null);const v=window.open(t||"",d,y);te(v,s,"popup-blocked");try{v.focus()}catch{}return new V_(v)}function x2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="__/auth/handler",L2="emulator/auth/handler",k2=encodeURIComponent("fac");async function G_(s,t,i,a,o,c){te(s.config.authDomain,s,"auth-domain-config-required"),te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:cr,eventId:o};if(t instanceof Uh){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",Xf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))h[y]=v}if(t instanceof Va){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(h.scopes=y.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await s._getAppCheckToken(),p=m?`#${k2}=${encodeURIComponent(m)}`:"";return`${U2(s)}?${ur(d).slice(1)}${p}`}function U2({config:s}){return s.emulator?Mh(s,L2):`https://${s.authDomain}/${I2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xv,this._completeRedirectFn=l2,this._overrideRedirectResult=s2}async _openPopup(t,i,a,o){Ln(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await G_(t,i,a,th(),o);return M2(t,c,zh())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await G_(t,i,a,th(),o);return Bw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ln(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await w2(t),a=new u2(t);return i.register("authEvent",o=>(te(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pf,{type:Pf},o=>{const c=o?.[0]?.[Pf];c!==void 0&&i(!!c),un(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=p2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Cv()||yv()||Lh()}}const H2=z2;var Y_="@firebase/auth",F_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j2(s){er(new Zi("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;te(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wv(s)},p=new yw(a,o,c,m);return Cw(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),er(new Zi("auth-internal",t=>{const i=Jo(t.getProvider("auth").getImmediate());return(a=>new P2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(Y_,F_,B2(s)),gi(Y_,F_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=300,V2=$y("authIdTokenMaxAge")||q2;let Q_=null;const G2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>V2)return;const o=i?.token;Q_!==o&&(Q_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Y2(s=lv()){const t=Nh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Tw(s,{popupRedirectResolver:H2,persistence:[Xw,zw,xv]}),a=$y("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=G2(c.toString());Iw(i,h,()=>h(i.currentUser)),xw(i,d=>h(d))}}const o=Wy("auth");return o&&ww(i,`http://${o}`),i}function F2(){return document.getElementsByTagName("head")?.[0]??document}vw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=$t("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",F2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j2("Browser");const Q2={apiKey:"AIzaSyBc0dGkBKXhK_0AcfXFo2aHvoWXQHu0VEY",authDomain:"english-master-5ca79.firebaseapp.com",databaseURL:"https://english-master-5ca79-default-rtdb.firebaseio.com",projectId:"english-master-5ca79",storageBucket:"english-master-5ca79.firebasestorage.app",messagingSenderId:"1003173994906",appId:"1:1003173994906:web:a85404f0c521270a8d1a23",measurementId:"G-S1T3737QG1"},K2=av(Q2),sh=Y2(),X2=new Rn;var K_={};const X_="@firebase/database",W_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv="";function W2(s){Bv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ye(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Aa(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Z2(t)}}catch{}return new $2},Qi=jv("localStorage"),J2=jv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Rh("@firebase/database"),eR=(function(){let s=1;return function(){return s++}})(),qv=function(s){const t=UT(s),i=new xT;i.update(t);const a=i.digest();return bh.encodeByteArray(a)},Ya=function(...s){let t="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=Ya.apply(null,a):typeof a=="object"?t+=Ye(a):t+=a,t+=" "}return t};let Sa=null,Z_=!0;const tR=function(s,t){H(!0,"Can't turn on custom loggers persistently."),Zs.logLevel=be.VERBOSE,Sa=Zs.log.bind(Zs)},ct=function(...s){if(Z_===!0&&(Z_=!1,Sa===null&&J2.get("logging_enabled")===!0&&tR()),Sa){const t=Ya.apply(null,s);Sa(t)}},Fa=function(s){return function(...t){ct(s,...t)}},rh=function(...s){const t="FIREBASE INTERNAL ERROR: "+Ya(...s);Zs.error(t)},kn=function(...s){const t=`FIREBASE FATAL ERROR: ${Ya(...s)}`;throw Zs.error(t),new Error(t)},xt=function(...s){const t="FIREBASE WARNING: "+Ya(...s);Zs.warn(t)},nR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},iR=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},nr="[MIN_NAME]",Ji="[MAX_NAME]",hr=function(s,t){if(s===t)return 0;if(s===nr||t===Ji)return-1;if(t===nr||s===Ji)return 1;{const i=$_(s),a=$_(t);return i!==null?a!==null?i-a===0?s.length-t.length:i-a:-1:a!==null?1:s<t?-1:1}},sR=function(s,t){return s===t?0:s<t?-1:1},pa=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Ye(t))},Ph=function(s){if(typeof s!="object"||s===null)return Ye(s);const t=[];for(const a in s)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=Ye(t[a]),i+=":",i+=Ph(s[t[a]]);return i+="}",i},Gv=function(s,t){const i=s.length;if(i<=t)return[s];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+t));return a};function Et(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Yv=function(s){H(!Vv(s),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,c,h,d,m;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(m=i;m;m-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(m=t;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},rR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lR(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+t._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const oR=new RegExp("^-?(0*)\\d{1,10}$"),uR=-2147483648,cR=2147483647,$_=function(s){if(oR.test(s)){const t=Number(s);if(t>=uR&&t<=cR)return t}return null},Qa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw xt("Exception was thrown by user callback.",i),t},Math.floor(0))}},fR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ba=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Qt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(t)}}class Co{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="5",Fv="v",Qv="s",Kv="r",Xv="f",Wv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zv="ls",$v="p",ah="ac",Jv="websocket",e1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,i,a,o,c=!1,h="",d=!1,m=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function pR(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function n1(s,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let a;if(t===Jv)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===e1)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pR(s)&&(i.ns=s.namespace);const o=[];return Et(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.counters_={}}incrementCounter(t,i=1){zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return fT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf={},jf={};function jh(s){const t=s.toString();return Bf[t]||(Bf[t]=new mR),Bf[t]}function gR(s,t){const i=s.toString();return jf[i]||(jf[i]=t()),jf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Qa(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="start",yR="close",vR="pLPCommand",ER="pRTLPCB",i1="id",s1="pw",r1="ser",SR="cb",bR="seg",TR="ts",CR="d",wR="dframe",a1=1870,l1=30,RR=a1-l1,AR=25e3,NR=3e4;class Ys{constructor(t,i,a,o,c,h,d){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(t),this.stats_=jh(i),this.urlFn=m=>(this.appCheckToken&&(m[ah]=this.appCheckToken),n1(i,e1,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _R(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NR)),iR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qh((...c)=>{const[h,d,m,p,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===J_)this.id=d,this.password=m;else if(h===yR)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[J_]="t",a[r1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[SR]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Fv]=Bh,this.transportSessionId&&(a[Qv]=this.transportSessionId),this.lastSessionId&&(a[Zv]=this.lastSessionId),this.applicationId&&(a[$v]=this.applicationId),this.appCheckToken&&(a[ah]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(a[Kv]=Xv);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ys.forceAllow_=!0}static forceDisallow(){Ys.forceDisallow_=!0}static isAvailable(){return Ys.forceAllow_?!0:!Ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rR()&&!aR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ye(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Ky(i),o=Gv(a,RR);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[wR]="t",a[i1]=t,a[s1]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ye(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class qh{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eR(),window[vR+this.uniqueCallbackIdentifier]=t,window[ER+this.uniqueCallbackIdentifier]=i,this.myIFrame=qh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){ct("frame writing exception"),d.stack&&ct(d.stack),ct(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[i1]=this.myID,t[s1]=this.myPW,t[r1]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+l1+a.length<=a1;){const h=this.pendingSegs.shift();a=a+"&"+bR+o+"="+h.seg+"&"+TR+o+"="+h.ts+"&"+CR+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(AR)),c=()=>{clearTimeout(o),a()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=16384,DR=45e3;let Uo=null;typeof MozWebSocket<"u"?Uo=MozWebSocket:typeof WebSocket<"u"&&(Uo=WebSocket);class Kt{constructor(t,i,a,o,c,h,d){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=jh(i),this.connURL=Kt.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,c){const h={};return h[Fv]=Bh,typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(h[Kv]=Xv),i&&(h[Qv]=i),a&&(h[Zv]=a),o&&(h[ah]=o),c&&(h[$v]=c),n1(t,Jv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let a;CT(),this.mySock=new Uo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&Uo!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Aa(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=Ye(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Gv(i,OR);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DR))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static get ALL_TRANSPORTS(){return[Ys,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Kt&&Kt.isAvailable();let a=i&&!Kt.previouslyFailed();if(t.webSocketOnly&&(i||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Kt];else{const o=this.transports_=[];for(const c of Da.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Da.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Da.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=6e4,xR=5e3,IR=10*1024,LR=100*1024,qf="t",ey="d",kR="s",ty="r",UR="e",ny="o",iy="a",sy="n",ry="p",zR="h";class HR{constructor(t,i,a,o,c,h,d,m,p,y){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new Da(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(qf in t){const i=t[qf];i===iy?this.upgradeIfSecondaryHealthy_():i===ty?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===ny&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=pa("t",t),a=pa("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=pa("t",t),a=pa("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=pa(qf,t);if(ey in t){const a=t[ey];if(i===zR){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===sy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===kR?this.onConnectionShutdown_(a):i===ty?this.onReset_(a):i===UR?rh("Server Error: "+a):i===ny?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Bh!==a&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MR))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ry,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends u1{static getInstance(){return new zo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=32,ly=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function me(){return new Re("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function vi(s){return s.pieces_.length-s.pieceNum_}function Ne(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Re(s.pieces_,t)}function c1(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function PR(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function f1(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function h1(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Re(t,0)}function Fe(s,t){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(t instanceof Re)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Re(i,0)}function ce(s){return s.pieceNum_>=s.pieces_.length}function ht(s,t){const i=fe(s),a=fe(t);if(i===null)return t;if(i===a)return ht(Ne(s),Ne(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function d1(s,t){if(vi(s)!==vi(t))return!1;for(let i=s.pieceNum_,a=t.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==t.pieces_[a])return!1;return!0}function Wt(s,t){let i=s.pieceNum_,a=t.pieceNum_;if(vi(s)>vi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class BR{constructor(t,i){this.errorPrefix_=i,this.parts_=f1(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=$o(this.parts_[a]);p1(this)}}function jR(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=$o(t),p1(s)}function qR(s){const t=s.parts_.pop();s.byteLength_-=$o(t),s.parts_.length>0&&(s.byteLength_-=1)}function p1(s){if(s.byteLength_>ly)throw new Error(s.errorPrefix_+"has a key path longer than "+ly+" bytes ("+s.byteLength_+").");if(s.parts_.length>ay)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ay+") or object contains a cycle "+Yi(s))}function Yi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends u1{static getInstance(){return new Vh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=1e3,VR=300*1e3,oy=30*1e3,GR=1.3,YR=3e4,FR="server_kill",uy=3;class Mn extends o1{constructor(t,i,a,o,c,h,d,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=Mn.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ma,this.maxReconnectDelay_=VR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&zo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(Ye(c)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new Ch,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,a,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,d=>{const m=d.d,p=d.s;Mn.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(p,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&zn(t,"w")){const a=Js(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||MT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=DT(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ye(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):rh("Unrecognized action received from server: "+Ye(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YR&&(this.reconnectDelay_=ma),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Mn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const m=function(){d?d.close():(h=!0,a())},p=function(v){H(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,d=new HR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,O=>{xt(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(FR)},c))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&xt(v),m())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xf(this.interruptReasons_)&&(this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(c=>Ph(c)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new Re(t).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){ct("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=oy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ct("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Bv.replace(/\./g,"-")]=1,wh()?t["framework.cordova"]=1:tv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=zo.getInstance().currentlyOnline();return Xf(this.interruptReasons_)&&t}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new le(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new le(nr,t),o=new le(nr,i);return this.compare(a,o)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class m1 extends nu{static get __EMPTY_NODE(){return go}static set __EMPTY_NODE(t){go=t}compare(t,i){return hr(t.name,i.name)}isDefinedOn(t){throw lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return le.MIN}maxPost(){return new le(Ji,go)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new le(t,go)}toString(){return".key"}}const $s=new m1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?a(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class et{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??et.RED,this.left=o??vt.EMPTY_NODE,this.right=c??vt.EMPTY_NODE}copy(t,i,a,o,c){return new et(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return vt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class QR{copy(t,i,a,o,c){return this}insert(t,i,a){return new et(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(t,i=vt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new vt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(t){return new vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,et.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new _o(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new _o(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new _o(this.root_,null,this.comparator_,!0,t)}}vt.EMPTY_NODE=new QR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(s,t){return hr(s.name,t.name)}function Gh(s,t){return hr(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;function XR(s){lh=s}const g1=function(s){return typeof s=="number"?"number:"+Yv(s):"string:"+s},_1=function(s){if(s.isLeafNode()){const t=s.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&zn(t,".sv"),"Priority must be a string or number.")}else H(s===lh||s.isEmpty(),"priority of unexpected type.");H(s===lh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;class Je{static set __childrenNodeConstructor(t){cy=t}static get __childrenNodeConstructor(){return cy}constructor(t,i=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Je(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:fe(t)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=fe(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(H(a!==".priority"||vi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+g1(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Yv(this.value_):t+=this.value_,this.lazyHash_=qv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Je.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Je.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=Je.VALUE_TYPE_ORDER.indexOf(i),c=Je.VALUE_TYPE_ORDER.indexOf(a);return H(o>=0,"Unknown leaf type: "+i),H(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1,v1;function WR(s){y1=s}function ZR(s){v1=s}class $R extends nu{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?hr(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Ji,new Je("[PRIORITY-POST]",v1))}makePost(t,i){const a=y1(t);return new le(i,new Je("[PRIORITY-POST]",a))}toString(){return".priority"}}const ze=new $R;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=Math.log(2);class eA{constructor(t){const i=c=>parseInt(Math.log(c)/JR,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ho=function(s,t,i,a){s.sort(t);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=s[m],E=i?i(v):v,new et(E,v.node,et.BLACK,null,null);{const O=parseInt(y/2,10)+m,L=o(m,O),P=o(O+1,p);return v=s[O],E=i?i(v):v,new et(E,v.node,et.BLACK,L,P)}},c=function(m){let p=null,y=null,v=s.length;const E=function(L,P){const z=v-L,G=v;v-=L;const j=o(z+1,G),K=s[z],Te=i?i(K):K;O(new et(Te,K.node,P,null,j))},O=function(L){p?(p.left=L,p=L):(y=L,p=L)};for(let L=0;L<m.count;++L){const P=m.nextBitIsOne(),z=Math.pow(2,m.count-(L+1));P?E(z,et.BLACK):(E(z,et.BLACK),E(z,et.RED))}return y},h=new eA(s.length),d=c(h);return new vt(a||t,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;const Gs={};class On{static get Default(){return H(Gs&&ze,"ChildrenNode.ts has not been loaded"),Vf=Vf||new On({".priority":Gs},{".priority":ze}),Vf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Js(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof vt?i:null}hasIndex(t){return zn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(le.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=Ho(a,t.getCompare()):d=Gs;const m=t.toString(),p={...this.indexSet_};p[m]=t;const y={...this.indexes_};return y[m]=d,new On(y,p)}addToIndexes(t,i){const a=No(this.indexes_,(o,c)=>{const h=Js(this.indexSet_,c);if(H(h,"Missing index implementation for "+c),o===Gs)if(h.isDefinedOn(t.node)){const d=[],m=i.getIterator(le.Wrap);let p=m.getNext();for(;p;)p.name!==t.name&&d.push(p),p=m.getNext();return d.push(t),Ho(d,h.getCompare())}else return Gs;else{const d=i.get(t.name);let m=o;return d&&(m=m.remove(new le(t.name,d))),m.insert(t,t.node)}});return new On(a,this.indexSet_)}removeFromIndexes(t,i){const a=No(this.indexes_,o=>{if(o===Gs)return o;{const c=i.get(t.name);return c?o.remove(new le(t.name,c)):o}});return new On(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga;class J{static get EMPTY_NODE(){return ga||(ga=new J(new vt(Gh),null,On.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&_1(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ga}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ga:i}}getChild(t){const i=fe(t);return i===null?this:this.getImmediateChild(i).getChild(Ne(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new le(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?ga:this.priorityNode_;return new J(o,h,c)}}updateChild(t,i){const a=fe(t);if(a===null)return i;{H(fe(t)!==".priority"||vi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Ne(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(ze,(h,d)=>{i[h]=d.val(t),a++,c&&J.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+g1(this.getPriority().val())+":"),this.forEachChild(ze,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":qv(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new le(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new le(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new le(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ka?-1:0}withIndex(t){if(t===$s||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===$s||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(ze),o=i.getIterator(ze);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===$s?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tA extends J{constructor(){super(new vt(Gh),J.EMPTY_NODE,On.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const Ka=new tA;Object.defineProperties(le,{MIN:{value:new le(nr,J.EMPTY_NODE)},MAX:{value:new le(Ji,Ka)}});m1.__EMPTY_NODE=J.EMPTY_NODE;Je.__childrenNodeConstructor=J;XR(Ka);ZR(Ka);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=!0;function st(s,t=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Je(i,st(t))}if(!(s instanceof Array)&&nA){const i=[];let a=!1;if(Et(s,(h,d)=>{if(h.substring(0,1)!=="."){const m=st(d);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new le(h,m)))}}),i.length===0)return J.EMPTY_NODE;const c=Ho(i,KR,h=>h.name,Gh);if(a){const h=Ho(i,ze.getCompare());return new J(c,st(t),new On({".priority":h},{".priority":ze}))}else return new J(c,st(t),On.Default)}else{let i=J.EMPTY_NODE;return Et(s,(a,o)=>{if(zn(s,a)&&a.substring(0,1)!=="."){const c=st(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(st(t))}}WR(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nu{constructor(t){super(),this.indexPath_=t,H(!ce(t)&&fe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?hr(t.name,i.name):c}makePost(t,i){const a=st(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new le(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,Ka);return new le(Ji,t)}toString(){return f1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends nu{compare(t,i){const a=t.node.compareTo(i.node);return a===0?hr(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(t,i){const a=st(t);return new le(i,a)}toString(){return".value"}}const rA=new sA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){return{type:"value",snapshotNode:s}}function ir(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Ma(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function xa(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function aA(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t){this.index_=t}updateChild(t,i,a,o,c,h){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?t.hasChild(i)?h.trackChildChange(Ma(i,d)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(ir(i,a)):h.trackChildChange(xa(i,a,d))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(ze,(o,c)=>{i.hasChild(o)||a.trackChildChange(Ma(o,c))}),i.isLeafNode()||i.forEachChild(ze,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||a.trackChildChange(xa(o,c,h))}else a.trackChildChange(ir(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t){this.indexedFilter_=new Yh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ia.getStartPost_(t),this.endPost_=Ia.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,c,h){return this.matches(new le(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,c,h)}updateFullNode(t,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const c=this;return i.forEachChild(ze,(h,d)=>{c.matches(new le(h,d))||(o=o.updateImmediateChild(h,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ia(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,c,h){return this.rangedFilter_.matches(new le(i,a))||(a=J.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,c,h):this.fullLimitUpdateChild_(t,i,a,c,h)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,c){let h;if(this.reverse_){const v=this.index_.getCompare();h=(E,O)=>v(O,E)}else h=this.index_.getCompare();const d=t;H(d.numChildren()===this.limit_,"");const m=new le(i,a),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(d.hasChild(i)){const v=d.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const O=E==null?1:h(E,m);if(y&&!a.isEmpty()&&O>=0)return c?.trackChildChange(xa(i,a,v)),d.updateImmediateChild(i,a);{c?.trackChildChange(Ma(i,v));const P=d.updateImmediateChild(i,J.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c?.trackChildChange(ir(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return a.isEmpty()?t:y&&h(p,m)>=0?(c!=null&&(c.trackChildChange(Ma(p.name,p.node)),c.trackChildChange(ir(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(p.name,J.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nr}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const t=new Fh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function oA(s){return s.loadsAllData()?new Yh(s.getIndex()):s.hasLimit()?new lA(s):new Ia(s)}function fy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===ze?i="$priority":s.index_===rA?i="$value":s.index_===$s?i="$key":(H(s.index_ instanceof iA,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=Ye(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";t[a]=Ye(s.indexStartValue_),s.startNameSet_&&(t[a]+=","+Ye(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";t[a]=Ye(s.indexEndValue_),s.endNameSet_&&(t[a]+=","+Ye(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function hy(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==ze&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends o1{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Fa("p:rest:"),this.listens_={}}listen(t,i,a,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Po.getListenId_(t,a),d={};this.listens_[h]=d;const m=fy(t._queryParams);this.restRequest_(c+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(c,v,!1,a),Js(this.listens_,h)===d){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(t,i){const a=Po.getListenId_(t,i);delete this.listens_[a]}get(t){const i=fy(t._queryParams),a=t._path.toString(),o=new Ch;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ur(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Aa(d.responseText)}catch{xt("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,m)}else d.status!==401&&d.status!==404&&xt("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return{value:null,children:new Map}}function S1(s,t,i){if(ce(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const a=fe(t);s.children.has(a)||s.children.set(a,Bo());const o=s.children.get(a);t=Ne(t),S1(o,t,i)}}function oh(s,t,i){s.value!==null?i(t,s.value):cA(s,(a,o)=>{const c=new Re(t.toString()+"/"+a);oh(o,c,i)})}function cA(s,t){s.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Et(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=10*1e3,hA=30*1e3,dA=300*1e3;class pA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new fA(t);const a=dy+(hA-dy)*Math.random();ba(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;Et(t,(o,c)=>{c>0&&zn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*dA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function b1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=Zt.ACK_USER_WRITE,this.source=b1()}operationForChild(t){if(ce(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new jo(me(),i,this.revert)}}else return H(fe(this.path)===t,"operationForChild called for unrelated child."),new jo(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,i){this.source=t,this.path=i,this.type=Zt.LISTEN_COMPLETE}operationForChild(t){return ce(this.path)?new La(this.source,me()):new La(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=Zt.OVERWRITE}operationForChild(t){return ce(this.path)?new es(this.source,me(),this.snap.getImmediateChild(t)):new es(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=Zt.MERGE}operationForChild(t){if(ce(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new es(this.source,me(),i.value):new ka(this.source,me(),i)}else return H(fe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ka(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ce(t))return this.isFullyInitialized()&&!this.filtered_;const i=fe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gA(s,t,i,a){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(aA(h.childName,h.snapshotNode))}),_a(s,o,"child_removed",t,a,i),_a(s,o,"child_added",t,a,i),_a(s,o,"child_moved",c,a,i),_a(s,o,"child_changed",t,a,i),_a(s,o,"value",t,a,i),o}function _a(s,t,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,m)=>yA(s,d,m)),h.forEach(d=>{const m=_A(s,d,c);o.forEach(p=>{p.respondsTo(d.type)&&t.push(p.createEvent(m,s.query_))})})}function _A(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function yA(s,t,i){if(t.childName==null||i.childName==null)throw lr("Should only compare child_ events.");const a=new le(t.childName,t.snapshotNode),o=new le(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(s,t){return{eventCache:s,serverCache:t}}function Ta(s,t,i,a){return iu(new Ei(t,i,a),s.serverCache)}function T1(s,t,i,a){return iu(s.eventCache,new Ei(t,i,a))}function qo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ts(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf;const vA=()=>(Gf||(Gf=new vt(sR)),Gf);class Oe{static fromObject(t){let i=new Oe(null);return Et(t,(a,o)=>{i=i.set(new Re(a),o)}),i}constructor(t,i=vA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:me(),value:this.value};if(ce(t))return null;{const a=fe(t),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ne(t),i);return c!=null?{path:Fe(new Re(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ce(t))return this;{const i=fe(t),a=this.children.get(i);return a!==null?a.subtree(Ne(t)):new Oe(null)}}set(t,i){if(ce(t))return new Oe(i,this.children);{const a=fe(t),c=(this.children.get(a)||new Oe(null)).set(Ne(t),i),h=this.children.insert(a,c);return new Oe(this.value,h)}}remove(t){if(ce(t))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const i=fe(t),a=this.children.get(i);if(a){const o=a.remove(Ne(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Oe(null):new Oe(this.value,c)}else return this}}get(t){if(ce(t))return this.value;{const i=fe(t),a=this.children.get(i);return a?a.get(Ne(t)):null}}setTree(t,i){if(ce(t))return i;{const a=fe(t),c=(this.children.get(a)||new Oe(null)).setTree(Ne(t),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new Oe(this.value,h)}}fold(t){return this.fold_(me(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(Fe(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,me(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(ce(t))return null;{const c=fe(t),h=this.children.get(c);return h?h.findOnPath_(Ne(t),Fe(i,c),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,me(),i)}foreachOnPath_(t,i,a){if(ce(t))return this;{this.value&&a(i,this.value);const o=fe(t),c=this.children.get(o);return c?c.foreachOnPath_(Ne(t),Fe(i,o),a):new Oe(null)}}foreach(t){this.foreach_(me(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Fe(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.writeTree_=t}static empty(){return new Jt(new Oe(null))}}function Ca(s,t,i){if(ce(t))return new Jt(new Oe(i));{const a=s.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let c=a.value;const h=ht(o,t);return c=c.updateChild(h,i),new Jt(s.writeTree_.set(o,c))}else{const o=new Oe(i),c=s.writeTree_.setTree(t,o);return new Jt(c)}}}function py(s,t,i){let a=s;return Et(i,(o,c)=>{a=Ca(a,Fe(t,o),c)}),a}function my(s,t){if(ce(t))return Jt.empty();{const i=s.writeTree_.setTree(t,new Oe(null));return new Jt(i)}}function uh(s,t){return is(s,t)!=null}function is(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(ht(i.path,t)):null}function gy(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ze,(a,o)=>{t.push(new le(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new le(a,o.value))}),t}function _i(s,t){if(ce(t))return s;{const i=is(s,t);return i!=null?new Jt(new Oe(i)):new Jt(s.writeTree_.subtree(t))}}function ch(s){return s.writeTree_.isEmpty()}function sr(s,t){return C1(me(),s.writeTree_,t)}function C1(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let a=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(H(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=C1(Fe(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Fe(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(s,t){return N1(t,s)}function EA(s,t,i,a,o){H(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Ca(s.visibleWrites,t,i)),s.lastWriteId=a}function SA(s,t){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===t)return a}return null}function bA(s,t){const i=s.allWrites.findIndex(d=>d.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&TA(d,a.path)?o=!1:Wt(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return CA(s),!0;if(a.snap)s.visibleWrites=my(s.visibleWrites,a.path);else{const d=a.children;Et(d,m=>{s.visibleWrites=my(s.visibleWrites,Fe(a.path,m))})}return!0}else return!1}function TA(s,t){if(s.snap)return Wt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Wt(Fe(s.path,i),t))return!0;return!1}function CA(s){s.visibleWrites=w1(s.allWrites,wA,me()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function wA(s){return s.visible}function w1(s,t,i){let a=Jt.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const h=c.path;let d;if(c.snap)Wt(i,h)?(d=ht(i,h),a=Ca(a,d,c.snap)):Wt(h,i)&&(d=ht(h,i),a=Ca(a,me(),c.snap.getChild(d)));else if(c.children){if(Wt(i,h))d=ht(i,h),a=py(a,d,c.children);else if(Wt(h,i))if(d=ht(h,i),ce(d))a=py(a,me(),c.children);else{const m=Js(c.children,fe(d));if(m){const p=m.getChild(Ne(d));a=Ca(a,me(),p)}}}else throw lr("WriteRecord should have .snap or .children")}}return a}function R1(s,t,i,a,o){if(!a&&!o){const c=is(s.visibleWrites,t);if(c!=null)return c;{const h=_i(s.visibleWrites,t);if(ch(h))return i;if(i==null&&!uh(h,me()))return null;{const d=i||J.EMPTY_NODE;return sr(h,d)}}}else{const c=_i(s.visibleWrites,t);if(!o&&ch(c))return i;if(!o&&i==null&&!uh(c,me()))return null;{const h=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(Wt(p.path,t)||Wt(t,p.path))},d=w1(s.allWrites,h,t),m=i||J.EMPTY_NODE;return sr(d,m)}}}function RA(s,t,i){let a=J.EMPTY_NODE;const o=is(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ze,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=_i(s.visibleWrites,t);return i.forEachChild(ze,(h,d)=>{const m=sr(_i(c,new Re(h)),d);a=a.updateImmediateChild(h,m)}),gy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=_i(s.visibleWrites,t);return gy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function AA(s,t,i,a,o){H(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=Fe(t,i);if(uh(s.visibleWrites,c))return null;{const h=_i(s.visibleWrites,c);return ch(h)?o.getChild(i):sr(h,o.getChild(i))}}function NA(s,t,i,a){const o=Fe(t,i),c=is(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=_i(s.visibleWrites,o);return sr(h,a.getNode().getImmediateChild(i))}else return null}function OA(s,t){return is(s.visibleWrites,t)}function DA(s,t,i,a,o,c,h){let d;const m=_i(s.visibleWrites,t),p=is(m,me());if(p!=null)d=p;else if(i!=null)d=sr(m,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const y=[],v=h.getCompare(),E=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let O=E.getNext();for(;O&&y.length<o;)v(O,a)!==0&&y.push(O),O=E.getNext();return y}else return[]}function MA(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Vo(s,t,i,a){return R1(s.writeTree,s.treePath,t,i,a)}function Xh(s,t){return RA(s.writeTree,s.treePath,t)}function _y(s,t,i,a){return AA(s.writeTree,s.treePath,t,i,a)}function Go(s,t){return OA(s.writeTree,Fe(s.treePath,t))}function xA(s,t,i,a,o,c){return DA(s.writeTree,s.treePath,t,i,a,o,c)}function Wh(s,t,i){return NA(s.writeTree,s.treePath,t,i)}function A1(s,t){return N1(Fe(s.treePath,t),s.writeTree)}function N1(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,xa(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,Ma(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,ir(a,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,xa(a,t.snapshotNode,o.oldSnap));else throw lr("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const O1=new LA;class Zh{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new Ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wh(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ts(this.viewCache_),c=xA(this.writes_,o,i,1,a,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(s){return{filter:s}}function UA(s,t){H(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function zA(s,t,i,a,o){const c=new IA;let h,d;if(i.type===Zt.OVERWRITE){const p=i;p.source.fromUser?h=fh(s,t,p.path,p.snap,a,o,c):(H(p.source.fromServer,"Unknown source."),d=p.source.tagged||t.serverCache.isFiltered()&&!ce(p.path),h=Yo(s,t,p.path,p.snap,a,o,d,c))}else if(i.type===Zt.MERGE){const p=i;p.source.fromUser?h=PA(s,t,p.path,p.children,a,o,c):(H(p.source.fromServer,"Unknown source."),d=p.source.tagged||t.serverCache.isFiltered(),h=hh(s,t,p.path,p.children,a,o,d,c))}else if(i.type===Zt.ACK_USER_WRITE){const p=i;p.revert?h=qA(s,t,p.path,a,o,c):h=BA(s,t,p.path,p.affectedTree,a,o,c)}else if(i.type===Zt.LISTEN_COMPLETE)h=jA(s,t,i.path,a,c);else throw lr("Unknown operation type: "+i.type);const m=c.getChanges();return HA(t,h,m),{viewCache:h,changes:m}}function HA(s,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=qo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(E1(qo(t)))}}function D1(s,t,i,a,o,c){const h=t.eventCache;if(Go(a,i)!=null)return t;{let d,m;if(ce(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=ts(t),y=p instanceof J?p:J.EMPTY_NODE,v=Xh(a,y);d=s.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const p=Vo(a,ts(t));d=s.filter.updateFullNode(t.eventCache.getNode(),p,c)}else{const p=fe(i);if(p===".priority"){H(vi(i)===1,"Can't have a priority with additional path components");const y=h.getNode();m=t.serverCache.getNode();const v=_y(a,i,y,m);v!=null?d=s.filter.updatePriority(y,v):d=h.getNode()}else{const y=Ne(i);let v;if(h.isCompleteForChild(p)){m=t.serverCache.getNode();const E=_y(a,i,h.getNode(),m);E!=null?v=h.getNode().getImmediateChild(p).updateChild(y,E):v=h.getNode().getImmediateChild(p)}else v=Wh(a,p,t.serverCache);v!=null?d=s.filter.updateChild(h.getNode(),p,v,y,o,c):d=h.getNode()}}return Ta(t,d,h.isFullyInitialized()||ce(i),s.filter.filtersNodes())}}function Yo(s,t,i,a,o,c,h,d){const m=t.serverCache;let p;const y=h?s.filter:s.filter.getIndexedFilter();if(ce(i))p=y.updateFullNode(m.getNode(),a,null);else if(y.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(i,a);p=y.updateFullNode(m.getNode(),O,null)}else{const O=fe(i);if(!m.isCompleteForPath(i)&&vi(i)>1)return t;const L=Ne(i),z=m.getNode().getImmediateChild(O).updateChild(L,a);O===".priority"?p=y.updatePriority(m.getNode(),z):p=y.updateChild(m.getNode(),O,z,L,O1,null)}const v=T1(t,p,m.isFullyInitialized()||ce(i),y.filtersNodes()),E=new Zh(o,v,c);return D1(s,v,i,o,E,d)}function fh(s,t,i,a,o,c,h){const d=t.eventCache;let m,p;const y=new Zh(o,t,c);if(ce(i))p=s.filter.updateFullNode(t.eventCache.getNode(),a,h),m=Ta(t,p,!0,s.filter.filtersNodes());else{const v=fe(i);if(v===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),a),m=Ta(t,p,d.isFullyInitialized(),d.isFiltered());else{const E=Ne(i),O=d.getNode().getImmediateChild(v);let L;if(ce(E))L=a;else{const P=y.getCompleteChild(v);P!=null?c1(E)===".priority"&&P.getChild(h1(E)).isEmpty()?L=P:L=P.updateChild(E,a):L=J.EMPTY_NODE}if(O.equals(L))m=t;else{const P=s.filter.updateChild(d.getNode(),v,L,E,y,h);m=Ta(t,P,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function yy(s,t){return s.eventCache.isCompleteForChild(t)}function PA(s,t,i,a,o,c,h){let d=t;return a.foreach((m,p)=>{const y=Fe(i,m);yy(t,fe(y))&&(d=fh(s,d,y,p,o,c,h))}),a.foreach((m,p)=>{const y=Fe(i,m);yy(t,fe(y))||(d=fh(s,d,y,p,o,c,h))}),d}function vy(s,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function hh(s,t,i,a,o,c,h,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,p;ce(i)?p=a:p=new Oe(null).setTree(i,a);const y=t.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const O=t.serverCache.getNode().getImmediateChild(v),L=vy(s,O,E);m=Yo(s,m,new Re(v),L,o,c,h,d)}}),p.children.inorderTraversal((v,E)=>{const O=!t.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!O){const L=t.serverCache.getNode().getImmediateChild(v),P=vy(s,L,E);m=Yo(s,m,new Re(v),P,o,c,h,d)}}),m}function BA(s,t,i,a,o,c,h){if(Go(o,i)!=null)return t;const d=t.serverCache.isFiltered(),m=t.serverCache;if(a.value!=null){if(ce(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Yo(s,t,i,m.getNode().getChild(i),o,c,d,h);if(ce(i)){let p=new Oe(null);return m.getNode().forEachChild($s,(y,v)=>{p=p.set(new Re(y),v)}),hh(s,t,i,p,o,c,d,h)}else return t}else{let p=new Oe(null);return a.foreach((y,v)=>{const E=Fe(i,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),hh(s,t,i,p,o,c,d,h)}}function jA(s,t,i,a,o){const c=t.serverCache,h=T1(t,c.getNode(),c.isFullyInitialized()||ce(i),c.isFiltered());return D1(s,h,i,a,O1,o)}function qA(s,t,i,a,o,c){let h;if(Go(a,i)!=null)return t;{const d=new Zh(a,t,o),m=t.eventCache.getNode();let p;if(ce(i)||fe(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Vo(a,ts(t));else{const v=t.serverCache.getNode();H(v instanceof J,"serverChildren would be complete if leaf node"),y=Xh(a,v)}y=y,p=s.filter.updateFullNode(m,y,c)}else{const y=fe(i);let v=Wh(a,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=s.filter.updateChild(m,y,v,Ne(i),d,c):t.eventCache.getNode().hasChild(y)?p=s.filter.updateChild(m,y,J.EMPTY_NODE,Ne(i),d,c):p=m,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Vo(a,ts(t)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,c)))}return h=t.serverCache.isFullyInitialized()||Go(a,me())!=null,Ta(t,p,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Yh(a.getIndex()),c=oA(a);this.processor_=kA(c);const h=i.serverCache,d=i.eventCache,m=o.updateFullNode(J.EMPTY_NODE,h.getNode(),null),p=c.updateFullNode(J.EMPTY_NODE,d.getNode(),null),y=new Ei(m,h.isFullyInitialized(),o.filtersNodes()),v=new Ei(p,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=iu(v,y),this.eventGenerator_=new mA(this.query_)}get query(){return this.query_}}function GA(s){return s.viewCache_.serverCache.getNode()}function YA(s){return qo(s.viewCache_)}function FA(s,t){const i=ts(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ce(t)&&!i.getImmediateChild(fe(t)).isEmpty())?i.getChild(t):null}function Ey(s){return s.eventRegistrations_.length===0}function QA(s,t){s.eventRegistrations_.push(t)}function Sy(s,t,i){const a=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(t){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function by(s,t,i,a){t.type===Zt.MERGE&&t.source.queryId!==null&&(H(ts(s.viewCache_),"We should always have a full cache before handling merges"),H(qo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=zA(s.processor_,o,t,i,a);return UA(s.processor_,c.viewCache),H(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,M1(s,c.changes,c.viewCache.eventCache.getNode(),null)}function KA(s,t){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ze,(c,h)=>{a.push(ir(c,h))}),i.isFullyInitialized()&&a.push(E1(i.getNode())),M1(s,a,i.getNode(),t)}function M1(s,t,i,a){const o=a?[a]:s.eventRegistrations_;return gA(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo;class x1{constructor(){this.views=new Map}}function XA(s){H(!Fo,"__referenceConstructor has already been defined"),Fo=s}function WA(){return H(Fo,"Reference.ts has not been loaded"),Fo}function ZA(s){return s.views.size===0}function $h(s,t,i,a){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return H(c!=null,"SyncTree gave us an op for an invalid query."),by(c,t,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(by(h,t,i,a));return c}}function I1(s,t,i,a,o){const c=t._queryIdentifier,h=s.views.get(c);if(!h){let d=Vo(i,o?a:null),m=!1;d?m=!0:a instanceof J?(d=Xh(i,a),m=!1):(d=J.EMPTY_NODE,m=!1);const p=iu(new Ei(d,m,!1),new Ei(a,o,!1));return new VA(t,p)}return h}function $A(s,t,i,a,o,c){const h=I1(s,t,a,o,c);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),QA(h,i),KA(h,i)}function JA(s,t,i,a){const o=t._queryIdentifier,c=[];let h=[];const d=Si(s);if(o==="default")for(const[m,p]of s.views.entries())h=h.concat(Sy(p,i,a)),Ey(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=s.views.get(o);m&&(h=h.concat(Sy(m,i,a)),Ey(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return d&&!Si(s)&&c.push(new(WA())(t._repo,t._path)),{removed:c,events:h}}function L1(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function yi(s,t){let i=null;for(const a of s.views.values())i=i||FA(a,t);return i}function k1(s,t){if(t._queryParams.loadsAllData())return ru(s);{const a=t._queryIdentifier;return s.views.get(a)}}function U1(s,t){return k1(s,t)!=null}function Si(s){return ru(s)!=null}function ru(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;function e3(s){H(!Qo,"__referenceConstructor has already been defined"),Qo=s}function t3(){return H(Qo,"Reference.ts has not been loaded"),Qo}let n3=1;class Ty{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=MA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function i3(s,t,i,a,o){return EA(s.pendingWriteTree_,t,i,a,o),o?Wa(s,new es(b1(),t,i)):[]}function Fs(s,t,i=!1){const a=SA(s.pendingWriteTree_,t);if(bA(s.pendingWriteTree_,t)){let c=new Oe(null);return a.snap!=null?c=c.set(me(),!0):Et(a.children,h=>{c=c.set(new Re(h),!0)}),Wa(s,new jo(a.path,c,i))}else return[]}function Xa(s,t,i){return Wa(s,new es(Qh(),t,i))}function s3(s,t,i){const a=Oe.fromObject(i);return Wa(s,new ka(Qh(),t,a))}function r3(s,t){return Wa(s,new La(Qh(),t))}function a3(s,t,i){const a=Jh(s,i);if(a){const o=ed(a),c=o.path,h=o.queryId,d=ht(c,t),m=new La(Kh(h),d);return td(s,c,m)}else return[]}function z1(s,t,i,a,o=!1){const c=t._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(t._queryIdentifier==="default"||U1(h,t))){const m=JA(h,t,i,a);ZA(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const p=m.removed;if(d=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(c,(E,O)=>Si(O));if(y&&!v){const E=s.syncPointTree_.subtree(c);if(!E.isEmpty()){const O=c3(E);for(let L=0;L<O.length;++L){const P=O[L],z=P.query,G=q1(s,P);s.listenProvider_.startListening(wa(z),Ua(s,z),G.hashFn,G.onComplete)}}}!v&&p.length>0&&!a&&(y?s.listenProvider_.stopListening(wa(t),null):p.forEach(E=>{const O=s.queryToTagMap.get(au(E));s.listenProvider_.stopListening(wa(E),O)}))}f3(s,p)}return d}function H1(s,t,i,a){const o=Jh(s,a);if(o!=null){const c=ed(o),h=c.path,d=c.queryId,m=ht(h,t),p=new es(Kh(d),m,i);return td(s,h,p)}else return[]}function l3(s,t,i,a){const o=Jh(s,a);if(o){const c=ed(o),h=c.path,d=c.queryId,m=ht(h,t),p=Oe.fromObject(i),y=new ka(Kh(d),m,p);return td(s,h,y)}else return[]}function o3(s,t,i,a=!1){const o=t._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,O)=>{const L=ht(E,o);c=c||yi(O,L),h=h||Si(O)});let d=s.syncPointTree_.get(o);d?(h=h||Si(d),c=c||yi(d,me())):(d=new x1,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;c!=null?m=!0:(m=!1,c=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((O,L)=>{const P=yi(L,me());P&&(c=c.updateImmediateChild(O,P))}));const p=U1(d,t);if(!p&&!t._queryParams.loadsAllData()){const E=au(t);H(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const O=h3();s.queryToTagMap.set(E,O),s.tagToQueryMap.set(O,E)}const y=su(s.pendingWriteTree_,o);let v=$A(d,t,i,y,c,m);if(!p&&!h&&!a){const E=k1(d,t);v=v.concat(d3(s,t,E))}return v}function P1(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(h,d)=>{const m=ht(h,t),p=yi(d,m);if(p)return p});return R1(o,t,c,i,!0)}function u3(s,t){const i=t._path;let a=null;s.syncPointTree_.foreachOnPath(i,(p,y)=>{const v=ht(p,i);a=a||yi(y,v)});let o=s.syncPointTree_.get(i);o?a=a||yi(o,me()):(o=new x1,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=a!=null,h=c?new Ei(a,!0,!1):null,d=su(s.pendingWriteTree_,t._path),m=I1(o,t,d,c?h.getNode():J.EMPTY_NODE,c);return YA(m)}function Wa(s,t){return B1(t,s.syncPointTree_,null,su(s.pendingWriteTree_,me()))}function B1(s,t,i,a){if(ce(s.path))return j1(s,t,i,a);{const o=t.get(me());i==null&&o!=null&&(i=yi(o,me()));let c=[];const h=fe(s.path),d=s.operationForChild(h),m=t.children.get(h);if(m&&d){const p=i?i.getImmediateChild(h):null,y=A1(a,h);c=c.concat(B1(d,m,p,y))}return o&&(c=c.concat($h(o,s,a,i))),c}}function j1(s,t,i,a){const o=t.get(me());i==null&&o!=null&&(i=yi(o,me()));let c=[];return t.children.inorderTraversal((h,d)=>{const m=i?i.getImmediateChild(h):null,p=A1(a,h),y=s.operationForChild(h);y&&(c=c.concat(j1(y,d,m,p)))}),o&&(c=c.concat($h(o,s,a,i))),c}function q1(s,t){const i=t.query,a=Ua(s,i);return{hashFn:()=>(GA(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?a3(s,i._path,a):r3(s,i._path);{const c=lR(o,i);return z1(s,i,null,c)}}}}function Ua(s,t){const i=au(t);return s.queryToTagMap.get(i)}function au(s){return s._path.toString()+"$"+s._queryIdentifier}function Jh(s,t){return s.tagToQueryMap.get(t)}function ed(s){const t=s.indexOf("$");return H(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Re(s.substr(0,t))}}function td(s,t,i){const a=s.syncPointTree_.get(t);H(a,"Missing sync point for query tag that we're tracking");const o=su(s.pendingWriteTree_,t);return $h(a,i,o,null)}function c3(s){return s.fold((t,i,a)=>{if(i&&Si(i))return[ru(i)];{let o=[];return i&&(o=L1(i)),Et(a,(c,h)=>{o=o.concat(h)}),o}})}function wa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(t3())(s._repo,s._path):s}function f3(s,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=au(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function h3(){return n3++}function d3(s,t,i){const a=t._path,o=Ua(s,t),c=q1(s,i),h=s.listenProvider_.startListening(wa(t),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)H(!Si(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,y,v)=>{if(!ce(p)&&y&&Si(y))return[ru(y).query];{let E=[];return y&&(E=E.concat(L1(y).map(O=>O.query))),Et(v,(O,L)=>{E=E.concat(L)}),E}});for(let p=0;p<m.length;++p){const y=m[p];s.listenProvider_.stopListening(wa(y),Ua(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new nd(i)}node(){return this.node_}}class id{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Fe(this.path_,t);return new id(this.syncTree_,i)}node(){return P1(this.syncTree_,this.path_)}}const p3=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Cy=function(s,t,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return m3(s[".sv"],t,i);if(typeof s[".sv"]=="object")return g3(s[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},m3=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+s)}},g3=function(s,t,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&H(!1,"Unexpected increment value: "+a);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},_3=function(s,t,i,a){return sd(t,new id(i,s),a)},y3=function(s,t,i){return sd(s,new nd(t),i)};function sd(s,t,i){const a=s.getPriority().val(),o=Cy(a,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=Cy(h.getValue(),t,i);return d!==h.getValue()||o!==h.getPriority().val()?new Je(d,st(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new Je(o))),h.forEachChild(ze,(d,m)=>{const p=sd(m,t.getImmediateChild(d),i);p!==m&&(c=c.updateImmediateChild(d,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function ad(s,t){let i=t instanceof Re?t:new Re(t),a=s,o=fe(i);for(;o!==null;){const c=Js(a.node.children,o)||{children:{},childCount:0};a=new rd(o,a,c),i=Ne(i),o=fe(i)}return a}function dr(s){return s.node.value}function V1(s,t){s.node.value=t,dh(s)}function G1(s){return s.node.childCount>0}function v3(s){return dr(s)===void 0&&!G1(s)}function lu(s,t){Et(s.node.children,(i,a)=>{t(new rd(i,s,a))})}function Y1(s,t,i,a){i&&t(s),lu(s,o=>{Y1(o,t,!0)})}function E3(s,t,i){let a=s.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function Za(s){return new Re(s.parent===null?s.name:Za(s.parent)+"/"+s.name)}function dh(s){s.parent!==null&&S3(s.parent,s.name,s)}function S3(s,t,i){const a=v3(i),o=zn(s.node.children,t);a&&o?(delete s.node.children[t],s.node.childCount--,dh(s)):!a&&!o&&(s.node.children[t]=i.node,s.node.childCount++,dh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=/[\[\].#$\/\u0000-\u001F\u007F]/,T3=/[\[\].#$\u0000-\u001F\u007F]/,Yf=10*1024*1024,F1=function(s){return typeof s=="string"&&s.length!==0&&!b3.test(s)},Q1=function(s){return typeof s=="string"&&s.length!==0&&!T3.test(s)},C3=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Q1(s)},K1=function(s,t,i){const a=i instanceof Re?new BR(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Yi(a));if(typeof t=="function")throw new Error(s+"contains a function "+Yi(a)+" with contents = "+t.toString());if(Vv(t))throw new Error(s+"contains "+t.toString()+" "+Yi(a));if(typeof t=="string"&&t.length>Yf/3&&$o(t)>Yf)throw new Error(s+"contains a string greater than "+Yf+" utf8 bytes "+Yi(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(Et(t,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!F1(h)))throw new Error(s+" contains an invalid key ("+h+") "+Yi(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jR(a,h),K1(s,d,a),qR(a)}),o&&c)throw new Error(s+' contains ".value" child '+Yi(a)+" in addition to actual children.")}},X1=function(s,t,i,a){if(!Q1(i))throw new Error(iv(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},w3=function(s,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),X1(s,t,i)},R3=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!F1(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!C3(i))throw new Error(iv(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function N3(s,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],c=o.getPath();i!==null&&!d1(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function Ti(s,t,i){N3(s,i),O3(s,a=>Wt(a,t)||Wt(t,a))}function O3(s,t){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;t(c)?(D3(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function D3(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const a=i.getEventRunner();Sa&&ct("event: "+i.toString()),Qa(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="repo_interrupt",x3=25;class I3{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bo(),this.transactionQueueTree_=new rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L3(s,t,i){if(s.stats_=jh(s.repoInfo_),s.forceRestClient_||fR())s.server_=new Po(s.repoInfo_,(a,o,c,h)=>{wy(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ry(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Mn(s.repoInfo_,t,(a,o,c,h)=>{wy(s,a,o,c,h)},a=>{Ry(s,a)},a=>{U3(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=gR(s.repoInfo_,()=>new pA(s.stats_,s.server_)),s.infoData_=new uA,s.infoSyncTree_=new Ty({startListening:(a,o,c,h)=>{let d=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(d=Xa(s.infoSyncTree_,a._path,m),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),ld(s,"connected",!1),s.serverSyncTree_=new Ty({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,m)=>{const p=h(d,m);Ti(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function k3(s){const i=s.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function W1(s){return p3({timestamp:k3(s)})}function wy(s,t,i,a,o){s.dataUpdateCount++;const c=new Re(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(a){const m=No(i,p=>st(p));h=l3(s.serverSyncTree_,c,m,o)}else{const m=st(i);h=H1(s.serverSyncTree_,c,m,o)}else if(a){const m=No(i,p=>st(p));h=s3(s.serverSyncTree_,c,m)}else{const m=st(i);h=Xa(s.serverSyncTree_,c,m)}let d=c;h.length>0&&(d=cd(s,c)),Ti(s.eventQueue_,d,h)}function Ry(s,t){ld(s,"connected",t),t===!1&&P3(s)}function U3(s,t){Et(t,(i,a)=>{ld(s,i,a)})}function ld(s,t,i){const a=new Re("/.info/"+t),o=st(i);s.infoData_.updateSnapshot(a,o);const c=Xa(s.infoSyncTree_,a,o);Ti(s.eventQueue_,a,c)}function z3(s){return s.nextWriteId_++}function H3(s,t,i){const a=u3(s.serverSyncTree_,t);return a!=null?Promise.resolve(a):s.server_.get(t).then(o=>{const c=st(o).withIndex(t._queryParams.getIndex());o3(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Xa(s.serverSyncTree_,t._path,c);else{const d=Ua(s.serverSyncTree_,t);h=H1(s.serverSyncTree_,t._path,c,d)}return Ti(s.eventQueue_,t._path,h),z1(s.serverSyncTree_,t,i,null,!0),c},o=>(od(s,"get for query "+Ye(t)+" failed: "+o),Promise.reject(new Error(o))))}function P3(s){od(s,"onDisconnectEvents");const t=W1(s),i=Bo();oh(s.onDisconnect_,me(),(o,c)=>{const h=_3(o,c,s.serverSyncTree_,t);S1(i,o,h)});let a=[];oh(i,me(),(o,c)=>{a=a.concat(Xa(s.serverSyncTree_,o,c));const h=V3(s,o);cd(s,h)}),s.onDisconnect_=Bo(),Ti(s.eventQueue_,me(),a)}function B3(s){s.persistentConnection_&&s.persistentConnection_.interrupt(M3)}function od(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ct(i,...t)}function Z1(s,t,i){return P1(s.serverSyncTree_,t,i)||J.EMPTY_NODE}function ud(s,t=s.transactionQueueTree_){if(t||ou(s,t),dr(t)){const i=J1(s,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&j3(s,Za(t),i)}else G1(t)&&lu(t,i=>{ud(s,i)})}function j3(s,t,i){const a=i.map(p=>p.currentWriteId),o=Z1(s,t,a);let c=o;const h=o.hash();for(let p=0;p<i.length;p++){const y=i[p];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=ht(t,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const d=c.val(!0),m=t;s.server_.put(m.toString(),d,p=>{od(s,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<i.length;E++)i[E].status=2,y=y.concat(Fs(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&v.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();ou(s,ad(s.transactionQueueTree_,t)),ud(s,s.transactionQueueTree_),Ti(s.eventQueue_,t,y);for(let E=0;E<v.length;E++)Qa(v[E])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{xt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}cd(s,t)}},h)}function cd(s,t){const i=$1(s,t),a=Za(i),o=J1(s,i);return q3(s,o,a),a}function q3(s,t,i){if(t.length===0)return;const a=[];let o=[];const h=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const m=t[d],p=ht(i,m.path);let y=!1,v;if(H(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(Fs(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=x3)y=!0,v="maxretry",o=o.concat(Fs(s.serverSyncTree_,m.currentWriteId,!0));else{const E=Z1(s,m.path,h);m.currentInputSnapshot=E;const O=t[d].update(E.val());if(O!==void 0){K1("transaction failed: Data returned ",O,m.path);let L=st(O);typeof O=="object"&&O!=null&&zn(O,".priority")||(L=L.updatePriority(E.getPriority()));const z=m.currentWriteId,G=W1(s),j=y3(L,E,G);m.currentOutputSnapshotRaw=L,m.currentOutputSnapshotResolved=j,m.currentWriteId=z3(s),h.splice(h.indexOf(z),1),o=o.concat(i3(s.serverSyncTree_,m.path,j,m.currentWriteId,m.applyLocally)),o=o.concat(Fs(s.serverSyncTree_,z,!0))}else y=!0,v="nodata",o=o.concat(Fs(s.serverSyncTree_,m.currentWriteId,!0))}Ti(s.eventQueue_,i,o),o=[],y&&(t[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[d].unwatcher),t[d].onComplete&&(v==="nodata"?a.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):a.push(()=>t[d].onComplete(new Error(v),!1,null))))}ou(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Qa(a[d]);ud(s,s.transactionQueueTree_)}function $1(s,t){let i,a=s.transactionQueueTree_;for(i=fe(t);i!==null&&dr(a)===void 0;)a=ad(a,i),t=Ne(t),i=fe(t);return a}function J1(s,t){const i=[];return e0(s,t,i),i.sort((a,o)=>a.order-o.order),i}function e0(s,t,i){const a=dr(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);lu(t,o=>{e0(s,o,i)})}function ou(s,t){const i=dr(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,V1(t,i.length>0?i:void 0)}lu(t,a=>{ou(s,a)})}function V3(s,t){const i=Za($1(s,t)),a=ad(s.transactionQueueTree_,t);return E3(a,o=>{Ff(s,o)}),Ff(s,a),Y1(a,o=>{Ff(s,o)}),i}function Ff(s,t){const i=dr(t);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(H(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(H(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Fs(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?V1(t,void 0):i.length=c+1,Ti(s.eventQueue_,Za(t),o);for(let h=0;h<a.length;h++)Qa(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(s){let t="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function Y3(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):xt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Ay=function(s,t){const i=F3(s),a=i.namespace;i.domain==="firebase.com"&&kn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||nR();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new t1(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new Re(i.pathString)}},F3=function(s){let t="",i="",a="",o="",c="",h=!0,d="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(d=s.substring(0,p-1),s=s.substring(p+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(y,v)),y<v&&(o=G3(s.substring(y,v)));const E=Y3(s.substring(Math.min(s.length,v)));p=t.indexOf(":"),p>=0?(h=d==="https"||d==="wss",m=parseInt(t.substring(p+1),10)):p=t.length;const O=t.slice(0,p);if(O.toLowerCase()==="localhost")i="localhost";else if(O.split(".").length<=2)i=O;else{const L=t.indexOf(".");a=t.substring(0,L).toLowerCase(),i=t.substring(L+1),c=a}"ns"in E&&(c=E.ns)}return{host:t,port:m,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class K3{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return ce(this._path)?null:c1(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const t=hy(this._queryParams),i=Ph(t);return i==="{}"?"default":i}get _queryObject(){return hy(this._queryParams)}isEqual(t){if(t=Vt(t),!(t instanceof fd))return!1;const i=this._repo===t._repo,a=d1(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+PR(this._path)}}class Hn extends fd{constructor(t,i){super(t,i,new Fh,!1)}get parent(){const t=h1(this._path);return t===null?null:new Hn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class za{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),a=ph(this.ref,t);return new za(this._node.getChild(i),a,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new za(o,ph(this.ref,a),ze)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W3(s,t){return s=Vt(s),s._checkNotDeleted("ref"),s._root}function ph(s,t){return s=Vt(s),fe(s._path)===null?w3("child","path",t):X1("child","path",t),new Hn(s._repo,Fe(s._path,t))}function Z3(s){s=Vt(s);const t=new X3(()=>{}),i=new hd(t);return H3(s._repo,s,i).then(a=>new za(a,new Hn(s._repo,s._path),s._queryParams.getIndex()))}class hd{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new Q3("value",this,new za(t.snapshotNode,new Hn(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new K3(this,t,i):null}matches(t){return t instanceof hd?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}XA(Hn);e3(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="FIREBASE_DATABASE_EMULATOR_HOST",mh={};let J3=!1;function eN(s,t,i,a){const o=t.lastIndexOf(":"),c=t.substring(0,o),h=or(c);s.repoInfo_=new t1(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function tN(s,t,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Ay(c,o),d=h.repoInfo,m;typeof process<"u"&&K_&&(m=K_[$3]),m?(c=`http://${m}?ns=${d.namespace}`,h=Ay(c,o),d=h.repoInfo):h.repoInfo.secure;const p=new dR(s.name,s.options,t);R3("Invalid Firebase Database URL",h),ce(h.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=iN(d,s,p,new hR(s,i));return new sN(y,s)}function nN(s,t){const i=mh[t];(!i||i[s.key]!==s)&&kn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),B3(s),delete i[s.key]}function iN(s,t,i,a){let o=mh[t.name];o||(o={},mh[t.name]=o);let c=o[s.toURLString()];return c&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new I3(s,J3,i,a),o[s.toURLString()]=c,c}class sN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(L3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kn("Cannot call "+t+" on a deleted database.")}}function rN(s=lv(),t){const i=Nh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=_T("database");a&&aN(i,...a)}return i}function aN(s,t,i,a={}){s=Vt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Wi(a,c.repoInfo_.emulatorOptions))return;kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Co(Co.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:yT(a.mockUserToken,s.app.options.projectId);h=new Co(d)}or(t)&&(Jy(t),ev("Database",!0)),eN(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(s){W2(cr),er(new Zi("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return tN(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),gi(X_,W_,s),gi(X_,W_,"esm2020")}Mn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Mn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};lN();const oN=()=>{const[s,t]=I.useState([]),[i,a]=I.useState("");I.useEffect(()=>{console.log("starting fetch...");try{const h=W3(rN(K2));Z3(ph(h,"words")).then(d=>{if(d.exists()){const m=d.val(),p=Object.entries(m).map(([y,v])=>({id:y,...v}));t(p)}})}catch(h){console.error(h)}},[]);const o=h=>a(h.target.value),c=s.filter(h=>h.Word.toLowerCase().includes(i.toLowerCase()));return B.jsx(B.Fragment,{children:B.jsxs("div",{className:"h-full px-2 pt-2 flex flex-col overflow-hidden",children:[B.jsx("input",{onChange:o,value:i,className:"rounded-full p-2 border border-orange-400 shadow"}),s.length==0?B.jsx("div",{className:"flex-1 flex items-center justify-center",children:B.jsx("div",{className:"loader"})}):B.jsx("div",{className:"overflow-y-auto flex-1",children:B.jsx("ul",{children:c.map(h=>B.jsxs("li",{id:h.id,className:"p-2 border-b",children:[B.jsx("p",{className:"text-xl font-semibold",children:h.Word}),B.jsx("p",{className:"text-base font-JP",children:h.Meaning})]},h.id))})})]})})};var t0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ny=Ki.createContext&&Ki.createContext(t0),uN=["attr","size","title"];function cN(s,t){if(s==null)return{};var i=fN(s,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function fN(s,t){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;i[a]=s[a]}return i}function Ko(){return Ko=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},Ko.apply(this,arguments)}function Oy(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function Xo(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(i),!0).forEach(function(a){hN(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Oy(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function hN(s,t,i){return t=dN(t),t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function dN(s){var t=pN(s,"string");return typeof t=="symbol"?t:t+""}function pN(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function n0(s){return s&&s.map((t,i)=>Ki.createElement(t.tag,Xo({key:i},t.attr),n0(t.child)))}function ss(s){return t=>Ki.createElement(mN,Ko({attr:Xo({},s.attr)},t),n0(s.child))}function mN(s){var t=i=>{var{attr:a,size:o,title:c}=s,h=cN(s,uN),d=o||i.size||"1em",m;return i.className&&(m=i.className),s.className&&(m=(m?m+" ":"")+s.className),Ki.createElement("svg",Ko({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,h,{className:m,style:Xo(Xo({color:s.color||i.color},i.style),s.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&Ki.createElement("title",null,c),s.children)};return Ny!==void 0?Ki.createElement(Ny.Consumer,null,i=>t(i)):t(t0)}function gN(s){return ss({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(s)}function _N(s){return ss({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(s)}function yN(s){return ss({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(s)}function vN(s){return ss({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(s)}function EN(s){return ss({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(s)}const SN=()=>B.jsx(B.Fragment,{children:B.jsx("nav",{className:"border-t border-sky-500",children:B.jsxs("ul",{className:"flex justify-around",children:[B.jsx("li",{children:B.jsxs(Qs,{to:"/",className:"flex flex-col items-center justify-center p-2 gap-2",children:[B.jsx(yN,{className:"size-6"}),B.jsx("p",{className:"text-xs",children:"Home"})]})}),B.jsx("li",{children:B.jsxs(Qs,{to:"/study",className:"flex flex-col items-center justify-center p-2 gap-2",children:[B.jsx(EN,{className:"size-6"}),B.jsx("p",{className:"text-xs",children:"Study"})]})}),B.jsx("li",{children:B.jsxs(Qs,{to:"/words",className:"flex flex-col items-center justify-center p-2 gap-2",children:[B.jsx(vN,{className:"size-6"}),B.jsx("p",{className:"text-xs",children:"Words"})]})})]})})});function bN(s){return ss({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m93.19 329.38 47.45-304.07c1.64-10.37 15.55-12.82 20.46-3.55l51 95.45zM432 400l-46.74-276.79a11 11 0 0 0-18.54-6L80 400l159.36 91.91a33.18 33.18 0 0 0 31.91 0zM302.36 158.93l-36.54-69.54a10.86 10.86 0 0 0-19.36 0L85.83 375.74z"},child:[]}]})(s)}function TN(s){return ss({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(s)}const CN=()=>{const s=async()=>{try{await e2(sh,X2)}catch(t){console.error(t)}};return B.jsx(B.Fragment,{children:B.jsx("div",{className:"bg-gray-400/50 fixed top-0 left-0 w-full h-dvh flex items-center justify-center",children:B.jsxs("div",{className:"shadow-xl rounded-xl p-8 bg-gray-50 flex items-center jusitfy-center flex-col max-w-72",children:[B.jsxs("h1",{className:"text-2xl font-bold text-center",children:[B.jsx("p",{children:"Welcome to"}),B.jsx("p",{children:"New"}),B.jsx("p",{children:"English Master!"})]}),B.jsx("p",{className:"pt-2 text-base text-center font-thin",children:"We’ve been developing English Master with Blazor, and now we’re excited to start creating it with React. Enjoy the new, evolved English Master!"}),B.jsx("div",{className:"p-4 w-full",children:B.jsx("button",{onClick:s,className:"btn-primary",children:"Sign in with Google"})}),B.jsx("p",{className:"text-base font-thin p-2",children:"Powered by"}),B.jsxs("div",{className:"flex justify-center gap-2",children:[B.jsx(_N,{className:"size-6"}),B.jsx(bN,{className:"size-6"}),B.jsx(TN,{className:"size-6"})]}),B.jsx("p",{className:"text-base font-thin p-2",children:"Developed by"}),B.jsxs("a",{href:"https://github.com/fukicycle",className:"flex justify-center items-center gap-2",children:["Fuki Sato",B.jsx(gN,{})]})]})})})};function wN(){const[s,t]=I.useState(null);I.useEffect(()=>{const a=Lw(sh,o=>{t(o||null)});return()=>a()},[]);const i=()=>{try{sh.signOut()}catch(a){console.error(a)}};return B.jsxs(B.Fragment,{children:[!s&&B.jsx(CN,{}),B.jsxs("div",{className:"h-dvh bg-gray-50 font-Montserrat flex flex-col",children:[B.jsxs("div",{className:"bg-sky-500 shadow-xl p-2 flex items-center justify-between h-16",children:[B.jsx(Qs,{to:"/",className:" text-white text-xl text-bold",children:"English Master"}),s&&B.jsx("img",{src:s.photoURL,className:"rounded-full h-full shadow-md",onClick:i})]}),B.jsx("div",{className:"flex-1 overflow-hidden",children:B.jsxs(Rb,{children:[B.jsx(ya,{path:"/",element:B.jsx(rT,{})}),B.jsx(ya,{path:"/study",element:B.jsx(lT,{})}),B.jsx(ya,{path:"/words",element:B.jsx(oN,{})}),B.jsx(ya,{path:"*",element:B.jsx(aT,{})})]})}),B.jsx(SN,{})]})]})}kS.createRoot(document.getElementById("root")).render(B.jsx(I.StrictMode,{children:B.jsx(Xb,{children:B.jsx(wN,{})})}));
