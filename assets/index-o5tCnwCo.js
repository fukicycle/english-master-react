(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function BO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vm={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function FO(){if(Pb)return sl;Pb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return sl.Fragment=e,sl.jsx=t,sl.jsxs=t,sl}var zb;function VO(){return zb||(zb=1,Vm.exports=FO()),Vm.exports}var A=VO(),jm={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function jO(){if(Ub)return ye;Ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(M,W,X){this.props=M,this.context=W,this.refs=x,this.updater=X||b}E.prototype.isReactComponent={},E.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=E.prototype;function R(M,W,X){this.props=M,this.context=W,this.refs=x,this.updater=X||b}var U=R.prototype=new C;U.constructor=R,w(U,E.prototype),U.isPureReactComponent=!0;var j=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function K(M,W,X,G,ne,ve){return X=ve.ref,{$$typeof:n,type:M,key:W,ref:X!==void 0?X:null,props:ve}}function Q(M,W){return K(M.type,W,void 0,void 0,void 0,M.props)}function J(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function se(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return W[X]})}var re=/\/+/g;function oe(M,W){return typeof M=="object"&&M!==null&&M.key!=null?se(""+M.key):W.toString(36)}function Ze(){}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ze,Ze):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ge(M,W,X,G,ne){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var ae=!1;if(M===null)ae=!0;else switch(ve){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(M.$$typeof){case n:case e:ae=!0;break;case p:return ae=M._init,ge(ae(M._payload),W,X,G,ne)}}if(ae)return ne=ne(M),ae=G===""?"."+oe(M,0):G,j(ne)?(X="",ae!=null&&(X=ae.replace(re,"$&/")+"/"),ge(ne,W,X,"",function(ji){return ji})):ne!=null&&(J(ne)&&(ne=Q(ne,X+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(re,"$&/")+"/")+ae)),W.push(ne)),1;ae=0;var en=G===""?".":G+":";if(j(M))for(var Ke=0;Ke<M.length;Ke++)G=M[Ke],ve=en+oe(G,Ke),ae+=ge(G,W,X,ve,ne);else if(Ke=_(M),typeof Ke=="function")for(M=Ke.call(M),Ke=0;!(G=M.next()).done;)G=G.value,ve=en+oe(G,Ke++),ae+=ge(G,W,X,ve,ne);else if(ve==="object"){if(typeof M.then=="function")return ge(ot(M),W,X,G,ne);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ae}function z(M,W,X){if(M==null)return M;var G=[],ne=0;return ge(M,G,"","",function(ve){return W.call(X,ve,ne++)}),G}function q(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function pe(){}return ye.Children={map:z,forEach:function(M,W,X){z(M,function(){W.apply(this,arguments)},X)},count:function(M){var W=0;return z(M,function(){W++}),W},toArray:function(M){return z(M,function(W){return W})||[]},only:function(M){if(!J(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ye.Component=E,ye.Fragment=t,ye.Profiler=r,ye.PureComponent=R,ye.StrictMode=i,ye.Suspense=f,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ye.__COMPILER_RUNTIME={__proto__:null,c:function(M){return H.H.useMemoCache(M)}},ye.cache=function(M){return function(){return M.apply(null,arguments)}},ye.cloneElement=function(M,W,X){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var G=w({},M.props),ne=M.key,ve=void 0;if(W!=null)for(ae in W.ref!==void 0&&(ve=void 0),W.key!==void 0&&(ne=""+W.key),W)!$.call(W,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&W.ref===void 0||(G[ae]=W[ae]);var ae=arguments.length-2;if(ae===1)G.children=X;else if(1<ae){for(var en=Array(ae),Ke=0;Ke<ae;Ke++)en[Ke]=arguments[Ke+2];G.children=en}return K(M.type,ne,void 0,void 0,ve,G)},ye.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},ye.createElement=function(M,W,X){var G,ne={},ve=null;if(W!=null)for(G in W.key!==void 0&&(ve=""+W.key),W)$.call(W,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ne[G]=W[G]);var ae=arguments.length-2;if(ae===1)ne.children=X;else if(1<ae){for(var en=Array(ae),Ke=0;Ke<ae;Ke++)en[Ke]=arguments[Ke+2];ne.children=en}if(M&&M.defaultProps)for(G in ae=M.defaultProps,ae)ne[G]===void 0&&(ne[G]=ae[G]);return K(M,ve,void 0,void 0,null,ne)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(M){return{$$typeof:h,render:M}},ye.isValidElement=J,ye.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:q}},ye.memo=function(M,W){return{$$typeof:d,type:M,compare:W===void 0?null:W}},ye.startTransition=function(M){var W=H.T,X={};H.T=X;try{var G=M(),ne=H.S;ne!==null&&ne(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(pe,te)}catch(ve){te(ve)}finally{H.T=W}},ye.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ye.use=function(M){return H.H.use(M)},ye.useActionState=function(M,W,X){return H.H.useActionState(M,W,X)},ye.useCallback=function(M,W){return H.H.useCallback(M,W)},ye.useContext=function(M){return H.H.useContext(M)},ye.useDebugValue=function(){},ye.useDeferredValue=function(M,W){return H.H.useDeferredValue(M,W)},ye.useEffect=function(M,W,X){var G=H.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(M,W)},ye.useId=function(){return H.H.useId()},ye.useImperativeHandle=function(M,W,X){return H.H.useImperativeHandle(M,W,X)},ye.useInsertionEffect=function(M,W){return H.H.useInsertionEffect(M,W)},ye.useLayoutEffect=function(M,W){return H.H.useLayoutEffect(M,W)},ye.useMemo=function(M,W){return H.H.useMemo(M,W)},ye.useOptimistic=function(M,W){return H.H.useOptimistic(M,W)},ye.useReducer=function(M,W,X){return H.H.useReducer(M,W,X)},ye.useRef=function(M){return H.H.useRef(M)},ye.useState=function(M){return H.H.useState(M)},ye.useSyncExternalStore=function(M,W,X){return H.H.useSyncExternalStore(M,W,X)},ye.useTransition=function(){return H.H.useTransition()},ye.version="19.1.1",ye}var Hb;function yp(){return Hb||(Hb=1,jm.exports=jO()),jm.exports}var L=yp();const Ii=BO(L);var Wm={exports:{}},rl={},qm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function WO(){return Bb||(Bb=1,(function(n){function e(z,q){var te=z.length;z.push(q);e:for(;0<te;){var pe=te-1>>>1,M=z[pe];if(0<r(M,q))z[pe]=q,z[te]=M,te=pe;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],te=z.pop();if(te!==q){z[0]=te;e:for(var pe=0,M=z.length,W=M>>>1;pe<W;){var X=2*(pe+1)-1,G=z[X],ne=X+1,ve=z[ne];if(0>r(G,te))ne<M&&0>r(ve,G)?(z[pe]=ve,z[ne]=te,pe=ne):(z[pe]=G,z[X]=te,pe=X);else if(ne<M&&0>r(ve,te))z[pe]=ve,z[ne]=te,pe=ne;else break e}}return q}function r(z,q){var te=z.sortIndex-q.sortIndex;return te!==0?te:z.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],p=1,y=null,_=3,b=!1,w=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=z)i(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function H(z){if(x=!1,j(z),!w)if(t(f)!==null)w=!0,$||($=!0,oe());else{var q=t(d);q!==null&&ge(H,q.startTime-z)}}var $=!1,K=-1,Q=5,J=-1;function se(){return E?!0:!(n.unstable_now()-J<Q)}function re(){if(E=!1,$){var z=n.unstable_now();J=z;var q=!0;try{e:{w=!1,x&&(x=!1,R(K),K=-1),b=!0;var te=_;try{t:{for(j(z),y=t(f);y!==null&&!(y.expirationTime>z&&se());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,_=y.priorityLevel;var M=pe(y.expirationTime<=z);if(z=n.unstable_now(),typeof M=="function"){y.callback=M,j(z),q=!0;break t}y===t(f)&&i(f),j(z)}else i(f);y=t(f)}if(y!==null)q=!0;else{var W=t(d);W!==null&&ge(H,W.startTime-z),q=!1}}break e}finally{y=null,_=te,b=!1}q=void 0}}finally{q?oe():$=!1}}}var oe;if(typeof U=="function")oe=function(){U(re)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ot=Ze.port2;Ze.port1.onmessage=re,oe=function(){ot.postMessage(null)}}else oe=function(){C(re,0)};function ge(z,q){K=C(function(){z(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var te=_;_=q;try{return z()}finally{_=te}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=_;_=z;try{return q()}finally{_=te}},n.unstable_scheduleCallback=function(z,q,te){var pe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=te+M,z={id:p++,callback:q,priorityLevel:z,startTime:te,expirationTime:M,sortIndex:-1},te>pe?(z.sortIndex=te,e(d,z),t(f)===null&&z===t(d)&&(x?(R(K),K=-1):x=!0,ge(H,te-pe))):(z.sortIndex=M,e(f,z),w||b||(w=!0,$||($=!0,oe()))),z},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(z){var q=_;return function(){var te=_;_=q;try{return z.apply(this,arguments)}finally{_=te}}}})(Ym)),Ym}var Fb;function qO(){return Fb||(Fb=1,qm.exports=WO()),qm.exports}var Gm={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function YO(){if(Vb)return It;Vb=1;var n=yp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,It.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},It.flushSync=function(f){var d=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=p,i.d.f()}},It.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},It.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},It.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=h(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},It.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},It.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=h(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},It.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},It.requestFormReset=function(f){i.d.r(f)},It.unstable_batchedUpdates=function(f,d){return f(d)},It.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},It.useFormStatus=function(){return c.H.useHostTransitionStatus()},It.version="19.1.1",It}var jb;function GO(){if(jb)return Gm.exports;jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gm.exports=YO(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function $O(){if(Wb)return rl;Wb=1;var n=qO(),e=yp(),t=GO();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return h(m),s;if(g===u)return h(m),a;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=g;else{for(var v=!1,S=m.child;S;){if(S===l){v=!0,l=m,u=g;break}if(S===u){v=!0,u=m,l=g;break}S=S.sibling}if(!v){for(S=g.child;S;){if(S===l){v=!0,l=g,u=m;break}if(S===u){v=!0,u=g,l=m;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),U=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var Ze=Symbol.for("react.client.reference");function ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ze?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case U:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case j:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:ot(s.type)||"Memo";case Q:a=s._payload,s=s._init;try{return ot(s(a))}catch{}}return null}var ge=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],M=-1;function W(s){return{current:s}}function X(s){0>M||(s.current=pe[M],pe[M]=null,M--)}function G(s,a){M++,pe[M]=s.current,s.current=a}var ne=W(null),ve=W(null),ae=W(null),en=W(null);function Ke(s,a){switch(G(ae,a),G(ve,s),G(ne,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?ub(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=ub(a),s=hb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ne),G(ne,s)}function ji(){X(ne),X(ve),X(ae)}function Mf(s){s.memoizedState!==null&&G(en,s);var a=ne.current,l=hb(a,s.type);a!==l&&(G(ve,s),G(ne,l))}function bc(s){ve.current===s&&(X(ne),X(ve)),en.current===s&&(X(en),Jo._currentValue=te)}var Of=Object.prototype.hasOwnProperty,Af=n.unstable_scheduleCallback,Rf=n.unstable_cancelCallback,_2=n.unstable_shouldYield,v2=n.unstable_requestPaint,$n=n.unstable_now,b2=n.unstable_getCurrentPriorityLevel,Wy=n.unstable_ImmediatePriority,qy=n.unstable_UserBlockingPriority,Sc=n.unstable_NormalPriority,S2=n.unstable_LowPriority,Yy=n.unstable_IdlePriority,w2=n.log,x2=n.unstable_setDisableYieldValue,ao=null,tn=null;function Wi(s){if(typeof w2=="function"&&x2(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ao,s)}catch{}}var nn=Math.clz32?Math.clz32:C2,E2=Math.log,T2=Math.LN2;function C2(s){return s>>>=0,s===0?32:31-(E2(s)/T2|0)|0}var wc=256,xc=4194304;function Us(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ec(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,g=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?m=Us(u):(v&=S,v!==0?m=Us(v):l||(l=S&~s,l!==0&&(m=Us(l))))):(S=u&~g,S!==0?m=Us(S):v!==0?m=Us(v):l||(l=u&~s,l!==0&&(m=Us(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function oo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function M2(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gy(){var s=wc;return wc<<=1,(wc&4194048)===0&&(wc=256),s}function $y(){var s=xc;return xc<<=1,(xc&62914560)===0&&(xc=4194304),s}function kf(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function lo(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function O2(s,a,l,u,m,g){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,T=s.expirationTimes,N=s.hiddenUpdates;for(l=v&~l;0<l;){var B=31-nn(l),V=1<<B;S[B]=0,T[B]=-1;var I=N[B];if(I!==null)for(N[B]=null,B=0;B<I.length;B++){var P=I[B];P!==null&&(P.lane&=-536870913)}l&=~V}u!==0&&Zy(s,u,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(v&~a))}function Zy(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-nn(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Xy(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-nn(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function Df(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ky(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:Rb(s.type))}function A2(s,a){var l=q.p;try{return q.p=s,a()}finally{q.p=l}}var qi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+qi,jt="__reactProps$"+qi,Dr="__reactContainer$"+qi,If="__reactEvents$"+qi,R2="__reactListeners$"+qi,k2="__reactHandles$"+qi,Qy="__reactResources$"+qi,co="__reactMarker$"+qi;function Lf(s){delete s[Dt],delete s[jt],delete s[If],delete s[R2],delete s[k2]}function Nr(s){var a=s[Dt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Dr]||l[Dt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=gb(s);s!==null;){if(l=s[Dt])return l;s=gb(s)}return a}s=l,l=s.parentNode}return null}function Ir(s){if(s=s[Dt]||s[Dr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function uo(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Lr(s){var a=s[Qy];return a||(a=s[Qy]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(s){s[co]=!0}var Jy=new Set,e_={};function Hs(s,a){Pr(s,a),Pr(s+"Capture",a)}function Pr(s,a){for(e_[s]=a,s=0;s<a.length;s++)Jy.add(a[s])}var D2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),t_={},n_={};function N2(s){return Of.call(n_,s)?!0:Of.call(t_,s)?!1:D2.test(s)?n_[s]=!0:(t_[s]=!0,!1)}function Tc(s,a,l){if(N2(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Cc(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function ci(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Pf,i_;function zr(s){if(Pf===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pf=a&&a[1]||"",i_=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pf+s+i_}var zf=!1;function Uf(s,a){if(!s||zf)return"";zf=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(P){var I=P}Reflect.construct(s,[],V)}else{try{V.call()}catch(P){I=P}s.call(V.prototype)}}else{try{throw Error()}catch(P){I=P}(V=s())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(P){if(P&&I&&typeof P.stack=="string")return[P.stack,I.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),v=g[0],S=g[1];if(v&&S){var T=v.split(`
`),N=S.split(`
`);for(m=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;m<N.length&&!N[m].includes("DetermineComponentFrameRoot");)m++;if(u===T.length||m===N.length)for(u=T.length-1,m=N.length-1;1<=u&&0<=m&&T[u]!==N[m];)m--;for(;1<=u&&0<=m;u--,m--)if(T[u]!==N[m]){if(u!==1||m!==1)do if(u--,m--,0>m||T[u]!==N[m]){var B=`
`+T[u].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=u&&0<=m);break}}}finally{zf=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?zr(l):""}function I2(s){switch(s.tag){case 26:case 27:case 5:return zr(s.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return Uf(s.type,!1);case 11:return Uf(s.type.render,!1);case 1:return Uf(s.type,!0);case 31:return zr("Activity");default:return""}}function s_(s){try{var a="";do a+=I2(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function r_(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function L2(s){var a=r_(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(v){u=""+v,g.call(this,v)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mc(s){s._valueTracker||(s._valueTracker=L2(s))}function a_(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=r_(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Oc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var P2=/[\n"\\]/g;function gn(s){return s.replace(P2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Hf(s,a,l,u,m,g,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),a!=null?v==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+mn(a)):s.value!==""+mn(a)&&(s.value=""+mn(a)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),a!=null?Bf(s,v,mn(a)):l!=null?Bf(s,v,mn(l)):u!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+mn(S):s.removeAttribute("name")}function o_(s,a,l,u,m,g,v,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+mn(l):"",a=a!=null?""+mn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v)}function Bf(s,a,l){a==="number"&&Oc(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ur(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+mn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function l_(s,a,l){if(a!=null&&(a=""+mn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+mn(l):""}function c_(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(ge(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=mn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Hr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var z2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u_(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||z2.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function h_(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&u_(s,m,u)}else for(var g in a)a.hasOwnProperty(g)&&u_(s,g,a[g])}function Ff(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ac(s){return H2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vf=null;function jf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Br=null,Fr=null;function f_(s){var a=Ir(s);if(a&&(s=a.stateNode)){var l=s[jt]||null;e:switch(s=a.stateNode,a.type){case"input":if(Hf(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[jt]||null;if(!m)throw Error(i(90));Hf(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&a_(u)}break e;case"textarea":l_(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ur(s,!!l.multiple,a,!1)}}}var Wf=!1;function d_(s,a,l){if(Wf)return s(a,l);Wf=!0;try{var u=s(a);return u}finally{if(Wf=!1,(Br!==null||Fr!==null)&&(mu(),Br&&(a=Br,s=Fr,Fr=Br=null,f_(a),s)))for(a=0;a<s.length;a++)f_(s[a])}}function ho(s,a){var l=s.stateNode;if(l===null)return null;var u=l[jt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=!1;if(ui)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){qf=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{qf=!1}var Yi=null,Yf=null,Rc=null;function m_(){if(Rc)return Rc;var s,a=Yf,l=a.length,u,m="value"in Yi?Yi.value:Yi.textContent,g=m.length;for(s=0;s<l&&a[s]===m[s];s++);var v=l-s;for(u=1;u<=v&&a[l-u]===m[g-u];u++);return Rc=m.slice(s,1<u?1-u:void 0)}function kc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Dc(){return!0}function g_(){return!1}function Wt(s){function a(l,u,m,g,v){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dc:g_,this.isPropagationStopped=g_,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),a}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=Wt(Bs),mo=p({},Bs,{view:0,detail:0}),B2=Wt(mo),Gf,$f,go,Ic=p({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==go&&(go&&s.type==="mousemove"?(Gf=s.screenX-go.screenX,$f=s.screenY-go.screenY):$f=Gf=0,go=s),Gf)},movementY:function(s){return"movementY"in s?s.movementY:$f}}),p_=Wt(Ic),F2=p({},Ic,{dataTransfer:0}),V2=Wt(F2),j2=p({},mo,{relatedTarget:0}),Zf=Wt(j2),W2=p({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=Wt(W2),Y2=p({},Bs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),G2=Wt(Y2),$2=p({},Bs,{data:0}),y_=Wt($2),Z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=K2[s])?!!a[s]:!1}function Xf(){return Q2}var J2=p({},mo,{key:function(s){if(s.key){var a=Z2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=kc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?X2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(s){return s.type==="keypress"?kc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eM=Wt(J2),tM=p({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=Wt(tM),nM=p({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),iM=Wt(nM),sM=p({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),rM=Wt(sM),aM=p({},Ic,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oM=Wt(aM),lM=p({},Bs,{newState:0,oldState:0}),cM=Wt(lM),uM=[9,13,27,32],Kf=ui&&"CompositionEvent"in window,po=null;ui&&"documentMode"in document&&(po=document.documentMode);var hM=ui&&"TextEvent"in window&&!po,v_=ui&&(!Kf||po&&8<po&&11>=po),b_=" ",S_=!1;function w_(s,a){switch(s){case"keyup":return uM.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vr=!1;function fM(s,a){switch(s){case"compositionend":return x_(a);case"keypress":return a.which!==32?null:(S_=!0,b_);case"textInput":return s=a.data,s===b_&&S_?null:s;default:return null}}function dM(s,a){if(Vr)return s==="compositionend"||!Kf&&w_(s,a)?(s=m_(),Rc=Yf=Yi=null,Vr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v_&&a.locale!=="ko"?null:a.data;default:return null}}var mM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!mM[s.type]:a==="textarea"}function T_(s,a,l,u){Br?Fr?Fr.push(u):Fr=[u]:Br=u,a=bu(a,"onChange"),0<a.length&&(l=new Nc("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var yo=null,_o=null;function gM(s){rb(s,0)}function Lc(s){var a=uo(s);if(a_(a))return s}function C_(s,a){if(s==="change")return a}var M_=!1;if(ui){var Qf;if(ui){var Jf="oninput"in document;if(!Jf){var O_=document.createElement("div");O_.setAttribute("oninput","return;"),Jf=typeof O_.oninput=="function"}Qf=Jf}else Qf=!1;M_=Qf&&(!document.documentMode||9<document.documentMode)}function A_(){yo&&(yo.detachEvent("onpropertychange",R_),_o=yo=null)}function R_(s){if(s.propertyName==="value"&&Lc(_o)){var a=[];T_(a,_o,s,jf(s)),d_(gM,a)}}function pM(s,a,l){s==="focusin"?(A_(),yo=a,_o=l,yo.attachEvent("onpropertychange",R_)):s==="focusout"&&A_()}function yM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lc(_o)}function _M(s,a){if(s==="click")return Lc(a)}function vM(s,a){if(s==="input"||s==="change")return Lc(a)}function bM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var sn=typeof Object.is=="function"?Object.is:bM;function vo(s,a){if(sn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Of.call(a,m)||!sn(s[m],a[m]))return!1}return!0}function k_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function D_(s,a){var l=k_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=k_(l)}}function N_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?N_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function I_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Oc(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Oc(s.document)}return a}function ed(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var SM=ui&&"documentMode"in document&&11>=document.documentMode,jr=null,td=null,bo=null,nd=!1;function L_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nd||jr==null||jr!==Oc(u)||(u=jr,"selectionStart"in u&&ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bo&&vo(bo,u)||(bo=u,u=bu(td,"onSelect"),0<u.length&&(a=new Nc("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=jr)))}function Fs(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Wr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},id={},P_={};ui&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Vs(s){if(id[s])return id[s];if(!Wr[s])return s;var a=Wr[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in P_)return id[s]=a[l];return s}var z_=Vs("animationend"),U_=Vs("animationiteration"),H_=Vs("animationstart"),wM=Vs("transitionrun"),xM=Vs("transitionstart"),EM=Vs("transitioncancel"),B_=Vs("transitionend"),F_=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function In(s,a){F_.set(s,a),Hs(a,[s])}var V_=new WeakMap;function pn(s,a){if(typeof s=="object"&&s!==null){var l=V_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:s_(a)},V_.set(s,a),a)}return{value:s,source:a,stack:s_(a)}}var yn=[],qr=0,rd=0;function Pc(){for(var s=qr,a=rd=qr=0;a<s;){var l=yn[a];yn[a++]=null;var u=yn[a];yn[a++]=null;var m=yn[a];yn[a++]=null;var g=yn[a];if(yn[a++]=null,u!==null&&m!==null){var v=u.pending;v===null?m.next=m:(m.next=v.next,v.next=m),u.pending=m}g!==0&&j_(l,m,g)}}function zc(s,a,l,u){yn[qr++]=s,yn[qr++]=a,yn[qr++]=l,yn[qr++]=u,rd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function ad(s,a,l,u){return zc(s,a,l,u),Uc(s)}function Yr(s,a){return zc(s,null,null,a),Uc(s)}function j_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&a!==null&&(m=31-nn(l),s=g.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),g):null}function Uc(s){if(50<qo)throw qo=0,fm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Gr={};function TM(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(s,a,l,u){return new TM(s,a,l,u)}function od(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hi(s,a){var l=s.alternate;return l===null?(l=rn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function W_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Hc(s,a,l,u,m,g){var v=0;if(u=s,typeof s=="function")od(s)&&(v=1);else if(typeof s=="string")v=MO(s,l,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=rn(31,l,a,m),s.elementType=J,s.lanes=g,s;case w:return js(l.children,m,g,a);case x:v=8,m|=24;break;case E:return s=rn(12,l,a,m|2),s.elementType=E,s.lanes=g,s;case H:return s=rn(13,l,a,m),s.elementType=H,s.lanes=g,s;case $:return s=rn(19,l,a,m),s.elementType=$,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case U:v=10;break e;case R:v=9;break e;case j:v=11;break e;case K:v=14;break e;case Q:v=16,u=null;break e}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=rn(v,l,a,m),a.elementType=s,a.type=u,a.lanes=g,a}function js(s,a,l,u){return s=rn(7,s,u,a),s.lanes=l,s}function ld(s,a,l){return s=rn(6,s,null,a),s.lanes=l,s}function cd(s,a,l){return a=rn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var $r=[],Zr=0,Bc=null,Fc=0,_n=[],vn=0,Ws=null,fi=1,di="";function qs(s,a){$r[Zr++]=Fc,$r[Zr++]=Bc,Bc=s,Fc=a}function q_(s,a,l){_n[vn++]=fi,_n[vn++]=di,_n[vn++]=Ws,Ws=s;var u=fi;s=di;var m=32-nn(u)-1;u&=~(1<<m),l+=1;var g=32-nn(a)+m;if(30<g){var v=m-m%5;g=(u&(1<<v)-1).toString(32),u>>=v,m-=v,fi=1<<32-nn(a)+m|l<<m|u,di=g+s}else fi=1<<g|l<<m|u,di=s}function ud(s){s.return!==null&&(qs(s,1),q_(s,1,0))}function hd(s){for(;s===Bc;)Bc=$r[--Zr],$r[Zr]=null,Fc=$r[--Zr],$r[Zr]=null;for(;s===Ws;)Ws=_n[--vn],_n[vn]=null,di=_n[--vn],_n[vn]=null,fi=_n[--vn],_n[vn]=null}var Ht=null,nt=null,De=!1,Ys=null,Zn=!1,fd=Error(i(519));function Gs(s){var a=Error(i(418,""));throw xo(pn(a,s)),fd}function Y_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Dt]=s,a[jt]=u,l){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(l=0;l<Go.length;l++)Ee(Go[l],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Ee("invalid",a),o_(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Mc(a);break;case"select":Ee("invalid",a);break;case"textarea":Ee("invalid",a),c_(a,u.value,u.defaultValue,u.children),Mc(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||cb(a.textContent,l)?(u.popover!=null&&(Ee("beforetoggle",a),Ee("toggle",a)),u.onScroll!=null&&Ee("scroll",a),u.onScrollEnd!=null&&Ee("scrollend",a),u.onClick!=null&&(a.onclick=Su),a=!0):a=!1,a||Gs(s)}function G_(s){for(Ht=s.return;Ht;)switch(Ht.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ht=Ht.return}}function So(s){if(s!==Ht)return!1;if(!De)return G_(s),De=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Om(s.type,s.memoizedProps)),l=!l),l&&nt&&Gs(s),G_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){nt=Pn(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}nt=null}}else a===27?(a=nt,ls(s.type)?(s=Dm,Dm=null,nt=s):nt=a):nt=Ht?Pn(s.stateNode.nextSibling):null;return!0}function wo(){nt=Ht=null,De=!1}function $_(){var s=Ys;return s!==null&&(Gt===null?Gt=s:Gt.push.apply(Gt,s),Ys=null),s}function xo(s){Ys===null?Ys=[s]:Ys.push(s)}var dd=W(null),$s=null,mi=null;function Gi(s,a,l){G(dd,a._currentValue),a._currentValue=l}function gi(s){s._currentValue=dd.current,X(dd)}function md(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function gd(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var v=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var T=0;T<a.length;T++)if(S.context===a[T]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),md(g.return,l,s),u||(v=null);break e}g=S.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(i(341));v.lanes|=l,g=v.alternate,g!==null&&(g.lanes|=l),md(v,l,s),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function Eo(s,a,l,u){s=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=m.type;sn(m.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(m===en.current){if(v=m.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Jo):s=[Jo])}m=m.return}s!==null&&gd(a,s,l,u),a.flags|=262144}function Vc(s){for(s=s.firstContext;s!==null;){if(!sn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zs(s){$s=s,mi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Nt(s){return Z_($s,s)}function jc(s,a){return $s===null&&Zs(s),Z_(s,a)}function Z_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},mi===null){if(s===null)throw Error(i(308));mi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else mi=mi.next=a;return l}var CM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},MM=n.unstable_scheduleCallback,OM=n.unstable_NormalPriority,gt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new CM,data:new Map,refCount:0}}function To(s){s.refCount--,s.refCount===0&&MM(OM,function(){s.controller.abort()})}var Co=null,yd=0,Xr=0,Kr=null;function AM(s,a){if(Co===null){var l=Co=[];yd=0,Xr=vm(),Kr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return yd++,a.then(X_,X_),a}function X_(){if(--yd===0&&Co!==null){Kr!==null&&(Kr.status="fulfilled");var s=Co;Co=null,Xr=0,Kr=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function RM(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var K_=z.S;z.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&AM(s,a),K_!==null&&K_(s,a)};var Xs=W(null);function _d(){var s=Xs.current;return s!==null?s:Ye.pooledCache}function Wc(s,a){a===null?G(Xs,Xs.current):G(Xs,a.pool)}function Q_(){var s=_d();return s===null?null:{parent:gt._currentValue,pool:s}}var Mo=Error(i(460)),J_=Error(i(474)),qc=Error(i(542)),vd={then:function(){}};function e0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yc(){}function t0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Yc,Yc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,i0(s),s;default:if(typeof a.status=="string")a.then(Yc,Yc);else{if(s=Ye,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,i0(s),s}throw Oo=a,Mo}}var Oo=null;function n0(){if(Oo===null)throw Error(i(459));var s=Oo;return Oo=null,s}function i0(s){if(s===Mo||s===qc)throw Error(i(483))}var $i=!1;function bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xi(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Uc(s),j_(s,null,l),a}return zc(s,u,a,l),Uc(s)}function Ao(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Xy(s,l)}}function wd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=v:g=g.next=v,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var xd=!1;function Ro(){if(xd){var s=Kr;if(s!==null)throw s}}function ko(s,a,l,u){xd=!1;var m=s.updateQueue;$i=!1;var g=m.firstBaseUpdate,v=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var T=S,N=T.next;T.next=null,v===null?g=N:v.next=N,v=T;var B=s.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==v&&(S===null?B.firstBaseUpdate=N:S.next=N,B.lastBaseUpdate=T))}if(g!==null){var V=m.baseState;v=0,B=N=T=null,S=g;do{var I=S.lane&-536870913,P=I!==S.lane;if(P?(Ce&I)===I:(u&I)===I){I!==0&&I===Xr&&(xd=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=s,le=S;I=a;var Be=l;switch(le.tag){case 1:if(fe=le.payload,typeof fe=="function"){V=fe.call(Be,V,I);break e}V=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=le.payload,I=typeof fe=="function"?fe.call(Be,V,I):fe,I==null)break e;V=p({},V,I);break e;case 2:$i=!0}}I=S.callback,I!==null&&(s.flags|=64,P&&(s.flags|=8192),P=m.callbacks,P===null?m.callbacks=[I]:P.push(I))}else P={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(N=B=P,T=V):B=B.next=P,v|=I;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;P=S,S=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);B===null&&(T=V),m.baseState=T,m.firstBaseUpdate=N,m.lastBaseUpdate=B,g===null&&(m.shared.lanes=0),ss|=v,s.lanes=v,s.memoizedState=V}}function s0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function r0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)s0(l[s],a)}var Qr=W(null),Gc=W(0);function a0(s,a){s=wi,G(Gc,s),G(Qr,a),wi=s|a.baseLanes}function Ed(){G(Gc,wi),G(Qr,Qr.current)}function Td(){wi=Gc.current,X(Qr),X(Gc)}var Ki=0,_e=null,Ue=null,ht=null,$c=!1,Jr=!1,Ks=!1,Zc=0,Do=0,ea=null,kM=0;function lt(){throw Error(i(321))}function Cd(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!sn(s[l],a[l]))return!1;return!0}function Md(s,a,l,u,m,g){return Ki=g,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?j0:W0,Ks=!1,g=l(u,m),Ks=!1,Jr&&(g=l0(a,l,u,m)),o0(s),g}function o0(s){z.H=tu;var a=Ue!==null&&Ue.next!==null;if(Ki=0,ht=Ue=_e=null,$c=!1,Do=0,ea=null,a)throw Error(i(300));s===null||wt||(s=s.dependencies,s!==null&&Vc(s)&&(wt=!0))}function l0(s,a,l,u){_e=s;var m=0;do{if(Jr&&(ea=null),Do=0,Jr=!1,25<=m)throw Error(i(301));if(m+=1,ht=Ue=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=UM,g=a(l,u)}while(Jr);return g}function DM(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?No(a):a,s=s.useState()[0],(Ue!==null?Ue.memoizedState:null)!==s&&(_e.flags|=1024),a}function Od(){var s=Zc!==0;return Zc=0,s}function Ad(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Rd(s){if($c){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}$c=!1}Ki=0,ht=Ue=_e=null,Jr=!1,Do=Zc=0,ea=null}function qt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?_e.memoizedState=ht=s:ht=ht.next=s,ht}function ft(){if(Ue===null){var s=_e.alternate;s=s!==null?s.memoizedState:null}else s=Ue.next;var a=ht===null?_e.memoizedState:ht.next;if(a!==null)ht=a,Ue=s;else{if(s===null)throw _e.alternate===null?Error(i(467)):Error(i(310));Ue=s,s={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ht===null?_e.memoizedState=ht=s:ht=ht.next=s}return ht}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(s){var a=Do;return Do+=1,ea===null&&(ea=[]),s=t0(ea,s,a),a=_e,(ht===null?a.memoizedState:ht.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?j0:W0),s}function Xc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return No(s);if(s.$$typeof===U)return Nt(s)}throw Error(i(438,String(s)))}function Dd(s){var a=null,l=_e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=_e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=kd(),_e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=se;return a.index++,l}function pi(s,a){return typeof a=="function"?a(s):a}function Kc(s){var a=ft();return Nd(a,Ue,s)}function Nd(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,g=u.pending;if(g!==null){if(m!==null){var v=m.next;m.next=g.next,g.next=v}a.baseQueue=m=g,u.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{a=m.next;var S=v=null,T=null,N=a,B=!1;do{var V=N.lane&-536870913;if(V!==N.lane?(Ce&V)===V:(Ki&V)===V){var I=N.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),V===Xr&&(B=!0);else if((Ki&I)===I){N=N.next,I===Xr&&(B=!0);continue}else V={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=V,v=g):T=T.next=V,_e.lanes|=I,ss|=I;V=N.action,Ks&&l(g,V),g=N.hasEagerState?N.eagerState:l(g,V)}else I={lane:V,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=I,v=g):T=T.next=I,_e.lanes|=V,ss|=V;N=N.next}while(N!==null&&N!==a);if(T===null?v=g:T.next=S,!sn(g,s.memoizedState)&&(wt=!0,B&&(l=Kr,l!==null)))throw l;s.memoizedState=g,s.baseState=v,s.baseQueue=T,u.lastRenderedState=g}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Id(s){var a=ft(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var v=m=m.next;do g=s(g,v.action),v=v.next;while(v!==m);sn(g,a.memoizedState)||(wt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function c0(s,a,l){var u=_e,m=ft(),g=De;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var v=!sn((Ue||m).memoizedState,l);v&&(m.memoizedState=l,wt=!0),m=m.queue;var S=f0.bind(null,u,m,s);if(Io(2048,8,S,[s]),m.getSnapshot!==a||v||ht!==null&&ht.memoizedState.tag&1){if(u.flags|=2048,ta(9,Qc(),h0.bind(null,u,m,l,a),null),Ye===null)throw Error(i(349));g||(Ki&124)!==0||u0(u,a,l)}return l}function u0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=_e.updateQueue,a===null?(a=kd(),_e.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function h0(s,a,l,u){a.value=l,a.getSnapshot=u,d0(a)&&m0(s)}function f0(s,a,l){return l(function(){d0(a)&&m0(s)})}function d0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!sn(s,l)}catch{return!0}}function m0(s){var a=Yr(s,2);a!==null&&un(a,s,2)}function Ld(s){var a=qt();if(typeof s=="function"){var l=s;if(s=l(),Ks){Wi(!0);try{l()}finally{Wi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},a}function g0(s,a,l,u){return s.baseState=l,Nd(s,Ue,typeof u=="function"?u:pi)}function NM(s,a,l,u,m){if(eu(s))throw Error(i(485));if(s=a.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};z.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,p0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function p0(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var g=z.T,v={};z.T=v;try{var S=l(m,u),T=z.S;T!==null&&T(v,S),y0(s,a,S)}catch(N){Pd(s,a,N)}finally{z.T=g}}else try{g=l(m,u),y0(s,a,g)}catch(N){Pd(s,a,N)}}function y0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){_0(s,a,u)},function(u){return Pd(s,a,u)}):_0(s,a,l)}function _0(s,a,l){a.status="fulfilled",a.value=l,v0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,p0(s,l)))}function Pd(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,v0(a),a=a.next;while(a!==u)}s.action=null}function v0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function b0(s,a){return a}function S0(s,a){if(De){var l=Ye.formState;if(l!==null){e:{var u=_e;if(De){if(nt){t:{for(var m=nt,g=Zn;m.nodeType!==8;){if(!g){m=null;break t}if(m=Pn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){nt=Pn(m.nextSibling),u=m.data==="F!";break e}}Gs(u)}u=!1}u&&(a=l[0])}}return l=qt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:a},l.queue=u,l=B0.bind(null,_e,u),u.dispatch=l,u=Ld(!1),g=Fd.bind(null,_e,!1,u.queue),u=qt(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=NM.bind(null,_e,m,g,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function w0(s){var a=ft();return x0(a,Ue,s)}function x0(s,a,l){if(a=Nd(s,a,b0)[0],s=Kc(pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=No(a)}catch(v){throw v===Mo?qc:v}else u=a;a=ft();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(_e.flags|=2048,ta(9,Qc(),IM.bind(null,m,l),null)),[u,g,s]}function IM(s,a){s.action=a}function E0(s){var a=ft(),l=Ue;if(l!==null)return x0(a,l,s);ft(),a=a.memoizedState,l=ft();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function ta(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=_e.updateQueue,a===null&&(a=kd(),_e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Qc(){return{destroy:void 0,resource:void 0}}function T0(){return ft().memoizedState}function Jc(s,a,l,u){var m=qt();u=u===void 0?null:u,_e.flags|=s,m.memoizedState=ta(1|a,Qc(),l,u)}function Io(s,a,l,u){var m=ft();u=u===void 0?null:u;var g=m.memoizedState.inst;Ue!==null&&u!==null&&Cd(u,Ue.memoizedState.deps)?m.memoizedState=ta(a,g,l,u):(_e.flags|=s,m.memoizedState=ta(1|a,g,l,u))}function C0(s,a){Jc(8390656,8,s,a)}function M0(s,a){Io(2048,8,s,a)}function O0(s,a){return Io(4,2,s,a)}function A0(s,a){return Io(4,4,s,a)}function R0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function k0(s,a,l){l=l!=null?l.concat([s]):null,Io(4,4,R0.bind(null,a,s),l)}function zd(){}function D0(s,a){var l=ft();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Cd(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function N0(s,a){var l=ft();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Cd(a,u[1]))return u[0];if(u=s(),Ks){Wi(!0);try{s()}finally{Wi(!1)}}return l.memoizedState=[u,a],u}function Ud(s,a,l){return l===void 0||(Ki&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Pv(),_e.lanes|=s,ss|=s,l)}function I0(s,a,l,u){return sn(l,a)?l:Qr.current!==null?(s=Ud(s,l,u),sn(s,a)||(wt=!0),s):(Ki&42)===0?(wt=!0,s.memoizedState=l):(s=Pv(),_e.lanes|=s,ss|=s,a)}function L0(s,a,l,u,m){var g=q.p;q.p=g!==0&&8>g?g:8;var v=z.T,S={};z.T=S,Fd(s,!1,a,l);try{var T=m(),N=z.S;if(N!==null&&N(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=RM(T,u);Lo(s,a,B,cn(s))}else Lo(s,a,u,cn(s))}catch(V){Lo(s,a,{then:function(){},status:"rejected",reason:V},cn())}finally{q.p=g,z.T=v}}function LM(){}function Hd(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=P0(s).queue;L0(s,m,a,te,l===null?LM:function(){return z0(s),l(u)})}function P0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function z0(s){var a=P0(s).next.queue;Lo(s,a,{},cn())}function Bd(){return Nt(Jo)}function U0(){return ft().memoizedState}function H0(){return ft().memoizedState}function PM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=cn();s=Zi(l);var u=Xi(a,s,l);u!==null&&(un(u,a,l),Ao(u,a,l)),a={cache:pd()},s.payload=a;return}a=a.return}}function zM(s,a,l){var u=cn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},eu(s)?F0(a,l):(l=ad(s,a,l,u),l!==null&&(un(l,s,u),V0(l,a,u)))}function B0(s,a,l){var u=cn();Lo(s,a,l,u)}function Lo(s,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(eu(s))F0(a,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var v=a.lastRenderedState,S=g(v,l);if(m.hasEagerState=!0,m.eagerState=S,sn(S,v))return zc(s,a,m,0),Ye===null&&Pc(),!1}catch{}finally{}if(l=ad(s,a,m,u),l!==null)return un(l,s,u),V0(l,a,u),!0}return!1}function Fd(s,a,l,u){if(u={lane:2,revertLane:vm(),action:u,hasEagerState:!1,eagerState:null,next:null},eu(s)){if(a)throw Error(i(479))}else a=ad(s,l,u,2),a!==null&&un(a,s,2)}function eu(s){var a=s.alternate;return s===_e||a!==null&&a===_e}function F0(s,a){Jr=$c=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function V0(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Xy(s,l)}}var tu={readContext:Nt,use:Xc,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},j0={readContext:Nt,use:Xc,useCallback:function(s,a){return qt().memoizedState=[s,a===void 0?null:a],s},useContext:Nt,useEffect:C0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Jc(4194308,4,R0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Jc(4194308,4,s,a)},useInsertionEffect:function(s,a){Jc(4,2,s,a)},useMemo:function(s,a){var l=qt();a=a===void 0?null:a;var u=s();if(Ks){Wi(!0);try{s()}finally{Wi(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=qt();if(l!==void 0){var m=l(a);if(Ks){Wi(!0);try{l(a)}finally{Wi(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=zM.bind(null,_e,s),[u.memoizedState,s]},useRef:function(s){var a=qt();return s={current:s},a.memoizedState=s},useState:function(s){s=Ld(s);var a=s.queue,l=B0.bind(null,_e,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:zd,useDeferredValue:function(s,a){var l=qt();return Ud(l,s,a)},useTransition:function(){var s=Ld(!1);return s=L0.bind(null,_e,s.queue,!0,!1),qt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=_e,m=qt();if(De){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ye===null)throw Error(i(349));(Ce&124)!==0||u0(u,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,C0(f0.bind(null,u,g,s),[s]),u.flags|=2048,ta(9,Qc(),h0.bind(null,u,g,l,a),null),l},useId:function(){var s=qt(),a=Ye.identifierPrefix;if(De){var l=di,u=fi;l=(u&~(1<<32-nn(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Zc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=kM++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Bd,useFormState:S0,useActionState:S0,useOptimistic:function(s){var a=qt();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Fd.bind(null,_e,!0,l),l.dispatch=a,[s,a]},useMemoCache:Dd,useCacheRefresh:function(){return qt().memoizedState=PM.bind(null,_e)}},W0={readContext:Nt,use:Xc,useCallback:D0,useContext:Nt,useEffect:M0,useImperativeHandle:k0,useInsertionEffect:O0,useLayoutEffect:A0,useMemo:N0,useReducer:Kc,useRef:T0,useState:function(){return Kc(pi)},useDebugValue:zd,useDeferredValue:function(s,a){var l=ft();return I0(l,Ue.memoizedState,s,a)},useTransition:function(){var s=Kc(pi)[0],a=ft().memoizedState;return[typeof s=="boolean"?s:No(s),a]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:Bd,useFormState:w0,useActionState:w0,useOptimistic:function(s,a){var l=ft();return g0(l,Ue,s,a)},useMemoCache:Dd,useCacheRefresh:H0},UM={readContext:Nt,use:Xc,useCallback:D0,useContext:Nt,useEffect:M0,useImperativeHandle:k0,useInsertionEffect:O0,useLayoutEffect:A0,useMemo:N0,useReducer:Id,useRef:T0,useState:function(){return Id(pi)},useDebugValue:zd,useDeferredValue:function(s,a){var l=ft();return Ue===null?Ud(l,s,a):I0(l,Ue.memoizedState,s,a)},useTransition:function(){var s=Id(pi)[0],a=ft().memoizedState;return[typeof s=="boolean"?s:No(s),a]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:Bd,useFormState:E0,useActionState:E0,useOptimistic:function(s,a){var l=ft();return Ue!==null?g0(l,Ue,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:H0},na=null,Po=0;function nu(s){var a=Po;return Po+=1,na===null&&(na=[]),t0(na,s,a)}function zo(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function iu(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function q0(s){var a=s._init;return a(s._payload)}function Y0(s){function a(k,O){if(s){var D=k.deletions;D===null?(k.deletions=[O],k.flags|=16):D.push(O)}}function l(k,O){if(!s)return null;for(;O!==null;)a(k,O),O=O.sibling;return null}function u(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function m(k,O){return k=hi(k,O),k.index=0,k.sibling=null,k}function g(k,O,D){return k.index=D,s?(D=k.alternate,D!==null?(D=D.index,D<O?(k.flags|=67108866,O):D):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function v(k){return s&&k.alternate===null&&(k.flags|=67108866),k}function S(k,O,D,F){return O===null||O.tag!==6?(O=ld(D,k.mode,F),O.return=k,O):(O=m(O,D),O.return=k,O)}function T(k,O,D,F){var ee=D.type;return ee===w?B(k,O,D.props.children,F,D.key):O!==null&&(O.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Q&&q0(ee)===O.type)?(O=m(O,D.props),zo(O,D),O.return=k,O):(O=Hc(D.type,D.key,D.props,null,k.mode,F),zo(O,D),O.return=k,O)}function N(k,O,D,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==D.containerInfo||O.stateNode.implementation!==D.implementation?(O=cd(D,k.mode,F),O.return=k,O):(O=m(O,D.children||[]),O.return=k,O)}function B(k,O,D,F,ee){return O===null||O.tag!==7?(O=js(D,k.mode,F,ee),O.return=k,O):(O=m(O,D),O.return=k,O)}function V(k,O,D){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ld(""+O,k.mode,D),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return D=Hc(O.type,O.key,O.props,null,k.mode,D),zo(D,O),D.return=k,D;case b:return O=cd(O,k.mode,D),O.return=k,O;case Q:var F=O._init;return O=F(O._payload),V(k,O,D)}if(ge(O)||oe(O))return O=js(O,k.mode,D,null),O.return=k,O;if(typeof O.then=="function")return V(k,nu(O),D);if(O.$$typeof===U)return V(k,jc(k,O),D);iu(k,O)}return null}function I(k,O,D,F){var ee=O!==null?O.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ee!==null?null:S(k,O,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===ee?T(k,O,D,F):null;case b:return D.key===ee?N(k,O,D,F):null;case Q:return ee=D._init,D=ee(D._payload),I(k,O,D,F)}if(ge(D)||oe(D))return ee!==null?null:B(k,O,D,F,null);if(typeof D.then=="function")return I(k,O,nu(D),F);if(D.$$typeof===U)return I(k,O,jc(k,D),F);iu(k,D)}return null}function P(k,O,D,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(D)||null,S(O,k,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return k=k.get(F.key===null?D:F.key)||null,T(O,k,F,ee);case b:return k=k.get(F.key===null?D:F.key)||null,N(O,k,F,ee);case Q:var be=F._init;return F=be(F._payload),P(k,O,D,F,ee)}if(ge(F)||oe(F))return k=k.get(D)||null,B(O,k,F,ee,null);if(typeof F.then=="function")return P(k,O,D,nu(F),ee);if(F.$$typeof===U)return P(k,O,D,jc(O,F),ee);iu(O,F)}return null}function fe(k,O,D,F){for(var ee=null,be=null,ie=O,ce=O=0,Et=null;ie!==null&&ce<D.length;ce++){ie.index>ce?(Et=ie,ie=null):Et=ie.sibling;var Re=I(k,ie,D[ce],F);if(Re===null){ie===null&&(ie=Et);break}s&&ie&&Re.alternate===null&&a(k,ie),O=g(Re,O,ce),be===null?ee=Re:be.sibling=Re,be=Re,ie=Et}if(ce===D.length)return l(k,ie),De&&qs(k,ce),ee;if(ie===null){for(;ce<D.length;ce++)ie=V(k,D[ce],F),ie!==null&&(O=g(ie,O,ce),be===null?ee=ie:be.sibling=ie,be=ie);return De&&qs(k,ce),ee}for(ie=u(ie);ce<D.length;ce++)Et=P(ie,k,ce,D[ce],F),Et!==null&&(s&&Et.alternate!==null&&ie.delete(Et.key===null?ce:Et.key),O=g(Et,O,ce),be===null?ee=Et:be.sibling=Et,be=Et);return s&&ie.forEach(function(ds){return a(k,ds)}),De&&qs(k,ce),ee}function le(k,O,D,F){if(D==null)throw Error(i(151));for(var ee=null,be=null,ie=O,ce=O=0,Et=null,Re=D.next();ie!==null&&!Re.done;ce++,Re=D.next()){ie.index>ce?(Et=ie,ie=null):Et=ie.sibling;var ds=I(k,ie,Re.value,F);if(ds===null){ie===null&&(ie=Et);break}s&&ie&&ds.alternate===null&&a(k,ie),O=g(ds,O,ce),be===null?ee=ds:be.sibling=ds,be=ds,ie=Et}if(Re.done)return l(k,ie),De&&qs(k,ce),ee;if(ie===null){for(;!Re.done;ce++,Re=D.next())Re=V(k,Re.value,F),Re!==null&&(O=g(Re,O,ce),be===null?ee=Re:be.sibling=Re,be=Re);return De&&qs(k,ce),ee}for(ie=u(ie);!Re.done;ce++,Re=D.next())Re=P(ie,k,ce,Re.value,F),Re!==null&&(s&&Re.alternate!==null&&ie.delete(Re.key===null?ce:Re.key),O=g(Re,O,ce),be===null?ee=Re:be.sibling=Re,be=Re);return s&&ie.forEach(function(HO){return a(k,HO)}),De&&qs(k,ce),ee}function Be(k,O,D,F){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var ee=D.key;O!==null;){if(O.key===ee){if(ee=D.type,ee===w){if(O.tag===7){l(k,O.sibling),F=m(O,D.props.children),F.return=k,k=F;break e}}else if(O.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Q&&q0(ee)===O.type){l(k,O.sibling),F=m(O,D.props),zo(F,D),F.return=k,k=F;break e}l(k,O);break}else a(k,O);O=O.sibling}D.type===w?(F=js(D.props.children,k.mode,F,D.key),F.return=k,k=F):(F=Hc(D.type,D.key,D.props,null,k.mode,F),zo(F,D),F.return=k,k=F)}return v(k);case b:e:{for(ee=D.key;O!==null;){if(O.key===ee)if(O.tag===4&&O.stateNode.containerInfo===D.containerInfo&&O.stateNode.implementation===D.implementation){l(k,O.sibling),F=m(O,D.children||[]),F.return=k,k=F;break e}else{l(k,O);break}else a(k,O);O=O.sibling}F=cd(D,k.mode,F),F.return=k,k=F}return v(k);case Q:return ee=D._init,D=ee(D._payload),Be(k,O,D,F)}if(ge(D))return fe(k,O,D,F);if(oe(D)){if(ee=oe(D),typeof ee!="function")throw Error(i(150));return D=ee.call(D),le(k,O,D,F)}if(typeof D.then=="function")return Be(k,O,nu(D),F);if(D.$$typeof===U)return Be(k,O,jc(k,D),F);iu(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,O!==null&&O.tag===6?(l(k,O.sibling),F=m(O,D),F.return=k,k=F):(l(k,O),F=ld(D,k.mode,F),F.return=k,k=F),v(k)):l(k,O)}return function(k,O,D,F){try{Po=0;var ee=Be(k,O,D,F);return na=null,ee}catch(ie){if(ie===Mo||ie===qc)throw ie;var be=rn(29,ie,null,k.mode);return be.lanes=F,be.return=k,be}finally{}}}var ia=Y0(!0),G0=Y0(!1),bn=W(null),Xn=null;function Qi(s){var a=s.alternate;G(pt,pt.current&1),G(bn,s),Xn===null&&(a===null||Qr.current!==null||a.memoizedState!==null)&&(Xn=s)}function $0(s){if(s.tag===22){if(G(pt,pt.current),G(bn,s),Xn===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Xn=s)}}else Ji()}function Ji(){G(pt,pt.current),G(bn,bn.current)}function yi(s){X(bn),Xn===s&&(Xn=null),X(pt)}var pt=W(0);function su(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||km(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vd(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:p({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var jd={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=cn(),m=Zi(u);m.payload=a,l!=null&&(m.callback=l),a=Xi(s,m,u),a!==null&&(un(a,s,u),Ao(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=cn(),m=Zi(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Xi(s,m,u),a!==null&&(un(a,s,u),Ao(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=cn(),u=Zi(l);u.tag=2,a!=null&&(u.callback=a),a=Xi(s,u,l),a!==null&&(un(a,s,l),Ao(a,s,l))}};function Z0(s,a,l,u,m,g,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,v):a.prototype&&a.prototype.isPureReactComponent?!vo(l,u)||!vo(m,g):!0}function X0(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&jd.enqueueReplaceState(a,a.state,null)}function Qs(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=p({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var ru=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function K0(s){ru(s)}function Q0(s){console.error(s)}function J0(s){ru(s)}function au(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function ev(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Wd(s,a,l){return l=Zi(l),l.tag=3,l.payload={element:null},l.callback=function(){au(s,a)},l}function tv(s){return s=Zi(s),s.tag=3,s}function nv(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;s.payload=function(){return m(g)},s.callback=function(){ev(a,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){ev(a,l,u),typeof m!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function HM(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Eo(a,l,m,!0),l=bn.current,l!==null){switch(l.tag){case 13:return Xn===null?mm():l.alternate===null&&it===0&&(it=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===vd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),pm(s,u,m)),!1;case 22:return l.flags|=65536,u===vd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),pm(s,u,m)),!1}throw Error(i(435,l.tag))}return pm(s,u,m),mm(),!1}if(De)return a=bn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==fd&&(s=Error(i(422),{cause:u}),xo(pn(s,l)))):(u!==fd&&(a=Error(i(423),{cause:u}),xo(pn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=pn(u,l),m=Wd(s.stateNode,u,m),wd(s,m),it!==4&&(it=2)),!1;var g=Error(i(520),{cause:u});if(g=pn(g,l),Wo===null?Wo=[g]:Wo.push(g),it!==4&&(it=2),a===null)return!0;u=pn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Wd(l.stateNode,u,s),wd(l,s),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=tv(m),nv(m,s,l,u),wd(l,m),!1}l=l.return}while(l!==null);return!1}var iv=Error(i(461)),wt=!1;function Mt(s,a,l,u){a.child=s===null?G0(a,null,l,u):ia(a,s.child,l,u)}function sv(s,a,l,u,m){l=l.render;var g=a.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Zs(a),u=Md(s,a,l,v,g,m),S=Od(),s!==null&&!wt?(Ad(s,a,m),_i(s,a,m)):(De&&S&&ud(a),a.flags|=1,Mt(s,a,u,m),a.child)}function rv(s,a,l,u,m){if(s===null){var g=l.type;return typeof g=="function"&&!od(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,av(s,a,g,u,m)):(s=Hc(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(g=s.child,!Qd(s,m)){var v=g.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(v,u)&&s.ref===a.ref)return _i(s,a,m)}return a.flags|=1,s=hi(g,u),s.ref=a.ref,s.return=a,a.child=s}function av(s,a,l,u,m){if(s!==null){var g=s.memoizedProps;if(vo(g,u)&&s.ref===a.ref)if(wt=!1,a.pendingProps=u=g,Qd(s,m))(s.flags&131072)!==0&&(wt=!0);else return a.lanes=s.lanes,_i(s,a,m)}return qd(s,a,l,u,m)}function ov(s,a,l){var u=a.pendingProps,m=u.children,g=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,s!==null){for(m=a.child=s.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return lv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Wc(a,g!==null?g.cachePool:null),g!==null?a0(a,g):Ed(),$0(a);else return a.lanes=a.childLanes=536870912,lv(s,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Wc(a,g.cachePool),a0(a,g),Ji(),a.memoizedState=null):(s!==null&&Wc(a,null),Ed(),Ji());return Mt(s,a,m,l),a.child}function lv(s,a,l,u){var m=_d();return m=m===null?null:{parent:gt._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Wc(a,null),Ed(),$0(a),s!==null&&Eo(s,a,u,!0),null}function ou(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function qd(s,a,l,u,m){return Zs(a),l=Md(s,a,l,u,void 0,m),u=Od(),s!==null&&!wt?(Ad(s,a,m),_i(s,a,m)):(De&&u&&ud(a),a.flags|=1,Mt(s,a,l,m),a.child)}function cv(s,a,l,u,m,g){return Zs(a),a.updateQueue=null,l=l0(a,u,l,m),o0(s),u=Od(),s!==null&&!wt?(Ad(s,a,g),_i(s,a,g)):(De&&u&&ud(a),a.flags|=1,Mt(s,a,l,g),a.child)}function uv(s,a,l,u,m){if(Zs(a),a.stateNode===null){var g=Gr,v=l.contextType;typeof v=="object"&&v!==null&&(g=Nt(v)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jd,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},bd(a),v=l.contextType,g.context=typeof v=="object"&&v!==null?Nt(v):Gr,g.state=a.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Vd(a,l,v,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&jd.enqueueReplaceState(g,g.state,null),ko(a,u,g,m),Ro(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){g=a.stateNode;var S=a.memoizedProps,T=Qs(l,S);g.props=T;var N=g.context,B=l.contextType;v=Gr,typeof B=="object"&&B!==null&&(v=Nt(B));var V=l.getDerivedStateFromProps;B=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||N!==v)&&X0(a,g,u,v),$i=!1;var I=a.memoizedState;g.state=I,ko(a,u,g,m),Ro(),N=a.memoizedState,S||I!==N||$i?(typeof V=="function"&&(Vd(a,l,V,u),N=a.memoizedState),(T=$i||Z0(a,l,T,u,I,N,v))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=N),g.props=u,g.state=N,g.context=v,u=T):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Sd(s,a),v=a.memoizedProps,B=Qs(l,v),g.props=B,V=a.pendingProps,I=g.context,N=l.contextType,T=Gr,typeof N=="object"&&N!==null&&(T=Nt(N)),S=l.getDerivedStateFromProps,(N=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==V||I!==T)&&X0(a,g,u,T),$i=!1,I=a.memoizedState,g.state=I,ko(a,u,g,m),Ro();var P=a.memoizedState;v!==V||I!==P||$i||s!==null&&s.dependencies!==null&&Vc(s.dependencies)?(typeof S=="function"&&(Vd(a,l,S,u),P=a.memoizedState),(B=$i||Z0(a,l,B,u,I,P,T)||s!==null&&s.dependencies!==null&&Vc(s.dependencies))?(N||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,P,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,P,T)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=P),g.props=u,g.state=P,g.context=T,u=B):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(a.flags|=1024),u=!1)}return g=u,ou(s,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,s!==null&&u?(a.child=ia(a,s.child,null,m),a.child=ia(a,null,l,m)):Mt(s,a,l,m),a.memoizedState=g.state,s=a.child):s=_i(s,a,m),s}function hv(s,a,l,u){return wo(),a.flags|=256,Mt(s,a,l,u),a.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(s){return{baseLanes:s,cachePool:Q_()}}function $d(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Sn),s}function fv(s,a,l){var u=a.pendingProps,m=!1,g=(a.flags&128)!==0,v;if((v=g)||(v=s!==null&&s.memoizedState===null?!1:(pt.current&2)!==0),v&&(m=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,s===null){if(De){if(m?Qi(a):Ji(),De){var S=nt,T;if(T=S){e:{for(T=S,S=Zn;T.nodeType!==8;){if(!S){S=null;break e}if(T=Pn(T.nextSibling),T===null){S=null;break e}}S=T}S!==null?(a.memoizedState={dehydrated:S,treeContext:Ws!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},T=rn(18,null,null,0),T.stateNode=S,T.return=a,a.child=T,Ht=a,nt=null,T=!0):T=!1}T||Gs(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return km(S)?a.lanes=32:a.lanes=536870912,null;yi(a)}return S=u.children,u=u.fallback,m?(Ji(),m=a.mode,S=lu({mode:"hidden",children:S},m),u=js(u,m,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,m=a.child,m.memoizedState=Gd(l),m.childLanes=$d(s,v,l),a.memoizedState=Yd,u):(Qi(a),Zd(a,S))}if(T=s.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(g)a.flags&256?(Qi(a),a.flags&=-257,a=Xd(s,a,l)):a.memoizedState!==null?(Ji(),a.child=s.child,a.flags|=128,a=null):(Ji(),m=u.fallback,S=a.mode,u=lu({mode:"visible",children:u.children},S),m=js(m,S,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,ia(a,s.child,null,l),u=a.child,u.memoizedState=Gd(l),u.childLanes=$d(s,v,l),a.memoizedState=Yd,a=m);else if(Qi(a),km(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var N=v.dgst;v=N,u=Error(i(419)),u.stack="",u.digest=v,xo({value:u,source:null,stack:null}),a=Xd(s,a,l)}else if(wt||Eo(s,a,l,!1),v=(l&s.childLanes)!==0,wt||v){if(v=Ye,v!==null&&(u=l&-l,u=(u&42)!==0?1:Df(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==T.retryLane))throw T.retryLane=u,Yr(s,u),un(v,s,u),iv;S.data==="$?"||mm(),a=Xd(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=T.treeContext,nt=Pn(S.nextSibling),Ht=a,De=!0,Ys=null,Zn=!1,s!==null&&(_n[vn++]=fi,_n[vn++]=di,_n[vn++]=Ws,fi=s.id,di=s.overflow,Ws=a),a=Zd(a,u.children),a.flags|=4096);return a}return m?(Ji(),m=u.fallback,S=a.mode,T=s.child,N=T.sibling,u=hi(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,N!==null?m=hi(N,m):(m=js(m,S,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,S=s.child.memoizedState,S===null?S=Gd(l):(T=S.cachePool,T!==null?(N=gt._currentValue,T=T.parent!==N?{parent:N,pool:N}:T):T=Q_(),S={baseLanes:S.baseLanes|l,cachePool:T}),m.memoizedState=S,m.childLanes=$d(s,v,l),a.memoizedState=Yd,u):(Qi(a),l=s.child,s=l.sibling,l=hi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(v=a.deletions,v===null?(a.deletions=[s],a.flags|=16):v.push(s)),a.child=l,a.memoizedState=null,l)}function Zd(s,a){return a=lu({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function lu(s,a){return s=rn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Xd(s,a,l){return ia(a,s.child,null,l),s=Zd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function dv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),md(s.return,a,l)}function Kd(s,a,l,u,m){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=m)}function mv(s,a,l){var u=a.pendingProps,m=u.revealOrder,g=u.tail;if(Mt(s,a,u.children,l),u=pt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dv(s,l,a);else if(s.tag===19)dv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(G(pt,u),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&su(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Kd(a,!1,m,l,g);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&su(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Kd(a,!0,l,null,g);break;case"together":Kd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _i(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ss|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Eo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Qd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Vc(s)))}function BM(s,a,l){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),Gi(a,gt,s.memoizedState.cache),wo();break;case 27:case 5:Mf(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:Gi(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?fv(s,a,l):(Qi(a),s=_i(s,a,l),s!==null?s.sibling:null);Qi(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Eo(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return mv(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),G(pt,pt.current),u)break;return null;case 22:case 23:return a.lanes=0,ov(s,a,l);case 24:Gi(a,gt,s.memoizedState.cache)}return _i(s,a,l)}function gv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)wt=!0;else{if(!Qd(s,l)&&(a.flags&128)===0)return wt=!1,BM(s,a,l);wt=(s.flags&131072)!==0}else wt=!1,De&&(a.flags&1048576)!==0&&q_(a,Fc,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")od(u)?(s=Qs(u,s),a.tag=1,a=uv(null,a,u,s,l)):(a.tag=0,a=qd(null,a,u,s,l));else{if(u!=null){if(m=u.$$typeof,m===j){a.tag=11,a=sv(null,a,u,s,l);break e}else if(m===K){a.tag=14,a=rv(null,a,u,s,l);break e}}throw a=ot(u)||u,Error(i(306,a,""))}}return a;case 0:return qd(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Qs(u,a.pendingProps),uv(s,a,u,m,l);case 3:e:{if(Ke(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;m=g.element,Sd(s,a),ko(a,u,null,l);var v=a.memoizedState;if(u=v.cache,Gi(a,gt,u),u!==g.cache&&gd(a,[gt],l,!0),Ro(),u=v.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=hv(s,a,u,l);break e}else if(u!==m){m=pn(Error(i(424)),a),xo(m),a=hv(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(nt=Pn(s.firstChild),Ht=a,De=!0,Ys=null,Zn=!0,l=G0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wo(),u===m){a=_i(s,a,l);break e}Mt(s,a,u,l)}a=a.child}return a;case 26:return ou(s,a),s===null?(l=vb(a.type,null,a.pendingProps,null))?a.memoizedState=l:De||(l=a.type,s=a.pendingProps,u=wu(ae.current).createElement(l),u[Dt]=a,u[jt]=s,At(u,l,s),St(u),a.stateNode=u):a.memoizedState=vb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Mf(a),s===null&&De&&(u=a.stateNode=pb(a.type,a.pendingProps,ae.current),Ht=a,Zn=!0,m=nt,ls(a.type)?(Dm=m,nt=Pn(u.firstChild)):nt=m),Mt(s,a,a.pendingProps.children,l),ou(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&De&&((m=u=nt)&&(u=mO(u,a.type,a.pendingProps,Zn),u!==null?(a.stateNode=u,Ht=a,nt=Pn(u.firstChild),Zn=!1,m=!0):m=!1),m||Gs(a)),Mf(a),m=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,u=g.children,Om(m,g)?u=null:v!==null&&Om(m,v)&&(a.flags|=32),a.memoizedState!==null&&(m=Md(s,a,DM,null,null,l),Jo._currentValue=m),ou(s,a),Mt(s,a,u,l),a.child;case 6:return s===null&&De&&((s=l=nt)&&(l=gO(l,a.pendingProps,Zn),l!==null?(a.stateNode=l,Ht=a,nt=null,s=!0):s=!1),s||Gs(a)),null;case 13:return fv(s,a,l);case 4:return Ke(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=ia(a,null,u,l):Mt(s,a,u,l),a.child;case 11:return sv(s,a,a.type,a.pendingProps,l);case 7:return Mt(s,a,a.pendingProps,l),a.child;case 8:return Mt(s,a,a.pendingProps.children,l),a.child;case 12:return Mt(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Gi(a,a.type,u.value),Mt(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Zs(a),m=Nt(m),u=u(m),a.flags|=1,Mt(s,a,u,l),a.child;case 14:return rv(s,a,a.type,a.pendingProps,l);case 15:return av(s,a,a.type,a.pendingProps,l);case 19:return mv(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=lu(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hi(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ov(s,a,l);case 24:return Zs(a),u=Nt(gt),s===null?(m=_d(),m===null&&(m=Ye,g=pd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:u,cache:m},bd(a),Gi(a,gt,m)):((s.lanes&l)!==0&&(Sd(s,a),ko(a,null,null,l),Ro()),m=s.memoizedState,g=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Gi(a,gt,u)):(u=g.cache,Gi(a,gt,u),u!==m.cache&&gd(a,[gt],l,!0))),Mt(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function vi(s){s.flags|=4}function pv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Eb(a)){if(a=bn.current,a!==null&&((Ce&4194048)===Ce?Xn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||a!==Xn))throw Oo=vd,J_;s.flags|=8192}}function cu(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?$y():536870912,s.lanes|=a,oa|=a)}function Uo(s,a){if(!De)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Je(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function FM(s,a,l){var u=a.pendingProps;switch(hd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(a),null;case 1:return Je(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),gi(gt),ji(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(So(a)?vi(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$_())),Je(a),null;case 26:return l=a.memoizedState,s===null?(vi(a),l!==null?(Je(a),pv(a,l)):(Je(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vi(a),Je(a),pv(a,l)):(Je(a),a.flags&=-16777217):(s.memoizedProps!==u&&vi(a),Je(a),a.flags&=-16777217),null;case 27:bc(a),l=ae.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Je(a),null}s=ne.current,So(a)?Y_(a):(s=pb(m,u,l),a.stateNode=s,vi(a))}return Je(a),null;case 5:if(bc(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Je(a),null}if(s=ne.current,So(a))Y_(a);else{switch(m=wu(ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}s[Dt]=a,s[jt]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(At(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vi(a)}}return Je(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&vi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=ae.current,So(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=Ht,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Dt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||cb(s.nodeValue,l)),s||Gs(a)}else s=wu(s).createTextNode(u),s[Dt]=a,a.stateNode=s}return Je(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=So(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Dt]=a}else wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),m=!1}else m=$_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(yi(a),a):(yi(a),null)}if(yi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),cu(a,a.updateQueue),Je(a),null;case 4:return ji(),s===null&&xm(a.stateNode.containerInfo),Je(a),null;case 10:return gi(a.type),Je(a),null;case 19:if(X(pt),m=a.memoizedState,m===null)return Je(a),null;if(u=(a.flags&128)!==0,g=m.rendering,g===null)if(u)Uo(m,!1);else{if(it!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(g=su(s),g!==null){for(a.flags|=128,Uo(m,!1),s=g.updateQueue,a.updateQueue=s,cu(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)W_(l,s),l=l.sibling;return G(pt,pt.current&1|2),a.child}s=s.sibling}m.tail!==null&&$n()>fu&&(a.flags|=128,u=!0,Uo(m,!1),a.lanes=4194304)}else{if(!u)if(s=su(g),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,cu(a,s),Uo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!De)return Je(a),null}else 2*$n()-m.renderingStartTime>fu&&l!==536870912&&(a.flags|=128,u=!0,Uo(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(s=m.last,s!==null?s.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=$n(),a.sibling=null,s=pt.current,G(pt,u?s&1|2:s&1),a):(Je(a),null);case 22:case 23:return yi(a),Td(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Je(a),a.subtreeFlags&6&&(a.flags|=8192)):Je(a),l=a.updateQueue,l!==null&&cu(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&X(Xs),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gi(gt),Je(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function VM(s,a){switch(hd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gi(gt),ji(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return bc(a),null;case 13:if(yi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));wo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(pt),null;case 4:return ji(),null;case 10:return gi(a.type),null;case 22:case 23:return yi(a),Td(),s!==null&&X(Xs),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return gi(gt),null;case 25:return null;default:return null}}function yv(s,a){switch(hd(a),a.tag){case 3:gi(gt),ji();break;case 26:case 27:case 5:bc(a);break;case 4:ji();break;case 13:yi(a);break;case 19:X(pt);break;case 10:gi(a.type);break;case 22:case 23:yi(a),Td(),s!==null&&X(Xs);break;case 24:gi(gt)}}function Ho(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var g=l.create,v=l.inst;u=g(),v.destroy=u}l=l.next}while(l!==m)}}catch(S){je(a,a.return,S)}}function es(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,m=a;var T=l,N=S;try{N()}catch(B){je(m,T,B)}}}u=u.next}while(u!==g)}}catch(B){je(a,a.return,B)}}function _v(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{r0(a,l)}catch(u){je(s,s.return,u)}}}function vv(s,a,l){l.props=Qs(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){je(s,a,u)}}function Bo(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){je(s,a,m)}}function Kn(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){je(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){je(s,a,m)}else l.current=null}function bv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){je(s,s.return,m)}}function Jd(s,a,l){try{var u=s.stateNode;cO(u,s.type,l,a),u[jt]=a}catch(m){je(s,s.return,m)}}function Sv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ls(s.type)||s.tag===4}function em(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ls(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Su));else if(u!==4&&(u===27&&ls(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(tm(s,a,l),s=s.sibling;s!==null;)tm(s,a,l),s=s.sibling}function uu(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&ls(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(uu(s,a,l),s=s.sibling;s!==null;)uu(s,a,l),s=s.sibling}function wv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);At(a,u,l),a[Dt]=s,a[jt]=l}catch(g){je(s,s.return,g)}}var bi=!1,ct=!1,nm=!1,xv=typeof WeakSet=="function"?WeakSet:Set,xt=null;function jM(s,a){if(s=s.containerInfo,Cm=Ou,s=I_(s),ed(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var v=0,S=-1,T=-1,N=0,B=0,V=s,I=null;t:for(;;){for(var P;V!==l||m!==0&&V.nodeType!==3||(S=v+m),V!==g||u!==0&&V.nodeType!==3||(T=v+u),V.nodeType===3&&(v+=V.nodeValue.length),(P=V.firstChild)!==null;)I=V,V=P;for(;;){if(V===s)break t;if(I===l&&++N===m&&(S=v),I===g&&++B===u&&(T=v),(P=V.nextSibling)!==null)break;V=I,I=V.parentNode}V=P}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mm={focusedElem:s,selectionRange:l},Ou=!1,xt=a;xt!==null;)if(a=xt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,xt=s;else for(;xt!==null;){switch(a=xt,g=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var fe=Qs(l.type,m,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(fe,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(le){je(l,l.return,le)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Rm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Rm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,xt=s;break}xt=a.return}}function Ev(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ts(s,l),u&4&&Ho(5,l);break;case 1:if(ts(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(v){je(l,l.return,v)}else{var m=Qs(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(v){je(l,l.return,v)}}u&64&&_v(l),u&512&&Bo(l,l.return);break;case 3:if(ts(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{r0(s,a)}catch(v){je(l,l.return,v)}}break;case 27:a===null&&u&4&&wv(l);case 26:case 5:ts(s,l),a===null&&u&4&&bv(l),u&512&&Bo(l,l.return);break;case 12:ts(s,l);break;case 13:ts(s,l),u&4&&Mv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=QM.bind(null,l),pO(s,l))));break;case 22:if(u=l.memoizedState!==null||bi,!u){a=a!==null&&a.memoizedState!==null||ct,m=bi;var g=ct;bi=u,(ct=a)&&!g?ns(s,l,(l.subtreeFlags&8772)!==0):ts(s,l),bi=m,ct=g}break;case 30:break;default:ts(s,l)}}function Tv(s){var a=s.alternate;a!==null&&(s.alternate=null,Tv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Lf(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qe=null,Yt=!1;function Si(s,a,l){for(l=l.child;l!==null;)Cv(s,a,l),l=l.sibling}function Cv(s,a,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ao,l)}catch{}switch(l.tag){case 26:ct||Kn(l,a),Si(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||Kn(l,a);var u=Qe,m=Yt;ls(l.type)&&(Qe=l.stateNode,Yt=!1),Si(s,a,l),Zo(l.stateNode),Qe=u,Yt=m;break;case 5:ct||Kn(l,a);case 6:if(u=Qe,m=Yt,Qe=null,Si(s,a,l),Qe=u,Yt=m,Qe!==null)if(Yt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(g){je(l,a,g)}else try{Qe.removeChild(l.stateNode)}catch(g){je(l,a,g)}break;case 18:Qe!==null&&(Yt?(s=Qe,mb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),il(s)):mb(Qe,l.stateNode));break;case 4:u=Qe,m=Yt,Qe=l.stateNode.containerInfo,Yt=!0,Si(s,a,l),Qe=u,Yt=m;break;case 0:case 11:case 14:case 15:ct||es(2,l,a),ct||es(4,l,a),Si(s,a,l);break;case 1:ct||(Kn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&vv(l,a,u)),Si(s,a,l);break;case 21:Si(s,a,l);break;case 22:ct=(u=ct)||l.memoizedState!==null,Si(s,a,l),ct=u;break;default:Si(s,a,l)}}function Mv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{il(s)}catch(l){je(a,a.return,l)}}function WM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new xv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new xv),a;default:throw Error(i(435,s.tag))}}function im(s,a){var l=WM(s);a.forEach(function(u){var m=JM.bind(null,s,u);l.has(u)||(l.add(u),u.then(m,m))})}function an(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=s,v=a,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){Qe=S.stateNode,Yt=!1;break e}break;case 5:Qe=S.stateNode,Yt=!1;break e;case 3:case 4:Qe=S.stateNode.containerInfo,Yt=!0;break e}S=S.return}if(Qe===null)throw Error(i(160));Cv(g,v,m),Qe=null,Yt=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ov(a,s),a=a.sibling}var Ln=null;function Ov(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:an(a,s),on(s),u&4&&(es(3,s,s.return),Ho(3,s),es(5,s,s.return));break;case 1:an(a,s),on(s),u&512&&(ct||l===null||Kn(l,l.return)),u&64&&bi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Ln;if(an(a,s),on(s),u&512&&(ct||l===null||Kn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[co]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),At(g,u,l),g[Dt]=s,St(g),u=g;break e;case"link":var v=wb("link","href",m).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(g=v[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break t}}g=m.createElement(u),At(g,u,l),m.head.appendChild(g);break;case"meta":if(v=wb("meta","content",m).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(g=v[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break t}}g=m.createElement(u),At(g,u,l),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[Dt]=s,St(g),u=g}s.stateNode=u}else xb(m,s.type,s.stateNode);else s.stateNode=Sb(m,u,s.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?xb(m,s.type,s.stateNode):Sb(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Jd(s,s.memoizedProps,l.memoizedProps)}break;case 27:an(a,s),on(s),u&512&&(ct||l===null||Kn(l,l.return)),l!==null&&u&4&&Jd(s,s.memoizedProps,l.memoizedProps);break;case 5:if(an(a,s),on(s),u&512&&(ct||l===null||Kn(l,l.return)),s.flags&32){m=s.stateNode;try{Hr(m,"")}catch(P){je(s,s.return,P)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Jd(s,m,l!==null?l.memoizedProps:m)),u&1024&&(nm=!0);break;case 6:if(an(a,s),on(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(P){je(s,s.return,P)}}break;case 3:if(Tu=null,m=Ln,Ln=xu(a.containerInfo),an(a,s),Ln=m,on(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{il(a.containerInfo)}catch(P){je(s,s.return,P)}nm&&(nm=!1,Av(s));break;case 4:u=Ln,Ln=xu(s.stateNode.containerInfo),an(a,s),on(s),Ln=u;break;case 12:an(a,s),on(s);break;case 13:an(a,s),on(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cm=$n()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,im(s,u)));break;case 22:m=s.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,N=bi,B=ct;if(bi=N||m,ct=B||T,an(a,s),ct=B,bi=N,on(s),u&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||T||bi||ct||Js(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){T=l=a;try{if(g=T.stateNode,m)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=T.stateNode;var V=T.memoizedProps.style,I=V!=null&&V.hasOwnProperty("display")?V.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(P){je(T,T.return,P)}}}else if(a.tag===6){if(l===null){T=a;try{T.stateNode.nodeValue=m?"":T.memoizedProps}catch(P){je(T,T.return,P)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,im(s,l))));break;case 19:an(a,s),on(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,im(s,u)));break;case 30:break;case 21:break;default:an(a,s),on(s)}}function on(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Sv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=em(s);uu(s,g,m);break;case 5:var v=l.stateNode;l.flags&32&&(Hr(v,""),l.flags&=-33);var S=em(s);uu(s,S,v);break;case 3:case 4:var T=l.stateNode.containerInfo,N=em(s);tm(s,N,T);break;default:throw Error(i(161))}}catch(B){je(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Av(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Av(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ts(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ev(s,a.alternate,a),a=a.sibling}function Js(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:es(4,a,a.return),Js(a);break;case 1:Kn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&vv(a,a.return,l),Js(a);break;case 27:Zo(a.stateNode);case 26:case 5:Kn(a,a.return),Js(a);break;case 22:a.memoizedState===null&&Js(a);break;case 30:Js(a);break;default:Js(a)}s=s.sibling}}function ns(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,g=a,v=g.flags;switch(g.tag){case 0:case 11:case 15:ns(m,g,l),Ho(4,g);break;case 1:if(ns(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(N){je(u,u.return,N)}if(u=g,m=u.updateQueue,m!==null){var S=u.stateNode;try{var T=m.shared.hiddenCallbacks;if(T!==null)for(m.shared.hiddenCallbacks=null,m=0;m<T.length;m++)s0(T[m],S)}catch(N){je(u,u.return,N)}}l&&v&64&&_v(g),Bo(g,g.return);break;case 27:wv(g);case 26:case 5:ns(m,g,l),l&&u===null&&v&4&&bv(g),Bo(g,g.return);break;case 12:ns(m,g,l);break;case 13:ns(m,g,l),l&&v&4&&Mv(m,g);break;case 22:g.memoizedState===null&&ns(m,g,l),Bo(g,g.return);break;case 30:break;default:ns(m,g,l)}a=a.sibling}}function sm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&To(l))}function rm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&To(s))}function Qn(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Rv(s,a,l,u),a=a.sibling}function Rv(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(s,a,l,u),m&2048&&Ho(9,a);break;case 1:Qn(s,a,l,u);break;case 3:Qn(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&To(s)));break;case 12:if(m&2048){Qn(s,a,l,u),s=a.stateNode;try{var g=a.memoizedProps,v=g.id,S=g.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){je(a,a.return,T)}}else Qn(s,a,l,u);break;case 13:Qn(s,a,l,u);break;case 23:break;case 22:g=a.stateNode,v=a.alternate,a.memoizedState!==null?g._visibility&2?Qn(s,a,l,u):Fo(s,a):g._visibility&2?Qn(s,a,l,u):(g._visibility|=2,sa(s,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&sm(v,a);break;case 24:Qn(s,a,l,u),m&2048&&rm(a.alternate,a);break;default:Qn(s,a,l,u)}}function sa(s,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=s,v=a,S=l,T=u,N=v.flags;switch(v.tag){case 0:case 11:case 15:sa(g,v,S,T,m),Ho(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?sa(g,v,S,T,m):Fo(g,v):(B._visibility|=2,sa(g,v,S,T,m)),m&&N&2048&&sm(v.alternate,v);break;case 24:sa(g,v,S,T,m),m&&N&2048&&rm(v.alternate,v);break;default:sa(g,v,S,T,m)}a=a.sibling}}function Fo(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:Fo(l,u),m&2048&&sm(u.alternate,u);break;case 24:Fo(l,u),m&2048&&rm(u.alternate,u);break;default:Fo(l,u)}a=a.sibling}}var Vo=8192;function ra(s){if(s.subtreeFlags&Vo)for(s=s.child;s!==null;)kv(s),s=s.sibling}function kv(s){switch(s.tag){case 26:ra(s),s.flags&Vo&&s.memoizedState!==null&&AO(Ln,s.memoizedState,s.memoizedProps);break;case 5:ra(s);break;case 3:case 4:var a=Ln;Ln=xu(s.stateNode.containerInfo),ra(s),Ln=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Vo,Vo=16777216,ra(s),Vo=a):ra(s));break;default:ra(s)}}function Dv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function jo(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xt=u,Iv(u,s)}Dv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nv(s),s=s.sibling}function Nv(s){switch(s.tag){case 0:case 11:case 15:jo(s),s.flags&2048&&es(9,s,s.return);break;case 3:jo(s);break;case 12:jo(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,hu(s)):jo(s);break;default:jo(s)}}function hu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xt=u,Iv(u,s)}Dv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:es(8,a,a.return),hu(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,hu(a));break;default:hu(a)}s=s.sibling}}function Iv(s,a){for(;xt!==null;){var l=xt;switch(l.tag){case 0:case 11:case 15:es(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:To(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xt=u;else e:for(l=s;xt!==null;){u=xt;var m=u.sibling,g=u.return;if(Tv(u),u===l){xt=null;break e}if(m!==null){m.return=g,xt=m;break e}xt=g}}}var qM={getCacheForType:function(s){var a=Nt(gt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},YM=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,xe=null,Ce=0,Pe=0,ln=null,is=!1,aa=!1,am=!1,wi=0,it=0,ss=0,er=0,om=0,Sn=0,oa=0,Wo=null,Gt=null,lm=!1,cm=0,fu=1/0,du=null,rs=null,Ot=0,as=null,la=null,ca=0,um=0,hm=null,Lv=null,qo=0,fm=null;function cn(){if((Le&2)!==0&&Ce!==0)return Ce&-Ce;if(z.T!==null){var s=Xr;return s!==0?s:vm()}return Ky()}function Pv(){Sn===0&&(Sn=(Ce&536870912)===0||De?Gy():536870912);var s=bn.current;return s!==null&&(s.flags|=32),Sn}function un(s,a,l){(s===Ye&&(Pe===2||Pe===9)||s.cancelPendingCommit!==null)&&(ua(s,0),os(s,Ce,Sn,!1)),lo(s,l),((Le&2)===0||s!==Ye)&&(s===Ye&&((Le&2)===0&&(er|=l),it===4&&os(s,Ce,Sn,!1)),Jn(s))}function zv(s,a,l){if((Le&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||oo(s,a),m=u?ZM(s,a):gm(s,a,!0),g=u;do{if(m===0){aa&&!u&&os(s,a,0,!1);break}else{if(l=s.current.alternate,g&&!GM(l)){m=gm(s,a,!1),g=!1;continue}if(m===2){if(g=a,s.errorRecoveryDisabledLanes&g)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var S=s;m=Wo;var T=S.current.memoizedState.isDehydrated;if(T&&(ua(S,v).flags|=256),v=gm(S,v,!1),v!==2){if(am&&!T){S.errorRecoveryDisabledLanes|=g,er|=g,m=4;break e}g=Gt,Gt=m,g!==null&&(Gt===null?Gt=g:Gt.push.apply(Gt,g))}m=v}if(g=!1,m!==2)continue}}if(m===1){ua(s,0),os(s,a,0,!0);break}e:{switch(u=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:os(u,a,Sn,!is);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=cm+300-$n(),10<m)){if(os(u,a,Sn,!is),Ec(u,0,!0)!==0)break e;u.timeoutHandle=fb(Uv.bind(null,u,l,Gt,du,lm,a,Sn,er,oa,is,g,2,-0,0),m);break e}Uv(u,l,Gt,du,lm,a,Sn,er,oa,is,g,0,-0,0)}}break}while(!0);Jn(s)}function Uv(s,a,l,u,m,g,v,S,T,N,B,V,I,P){if(s.timeoutHandle=-1,V=a.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:OO},kv(a),V=RO(),V!==null)){s.cancelPendingCommit=V(qv.bind(null,s,a,g,l,u,m,v,S,T,B,1,I,P)),os(s,g,v,!N);return}qv(s,a,g,l,u,m,v,S,T)}function GM(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!sn(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function os(s,a,l,u){a&=~om,a&=~er,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var g=31-nn(m),v=1<<g;u[g]=-1,m&=~v}l!==0&&Zy(s,l,a)}function mu(){return(Le&6)===0?(Yo(0),!1):!0}function dm(){if(xe!==null){if(Pe===0)var s=xe.return;else s=xe,mi=$s=null,Rd(s),na=null,Po=0,s=xe;for(;s!==null;)yv(s.alternate,s),s=s.return;xe=null}}function ua(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,hO(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),dm(),Ye=s,xe=l=hi(s.current,null),Ce=a,Pe=0,ln=null,is=!1,aa=oo(s,a),am=!1,oa=Sn=om=er=ss=it=0,Gt=Wo=null,lm=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-nn(u),g=1<<m;a|=s[m],u&=~g}return wi=a,Pc(),l}function Hv(s,a){_e=null,z.H=tu,a===Mo||a===qc?(a=n0(),Pe=3):a===J_?(a=n0(),Pe=4):Pe=a===iv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ln=a,xe===null&&(it=1,au(s,pn(a,s.current)))}function Bv(){var s=z.H;return z.H=tu,s===null?tu:s}function Fv(){var s=z.A;return z.A=qM,s}function mm(){it=4,is||(Ce&4194048)!==Ce&&bn.current!==null||(aa=!0),(ss&134217727)===0&&(er&134217727)===0||Ye===null||os(Ye,Ce,Sn,!1)}function gm(s,a,l){var u=Le;Le|=2;var m=Bv(),g=Fv();(Ye!==s||Ce!==a)&&(du=null,ua(s,a)),a=!1;var v=it;e:do try{if(Pe!==0&&xe!==null){var S=xe,T=ln;switch(Pe){case 8:dm(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(a=!0);var N=Pe;if(Pe=0,ln=null,ha(s,S,T,N),l&&aa){v=0;break e}break;default:N=Pe,Pe=0,ln=null,ha(s,S,T,N)}}$M(),v=it;break}catch(B){Hv(s,B)}while(!0);return a&&s.shellSuspendCounter++,mi=$s=null,Le=u,z.H=m,z.A=g,xe===null&&(Ye=null,Ce=0,Pc()),v}function $M(){for(;xe!==null;)Vv(xe)}function ZM(s,a){var l=Le;Le|=2;var u=Bv(),m=Fv();Ye!==s||Ce!==a?(du=null,fu=$n()+500,ua(s,a)):aa=oo(s,a);e:do try{if(Pe!==0&&xe!==null){a=xe;var g=ln;t:switch(Pe){case 1:Pe=0,ln=null,ha(s,a,g,1);break;case 2:case 9:if(e0(g)){Pe=0,ln=null,jv(a);break}a=function(){Pe!==2&&Pe!==9||Ye!==s||(Pe=7),Jn(s)},g.then(a,a);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:e0(g)?(Pe=0,ln=null,jv(a)):(Pe=0,ln=null,ha(s,a,g,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var S=xe;if(!v||Eb(v)){Pe=0,ln=null;var T=S.sibling;if(T!==null)xe=T;else{var N=S.return;N!==null?(xe=N,gu(N)):xe=null}break t}}Pe=0,ln=null,ha(s,a,g,5);break;case 6:Pe=0,ln=null,ha(s,a,g,6);break;case 8:dm(),it=6;break e;default:throw Error(i(462))}}XM();break}catch(B){Hv(s,B)}while(!0);return mi=$s=null,z.H=u,z.A=m,Le=l,xe!==null?0:(Ye=null,Ce=0,Pc(),it)}function XM(){for(;xe!==null&&!_2();)Vv(xe)}function Vv(s){var a=gv(s.alternate,s,wi);s.memoizedProps=s.pendingProps,a===null?gu(s):xe=a}function jv(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=cv(l,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=cv(l,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:Rd(a);default:yv(l,a),a=xe=W_(a,wi),a=gv(l,a,wi)}s.memoizedProps=s.pendingProps,a===null?gu(s):xe=a}function ha(s,a,l,u){mi=$s=null,Rd(a),na=null,Po=0;var m=a.return;try{if(HM(s,m,a,l,Ce)){it=1,au(s,pn(l,s.current)),xe=null;return}}catch(g){if(m!==null)throw xe=m,g;it=1,au(s,pn(l,s.current)),xe=null;return}a.flags&32768?(De||u===1?s=!0:aa||(Ce&536870912)!==0?s=!1:(is=s=!0,(u===2||u===9||u===3||u===6)&&(u=bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wv(a,s)):gu(a)}function gu(s){var a=s;do{if((a.flags&32768)!==0){Wv(a,is);return}s=a.return;var l=FM(a.alternate,a,wi);if(l!==null){xe=l;return}if(a=a.sibling,a!==null){xe=a;return}xe=a=s}while(a!==null);it===0&&(it=5)}function Wv(s,a){do{var l=VM(s.alternate,s);if(l!==null){l.flags&=32767,xe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){xe=s;return}xe=s=l}while(s!==null);it=6,xe=null}function qv(s,a,l,u,m,g,v,S,T){s.cancelPendingCommit=null;do pu();while(Ot!==0);if((Le&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=rd,O2(s,l,g,v,S,T),s===Ye&&(xe=Ye=null,Ce=0),la=a,as=s,ca=l,um=g,hm=m,Lv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eO(Sc,function(){return Xv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,m=q.p,q.p=2,v=Le,Le|=4;try{jM(s,a,l)}finally{Le=v,q.p=m,z.T=u}}Ot=1,Yv(),Gv(),$v()}}function Yv(){if(Ot===1){Ot=0;var s=as,a=la,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=q.p;q.p=2;var m=Le;Le|=4;try{Ov(a,s);var g=Mm,v=I_(s.containerInfo),S=g.focusedElem,T=g.selectionRange;if(v!==S&&S&&S.ownerDocument&&N_(S.ownerDocument.documentElement,S)){if(T!==null&&ed(S)){var N=T.start,B=T.end;if(B===void 0&&(B=N),"selectionStart"in S)S.selectionStart=N,S.selectionEnd=Math.min(B,S.value.length);else{var V=S.ownerDocument||document,I=V&&V.defaultView||window;if(I.getSelection){var P=I.getSelection(),fe=S.textContent.length,le=Math.min(T.start,fe),Be=T.end===void 0?le:Math.min(T.end,fe);!P.extend&&le>Be&&(v=Be,Be=le,le=v);var k=D_(S,le),O=D_(S,Be);if(k&&O&&(P.rangeCount!==1||P.anchorNode!==k.node||P.anchorOffset!==k.offset||P.focusNode!==O.node||P.focusOffset!==O.offset)){var D=V.createRange();D.setStart(k.node,k.offset),P.removeAllRanges(),le>Be?(P.addRange(D),P.extend(O.node,O.offset)):(D.setEnd(O.node,O.offset),P.addRange(D))}}}}for(V=[],P=S;P=P.parentNode;)P.nodeType===1&&V.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<V.length;S++){var F=V[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ou=!!Cm,Mm=Cm=null}finally{Le=m,q.p=u,z.T=l}}s.current=a,Ot=2}}function Gv(){if(Ot===2){Ot=0;var s=as,a=la,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=q.p;q.p=2;var m=Le;Le|=4;try{Ev(s,a.alternate,a)}finally{Le=m,q.p=u,z.T=l}}Ot=3}}function $v(){if(Ot===4||Ot===3){Ot=0,v2();var s=as,a=la,l=ca,u=Lv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,la=as=null,Zv(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(rs=null),Nf(l),a=a.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ao,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=z.T,m=q.p,q.p=2,z.T=null;try{for(var g=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];g(S.value,{componentStack:S.stack})}}finally{z.T=a,q.p=m}}(ca&3)!==0&&pu(),Jn(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===fm?qo++:(qo=0,fm=s):qo=0,Yo(0)}}function Zv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,To(a)))}function pu(s){return Yv(),Gv(),$v(),Xv()}function Xv(){if(Ot!==5)return!1;var s=as,a=um;um=0;var l=Nf(ca),u=z.T,m=q.p;try{q.p=32>l?32:l,z.T=null,l=hm,hm=null;var g=as,v=ca;if(Ot=0,la=as=null,ca=0,(Le&6)!==0)throw Error(i(331));var S=Le;if(Le|=4,Nv(g.current),Rv(g,g.current,v,l),Le=S,Yo(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ao,g)}catch{}return!0}finally{q.p=m,z.T=u,Zv(s,a)}}function Kv(s,a,l){a=pn(l,a),a=Wd(s.stateNode,a,2),s=Xi(s,a,2),s!==null&&(lo(s,2),Jn(s))}function je(s,a,l){if(s.tag===3)Kv(s,s,l);else for(;a!==null;){if(a.tag===3){Kv(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){s=pn(l,s),l=tv(2),u=Xi(a,l,2),u!==null&&(nv(l,u,a,s),lo(u,2),Jn(u));break}}a=a.return}}function pm(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new YM;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(am=!0,m.add(l),s=KM.bind(null,s,a,l),a.then(s,s))}function KM(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ye===s&&(Ce&l)===l&&(it===4||it===3&&(Ce&62914560)===Ce&&300>$n()-cm?(Le&2)===0&&ua(s,0):om|=l,oa===Ce&&(oa=0)),Jn(s)}function Qv(s,a){a===0&&(a=$y()),s=Yr(s,a),s!==null&&(lo(s,a),Jn(s))}function QM(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Qv(s,l)}function JM(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Qv(s,l)}function eO(s,a){return Af(s,a)}var yu=null,fa=null,ym=!1,_u=!1,_m=!1,tr=0;function Jn(s){s!==fa&&s.next===null&&(fa===null?yu=fa=s:fa=fa.next=s),_u=!0,ym||(ym=!0,nO())}function Yo(s,a){if(!_m&&_u){_m=!0;do for(var l=!1,u=yu;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var v=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-nn(42|s)+1)-1,g&=m&~(v&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,nb(u,g))}else g=Ce,g=Ec(u,u===Ye?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||oo(u,g)||(l=!0,nb(u,g));u=u.next}while(l);_m=!1}}function tO(){Jv()}function Jv(){_u=ym=!1;var s=0;tr!==0&&(uO()&&(s=tr),tr=0);for(var a=$n(),l=null,u=yu;u!==null;){var m=u.next,g=eb(u,a);g===0?(u.next=null,l===null?yu=m:l.next=m,m===null&&(fa=l)):(l=u,(s!==0||(g&3)!==0)&&(_u=!0)),u=m}Yo(s)}function eb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var v=31-nn(g),S=1<<v,T=m[v];T===-1?((S&l)===0||(S&u)!==0)&&(m[v]=M2(S,a)):T<=a&&(s.expiredLanes|=S),g&=~S}if(a=Ye,l=Ce,l=Ec(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Pe===2||Pe===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Rf(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||oo(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Rf(u),Nf(l)){case 2:case 8:l=qy;break;case 32:l=Sc;break;case 268435456:l=Yy;break;default:l=Sc}return u=tb.bind(null,s),l=Af(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Rf(u),s.callbackPriority=2,s.callbackNode=null,2}function tb(s,a){if(Ot!==0&&Ot!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(pu()&&s.callbackNode!==l)return null;var u=Ce;return u=Ec(s,s===Ye?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(zv(s,u,a),eb(s,$n()),s.callbackNode!=null&&s.callbackNode===l?tb.bind(null,s):null)}function nb(s,a){if(pu())return null;zv(s,a,!0)}function nO(){fO(function(){(Le&6)!==0?Af(Wy,tO):Jv()})}function vm(){return tr===0&&(tr=Gy()),tr}function ib(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ac(""+s)}function sb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function iO(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var g=ib((m[jt]||null).action),v=u.submitter;v&&(a=(a=v[jt]||null)?ib(a.formAction):v.getAttribute("formAction"),a!==null&&(g=a,v=null));var S=new Nc("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tr!==0){var T=v?sb(m,v):new FormData(m);Hd(l,{pending:!0,data:T,method:m.method,action:g},null,T)}}else typeof g=="function"&&(S.preventDefault(),T=v?sb(m,v):new FormData(m),Hd(l,{pending:!0,data:T,method:m.method,action:g},g,T))},currentTarget:m}]})}}for(var bm=0;bm<sd.length;bm++){var Sm=sd[bm],sO=Sm.toLowerCase(),rO=Sm[0].toUpperCase()+Sm.slice(1);In(sO,"on"+rO)}In(z_,"onAnimationEnd"),In(U_,"onAnimationIteration"),In(H_,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(wM,"onTransitionRun"),In(xM,"onTransitionStart"),In(EM,"onTransitionCancel"),In(B_,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function rb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var v=u.length-1;0<=v;v--){var S=u[v],T=S.instance,N=S.currentTarget;if(S=S.listener,T!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=N;try{g(m)}catch(B){ru(B)}m.currentTarget=null,g=T}else for(v=0;v<u.length;v++){if(S=u[v],T=S.instance,N=S.currentTarget,S=S.listener,T!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=N;try{g(m)}catch(B){ru(B)}m.currentTarget=null,g=T}}}}function Ee(s,a){var l=a[If];l===void 0&&(l=a[If]=new Set);var u=s+"__bubble";l.has(u)||(ab(a,s,2,!1),l.add(u))}function wm(s,a,l){var u=0;a&&(u|=4),ab(l,s,u,a)}var vu="_reactListening"+Math.random().toString(36).slice(2);function xm(s){if(!s[vu]){s[vu]=!0,Jy.forEach(function(l){l!=="selectionchange"&&(aO.has(l)||wm(l,!1,s),wm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[vu]||(a[vu]=!0,wm("selectionchange",!1,a))}}function ab(s,a,l,u){switch(Rb(a)){case 2:var m=NO;break;case 8:m=IO;break;default:m=zm}l=m.bind(null,a,l,s),m=void 0,!qf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Em(s,a,l,u,m){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===m)break;if(v===4)for(v=u.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;S!==null;){if(v=Nr(S),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){u=g=v;continue e}S=S.parentNode}}u=u.return}d_(function(){var N=g,B=jf(l),V=[];e:{var I=F_.get(s);if(I!==void 0){var P=Nc,fe=s;switch(s){case"keypress":if(kc(l)===0)break e;case"keydown":case"keyup":P=eM;break;case"focusin":fe="focus",P=Zf;break;case"focusout":fe="blur",P=Zf;break;case"beforeblur":case"afterblur":P=Zf;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=iM;break;case z_:case U_:case H_:P=q2;break;case B_:P=rM;break;case"scroll":case"scrollend":P=B2;break;case"wheel":P=oM;break;case"copy":case"cut":case"paste":P=G2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=__;break;case"toggle":case"beforetoggle":P=cM}var le=(a&4)!==0,Be=!le&&(s==="scroll"||s==="scrollend"),k=le?I!==null?I+"Capture":null:I;le=[];for(var O=N,D;O!==null;){var F=O;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||k===null||(F=ho(O,k),F!=null&&le.push($o(O,F,D))),Be)break;O=O.return}0<le.length&&(I=new P(I,fe,null,l,B),V.push({event:I,listeners:le}))}}if((a&7)===0){e:{if(I=s==="mouseover"||s==="pointerover",P=s==="mouseout"||s==="pointerout",I&&l!==Vf&&(fe=l.relatedTarget||l.fromElement)&&(Nr(fe)||fe[Dr]))break e;if((P||I)&&(I=B.window===B?B:(I=B.ownerDocument)?I.defaultView||I.parentWindow:window,P?(fe=l.relatedTarget||l.toElement,P=N,fe=fe?Nr(fe):null,fe!==null&&(Be=o(fe),le=fe.tag,fe!==Be||le!==5&&le!==27&&le!==6)&&(fe=null)):(P=null,fe=N),P!==fe)){if(le=p_,F="onMouseLeave",k="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(le=__,F="onPointerLeave",k="onPointerEnter",O="pointer"),Be=P==null?I:uo(P),D=fe==null?I:uo(fe),I=new le(F,O+"leave",P,l,B),I.target=Be,I.relatedTarget=D,F=null,Nr(B)===N&&(le=new le(k,O+"enter",fe,l,B),le.target=D,le.relatedTarget=Be,F=le),Be=F,P&&fe)t:{for(le=P,k=fe,O=0,D=le;D;D=da(D))O++;for(D=0,F=k;F;F=da(F))D++;for(;0<O-D;)le=da(le),O--;for(;0<D-O;)k=da(k),D--;for(;O--;){if(le===k||k!==null&&le===k.alternate)break t;le=da(le),k=da(k)}le=null}else le=null;P!==null&&ob(V,I,P,le,!1),fe!==null&&Be!==null&&ob(V,Be,fe,le,!0)}}e:{if(I=N?uo(N):window,P=I.nodeName&&I.nodeName.toLowerCase(),P==="select"||P==="input"&&I.type==="file")var ee=C_;else if(E_(I))if(M_)ee=vM;else{ee=yM;var be=pM}else P=I.nodeName,!P||P.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?N&&Ff(N.elementType)&&(ee=C_):ee=_M;if(ee&&(ee=ee(s,N))){T_(V,ee,l,B);break e}be&&be(s,I,N),s==="focusout"&&N&&I.type==="number"&&N.memoizedProps.value!=null&&Bf(I,"number",I.value)}switch(be=N?uo(N):window,s){case"focusin":(E_(be)||be.contentEditable==="true")&&(jr=be,td=N,bo=null);break;case"focusout":bo=td=jr=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,L_(V,l,B);break;case"selectionchange":if(SM)break;case"keydown":case"keyup":L_(V,l,B)}var ie;if(Kf)e:{switch(s){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Vr?w_(s,l)&&(ce="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(v_&&l.locale!=="ko"&&(Vr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Vr&&(ie=m_()):(Yi=B,Yf="value"in Yi?Yi.value:Yi.textContent,Vr=!0)),be=bu(N,ce),0<be.length&&(ce=new y_(ce,s,null,l,B),V.push({event:ce,listeners:be}),ie?ce.data=ie:(ie=x_(l),ie!==null&&(ce.data=ie)))),(ie=hM?fM(s,l):dM(s,l))&&(ce=bu(N,"onBeforeInput"),0<ce.length&&(be=new y_("onBeforeInput","beforeinput",null,l,B),V.push({event:be,listeners:ce}),be.data=ie)),iO(V,s,N,l,B)}rb(V,a)})}function $o(s,a,l){return{instance:s,listener:a,currentTarget:l}}function bu(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ho(s,l),m!=null&&u.unshift($o(s,m,g)),m=ho(s,a),m!=null&&u.push($o(s,m,g))),s.tag===3)return u;s=s.return}return[]}function da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ob(s,a,l,u,m){for(var g=a._reactName,v=[];l!==null&&l!==u;){var S=l,T=S.alternate,N=S.stateNode;if(S=S.tag,T!==null&&T===u)break;S!==5&&S!==26&&S!==27||N===null||(T=N,m?(N=ho(l,g),N!=null&&v.unshift($o(l,N,T))):m||(N=ho(l,g),N!=null&&v.push($o(l,N,T)))),l=l.return}v.length!==0&&s.push({event:a,listeners:v})}var oO=/\r\n?/g,lO=/\u0000|\uFFFD/g;function lb(s){return(typeof s=="string"?s:""+s).replace(oO,`
`).replace(lO,"")}function cb(s,a){return a=lb(a),lb(s)===a}function Su(){}function He(s,a,l,u,m,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Hr(s,""+u);break;case"className":Cc(s,"class",u);break;case"tabIndex":Cc(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cc(s,l,u);break;case"style":h_(s,u,g);break;case"data":if(a!=="object"){Cc(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ac(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&He(s,a,"name",m.name,m,null),He(s,a,"formEncType",m.formEncType,m,null),He(s,a,"formMethod",m.formMethod,m,null),He(s,a,"formTarget",m.formTarget,m,null)):(He(s,a,"encType",m.encType,m,null),He(s,a,"method",m.method,m,null),He(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ac(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Su);break;case"onScroll":u!=null&&Ee("scroll",s);break;case"onScrollEnd":u!=null&&Ee("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Ac(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ee("beforetoggle",s),Ee("toggle",s),Tc(s,"popover",u);break;case"xlinkActuate":ci(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ci(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ci(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ci(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ci(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ci(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ci(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ci(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ci(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tc(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=U2.get(l)||l,Tc(s,l,u))}}function Tm(s,a,l,u,m,g){switch(l){case"style":h_(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&Hr(s,""+u);break;case"onScroll":u!=null&&Ee("scroll",s);break;case"onScrollEnd":u!=null&&Ee("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!e_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=s[jt]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(a,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Tc(s,l,u)}}}function At(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",s),Ee("load",s);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var v=l[g];if(v!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:He(s,a,g,v,l,null)}}m&&He(s,a,"srcSet",l.srcSet,l,null),u&&He(s,a,"src",l.src,l,null);return;case"input":Ee("invalid",s);var S=g=v=m=null,T=null,N=null;for(u in l)if(l.hasOwnProperty(u)){var B=l[u];if(B!=null)switch(u){case"name":m=B;break;case"type":v=B;break;case"checked":T=B;break;case"defaultChecked":N=B;break;case"value":g=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,a));break;default:He(s,a,u,B,l,null)}}o_(s,g,S,T,N,v,m,!1),Mc(s);return;case"select":Ee("invalid",s),u=v=g=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:He(s,a,m,S,l,null)}a=g,l=v,s.multiple=!!u,a!=null?Ur(s,!!u,a,!1):l!=null&&Ur(s,!!u,l,!0);return;case"textarea":Ee("invalid",s),g=m=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:He(s,a,v,S,l,null)}c_(s,u,m,g),Mc(s);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(u=l[T],u!=null))switch(T){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(s,a,T,u,l,null)}return;case"dialog":Ee("beforetoggle",s),Ee("toggle",s),Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":Ee("load",s);break;case"video":case"audio":for(u=0;u<Go.length;u++)Ee(Go[u],s);break;case"image":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"embed":case"source":case"link":Ee("error",s),Ee("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in l)if(l.hasOwnProperty(N)&&(u=l[N],u!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:He(s,a,N,u,l,null)}return;default:if(Ff(a)){for(B in l)l.hasOwnProperty(B)&&(u=l[B],u!==void 0&&Tm(s,a,B,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&He(s,a,S,u,l,null))}function cO(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,v=null,S=null,T=null,N=null,B=null;for(P in l){var V=l[P];if(l.hasOwnProperty(P)&&V!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=V;default:u.hasOwnProperty(P)||He(s,a,P,null,u,V)}}for(var I in u){var P=u[I];if(V=l[I],u.hasOwnProperty(I)&&(P!=null||V!=null))switch(I){case"type":g=P;break;case"name":m=P;break;case"checked":N=P;break;case"defaultChecked":B=P;break;case"value":v=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:P!==V&&He(s,a,I,P,u,V)}}Hf(s,v,S,T,N,B,g,m);return;case"select":P=v=S=I=null;for(g in l)if(T=l[g],l.hasOwnProperty(g)&&T!=null)switch(g){case"value":break;case"multiple":P=T;default:u.hasOwnProperty(g)||He(s,a,g,null,u,T)}for(m in u)if(g=u[m],T=l[m],u.hasOwnProperty(m)&&(g!=null||T!=null))switch(m){case"value":I=g;break;case"defaultValue":S=g;break;case"multiple":v=g;default:g!==T&&He(s,a,m,g,u,T)}a=S,l=v,u=P,I!=null?Ur(s,!!l,I,!1):!!u!=!!l&&(a!=null?Ur(s,!!l,a,!0):Ur(s,!!l,l?[]:"",!1));return;case"textarea":P=I=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:He(s,a,S,null,u,m)}for(v in u)if(m=u[v],g=l[v],u.hasOwnProperty(v)&&(m!=null||g!=null))switch(v){case"value":I=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&He(s,a,v,m,u,g)}l_(s,I,P);return;case"option":for(var fe in l)if(I=l[fe],l.hasOwnProperty(fe)&&I!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":s.selected=!1;break;default:He(s,a,fe,null,u,I)}for(T in u)if(I=u[T],P=l[T],u.hasOwnProperty(T)&&I!==P&&(I!=null||P!=null))switch(T){case"selected":s.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:He(s,a,T,I,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)I=l[le],l.hasOwnProperty(le)&&I!=null&&!u.hasOwnProperty(le)&&He(s,a,le,null,u,I);for(N in u)if(I=u[N],P=l[N],u.hasOwnProperty(N)&&I!==P&&(I!=null||P!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:He(s,a,N,I,u,P)}return;default:if(Ff(a)){for(var Be in l)I=l[Be],l.hasOwnProperty(Be)&&I!==void 0&&!u.hasOwnProperty(Be)&&Tm(s,a,Be,void 0,u,I);for(B in u)I=u[B],P=l[B],!u.hasOwnProperty(B)||I===P||I===void 0&&P===void 0||Tm(s,a,B,I,u,P);return}}for(var k in l)I=l[k],l.hasOwnProperty(k)&&I!=null&&!u.hasOwnProperty(k)&&He(s,a,k,null,u,I);for(V in u)I=u[V],P=l[V],!u.hasOwnProperty(V)||I===P||I==null&&P==null||He(s,a,V,I,u,P)}var Cm=null,Mm=null;function wu(s){return s.nodeType===9?s:s.ownerDocument}function ub(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Om(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Am=null;function uO(){var s=window.event;return s&&s.type==="popstate"?s===Am?!1:(Am=s,!0):(Am=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,hO=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(s){return db.resolve(null).then(s).catch(dO)}:fb;function dO(s){setTimeout(function(){throw s})}function ls(s){return s==="head"}function mb(s,a){var l=a,u=0,m=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var v=s.ownerDocument;if(l&1&&Zo(v.documentElement),l&2&&Zo(v.body),l&4)for(l=v.head,Zo(l),v=l.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[co]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}if(m===0){s.removeChild(g),il(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);il(a)}function Rm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rm(l),Lf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function mO(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[co])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Pn(s.nextSibling),s===null)break}return null}function gO(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Pn(s.nextSibling),s===null))return null;return s}function km(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function pO(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Pn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Dm=null;function gb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function pb(s,a,l){switch(a=wu(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Zo(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Lf(s)}var wn=new Map,yb=new Set;function xu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xi=q.d;q.d={f:yO,r:_O,D:vO,C:bO,L:SO,m:wO,X:EO,S:xO,M:TO};function yO(){var s=xi.f(),a=mu();return s||a}function _O(s){var a=Ir(s);a!==null&&a.tag===5&&a.type==="form"?z0(a):xi.r(s)}var ma=typeof document>"u"?null:document;function _b(s,a,l){var u=ma;if(u&&typeof a=="string"&&a){var m=gn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),yb.has(m)||(yb.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),At(a,"link",s),St(a),u.head.appendChild(a)))}}function vO(s){xi.D(s),_b("dns-prefetch",s,null)}function bO(s,a){xi.C(s,a),_b("preconnect",s,a)}function SO(s,a,l){xi.L(s,a,l);var u=ma;if(u&&s&&a){var m='link[rel="preload"][as="'+gn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+gn(l.imageSizes)+'"]')):m+='[href="'+gn(s)+'"]';var g=m;switch(a){case"style":g=ga(s);break;case"script":g=pa(s)}wn.has(g)||(s=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),wn.set(g,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(Xo(g))||a==="script"&&u.querySelector(Ko(g))||(a=u.createElement("link"),At(a,"link",s),St(a),u.head.appendChild(a)))}}function wO(s,a){xi.m(s,a);var l=ma;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(s)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pa(s)}if(!wn.has(g)&&(s=p({rel:"modulepreload",href:s},a),wn.set(g,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ko(g)))return}u=l.createElement("link"),At(u,"link",s),St(u),l.head.appendChild(u)}}}function xO(s,a,l){xi.S(s,a,l);var u=ma;if(u&&s){var m=Lr(u).hoistableStyles,g=ga(s);a=a||"default";var v=m.get(g);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(Xo(g)))S.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},l),(l=wn.get(g))&&Nm(s,l);var T=v=u.createElement("link");St(T),At(T,"link",s),T._p=new Promise(function(N,B){T.onload=N,T.onerror=B}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Eu(v,a,u)}v={type:"stylesheet",instance:v,count:1,state:S},m.set(g,v)}}}function EO(s,a){xi.X(s,a);var l=ma;if(l&&s){var u=Lr(l).hoistableScripts,m=pa(s),g=u.get(m);g||(g=l.querySelector(Ko(m)),g||(s=p({src:s,async:!0},a),(a=wn.get(m))&&Im(s,a),g=l.createElement("script"),St(g),At(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function TO(s,a){xi.M(s,a);var l=ma;if(l&&s){var u=Lr(l).hoistableScripts,m=pa(s),g=u.get(m);g||(g=l.querySelector(Ko(m)),g||(s=p({src:s,async:!0,type:"module"},a),(a=wn.get(m))&&Im(s,a),g=l.createElement("script"),St(g),At(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function vb(s,a,l,u){var m=(m=ae.current)?xu(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ga(l.href),l=Lr(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ga(l.href);var g=Lr(m).hoistableStyles,v=g.get(s);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,v),(g=m.querySelector(Xo(s)))&&!g._p&&(v.instance=g,v.state.loading=5),wn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wn.set(s,l),g||CO(m,s,l,v.state))),a&&u===null)throw Error(i(528,""));return v}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pa(l),l=Lr(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ga(s){return'href="'+gn(s)+'"'}function Xo(s){return'link[rel="stylesheet"]['+s+"]"}function bb(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function CO(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),At(a,"link",l),St(a),s.head.appendChild(a))}function pa(s){return'[src="'+gn(s)+'"]'}function Ko(s){return"script[async]"+s}function Sb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+gn(l.href)+'"]');if(u)return a.instance=u,St(u),u;var m=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),St(u),At(u,"style",m),Eu(u,l.precedence,s),a.instance=u;case"stylesheet":m=ga(l.href);var g=s.querySelector(Xo(m));if(g)return a.state.loading|=4,a.instance=g,St(g),g;u=bb(l),(m=wn.get(m))&&Nm(u,m),g=(s.ownerDocument||s).createElement("link"),St(g);var v=g;return v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),At(g,"link",u),a.state.loading|=4,Eu(g,l.precedence,s),a.instance=g;case"script":return g=pa(l.src),(m=s.querySelector(Ko(g)))?(a.instance=m,St(m),m):(u=l,(m=wn.get(g))&&(u=p({},l),Im(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),St(m),At(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Eu(u,l.precedence,s));return a.instance}function Eu(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===a)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Nm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Im(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Tu=null;function wb(s,a,l){if(Tu===null){var u=new Map,m=Tu=new Map;m.set(l,u)}else m=Tu,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[co]||g[Dt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(a)||"";v=s+v;var S=u.get(v);S?S.push(g):u.set(v,[g])}}return u}function xb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function MO(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Eb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qo=null;function OO(){}function AO(s,a,l){if(Qo===null)throw Error(i(475));var u=Qo;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=ga(l.href),g=s.querySelector(Xo(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Cu.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=g,St(g);return}g=s.ownerDocument||s,l=bb(l),(m=wn.get(m))&&Nm(l,m),g=g.createElement("link"),St(g);var v=g;v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),At(g,"link",l),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Cu.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function RO(){if(Qo===null)throw Error(i(475));var s=Qo;return s.stylesheets&&s.count===0&&Lm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lm(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mu=null;function Lm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mu=new Map,a.forEach(kO,s),Mu=null,Cu.call(s))}function kO(s,a){if(!(a.state.loading&4)){var l=Mu.get(s);if(l)var u=l.get(null);else{l=new Map,Mu.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var v=m[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}m=a.instance,v=m.getAttribute("data-precedence"),g=l.get(v)||u,g===u&&l.set(null,m),l.set(v,m),this.count++,u=Cu.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Jo={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function DO(s,a,l,u,m,g,v,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.hiddenUpdates=kf(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Tb(s,a,l,u,m,g,v,S,T,N,B,V){return s=new DO(s,a,l,v,S,T,N,V),a=1,g===!0&&(a|=24),g=rn(3,null,null,a),s.current=g,g.stateNode=s,a=pd(),a.refCount++,s.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},bd(g),s}function Cb(s){return s?(s=Gr,s):Gr}function Mb(s,a,l,u,m,g){m=Cb(m),u.context===null?u.context=m:u.pendingContext=m,u=Zi(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Xi(s,u,a),l!==null&&(un(l,s,a),Ao(l,s,a))}function Ob(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Pm(s,a){Ob(s,a),(s=s.alternate)&&Ob(s,a)}function Ab(s){if(s.tag===13){var a=Yr(s,67108864);a!==null&&un(a,s,67108864),Pm(s,67108864)}}var Ou=!0;function NO(s,a,l,u){var m=z.T;z.T=null;var g=q.p;try{q.p=2,zm(s,a,l,u)}finally{q.p=g,z.T=m}}function IO(s,a,l,u){var m=z.T;z.T=null;var g=q.p;try{q.p=8,zm(s,a,l,u)}finally{q.p=g,z.T=m}}function zm(s,a,l,u){if(Ou){var m=Um(u);if(m===null)Em(s,a,u,Au,l),kb(s,u);else if(PO(m,s,a,l,u))u.stopPropagation();else if(kb(s,u),a&4&&-1<LO.indexOf(s)){for(;m!==null;){var g=Ir(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=Us(g.pendingLanes);if(v!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var T=1<<31-nn(v);S.entanglements[1]|=T,v&=~T}Jn(g),(Le&6)===0&&(fu=$n()+500,Yo(0))}}break;case 13:S=Yr(g,2),S!==null&&un(S,g,2),mu(),Pm(g,2)}if(g=Um(u),g===null&&Em(s,a,u,Au,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else Em(s,a,u,null,l)}}function Um(s){return s=jf(s),Hm(s)}var Au=null;function Hm(s){if(Au=null,s=Nr(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Au=s,null}function Rb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b2()){case Wy:return 2;case qy:return 8;case Sc:case S2:return 32;case Yy:return 268435456;default:return 32}default:return 32}}var Bm=!1,cs=null,us=null,hs=null,el=new Map,tl=new Map,fs=[],LO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(s,a){switch(s){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":el.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(a.pointerId)}}function nl(s,a,l,u,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},a!==null&&(a=Ir(a),a!==null&&Ab(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function PO(s,a,l,u,m){switch(a){case"focusin":return cs=nl(cs,s,a,l,u,m),!0;case"dragenter":return us=nl(us,s,a,l,u,m),!0;case"mouseover":return hs=nl(hs,s,a,l,u,m),!0;case"pointerover":var g=m.pointerId;return el.set(g,nl(el.get(g)||null,s,a,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,tl.set(g,nl(tl.get(g)||null,s,a,l,u,m)),!0}return!1}function Db(s){var a=Nr(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,A2(s.priority,function(){if(l.tag===13){var u=cn();u=Df(u);var m=Yr(l,u);m!==null&&un(m,l,u),Pm(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ru(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Um(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Vf=u,l.target.dispatchEvent(u),Vf=null}else return a=Ir(l),a!==null&&Ab(a),s.blockedOn=l,!1;a.shift()}return!0}function Nb(s,a,l){Ru(s)&&l.delete(a)}function zO(){Bm=!1,cs!==null&&Ru(cs)&&(cs=null),us!==null&&Ru(us)&&(us=null),hs!==null&&Ru(hs)&&(hs=null),el.forEach(Nb),tl.forEach(Nb)}function ku(s,a){s.blockedOn===a&&(s.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zO)))}var Du=null;function Ib(s){Du!==s&&(Du=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Du===s&&(Du=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(Hm(u||l)===null)continue;break}var g=Ir(l);g!==null&&(s.splice(a,3),a-=3,Hd(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function il(s){function a(T){return ku(T,s)}cs!==null&&ku(cs,s),us!==null&&ku(us,s),hs!==null&&ku(hs,s),el.forEach(a),tl.forEach(a);for(var l=0;l<fs.length;l++){var u=fs[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<fs.length&&(l=fs[0],l.blockedOn===null);)Db(l),l.blockedOn===null&&fs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],v=m[jt]||null;if(typeof g=="function")v||Ib(l);else if(v){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,v=g[jt]||null)S=v.formAction;else if(Hm(m)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Ib(l)}}}function Fm(s){this._internalRoot=s}Nu.prototype.render=Fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=cn();Mb(l,u,s,a,null,null)},Nu.prototype.unmount=Fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Mb(s.current,2,null,s,null,null),mu(),a[Dr]=null}};function Nu(s){this._internalRoot=s}Nu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ky();s={blockedOn:null,target:s,priority:a};for(var l=0;l<fs.length&&a!==0&&a<fs[l].priority;l++);fs.splice(l,0,s),l===0&&Db(s)}};var Lb=e.version;if(Lb!=="19.1.1")throw Error(i(527,Lb,"19.1.1"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var UO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{ao=Iu.inject(UO),tn=Iu}catch{}}return rl.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=K0,g=Q0,v=J0,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=Tb(s,1,!1,null,null,l,u,m,g,v,S,null),s[Dr]=a.current,xm(s),new Fm(a)},rl.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",g=K0,v=Q0,S=J0,T=null,N=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(N=l.formState)),a=Tb(s,1,!0,a,l??null,u,m,g,v,S,T,N),a.context=Cb(null),l=a.current,u=cn(),u=Df(u),m=Zi(u),m.callback=null,Xi(l,m,u),l=u,a.current.lanes=l,lo(a,l),Jn(a),s[Dr]=a.current,xm(s),new Nu(a)},rl.version="19.1.1",rl}var qb;function ZO(){if(qb)return Wm.exports;qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wm.exports=$O(),Wm.exports}var XO=ZO();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yb="popstate";function KO(n={}){function e(i,r){let{pathname:o,search:c,hash:h}=i.location;return kg("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Il(r)}return JO(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QO(){return Math.random().toString(36).substring(2,10)}function Gb(n,e){return{usr:n.state,key:n.key,idx:e}}function kg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:t,key:e&&e.key||i||QO()}}function Il({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function JO(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function y(){h="POP";let E=p(),C=E==null?null:E-d;d=E,f&&f({action:h,location:x.location,delta:C})}function _(E,C){h="PUSH";let R=kg(x.location,E,C);d=p()+1;let U=Gb(R,d),j=x.createHref(R);try{c.pushState(U,"",j)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(j)}o&&f&&f({action:h,location:x.location,delta:1})}function b(E,C){h="REPLACE";let R=kg(x.location,E,C);d=p();let U=Gb(R,d),j=x.createHref(R);c.replaceState(U,"",j),o&&f&&f({action:h,location:x.location,delta:0})}function w(E){return eA(E)}let x={get action(){return h},get location(){return n(r,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Yb,y),f=E,()=>{r.removeEventListener(Yb,y),f=null}},createHref(E){return e(r,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(E){return c.go(E)}};return x}function eA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Il(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Kw(n,e,t="/"){return tA(n,e,t,!1)}function tA(n,e,t,i){let r=typeof e=="string"?Wa(e):e,o=zi(r.pathname||"/",t);if(o==null)return null;let c=Qw(n);nA(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let d=dA(o);h=hA(c[f],d,i)}return h}function Qw(n,e=[],t=[],i="",r=!1){let o=(c,h,f=r,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Li([i,p.relativePath]),_=t.concat(p);c.children&&c.children.length>0&&(tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Qw(c.children,e,_,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:cA(y,c.index),routesMeta:_})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of Jw(c.path))o(c,h,!0,f)}),e}function Jw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=Jw(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function nA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var iA=/^:[\w-]+$/,sA=3,rA=2,aA=1,oA=10,lA=-2,$b=n=>n==="*";function cA(n,e){let t=n.split("/"),i=t.length;return t.some($b)&&(i+=lA),e&&(i+=rA),t.filter(r=>!$b(r)).reduce((r,o)=>r+(iA.test(o)?sA:o===""?aA:oA),i)}function uA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function hA(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),_=f.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:Li([o,y.pathname]),pathnameBase:yA(Li([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Li([o,y.pathnameBase]))}return c}function ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=fA(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let w=h[_]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[_];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function fA(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function dA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function mA(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Wa(n):n;return{pathname:t?t.startsWith("/")?t:gA(t,e):e,search:_A(i),hash:vA(r)}}function gA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function $m(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ex(n){let e=pA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function tx(n,e,t,i=!1){let r;typeof n=="string"?r=Wa(n):(r={...n},tt(!r.pathname||!r.pathname.includes("?"),$m("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),$m("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),$m("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;r.pathname=_.join("/")}h=y>=0?e[y]:"/"}let f=mA(r,h),d=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),yA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nx=["POST","PUT","PATCH","DELETE"];new Set(nx);var SA=["GET",...nx];new Set(SA);var qa=L.createContext(null);qa.displayName="DataRouter";var ef=L.createContext(null);ef.displayName="DataRouterState";L.createContext(!1);var ix=L.createContext({isTransitioning:!1});ix.displayName="ViewTransition";var wA=L.createContext(new Map);wA.displayName="Fetchers";var xA=L.createContext(null);xA.displayName="Await";var oi=L.createContext(null);oi.displayName="Navigation";var Jl=L.createContext(null);Jl.displayName="Location";var Vi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var _p=L.createContext(null);_p.displayName="RouteError";function EA(n,{relative:e}={}){tt(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(oi),{hash:r,pathname:o,search:c}=tc(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Li([t,o])),i.createHref({pathname:h,search:c,hash:r})}function ec(){return L.useContext(Jl)!=null}function Cr(){return tt(ec(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Jl).location}var sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rx(n){L.useContext(oi).static||L.useLayoutEffect(n)}function TA(){let{isDataRoute:n}=L.useContext(Vi);return n?UA():CA()}function CA(){tt(ec(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(qa),{basename:e,navigator:t}=L.useContext(oi),{matches:i}=L.useContext(Vi),{pathname:r}=Cr(),o=JSON.stringify(ex(i)),c=L.useRef(!1);return rx(()=>{c.current=!0}),L.useCallback((f,d={})=>{if(ri(c.current,sx),!c.current)return;if(typeof f=="number"){t.go(f);return}let p=tx(f,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Li([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,r,n])}L.createContext(null);function tc(n,{relative:e}={}){let{matches:t}=L.useContext(Vi),{pathname:i}=Cr(),r=JSON.stringify(ex(t));return L.useMemo(()=>tx(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function MA(n,e){return ax(n,e)}function ax(n,e,t,i,r){tt(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(oi),{matches:c}=L.useContext(Vi),h=c[c.length-1],f=h?h.params:{},d=h?h.pathname:"/",p=h?h.pathnameBase:"/",y=h&&h.route;{let R=y&&y.path||"";ox(d,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=Cr(),b;if(e){let R=typeof e=="string"?Wa(e):e;tt(p==="/"||R.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=_;let w=b.pathname||"/",x=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=Kw(n,{pathname:x});ri(y||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ri(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=DA(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Li([p,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Li([p,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,t,i,r);return e&&C?L.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function OA(){let n=zA(),e=bA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:r},t):null,c)}var AA=L.createElement(OA,null),RA=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(Vi.Provider,{value:this.props.routeContext},L.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kA({routeContext:n,match:e,children:t}){let i=L.useContext(qa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Vi.Provider,{value:n},t)}function DA(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let d=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,f=-1;if(t)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:y,errors:_}=t,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let _,b=!1,w=null,x=null;t&&(_=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||AA,h&&(f<0&&y===0?(ox("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===y&&(b=!0,x=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),C=()=>{let R;return _?R=w:b?R=x:p.route.Component?R=L.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=d,L.createElement(kA,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?L.createElement(RA,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):C()},null)}function vp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(n){let e=L.useContext(qa);return tt(e,vp(n)),e}function IA(n){let e=L.useContext(ef);return tt(e,vp(n)),e}function LA(n){let e=L.useContext(Vi);return tt(e,vp(n)),e}function bp(n){let e=LA(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PA(){return bp("useRouteId")}function zA(){let n=L.useContext(_p),e=IA("useRouteError"),t=bp("useRouteError");return n!==void 0?n:e.errors?.[t]}function UA(){let{router:n}=NA("useNavigate"),e=bp("useNavigate"),t=L.useRef(!1);return rx(()=>{t.current=!0}),L.useCallback(async(r,o={})=>{ri(t.current,sx),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Zb={};function ox(n,e,t){!e&&!Zb[n]&&(Zb[n]=!0,ri(!1,t))}L.memo(HA);function HA({routes:n,future:e,state:t,unstable_onError:i}){return ax(n,void 0,t,i,e)}function xa(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){tt(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof t=="string"&&(t=Wa(t));let{pathname:f="/",search:d="",hash:p="",state:y=null,key:_="default"}=t,b=L.useMemo(()=>{let w=zi(f,c);return w==null?null:{location:{pathname:w,search:d,hash:p,state:y,key:_},navigationType:i}},[c,f,d,p,y,_,i]);return ri(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(oi.Provider,{value:h},L.createElement(Jl.Provider,{children:e,value:b}))}function FA({children:n,location:e}){return MA(Dg(n),e)}function Dg(n,e=[]){let t=[];return L.Children.forEach(n,(i,r)=>{if(!L.isValidElement(i))return;let o=[...e,r];if(i.type===L.Fragment){t.push.apply(t,Dg(i.props.children,o));return}tt(i.type===xa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Dg(i.props.children,o)),t.push(c)}),t}var ih="get",sh="application/x-www-form-urlencoded";function tf(n){return n!=null&&typeof n.tagName=="string"}function VA(n){return tf(n)&&n.tagName.toLowerCase()==="button"}function jA(n){return tf(n)&&n.tagName.toLowerCase()==="form"}function WA(n){return tf(n)&&n.tagName.toLowerCase()==="input"}function qA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YA(n,e){return n.button===0&&(!e||e==="_self")&&!qA(n)}var Lu=null;function GA(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zm(n){return n!=null&&!$A.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):n}function ZA(n,e){let t,i,r,o,c;if(jA(n)){let h=n.getAttribute("action");i=h?zi(h,e):null,t=n.getAttribute("method")||ih,r=Zm(n.getAttribute("enctype"))||sh,o=new FormData(n)}else if(VA(n)||WA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?zi(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ih,r=Zm(n.getAttribute("formenctype"))||Zm(h.getAttribute("enctype"))||sh,o=new FormData(h,n),!GA()){let{name:d,type:p,value:y}=n;if(p==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(tf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ih,i=null,r=sh,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function XA(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&zi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function KA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function JA(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await KA(o,t);return c.links?c.links():[]}return[]}));return iR(i.flat(1).filter(QA).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Xb(n,e,t,i,r,o){let c=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>c(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function eR(n,e,{includeHydrateFallback:t}={}){return tR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function tR(n){return[...new Set(n)]}function nR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function iR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(nR(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function lx(){let n=L.useContext(qa);return Sp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sR(){let n=L.useContext(ef);return Sp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wp=L.createContext(void 0);wp.displayName="FrameworkContext";function cx(){let n=L.useContext(wp);return Sp(n,"You must render this element inside a <HydratedRouter> element"),n}function rR(n,e){let t=L.useContext(wp),[i,r]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,_=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=C=>{C.forEach(R=>{c(R.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[n]),L.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{r(!0)},w=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:al(h,b),onBlur:al(f,w),onMouseEnter:al(d,b),onMouseLeave:al(p,w),onTouchStart:al(y,b)}]:[!1,_,{}]}function al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function aR({page:n,...e}){let{router:t}=lx(),i=L.useMemo(()=>Kw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(lR,{page:n,matches:i,...e}):null}function oR(n){let{manifest:e,routeModules:t}=cx(),[i,r]=L.useState([]);return L.useEffect(()=>{let o=!1;return JA(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),i}function lR({page:n,matches:e,...t}){let i=Cr(),{manifest:r,routeModules:o}=cx(),{basename:c}=lx(),{loaderData:h,matches:f}=sR(),d=L.useMemo(()=>Xb(n,e,f,r,i,"data"),[n,e,f,r,i]),p=L.useMemo(()=>Xb(n,e,f,r,i,"assets"),[n,e,f,r,i]),y=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(e.forEach(C=>{let R=r.routes[C.route.id];!R||!R.hasLoader||(!d.some(U=>U.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||R.hasClientLoader?x=!0:w.add(C.route.id))}),w.size===0)return[];let E=XA(n,c,"data");return x&&w.size>0&&E.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[c,h,i,r,d,e,n,o]),_=L.useMemo(()=>eR(p,r),[p,r]),b=oR(p);return L.createElement(L.Fragment,null,y.map(w=>L.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),_.map(w=>L.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:x})=>L.createElement("link",{key:w,nonce:t.nonce,...x})))}function cR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ux&&(window.__reactRouterVersion="7.8.2")}catch{}function uR({basename:n,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=KO({window:t,v5Compat:!0}));let r=i.current,[o,c]=L.useState({action:r.action,location:r.location}),h=L.useCallback(f=>{L.startTransition(()=>c(f))},[c]);return L.useLayoutEffect(()=>r.listen(h),[r,h]),L.createElement(BA,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:d,preventScrollReset:p,viewTransition:y,..._},b){let{basename:w}=L.useContext(oi),x=typeof d=="string"&&hx.test(d),E,C=!1;if(typeof d=="string"&&x&&(E=d,ux))try{let J=new URL(window.location.href),se=d.startsWith("//")?new URL(J.protocol+d):new URL(d),re=zi(se.pathname,w);se.origin===J.origin&&re!=null?d=re+se.search+se.hash:C=!0}catch{ri(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=EA(d,{relative:r}),[U,j,H]=rR(i,_),$=mR(d,{replace:c,state:h,target:f,preventScrollReset:p,relative:r,viewTransition:y});function K(J){e&&e(J),J.defaultPrevented||$(J)}let Q=L.createElement("a",{..._,...H,href:E||R,onClick:C||o?e:K,ref:cR(b,j),target:f,"data-discover":!x&&t==="render"?"true":void 0});return U&&!x?L.createElement(L.Fragment,null,Q,L.createElement(aR,{page:R})):Q});ur.displayName="Link";var hR=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...d},p){let y=tc(c,{relative:d.relative}),_=Cr(),b=L.useContext(ef),{navigator:w,basename:x}=L.useContext(oi),E=b!=null&&vR(y)&&h===!0,C=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,R=_.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(R=R.toLowerCase(),U=U?U.toLowerCase():null,C=C.toLowerCase()),U&&x&&(U=zi(U,x)||U);const j=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=R===C||!r&&R.startsWith(C)&&R.charAt(j)==="/",$=U!=null&&(U===C||!r&&U.startsWith(C)&&U.charAt(C.length)==="/"),K={isActive:H,isPending:$,isTransitioning:E},Q=H?e:void 0,J;typeof i=="function"?J=i(K):J=[i,H?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(K):o;return L.createElement(ur,{...d,"aria-current":Q,className:J,ref:p,style:se,to:c,viewTransition:h},typeof f=="function"?f(K):f)});hR.displayName="NavLink";var fR=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:c=ih,action:h,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:y,..._},b)=>{let w=yR(),x=_R(h,{relative:d}),E=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&hx.test(h),R=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let j=U.nativeEvent.submitter,H=j?.getAttribute("formmethod")||c;w(j||U.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:r,state:o,relative:d,preventScrollReset:p,viewTransition:y})};return L.createElement("form",{ref:b,method:E,action:x,onSubmit:i?f:R,..._,"data-discover":!C&&n==="render"?"true":void 0})});fR.displayName="Form";function dR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fx(n){let e=L.useContext(qa);return tt(e,dR(n)),e}function mR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=TA(),f=Cr(),d=tc(n,{relative:o});return L.useCallback(p=>{if(YA(p,e)){p.preventDefault();let y=t!==void 0?t:Il(f)===Il(d);h(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,d,t,i,e,n,r,o,c])}var gR=0,pR=()=>`__${String(++gR)}__`;function yR(){let{router:n}=fx("useSubmit"),{basename:e}=L.useContext(oi),t=PA();return L.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:d}=ZA(i,e);if(r.navigate===!1){let p=r.fetcherKey||pR();await n.fetch(p,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function _R(n,{relative:e}={}){let{basename:t}=L.useContext(oi),i=L.useContext(Vi);tt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...tc(n||".",{relative:e})},c=Cr();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let p=h.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Li([t,o.pathname])),Il(o)}function vR(n,{relative:e}={}){let t=L.useContext(ix);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fx("useViewTransitionState"),r=tc(n,{relative:e});if(!t.isTransitioning)return!1;let o=zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ph(r.pathname,c)!=null||ph(r.pathname,o)!=null}const bR=()=>{};var Kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(n,e){if(!n)throw Ya(e)},Ya=function(n){return new Error("Firebase Database ("+dx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},SR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],h=n[t++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,p=o>>2,y=(o&3)<<4|h>>4;let _=(h&15)<<2|d>>6,b=d&63;f||(b=64,c||(_=64)),i.push(t[p],t[y],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const y=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||y==null)throw new wR;const _=o<<2|h>>4;if(i.push(_),d!==64){const b=h<<4&240|d>>2;if(i.push(b),y!==64){const w=d<<6&192|y;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gx=function(n){const e=mx(n);return xp.encodeByteArray(e,!0)},yh=function(n){return gx(n).replace(/\./g,"")},_h=function(n){try{return xp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){return px(void 0,n)}function px(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ER(t)||(n[t]=px(n[t],e[t]));return n}function ER(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>TR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof Kb>"u")return;const n=Kb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_h(n[1]);return e&&JSON.parse(e)},Ep=()=>{try{return bR()||CR()||MR()||OR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yx=n=>Ep()?.emulatorHosts?.[n],AR=n=>{const e=yx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_x=()=>Ep()?.config,vx=n=>Ep()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yh(JSON.stringify(t)),yh(JSON.stringify(c)),""].join(".")}const xl={};function kR(){const n={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?n.emulator.push(e):n.prod.push(e);return n}function DR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Qb=!1;function Sx(n,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||xl[n]===e||xl[n]||Qb)return;xl[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=kR().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Qb=!0,c()},_}function p(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=DR(i),b=t("text"),w=document.getElementById(b)||document.createElement("span"),x=t("learnmore"),E=document.getElementById(x)||document.createElement("a"),C=t("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;h(U),p(E,x);const j=d();f(R,C),U.append(R,w,E,j),document.body.appendChild(U)}o?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PR(){return dx.NODE_ADMIN===!0}function zR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class zs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HR,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?BR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new zs(r,h,i)}}function BR(n,e){return n.replace(FR,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const FR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){return JSON.parse(n)}function _t(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Ll(_h(o[0])||""),t=Ll(_h(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},VR=function(n){const e=xx(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},jR=function(n){const e=xx(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Ng(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vh(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function _r(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],c=e[r];if(Jb(o)&&Jb(c)){if(!_r(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Jb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],d,p;for(let y=0;y<80;y++){y<40?y<20?(d=h^o&(c^h),p=1518500249):(d=o^c^h,p=1859775393):y<60?(d=o&c|h&(o|c),p=2400959708):(d=o^c^h,p=3395469782);const _=(r<<5|r>>>27)+d+f+p+i[y]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=r,r=_}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<t;){if(c===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[c]=e.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<t;)if(o[c]=e[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function qR(n,e){const t=new YR(n,e);return t.subscribe.bind(t)}class YR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Xm),r.error===void 0&&(r.error=Xm),r.complete===void 0&&(r.complete=Xm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xm(){}function Cp(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,Y(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},nf=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n){return n&&n._delegate?n._delegate:n}class vr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nc;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(n){return n===or?void 0:n}function KR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const JR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},ek=Fe.INFO,tk={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=tk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=ek,this._logHandler=nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const ik=(n,e)=>e.some(t=>n instanceof t);let e1,t1;function sk(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rk(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,Ig=new WeakMap,Tx=new WeakMap,Km=new WeakMap,Op=new WeakMap;function ak(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(xs(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ex.set(t,n)}).catch(()=>{}),Op.set(e,n),e}function ok(n){if(Ig.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Ig.set(n,e)}let Lg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lk(n){Lg=n(Lg)}function ck(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Qm(this),e,...t);return Tx.set(i,e.sort?e.sort():[e]),xs(i)}:rk().includes(n)?function(...e){return n.apply(Qm(this),e),xs(Ex.get(this))}:function(...e){return xs(n.apply(Qm(this),e))}}function uk(n){return typeof n=="function"?ck(n):(n instanceof IDBTransaction&&ok(n),ik(n,sk())?new Proxy(n,Lg):n)}function xs(n){if(n instanceof IDBRequest)return ak(n);if(Km.has(n))return Km.get(n);const e=uk(n);return e!==n&&(Km.set(n,e),Op.set(e,n)),e}const Qm=n=>Op.get(n);function hk(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),h=xs(c);return i&&c.addEventListener("upgradeneeded",f=>{i(xs(c.result),f.oldVersion,f.newVersion,xs(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const fk=["get","getKey","getAll","getAllKeys","count"],dk=["put","add","delete","clear"],Jm=new Map;function n1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=dk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fk.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),r&&f.done]))[0]};return Jm.set(e,o),o}lk(n=>({...n,get:(e,t,i)=>n1(e,t)||n.get(e,t,i),has:(e,t)=>!!n1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gk(n){return n.getComponent()?.type==="VERSION"}const Pg="@firebase/app",i1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Mp("@firebase/app"),pk="@firebase/app-compat",yk="@firebase/analytics-compat",_k="@firebase/analytics",vk="@firebase/app-check-compat",bk="@firebase/app-check",Sk="@firebase/auth",wk="@firebase/auth-compat",xk="@firebase/database",Ek="@firebase/data-connect",Tk="@firebase/database-compat",Ck="@firebase/functions",Mk="@firebase/functions-compat",Ok="@firebase/installations",Ak="@firebase/installations-compat",Rk="@firebase/messaging",kk="@firebase/messaging-compat",Dk="@firebase/performance",Nk="@firebase/performance-compat",Ik="@firebase/remote-config",Lk="@firebase/remote-config-compat",Pk="@firebase/storage",zk="@firebase/storage-compat",Uk="@firebase/firestore",Hk="@firebase/ai",Bk="@firebase/firestore-compat",Fk="firebase",Vk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",jk={[Pg]:"fire-core",[pk]:"fire-core-compat",[_k]:"fire-analytics",[yk]:"fire-analytics-compat",[bk]:"fire-app-check",[vk]:"fire-app-check-compat",[Sk]:"fire-auth",[wk]:"fire-auth-compat",[xk]:"fire-rtdb",[Ek]:"fire-data-connect",[Tk]:"fire-rtdb-compat",[Ck]:"fire-fn",[Mk]:"fire-fn-compat",[Ok]:"fire-iid",[Ak]:"fire-iid-compat",[Rk]:"fire-fcm",[kk]:"fire-fcm-compat",[Dk]:"fire-perf",[Nk]:"fire-perf-compat",[Ik]:"fire-rc",[Lk]:"fire-rc-compat",[Pk]:"fire-gcs",[zk]:"fire-gcs-compat",[Uk]:"fire-fst",[Bk]:"fire-fst-compat",[Hk]:"fire-vertex","fire-js":"fire-js",[Fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,Wk=new Map,Ug=new Map;function s1(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function La(n){const e=n.name;if(Ug.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ug.set(e,n);for(const t of bh.values())s1(t,n);for(const t of Wk.values())s1(t,n);return!0}function Ap(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ic("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=Vk;function Cx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:zg,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Es.create("bad-app-name",{appName:String(r)});if(t||(t=_x()),!t)throw Es.create("no-options");const o=bh.get(r);if(o){if(_r(t,o.options)&&_r(i,o.config))return o;throw Es.create("duplicate-app",{appName:r})}const c=new QR(r);for(const f of Ug.values())c.addComponent(f);const h=new Yk(t,i,c);return bh.set(r,h),h}function Mx(n=zg){const e=bh.get(n);if(!e&&n===zg&&_x())return Cx();if(!e)throw Es.create("no-app",{appName:n});return e}function Ts(n,e,t){let i=jk[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(c.join(" "));return}La(new vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-heartbeat-database",$k=1,Pl="firebase-heartbeat-store";let eg=null;function Ox(){return eg||(eg=hk(Gk,$k,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),eg}async function Zk(n){try{const t=(await Ox()).transaction(Pl),i=await t.objectStore(Pl).get(Ax(n));return await t.done,i}catch(e){if(e instanceof zs)Ui.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function r1(n,e){try{const i=(await Ox()).transaction(Pl,"readwrite");await i.objectStore(Pl).put(e,Ax(n)),await i.done}catch(t){if(t instanceof zs)Ui.warn(t.message);else{const i=Es.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(i.message)}}}function Ax(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Kk=30;class Qk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=a1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Kk){const r=tD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a1(),{heartbeatsToSend:t,unsentEntries:i}=Jk(this._heartbeatsCache.heartbeats),r=yh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ui.warn(e),""}}}function a1(){return new Date().toISOString().substring(0,10)}function Jk(n,e=Xk){const t=[];let i=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),o1(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),o1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class eD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Zk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o1(n){return yh(JSON.stringify({version:2,heartbeats:n})).length}function tD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){La(new vr("platform-logger",e=>new mk(e),"PRIVATE")),La(new vr("heartbeat",e=>new Qk(e),"PRIVATE")),Ts(Pg,i1,n),Ts(Pg,i1,"esm2020"),Ts("fire-js","")}nD("");function Rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iD=Rx,kx=new ic("auth","Firebase",Rx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Mp("@firebase/auth");function sD(n,...e){Sh.logLevel<=Fe.WARN&&Sh.warn(`Auth (${Za}): ${n}`,...e)}function rh(n,...e){Sh.logLevel<=Fe.ERROR&&Sh.error(`Auth (${Za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw kp(n,...e)}function jn(n,...e){return kp(n,...e)}function Rp(n,e,t){const i={...iD(),[e]:t};return new ic("auth","Firebase",i).create(e,{appName:n.name})}function Cs(n){return Rp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rD(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(n,"argument-error"),Rp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return kx.create(n,...e)}function de(n,e,...t){if(!n)throw kp(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function Hi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){return typeof self<"u"&&self.location?.href||""}function aD(){return l1()==="http:"||l1()==="https:"}function l1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||IR()||"connection"in navigator)?navigator.onLine:!0}function lD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=Tp()||wx()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hD=new sc(3e4,6e4);function sf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xa(n,e,t,i,r={}){return Nx(n,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=$a({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return NR()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ga(n.emulatorConfig.host)&&(d.credentials="include"),Dx.fetch()(await Lx(n,n.config.apiHost,t,h),d)})}async function Nx(n,e,t){n._canInitEmulator=!1;const i={...cD,...e};try{const r=new fD(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Pu(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Pu(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Pu(n,"user-disabled",c);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Rp(n,p,d);ai(n,p)}}catch(r){if(r instanceof zs)throw r;ai(n,"network-request-failed",{message:String(r)})}}async function Ix(n,e,t,i,r={}){const o=await Xa(n,e,t,i,r);return"mfaPendingCredential"in o&&ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Lx(n,e,t,i){const r=`${e}${t}?${i}`,o=n,c=o.config.emulator?Dp(n.config,r):`${n.config.apiScheme}://${r}`;return uD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class fD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jn(this.auth,"network-request-failed")),hD.get())})}}function Pu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=jn(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e){return Xa(n,"POST","/v1/accounts:delete",e)}async function wh(n,e){return Xa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mD(n,e=!1){const t=Jt(n),i=await t.getIdToken(e),r=Np(i);de(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:El(tg(r.auth_time)),issuedAtTime:El(tg(r.iat)),expirationTime:El(tg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function tg(n){return Number(n)*1e3}function Np(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const r=_h(t);return r?JSON.parse(r):(rh("Failed to decode base64 JWT payload"),null)}catch(r){return rh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function c1(n){const e=Np(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zs&&gD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function gD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){const e=n.auth,t=await n.getIdToken(),i=await zl(n,wh(e,{idToken:t}));de(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Px(r.providerUserInfo):[],c=_D(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=h?f:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Bg(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function yD(n){const e=Jt(n);await Ul(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _D(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Px(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,e){const t=await Nx(n,{},async()=>{const i=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Lx(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ga(n.emulatorConfig.host)&&(f.credentials="include"),Dx.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bD(n,e){return Xa(n,"POST","/v2/accounts:revokeToken",sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=c1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await vD(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,c=new Ca;return i&&(de(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(de(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(de(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Bg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mD(this,e)}reload(){return yD(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ul(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await zl(this,dD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;de(y&&x,e,"internal-error");const E=Ca.fromJSON(this.name,x);de(typeof y=="string",e,"internal-error"),ms(i,e.name),ms(r,e.name),de(typeof _=="boolean",e,"internal-error"),de(typeof b=="boolean",e,"internal-error"),ms(o,e.name),ms(c,e.name),ms(h,e.name),ms(f,e.name),ms(d,e.name),ms(p,e.name);const C=new Bn({uid:y,auth:e,email:r,emailVerified:_,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:E,createdAt:d,lastLoginAt:p});return w&&Array.isArray(w)&&(C.providerData=w.map(R=>({...R}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,t,i=!1){const r=new Ca;r.updateFromServerResponse(t);const o=new Bn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Ul(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];de(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Px(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Ca;h.updateFromIdToken(i);const f=new Bn({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Bg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function ki(n){Hi(n instanceof Function,"Expected a class definition");let e=u1.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,u1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zx.type="NONE";const h1=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n,e,t){return`firebase:${n}:${e}:${t}`}class Ma{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ah(this.userKey,r.apiKey,o),this.fullPersistenceKey=ah("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wh(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ma(ki(h1),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||ki(h1);const c=ah(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const p=await d._get(c);if(p){let y;if(typeof p=="string"){const _=await wh(e,{idToken:p}).catch(()=>{});if(!_)break;y=await Bn._fromGetAccountInfoResponse(e,_,p)}else y=Bn._fromJSON(e,p);d!==o&&(h=y),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ma(o,e,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Ma(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jx(e))return"Blackberry";if(Wx(e))return"Webos";if(Hx(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Vx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Ux(n=Vt()){return/firefox\//i.test(n)}function Hx(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(n=Vt()){return/crios\//i.test(n)}function Fx(n=Vt()){return/iemobile/i.test(n)}function Vx(n=Vt()){return/android/i.test(n)}function jx(n=Vt()){return/blackberry/i.test(n)}function Wx(n=Vt()){return/webos/i.test(n)}function Ip(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SD(n=Vt()){return Ip(n)&&!!window.navigator?.standalone}function wD(){return LR()&&document.documentMode===10}function qx(n=Vt()){return Ip(n)||Vx(n)||Wx(n)||jx(n)||/windows phone/i.test(n)||Fx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e=[]){let t;switch(n){case"Browser":t=f1(Vt());break;case"Worker":t=`${f1(Vt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(n,e={}){return Xa(n,"GET","/v2/passwordPolicy",sf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=6;class CD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d1(this),this.idTokenSubscription=new d1(this),this.beforeStateQueue=new xD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wh(this,{idToken:e}),i=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ul(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Cs(this));const t=e?Jt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ED(this),t=new CD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rc(n){return Jt(n)}class d1{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(n){Lp=n}function AD(n){return Lp.loadJS(n)}function RD(){return Lp.gapiScript}function kD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(n,e){const t=Ap(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(_r(o,e??{}))return r;ai(r,"already-initialized")}return t.initialize({options:e})}function ND(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ki);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ID(n,e,t){const i=rc(n);de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=Gx(e),{host:c,port:h}=LD(e),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},p=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){de(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),de(_r(d,i.config.emulator)&&_r(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Ga(c)?(bx(`${o}//${c}${f}`),Sx("Auth",!0)):PD()}function Gx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LD(n){const e=Gx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:m1(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:m1(c)}}}function m1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n,e){return Ix(n,"POST","/v1/accounts:signInWithIdp",sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="http://localhost";class br extends $x{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=t;if(!i||!r)return null;const c=new br(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Oa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Oa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oa(e,t)}buildRequest(){const e={requestUri:zD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$a(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ac{constructor(){super("facebook.com")}static credential(e){return br._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return br._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ac{constructor(){super("github.com")}static credential(e){return br._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ac{constructor(){super("twitter.com")}static credential(e,t){return br._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,e){return Ix(n,"POST","/v1/accounts:signUp",sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await Bn._fromIdTokenResponse(e,i,r),c=g1(i);return new Ds({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=g1(i);return new Ds({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function g1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n){if(Tn(n.app))return Promise.reject(Cs(n));const e=rc(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ds({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await UD(e,{returnSecureToken:!0}),i=await Ds._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends zs{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new xh(e,t,i,r)}}function Zx(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function Xx(n,e,t=!1){const i=await zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ds._forOperation(n,"link",i)}async function FD(n,e,t){await Ul(e);const i=BD(e.providerData);de(i.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e,t=!1){const{auth:i}=n;if(Tn(i.app))return Promise.reject(Cs(i));const r="reauthenticate";try{const o=await zl(n,Zx(i,r,e,n),t);de(o.idToken,i,"internal-error");const c=Np(o.idToken);de(c,i,"internal-error");const{sub:h}=c;return de(n.uid===h,i,"user-mismatch"),Ds._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e,t=!1){if(Tn(n.app))return Promise.reject(Cs(n));const i="signIn",r=await Zx(n,i,e),o=await Ds._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function WD(n,e){const t=Jt(n);return await FD(!1,t,e.providerId),Xx(t,e)}function qD(n,e,t,i){return Jt(n).onIdTokenChanged(e,t,i)}function YD(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function GD(n,e,t,i){return Jt(n).onAuthStateChanged(e,t,i)}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,ZD=10;class Qx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);wD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ZD):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const XD=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jx.type="SESSION";const eE=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new rf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async d=>d(t.origin,o)),f=await KD(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=zp("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function JD(n){si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function eN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){return navigator?.serviceWorker?.controller||null}function nN(){return tE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebaseLocalStorageDb",iN=1,Th="firebaseLocalStorage",iE="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(n,e){return n.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function sN(){const n=indexedDB.deleteDatabase(nE);return new oc(n).toPromise()}function Fg(){const n=indexedDB.open(nE,iN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Th,{keyPath:iE})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Th)?e(i):(i.close(),await sN(),e(await Fg()))})})}async function p1(n,e,t){const i=af(n,!0).put({[iE]:e,value:t});return new oc(i).toPromise()}async function rN(n,e){const t=af(n,!1).get(e),i=await new oc(t).toPromise();return i===void 0?null:i.value}function y1(n,e){const t=af(n,!0).delete(e);return new oc(t).toPromise()}const aN=800,oN=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>oN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await p1(e,Eh,"1"),await y1(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>p1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>rN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=af(r,!1).getAll();return new oc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const lN=sE;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n,e){return e?ki(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends $x{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cN(n){return jD(n.auth,new Up(n),n.bypassAuthState)}function uN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),VD(t,new Up(n),n.bypassAuthState)}async function hN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),Xx(t,new Up(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return uN;default:ai(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new sc(2e3,1e4);async function oE(n,e,t){if(Tn(n.app))return Promise.reject(jn(n,"operation-not-supported-in-this-environment"));const i=rc(n);rD(n,e,Pp);const r=rE(i,t);return new hr(i,"signInViaPopup",e,r).executeNotNull()}class hr extends aE{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,hr.currentPopupAction&&hr.currentPopupAction.cancel(),hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fN.get())};e()}}hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="pendingRedirect",oh=new Map;class mN extends aE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const i=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(n,e){const t=_N(e),i=yN(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function pN(n,e){oh.set(n._key(),e)}function yN(n){return ki(n._redirectPersistence)}function _N(n){return ah(dN,n.config.apiKey,n.name)}async function vN(n,e,t=!1){if(Tn(n.app))return Promise.reject(Cs(n));const i=rc(n),r=rE(i,e),c=await new mN(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=600*1e3;class SN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!lE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(jn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_1(e))}saveEventToCache(e){this.cachedEventUids.add(_1(e)),this.lastProcessedEventTime=Date.now()}}function _1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e={}){return Xa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TN=/^https?/;async function CN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xN(n);for(const t of e)try{if(MN(t))return}catch{}ai(n,"unauthorized-domain")}function MN(n){const e=Hg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!TN.test(t))return!1;if(EN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new sc(3e4,6e4);function v1(){const n=si().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AN(n){return new Promise((e,t)=>{function i(){v1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v1(),t(jn(n,"network-request-failed"))},timeout:ON.get()})}if(si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(si().gapi?.load)i();else{const r=kD("iframefcb");return si()[r]=()=>{gapi.load?i():t(jn(n,"network-request-failed"))},AD(`${RD()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw lh=null,e})}let lh=null;function RN(n){return lh=lh||AN(n),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new sc(5e3,15e3),DN="__/auth/iframe",NN="emulator/auth/iframe",IN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dp(e,NN):`https://${n.config.authDomain}/${DN}`,i={apiKey:e.apiKey,appName:n.name,v:Za},r=LN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${$a(i).slice(1)}`}async function zN(n){const e=await RN(n),t=si().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:PN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=jn(n,"network-request-failed"),h=si().setTimeout(()=>{o(c)},kN.get());function f(){si().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,BN=600,FN="_blank",VN="http://localhost";class b1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(n,e,t,i=HN,r=BN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...UN,width:i.toString(),height:r.toString(),top:o,left:c},d=Vt().toLowerCase();t&&(h=Bx(d)?FN:t),Ux(d)&&(e=e||VN,f.scrollbars="yes");const p=Object.entries(f).reduce((_,[b,w])=>`${_}${b}=${w},`,"");if(SD(d)&&h!=="_self")return WN(e||"",h),new b1(null);const y=window.open(e||"",h,p);de(y,n,"popup-blocked");try{y.focus()}catch{}return new b1(y)}function WN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__/auth/handler",YN="emulator/auth/handler",GN=encodeURIComponent("fac");async function S1(n,e,t,i,r,o){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Za,eventId:r};if(e instanceof Pp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Ng(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))c[p]=y}if(e instanceof ac){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(c.scopes=p.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const p of Object.keys(h))h[p]===void 0&&delete h[p];const f=await n._getAppCheckToken(),d=f?`#${GN}=${encodeURIComponent(f)}`:"";return`${$N(n)}?${$a(h).slice(1)}${d}`}function $N({config:n}){return n.emulator?Dp(n,YN):`https://${n.authDomain}/${qN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class ZN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=vN,this._overrideRedirectResult=pN}async _openPopup(e,t,i,r){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await S1(e,t,i,Hg(),r);return jN(e,o,zp())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await S1(e,t,i,Hg(),r);return JD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Hi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zN(e),i=new SN(e);return t.register("authEvent",r=>(de(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},r=>{const o=r?.[0]?.[ng];o!==void 0&&t(!!o),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qx()||Hx()||Ip()}}const XN=ZN;var w1="@firebase/auth",x1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(n){La(new vr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yx(n)},d=new MD(i,r,o,f);return ND(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),La(new vr("auth-internal",e=>{const t=rc(e.getProvider("auth").getImmediate());return(i=>new KN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(w1,x1,QN(n)),Ts(w1,x1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=300,tI=vx("authIdTokenMaxAge")||eI;let E1=null;const nI=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tI)return;const r=t?.token;E1!==r&&(E1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function iI(n=Mx()){const e=Ap(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DD(n,{popupRedirectResolver:XN,persistence:[lN,XD,eE]}),i=vx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=nI(o.toString());YD(t,c,()=>c(t.currentUser)),qD(t,h=>c(h))}}const r=yx("auth");return r&&ID(t,`http://${r}`),t}function sI(){return document.getElementsByTagName("head")?.[0]??document}OD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=jn("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",sI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");var rI="firebase",aI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(rI,aI,"app");var T1={};const C1="@firebase/database",M1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cE="";function oI(n){cE=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_t(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ll(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lI(e)}}catch{}return new cI},fr=uE("localStorage"),uI=uE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Mp("@firebase/database"),hE=(function(){let n=1;return function(){return n++}})(),fE=function(n){const e=$R(n),t=new WR;t.update(e);const i=t.digest();return xp.encodeByteArray(i)},lc=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=lc.apply(null,i):typeof i=="object"?e+=_t(i):e+=i,e+=" "}return e};let Tl=null,O1=!0;const hI=function(n,e){Y(!0,"Can't turn on custom loggers persistently."),Aa.logLevel=Fe.VERBOSE,Tl=Aa.log.bind(Aa)},Rt=function(...n){if(O1===!0&&(O1=!1,Tl===null&&uI.get("logging_enabled")===!0&&hI()),Tl){const e=lc.apply(null,n);Tl(e)}},cc=function(n){return function(...e){Rt(n,...e)}},Vg=function(...n){const e="FIREBASE INTERNAL ERROR: "+lc(...n);Aa.error(e)},Bi=function(...n){const e=`FIREBASE FATAL ERROR: ${lc(...n)}`;throw Aa.error(e),new Error(e)},Qt=function(...n){const e="FIREBASE WARNING: "+lc(...n);Aa.warn(e)},fI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hp=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dI=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Pa="[MIN_NAME]",Sr="[MAX_NAME]",Mr=function(n,e){if(n===e)return 0;if(n===Pa||e===Sr)return-1;if(e===Pa||n===Sr)return 1;{const t=A1(n),i=A1(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},mI=function(n,e){return n===e?0:n<e?-1:1},ol=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+_t(e))},Bp=function(n){if(typeof n!="object"||n===null)return _t(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=_t(e[i]),t+=":",t+=Bp(n[e[i]]);return t+="}",t},dE=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mE=function(n){Y(!Hp(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,o,c,h,f;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,t-h)-Math.pow(2,t))):(o=0,c=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(f=t;f;f-=1)d.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const p=d.join("");let y="";for(f=0;f<64;f+=8){let _=parseInt(p.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},gI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yI(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const _I=new RegExp("^-?(0*)\\d{1,10}$"),vI=-2147483648,bI=2147483647,A1=function(n){if(_I.test(n)){const e=Number(n);if(e>=vI&&e<=bI)return e}return null},Ka=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Qt("Exception was thrown by user callback.",t),e},Math.floor(0))}},SI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(e)}}class ch{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ch.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="5",gE="v",pE="s",yE="r",_E="f",vE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bE="ls",SE="p",jg="ac",wE="websocket",xE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,i,r,o=!1,c="",h=!1,f=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function EI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function TE(n,e,t){Y(typeof e=="string","typeof type must == string"),Y(typeof t=="object","typeof params must == object");let i;if(e===wE)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===xE)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EI(n)&&(t.ns=n.namespace);const r=[];return kt(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.counters_={}}incrementCounter(e,t=1){Gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return xR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig={},sg={};function Vp(n){const e=n.toString();return ig[e]||(ig[e]=new TI),ig[e]}function CI(n,e){const t=n.toString();return sg[t]||(sg[t]=e()),sg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ka(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="start",OI="close",AI="pLPCommand",RI="pRTLPCB",CE="id",ME="pw",OE="ser",kI="cb",DI="seg",NI="ts",II="d",LI="dframe",AE=1870,RE=30,PI=AE-RE,zI=25e3,UI=3e4;class Ea{constructor(e,t,i,r,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cc(e),this.stats_=Vp(t),this.urlFn=f=>(this.appCheckToken&&(f[jg]=this.appCheckToken),TE(t,xE,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UI)),dI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jp((...o)=>{const[c,h,f,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===R1)this.id=h,this.password=f;else if(c===OI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[R1]="t",i[OE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[kI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[gE]=Fp,this.transportSessionId&&(i[pE]=this.transportSessionId),this.lastSessionId&&(i[bE]=this.lastSessionId),this.applicationId&&(i[SE]=this.applicationId),this.appCheckToken&&(i[jg]=this.appCheckToken),typeof location<"u"&&location.hostname&&vE.test(location.hostname)&&(i[yE]=_E);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ea.forceAllow_=!0}static forceDisallow(){Ea.forceDisallow_=!0}static isAvailable(){return Ea.forceAllow_?!0:!Ea.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gI()&&!pI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=_t(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=gx(t),r=dE(i,PI);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[LI]="t",i[CE]=e,i[ME]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=_t(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class jp{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hE(),window[AI+this.uniqueCallbackIdentifier]=e,window[RI+this.uniqueCallbackIdentifier]=t,this.myIFrame=jp.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Rt("frame writing exception"),h.stack&&Rt(h.stack),Rt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[CE]=this.myID,e[ME]=this.myPW,e[OE]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RE+i.length<=AE;){const c=this.pendingSegs.shift();i=i+"&"+DI+r+"="+c.seg+"&"+NI+r+"="+c.ts+"&"+II+r+"="+c.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(zI)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=16384,BI=45e3;let Ch=null;typeof MozWebSocket<"u"?Ch=MozWebSocket:typeof WebSocket<"u"&&(Ch=WebSocket);class Hn{constructor(e,t,i,r,o,c,h){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cc(this.connId),this.stats_=Vp(t),this.connURL=Hn.connectionURL_(t,c,h,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,o){const c={};return c[gE]=Fp,typeof location<"u"&&location.hostname&&vE.test(location.hostname)&&(c[yE]=_E),t&&(c[pE]=t),i&&(c[bE]=i),r&&(c[jg]=r),o&&(c[SE]=o),TE(e,wE,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fr.set("previous_websocket_failure",!0);try{let i;PR(),this.mySock=new Ch(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ch!==null&&!Hn.forceDisallow_}static previouslyFailed(){return fr.isInMemoryStorage||fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Ll(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=_t(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=dE(t,HI);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BI))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hn.responsesRequiredToBeHealthy=2;Hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static get ALL_TRANSPORTS(){return[Ea,Hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Hn&&Hn.isAvailable();let i=t&&!Hn.previouslyFailed();if(e.webSocketOnly&&(t||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Hn];else{const r=this.transports_=[];for(const o of Hl.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6e4,VI=5e3,jI=10*1024,WI=100*1024,rg="t",k1="d",qI="s",D1="r",YI="e",N1="o",I1="a",L1="n",P1="p",GI="h";class $I{constructor(e,t,i,r,o,c,h,f,d,p){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cc("c:"+this.id+":"),this.transportManager_=new Hl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rg in e){const t=e[rg];t===I1?this.upgradeIfSecondaryHealthy_():t===D1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===N1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ol("t",e),i=ol("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:P1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:I1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:L1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ol("t",e),i=ol("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ol(rg,e);if(k1 in e){const i=e[k1];if(t===GI){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===L1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===qI?this.onConnectionShutdown_(i):t===D1?this.onReset_(i):t===YI?Vg("Server Error: "+i):t===N1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Fp!==i&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(VI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:P1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends DE{static getInstance(){return new Mh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=32,U1=768;class Ve{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ke(){return new Ve("")}function Se(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ns(n){return n.pieces_.length-n.pieceNum_}function $e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ve(n.pieces_,e)}function Wp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ZI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Bl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function NE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ve(e,0)}function at(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ve)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ve(t,0)}function Te(n){return n.pieceNum_>=n.pieces_.length}function Bt(n,e){const t=Se(n),i=Se(e);if(t===null)return e;if(t===i)return Bt($e(n),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function XI(n,e){const t=Bl(n,0),i=Bl(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Mr(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function qp(n,e){if(Ns(n)!==Ns(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Cn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ns(n)>Ns(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class KI{constructor(e,t){this.errorPrefix_=t,this.parts_=Bl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=nf(this.parts_[i]);IE(this)}}function QI(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=nf(e),IE(n)}function JI(n){const e=n.parts_.pop();n.byteLength_-=nf(e),n.parts_.length>0&&(n.byteLength_-=1)}function IE(n){if(n.byteLength_>U1)throw new Error(n.errorPrefix_+"has a key path longer than "+U1+" bytes ("+n.byteLength_+").");if(n.parts_.length>z1)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+z1+") or object contains a cycle "+lr(n))}function lr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends DE{static getInstance(){return new Yp}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=1e3,e6=300*1e3,H1=30*1e3,t6=1.3,n6=3e4,i6="server_kill",B1=3;class Pi extends kE{constructor(e,t,i,r,o,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Pi.nextPersistentConnectionId_++,this.log_=cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ll,this.maxReconnectDelay_=e6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,o={r,a:e,b:t};this.log_(_t(o)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new nc,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,r){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,d=h.s;Pi.warnOnListenWarnings_(f,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",h),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Gn(e,"w")){const i=yr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=H1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=VR(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,o){this.initConnection_();const c={p:t,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:r}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_t(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Vg("Unrecognized action received from server: "+_t(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n6&&(this.reconnectDelay_=ll),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Pi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},d=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:f,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new $I(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{Qt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(i6)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Qt(y),f())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ng(this.interruptReasons_)&&(this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>Bp(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new Ve(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){Rt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=B1&&(this.reconnectDelay_=H1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Rt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=B1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+cE.replace(/\./g,"-")]=1,Tp()?e["framework.cordova"]=1:wx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mh.getInstance().currentlyOnline();return Ng(this.interruptReasons_)&&e}}Pi.nextPersistentConnectionId_=0;Pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new we(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new we(Pa,e),r=new we(Pa,t);return this.compare(i,r)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class LE extends of{static get __EMPTY_NODE(){return zu}static set __EMPTY_NODE(e){zu=e}compare(e,t){return Mr(e.name,t.name)}isDefinedOn(e){throw Ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return we.MIN}maxPost(){return new we(Sr,zu)}makePost(e,t){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,zu)}toString(){return".key"}}const Ra=new LE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ct{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ct.RED,this.left=r??Xt.EMPTY_NODE,this.right=o??Xt.EMPTY_NODE}copy(e,t,i,r,o){return new Ct(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ct.RED=!0;Ct.BLACK=!1;class s6{copy(e,t,i,r,o){return this}insert(e,t,i){return new Ct(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,t=Xt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ct.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Uu(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Uu(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Uu(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new s6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n,e){return Mr(n.name,e.name)}function Gp(n,e){return Mr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;function a6(n){Wg=n}const PE=function(n){return typeof n=="number"?"number:"+mE(n):"string:"+n},zE=function(n){if(n.isLeafNode()){const e=n.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gn(e,".sv"),"Priority must be a string or number.")}else Y(n===Wg||n.isEmpty(),"priority of unexpected type.");Y(n===Wg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F1;class Tt{static set __childrenNodeConstructor(e){F1=e}static get __childrenNodeConstructor(){return F1}constructor(e,t=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Te(e)?this:Se(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Se(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Y(i!==".priority"||Ns(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=mE(this.value_):e+=this.value_,this.lazyHash_=fE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=Tt.VALUE_TYPE_ORDER.indexOf(t),o=Tt.VALUE_TYPE_ORDER.indexOf(i);return Y(r>=0,"Unknown leaf type: "+t),Y(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE,HE;function o6(n){UE=n}function l6(n){HE=n}class c6 extends of{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?Mr(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return we.MIN}maxPost(){return new we(Sr,new Tt("[PRIORITY-POST]",HE))}makePost(e,t){const i=UE(e);return new we(t,new Tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const et=new c6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=Math.log(2);class h6{constructor(e){const t=o=>parseInt(Math.log(o)/u6,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oh=function(n,e,t,i){n.sort(e);const r=function(f,d){const p=d-f;let y,_;if(p===0)return null;if(p===1)return y=n[f],_=t?t(y):y,new Ct(_,y.node,Ct.BLACK,null,null);{const b=parseInt(p/2,10)+f,w=r(f,b),x=r(b+1,d);return y=n[b],_=t?t(y):y,new Ct(_,y.node,Ct.BLACK,w,x)}},o=function(f){let d=null,p=null,y=n.length;const _=function(w,x){const E=y-w,C=y;y-=w;const R=r(E+1,C),U=n[E],j=t?t(U):U;b(new Ct(j,U.node,x,null,R))},b=function(w){d?(d.left=w,d=w):(p=w,d=w)};for(let w=0;w<f.count;++w){const x=f.nextBitIsOne(),E=Math.pow(2,f.count-(w+1));x?_(E,Ct.BLACK):(_(E,Ct.BLACK),_(E,Ct.RED))}return p},c=new h6(n.length),h=o(c);return new Xt(i||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag;const ya={};class Di{static get Default(){return Y(ya&&et,"ChildrenNode.ts has not been loaded"),ag=ag||new Di({".priority":ya},{".priority":et}),ag}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=yr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xt?t:null}hasIndex(e){return Gn(this.indexSet_,e.toString())}addIndex(e,t){Y(e!==Ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(we.Wrap);let c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;r?h=Oh(i,e.getCompare()):h=ya;const f=e.toString(),d={...this.indexSet_};d[f]=e;const p={...this.indexes_};return p[f]=h,new Di(p,d)}addToIndexes(e,t){const i=vh(this.indexes_,(r,o)=>{const c=yr(this.indexSet_,o);if(Y(c,"Missing index implementation for "+o),r===ya)if(c.isDefinedOn(e.node)){const h=[],f=t.getIterator(we.Wrap);let d=f.getNext();for(;d;)d.name!==e.name&&h.push(d),d=f.getNext();return h.push(e),Oh(h,c.getCompare())}else return ya;else{const h=t.get(e.name);let f=r;return h&&(f=f.remove(new we(e.name,h))),f.insert(e,e.node)}});return new Di(i,this.indexSet_)}removeFromIndexes(e,t){const i=vh(this.indexes_,r=>{if(r===ya)return r;{const o=t.get(e.name);return o?r.remove(new we(e.name,o)):r}});return new Di(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;class ue{static get EMPTY_NODE(){return cl||(cl=new ue(new Xt(Gp),null,Di.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&zE(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?cl:t}}getChild(e){const t=Se(e);return t===null?this:this.getImmediateChild(t).getChild($e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Y(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new we(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?cl:this.priorityNode_;return new ue(r,c,o)}}updateChild(e,t){const i=Se(e);if(i===null)return t;{Y(Se(e)!==".priority"||Ns(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild($e(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,o=!0;if(this.forEachChild(et,(c,h)=>{t[c]=h.val(e),i++,o&&ue.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!e&&o&&r<2*i){const c=[];for(const h in t)c[h]=t[h];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PE(this.getPriority().val())+":"),this.forEachChild(et,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":fE(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new we(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new we(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new we(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,we.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uc?-1:0}withIndex(e){if(e===Ra||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(et),r=t.getIterator(et);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ra?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class f6 extends ue{constructor(){super(new Xt(Gp),ue.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const uc=new f6;Object.defineProperties(we,{MIN:{value:new we(Pa,ue.EMPTY_NODE)},MAX:{value:new we(Sr,uc)}});LE.__EMPTY_NODE=ue.EMPTY_NODE;Tt.__childrenNodeConstructor=ue;a6(uc);l6(uc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=!0;function yt(n,e=null){if(n===null)return ue.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Tt(t,yt(e))}if(!(n instanceof Array)&&d6){const t=[];let i=!1;if(kt(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=yt(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new we(c,f)))}}),t.length===0)return ue.EMPTY_NODE;const o=Oh(t,r6,c=>c.name,Gp);if(i){const c=Oh(t,et.getCompare());return new ue(o,yt(e),new Di({".priority":c},{".priority":et}))}else return new ue(o,yt(e),Di.Default)}else{let t=ue.EMPTY_NODE;return kt(n,(i,r)=>{if(Gn(n,i)&&i.substring(0,1)!=="."){const o=yt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(yt(e))}}o6(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6 extends of{constructor(e){super(),this.indexPath_=e,Y(!Te(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?Mr(e.name,t.name):o}makePost(e,t){const i=yt(e),r=ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new we(t,r)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,uc);return new we(Sr,e)}toString(){return Bl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6 extends of{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Mr(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,t){const i=yt(e);return new we(t,i)}toString(){return".value"}}const p6=new g6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){return{type:"value",snapshotNode:n}}function za(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Fl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Vl(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function y6(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.index_=e}updateChild(e,t,i,r,o,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Fl(t,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(za(t,i)):c.trackChildChange(Vl(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(et,(r,o)=>{t.hasChild(r)||i.trackChildChange(Fl(r,o))}),t.isLeafNode()||t.forEachChild(et,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||i.trackChildChange(Vl(r,o,c))}else i.trackChildChange(za(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.indexedFilter_=new $p(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jl.getStartPost_(e),this.endPost_=jl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,c){return this.matches(new we(t,i))||(i=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ue.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ue.EMPTY_NODE);const o=this;return t.forEachChild(et,(c,h)=>{o.matches(new we(c,h))||(r=r.updateImmediateChild(c,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new jl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,c){return this.rangedFilter_.matches(new we(t,i))||(i=ue.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=ue.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))r=r.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(ue.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const f=new we(t,i),d=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(h.hasChild(t)){const y=h.getImmediateChild(t);let _=r.getChildAfterChild(this.index_,d,this.reverse_);for(;_!=null&&(_.name===t||h.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,f);if(p&&!i.isEmpty()&&b>=0)return o?.trackChildChange(Vl(t,i,y)),h.updateImmediateChild(t,i);{o?.trackChildChange(Fl(t,y));const x=h.updateImmediateChild(t,ue.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o?.trackChildChange(za(_.name,_.node)),x.updateImmediateChild(_.name,_.node)):x}}else return i.isEmpty()?e:p&&c(d,f)>=0?(o!=null&&(o.trackChildChange(Fl(d.name,d.node)),o.trackChildChange(za(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(d.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pa}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const e=new Zp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function v6(n){return n.loadsAllData()?new $p(n.getIndex()):n.hasLimit()?new _6(n):new jl(n)}function V1(n){const e={};if(n.isDefault())return e;let t;if(n.index_===et?t="$priority":n.index_===p6?t="$value":n.index_===Ra?t="$key":(Y(n.index_ instanceof m6,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=_t(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=_t(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+_t(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=_t(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+_t(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function j1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==et&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends kE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=cc("p:rest:"),this.listens_={}}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Ah.getListenId_(e,i),h={};this.listens_[c]=h;const f=V1(e._queryParams);this.restRequest_(o+".json",f,(d,p)=>{let y=p;if(d===404&&(y=null,d=null),d===null&&this.onDataUpdate_(o,y,!1,i),yr(this.listens_,c)===h){let _;d?d===401?_="permission_denied":_="rest_error:"+d:_="ok",r(_,null)}})}unlisten(e,t){const i=Ah.getListenId_(e,t);delete this.listens_[i]}get(e){const t=V1(e._queryParams),i=e._path.toString(),r=new nc;return this.restRequest_(i+".json",t,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$a(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=Ll(h.responseText)}catch{Qt("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Qt("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(){return{value:null,children:new Map}}function FE(n,e,t){if(Te(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Se(e);n.children.has(i)||n.children.set(i,Rh());const r=n.children.get(i);e=$e(e),FE(r,e,t)}}function qg(n,e,t){n.value!==null?t(e,n.value):S6(n,(i,r)=>{const o=new Ve(e.toString()+"/"+i);qg(r,o,t)})}function S6(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&kt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=10*1e3,x6=30*1e3,E6=300*1e3;class T6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new w6(e);const i=W1+(x6-W1)*Math.random();Cl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;kt(e,(r,o)=>{o>0&&Gn(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*E6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fn||(Fn={}));function Xp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Fn.ACK_USER_WRITE,this.source=Xp()}operationForChild(e){if(Te(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ve(e));return new kh(ke(),t,this.revert)}}else return Y(Se(this.path)===e,"operationForChild called for unrelated child."),new kh($e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.source=e,this.path=t,this.type=Fn.LISTEN_COMPLETE}operationForChild(e){return Te(this.path)?new Wl(this.source,ke()):new Wl(this.source,$e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Fn.OVERWRITE}operationForChild(e){return Te(this.path)?new wr(this.source,ke(),this.snap.getImmediateChild(e)):new wr(this.source,$e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Fn.MERGE}operationForChild(e){if(Te(this.path)){const t=this.children.subtree(new Ve(e));return t.isEmpty()?null:t.value?new wr(this.source,ke(),t.value):new Ua(this.source,ke(),t)}else return Y(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ua(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;const t=Se(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function M6(n,e,t,i){const r=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(y6(c.childName,c.snapshotNode))}),ul(n,r,"child_removed",e,i,t),ul(n,r,"child_added",e,i,t),ul(n,r,"child_moved",o,i,t),ul(n,r,"child_changed",e,i,t),ul(n,r,"value",e,i,t),r}function ul(n,e,t,i,r,o){const c=i.filter(h=>h.type===t);c.sort((h,f)=>A6(n,h,f)),c.forEach(h=>{const f=O6(n,h,o);r.forEach(d=>{d.respondsTo(h.type)&&e.push(d.createEvent(f,n.query_))})})}function O6(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function A6(n,e,t){if(e.childName==null||t.childName==null)throw Ya("Should only compare child_ events.");const i=new we(e.childName,e.snapshotNode),r=new we(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(n,e){return{eventCache:n,serverCache:e}}function Ml(n,e,t,i){return lf(new Is(e,t,i),n.serverCache)}function VE(n,e,t,i){return lf(n.eventCache,new Is(e,t,i))}function Dh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function xr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og;const R6=()=>(og||(og=new Xt(mI)),og);class Ge{static fromObject(e){let t=new Ge(null);return kt(e,(i,r)=>{t=t.set(new Ve(i),r)}),t}constructor(e,t=R6()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ke(),value:this.value};if(Te(e))return null;{const i=Se(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue($e(e),t);return o!=null?{path:at(new Ve(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Te(e))return this;{const t=Se(e),i=this.children.get(t);return i!==null?i.subtree($e(e)):new Ge(null)}}set(e,t){if(Te(e))return new Ge(t,this.children);{const i=Se(e),o=(this.children.get(i)||new Ge(null)).set($e(e),t),c=this.children.insert(i,o);return new Ge(this.value,c)}}remove(e){if(Te(e))return this.children.isEmpty()?new Ge(null):new Ge(null,this.children);{const t=Se(e),i=this.children.get(t);if(i){const r=i.remove($e(e));let o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new Ge(null):new Ge(this.value,o)}else return this}}get(e){if(Te(e))return this.value;{const t=Se(e),i=this.children.get(t);return i?i.get($e(e)):null}}setTree(e,t){if(Te(e))return t;{const i=Se(e),o=(this.children.get(i)||new Ge(null)).setTree($e(e),t);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new Ge(this.value,c)}}fold(e){return this.fold_(ke(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(at(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ke(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(Te(e))return null;{const o=Se(e),c=this.children.get(o);return c?c.findOnPath_($e(e),at(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ke(),t)}foreachOnPath_(e,t,i){if(Te(e))return this;{this.value&&i(t,this.value);const r=Se(e),o=this.children.get(r);return o?o.foreachOnPath_($e(e),at(t,r),i):new Ge(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(at(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.writeTree_=e}static empty(){return new Wn(new Ge(null))}}function Ol(n,e,t){if(Te(e))return new Wn(new Ge(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const c=Bt(r,e);return o=o.updateChild(c,t),new Wn(n.writeTree_.set(r,o))}else{const r=new Ge(t),o=n.writeTree_.setTree(e,r);return new Wn(o)}}}function Yg(n,e,t){let i=n;return kt(t,(r,o)=>{i=Ol(i,at(e,r),o)}),i}function q1(n,e){if(Te(e))return Wn.empty();{const t=n.writeTree_.setTree(e,new Ge(null));return new Wn(t)}}function Gg(n,e){return Or(n,e)!=null}function Or(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Bt(t.path,e)):null}function Y1(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(et,(i,r)=>{e.push(new we(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new we(i,r.value))}),e}function Ms(n,e){if(Te(e))return n;{const t=Or(n,e);return t!=null?new Wn(new Ge(t)):new Wn(n.writeTree_.subtree(e))}}function $g(n){return n.writeTree_.isEmpty()}function Ha(n,e){return jE(ke(),n.writeTree_,e)}function jE(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(Y(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=jE(at(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(at(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n,e){return GE(e,n)}function k6(n,e,t,i,r){Y(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Ol(n.visibleWrites,e,t)),n.lastWriteId=i}function D6(n,e,t,i){Y(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Yg(n.visibleWrites,e,t),n.lastWriteId=i}function N6(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function I6(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);Y(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&L6(h,i.path)?r=!1:Cn(i.path,h.path)&&(o=!0)),c--}if(r){if(o)return P6(n),!0;if(i.snap)n.visibleWrites=q1(n.visibleWrites,i.path);else{const h=i.children;kt(h,f=>{n.visibleWrites=q1(n.visibleWrites,at(i.path,f))})}return!0}else return!1}function L6(n,e){if(n.snap)return Cn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Cn(at(n.path,t),e))return!0;return!1}function P6(n){n.visibleWrites=WE(n.allWrites,z6,ke()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function z6(n){return n.visible}function WE(n,e,t){let i=Wn.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let h;if(o.snap)Cn(t,c)?(h=Bt(t,c),i=Ol(i,h,o.snap)):Cn(c,t)&&(h=Bt(c,t),i=Ol(i,ke(),o.snap.getChild(h)));else if(o.children){if(Cn(t,c))h=Bt(t,c),i=Yg(i,h,o.children);else if(Cn(c,t))if(h=Bt(c,t),Te(h))i=Yg(i,ke(),o.children);else{const f=yr(o.children,Se(h));if(f){const d=f.getChild($e(h));i=Ol(i,ke(),d)}}}else throw Ya("WriteRecord should have .snap or .children")}}return i}function qE(n,e,t,i,r){if(!i&&!r){const o=Or(n.visibleWrites,e);if(o!=null)return o;{const c=Ms(n.visibleWrites,e);if($g(c))return t;if(t==null&&!Gg(c,ke()))return null;{const h=t||ue.EMPTY_NODE;return Ha(c,h)}}}else{const o=Ms(n.visibleWrites,e);if(!r&&$g(o))return t;if(!r&&t==null&&!Gg(o,ke()))return null;{const c=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Cn(d.path,e)||Cn(e,d.path))},h=WE(n.allWrites,c,e),f=t||ue.EMPTY_NODE;return Ha(h,f)}}}function U6(n,e,t){let i=ue.EMPTY_NODE;const r=Or(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(et,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=Ms(n.visibleWrites,e);return t.forEachChild(et,(c,h)=>{const f=Ha(Ms(o,new Ve(c)),h);i=i.updateImmediateChild(c,f)}),Y1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Ms(n.visibleWrites,e);return Y1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function H6(n,e,t,i,r){Y(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=at(e,t);if(Gg(n.visibleWrites,o))return null;{const c=Ms(n.visibleWrites,o);return $g(c)?r.getChild(t):Ha(c,r.getChild(t))}}function B6(n,e,t,i){const r=at(e,t),o=Or(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){const c=Ms(n.visibleWrites,r);return Ha(c,i.getNode().getImmediateChild(t))}else return null}function F6(n,e){return Or(n.visibleWrites,e)}function V6(n,e,t,i,r,o,c){let h;const f=Ms(n.visibleWrites,e),d=Or(f,ke());if(d!=null)h=d;else if(t!=null)h=Ha(f,t);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const p=[],y=c.getCompare(),_=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let b=_.getNext();for(;b&&p.length<r;)y(b,i)!==0&&p.push(b),b=_.getNext();return p}else return[]}function j6(){return{visibleWrites:Wn.empty(),allWrites:[],lastWriteId:-1}}function Nh(n,e,t,i){return qE(n.writeTree,n.treePath,e,t,i)}function Jp(n,e){return U6(n.writeTree,n.treePath,e)}function G1(n,e,t,i){return H6(n.writeTree,n.treePath,e,t,i)}function Ih(n,e){return F6(n.writeTree,at(n.treePath,e))}function W6(n,e,t,i,r,o){return V6(n.writeTree,n.treePath,e,t,i,r,o)}function ey(n,e,t){return B6(n.writeTree,n.treePath,e,t)}function YE(n,e){return GE(at(n.treePath,e),n.writeTree)}function GE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Y(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Y(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Vl(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Fl(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,za(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Vl(i,e.snapshotNode,r.oldSnap));else throw Ya("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const $E=new Y6;class ty{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ey(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xr(this.viewCache_),o=W6(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n){return{filter:n}}function $6(n,e){Y(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Z6(n,e,t,i,r){const o=new q6;let c,h;if(t.type===Fn.OVERWRITE){const d=t;d.source.fromUser?c=Zg(n,e,d.path,d.snap,i,r,o):(Y(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered()&&!Te(d.path),c=Lh(n,e,d.path,d.snap,i,r,h,o))}else if(t.type===Fn.MERGE){const d=t;d.source.fromUser?c=K6(n,e,d.path,d.children,i,r,o):(Y(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered(),c=Xg(n,e,d.path,d.children,i,r,h,o))}else if(t.type===Fn.ACK_USER_WRITE){const d=t;d.revert?c=e3(n,e,d.path,i,r,o):c=Q6(n,e,d.path,d.affectedTree,i,r,o)}else if(t.type===Fn.LISTEN_COMPLETE)c=J6(n,e,t.path,i,o);else throw Ya("Unknown operation type: "+t.type);const f=o.getChanges();return X6(e,c,f),{viewCache:c,changes:f}}function X6(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Dh(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(BE(Dh(e)))}}function ZE(n,e,t,i,r,o){const c=e.eventCache;if(Ih(i,t)!=null)return e;{let h,f;if(Te(t))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=xr(e),p=d instanceof ue?d:ue.EMPTY_NODE,y=Jp(i,p);h=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const d=Nh(i,xr(e));h=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=Se(t);if(d===".priority"){Y(Ns(t)===1,"Can't have a priority with additional path components");const p=c.getNode();f=e.serverCache.getNode();const y=G1(i,t,p,f);y!=null?h=n.filter.updatePriority(p,y):h=c.getNode()}else{const p=$e(t);let y;if(c.isCompleteForChild(d)){f=e.serverCache.getNode();const _=G1(i,t,c.getNode(),f);_!=null?y=c.getNode().getImmediateChild(d).updateChild(p,_):y=c.getNode().getImmediateChild(d)}else y=ey(i,d,e.serverCache);y!=null?h=n.filter.updateChild(c.getNode(),d,y,p,r,o):h=c.getNode()}}return Ml(e,h,c.isFullyInitialized()||Te(t),n.filter.filtersNodes())}}function Lh(n,e,t,i,r,o,c,h){const f=e.serverCache;let d;const p=c?n.filter:n.filter.getIndexedFilter();if(Te(t))d=p.updateFullNode(f.getNode(),i,null);else if(p.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(t,i);d=p.updateFullNode(f.getNode(),b,null)}else{const b=Se(t);if(!f.isCompleteForPath(t)&&Ns(t)>1)return e;const w=$e(t),E=f.getNode().getImmediateChild(b).updateChild(w,i);b===".priority"?d=p.updatePriority(f.getNode(),E):d=p.updateChild(f.getNode(),b,E,w,$E,null)}const y=VE(e,d,f.isFullyInitialized()||Te(t),p.filtersNodes()),_=new ty(r,y,o);return ZE(n,y,t,r,_,h)}function Zg(n,e,t,i,r,o,c){const h=e.eventCache;let f,d;const p=new ty(r,e,o);if(Te(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=Ml(e,d,!0,n.filter.filtersNodes());else{const y=Se(t);if(y===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),f=Ml(e,d,h.isFullyInitialized(),h.isFiltered());else{const _=$e(t),b=h.getNode().getImmediateChild(y);let w;if(Te(_))w=i;else{const x=p.getCompleteChild(y);x!=null?Wp(_)===".priority"&&x.getChild(NE(_)).isEmpty()?w=x:w=x.updateChild(_,i):w=ue.EMPTY_NODE}if(b.equals(w))f=e;else{const x=n.filter.updateChild(h.getNode(),y,w,_,p,c);f=Ml(e,x,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function $1(n,e){return n.eventCache.isCompleteForChild(e)}function K6(n,e,t,i,r,o,c){let h=e;return i.foreach((f,d)=>{const p=at(t,f);$1(e,Se(p))&&(h=Zg(n,h,p,d,r,o,c))}),i.foreach((f,d)=>{const p=at(t,f);$1(e,Se(p))||(h=Zg(n,h,p,d,r,o,c))}),h}function Z1(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Xg(n,e,t,i,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,d;Te(t)?d=i:d=new Ge(null).setTree(t,i);const p=e.serverCache.getNode();return d.children.inorderTraversal((y,_)=>{if(p.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),w=Z1(n,b,_);f=Lh(n,f,new Ve(y),w,r,o,c,h)}}),d.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!p.hasChild(y)&&!b){const w=e.serverCache.getNode().getImmediateChild(y),x=Z1(n,w,_);f=Lh(n,f,new Ve(y),x,r,o,c,h)}}),f}function Q6(n,e,t,i,r,o,c){if(Ih(r,t)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(Te(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Lh(n,e,t,f.getNode().getChild(t),r,o,h,c);if(Te(t)){let d=new Ge(null);return f.getNode().forEachChild(Ra,(p,y)=>{d=d.set(new Ve(p),y)}),Xg(n,e,t,d,r,o,h,c)}else return e}else{let d=new Ge(null);return i.foreach((p,y)=>{const _=at(t,p);f.isCompleteForPath(_)&&(d=d.set(p,f.getNode().getChild(_)))}),Xg(n,e,t,d,r,o,h,c)}}function J6(n,e,t,i,r){const o=e.serverCache,c=VE(e,o.getNode(),o.isFullyInitialized()||Te(t),o.isFiltered());return ZE(n,c,t,i,$E,r)}function e3(n,e,t,i,r,o){let c;if(Ih(i,t)!=null)return e;{const h=new ty(i,e,r),f=e.eventCache.getNode();let d;if(Te(t)||Se(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Nh(i,xr(e));else{const y=e.serverCache.getNode();Y(y instanceof ue,"serverChildren would be complete if leaf node"),p=Jp(i,y)}p=p,d=n.filter.updateFullNode(f,p,o)}else{const p=Se(t);let y=ey(i,p,e.serverCache);y==null&&e.serverCache.isCompleteForChild(p)&&(y=f.getImmediateChild(p)),y!=null?d=n.filter.updateChild(f,p,y,$e(t),h,o):e.eventCache.getNode().hasChild(p)?d=n.filter.updateChild(f,p,ue.EMPTY_NODE,$e(t),h,o):d=f,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Nh(i,xr(e)),c.isLeafNode()&&(d=n.filter.updateFullNode(d,c,o)))}return c=e.serverCache.isFullyInitialized()||Ih(i,ke())!=null,Ml(e,d,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $p(i.getIndex()),o=v6(i);this.processor_=G6(o);const c=t.serverCache,h=t.eventCache,f=r.updateFullNode(ue.EMPTY_NODE,c.getNode(),null),d=o.updateFullNode(ue.EMPTY_NODE,h.getNode(),null),p=new Is(f,c.isFullyInitialized(),r.filtersNodes()),y=new Is(d,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=lf(y,p),this.eventGenerator_=new C6(this.query_)}get query(){return this.query_}}function n3(n){return n.viewCache_.serverCache.getNode()}function i3(n){return Dh(n.viewCache_)}function s3(n,e){const t=xr(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Te(e)&&!t.getImmediateChild(Se(e)).isEmpty())?t.getChild(e):null}function X1(n){return n.eventRegistrations_.length===0}function r3(n,e){n.eventRegistrations_.push(e)}function K1(n,e,t){const i=[];if(t){Y(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(e))r.push(c);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Q1(n,e,t,i){e.type===Fn.MERGE&&e.source.queryId!==null&&(Y(xr(n.viewCache_),"We should always have a full cache before handling merges"),Y(Dh(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=Z6(n.processor_,r,e,t,i);return $6(n.processor_,o.viewCache),Y(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,XE(n,o.changes,o.viewCache.eventCache.getNode(),null)}function a3(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(et,(o,c)=>{i.push(za(o,c))}),t.isFullyInitialized()&&i.push(BE(t.getNode())),XE(n,i,t.getNode(),e)}function XE(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return M6(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class KE{constructor(){this.views=new Map}}function o3(n){Y(!Ph,"__referenceConstructor has already been defined"),Ph=n}function l3(){return Y(Ph,"Reference.ts has not been loaded"),Ph}function c3(n){return n.views.size===0}function ny(n,e,t,i){const r=e.source.queryId;if(r!==null){const o=n.views.get(r);return Y(o!=null,"SyncTree gave us an op for an invalid query."),Q1(o,e,t,i)}else{let o=[];for(const c of n.views.values())o=o.concat(Q1(c,e,t,i));return o}}function QE(n,e,t,i,r){const o=e._queryIdentifier,c=n.views.get(o);if(!c){let h=Nh(t,r?i:null),f=!1;h?f=!0:i instanceof ue?(h=Jp(t,i),f=!1):(h=ue.EMPTY_NODE,f=!1);const d=lf(new Is(h,f,!1),new Is(i,r,!1));return new t3(e,d)}return c}function u3(n,e,t,i,r,o){const c=QE(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),r3(c,t),a3(c,t)}function h3(n,e,t,i){const r=e._queryIdentifier,o=[];let c=[];const h=Ls(n);if(r==="default")for(const[f,d]of n.views.entries())c=c.concat(K1(d,t,i)),X1(d)&&(n.views.delete(f),d.query._queryParams.loadsAllData()||o.push(d.query));else{const f=n.views.get(r);f&&(c=c.concat(K1(f,t,i)),X1(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!Ls(n)&&o.push(new(l3())(e._repo,e._path)),{removed:o,events:c}}function JE(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Os(n,e){let t=null;for(const i of n.views.values())t=t||s3(i,e);return t}function eT(n,e){if(e._queryParams.loadsAllData())return uf(n);{const i=e._queryIdentifier;return n.views.get(i)}}function tT(n,e){return eT(n,e)!=null}function Ls(n){return uf(n)!=null}function uf(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh;function f3(n){Y(!zh,"__referenceConstructor has already been defined"),zh=n}function d3(){return Y(zh,"Reference.ts has not been loaded"),zh}let m3=1;class J1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=j6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nT(n,e,t,i,r){return k6(n.pendingWriteTree_,e,t,i,r),r?Qa(n,new wr(Xp(),e,t)):[]}function g3(n,e,t,i){D6(n.pendingWriteTree_,e,t,i);const r=Ge.fromObject(t);return Qa(n,new Ua(Xp(),e,r))}function dr(n,e,t=!1){const i=N6(n.pendingWriteTree_,e);if(I6(n.pendingWriteTree_,e)){let o=new Ge(null);return i.snap!=null?o=o.set(ke(),!0):kt(i.children,c=>{o=o.set(new Ve(c),!0)}),Qa(n,new kh(i.path,o,t))}else return[]}function hc(n,e,t){return Qa(n,new wr(Kp(),e,t))}function p3(n,e,t){const i=Ge.fromObject(t);return Qa(n,new Ua(Kp(),e,i))}function y3(n,e){return Qa(n,new Wl(Kp(),e))}function _3(n,e,t){const i=sy(n,t);if(i){const r=ry(i),o=r.path,c=r.queryId,h=Bt(o,e),f=new Wl(Qp(c),h);return ay(n,o,f)}else return[]}function Uh(n,e,t,i,r=!1){const o=e._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(e._queryIdentifier==="default"||tT(c,e))){const f=h3(c,e,t,i);c3(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const d=f.removed;if(h=f.events,!r){const p=d.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(_,b)=>Ls(b));if(p&&!y){const _=n.syncPointTree_.subtree(o);if(!_.isEmpty()){const b=S3(_);for(let w=0;w<b.length;++w){const x=b[w],E=x.query,C=aT(n,x);n.listenProvider_.startListening(Al(E),ql(n,E),C.hashFn,C.onComplete)}}}!y&&d.length>0&&!i&&(p?n.listenProvider_.stopListening(Al(e),null):d.forEach(_=>{const b=n.queryToTagMap.get(hf(_));n.listenProvider_.stopListening(Al(_),b)}))}w3(n,d)}return h}function iT(n,e,t,i){const r=sy(n,i);if(r!=null){const o=ry(r),c=o.path,h=o.queryId,f=Bt(c,e),d=new wr(Qp(h),f,t);return ay(n,c,d)}else return[]}function v3(n,e,t,i){const r=sy(n,i);if(r){const o=ry(r),c=o.path,h=o.queryId,f=Bt(c,e),d=Ge.fromObject(t),p=new Ua(Qp(h),f,d);return ay(n,c,p)}else return[]}function Kg(n,e,t,i=!1){const r=e._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(_,b)=>{const w=Bt(_,r);o=o||Os(b,w),c=c||Ls(b)});let h=n.syncPointTree_.get(r);h?(c=c||Ls(h),o=o||Os(h,ke())):(h=new KE,n.syncPointTree_=n.syncPointTree_.set(r,h));let f;o!=null?f=!0:(f=!1,o=ue.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((b,w)=>{const x=Os(w,ke());x&&(o=o.updateImmediateChild(b,x))}));const d=tT(h,e);if(!d&&!e._queryParams.loadsAllData()){const _=hf(e);Y(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=x3();n.queryToTagMap.set(_,b),n.tagToQueryMap.set(b,_)}const p=cf(n.pendingWriteTree_,r);let y=u3(h,e,t,p,o,f);if(!d&&!c&&!i){const _=eT(h,e);y=y.concat(E3(n,e,_))}return y}function iy(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,h)=>{const f=Bt(c,e),d=Os(h,f);if(d)return d});return qE(r,e,o,t,!0)}function b3(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(d,p)=>{const y=Bt(d,t);i=i||Os(p,y)});let r=n.syncPointTree_.get(t);r?i=i||Os(r,ke()):(r=new KE,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=i!=null,c=o?new Is(i,!0,!1):null,h=cf(n.pendingWriteTree_,e._path),f=QE(r,e,h,o?c.getNode():ue.EMPTY_NODE,o);return i3(f)}function Qa(n,e){return sT(e,n.syncPointTree_,null,cf(n.pendingWriteTree_,ke()))}function sT(n,e,t,i){if(Te(n.path))return rT(n,e,t,i);{const r=e.get(ke());t==null&&r!=null&&(t=Os(r,ke()));let o=[];const c=Se(n.path),h=n.operationForChild(c),f=e.children.get(c);if(f&&h){const d=t?t.getImmediateChild(c):null,p=YE(i,c);o=o.concat(sT(h,f,d,p))}return r&&(o=o.concat(ny(r,n,i,t))),o}}function rT(n,e,t,i){const r=e.get(ke());t==null&&r!=null&&(t=Os(r,ke()));let o=[];return e.children.inorderTraversal((c,h)=>{const f=t?t.getImmediateChild(c):null,d=YE(i,c),p=n.operationForChild(c);p&&(o=o.concat(rT(p,h,f,d)))}),r&&(o=o.concat(ny(r,n,i,t))),o}function aT(n,e){const t=e.query,i=ql(n,t);return{hashFn:()=>(n3(e)||ue.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?_3(n,t._path,i):y3(n,t._path);{const o=yI(r,t);return Uh(n,t,null,o)}}}}function ql(n,e){const t=hf(e);return n.queryToTagMap.get(t)}function hf(n){return n._path.toString()+"$"+n._queryIdentifier}function sy(n,e){return n.tagToQueryMap.get(e)}function ry(n){const e=n.indexOf("$");return Y(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ve(n.substr(0,e))}}function ay(n,e,t){const i=n.syncPointTree_.get(e);Y(i,"Missing sync point for query tag that we're tracking");const r=cf(n.pendingWriteTree_,e);return ny(i,t,r,null)}function S3(n){return n.fold((e,t,i)=>{if(t&&Ls(t))return[uf(t)];{let r=[];return t&&(r=JE(t)),kt(i,(o,c)=>{r=r.concat(c)}),r}})}function Al(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(d3())(n._repo,n._path):n}function w3(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=hf(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function x3(){return m3++}function E3(n,e,t){const i=e._path,r=ql(n,e),o=aT(n,t),c=n.listenProvider_.startListening(Al(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)Y(!Ls(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((d,p,y)=>{if(!Te(d)&&p&&Ls(p))return[uf(p).query];{let _=[];return p&&(_=_.concat(JE(p).map(b=>b.query))),kt(y,(b,w)=>{_=_.concat(w)}),_}});for(let d=0;d<f.length;++d){const p=f[d];n.listenProvider_.stopListening(Al(p),ql(n,p))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oy(t)}node(){return this.node_}}class ly{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=at(this.path_,e);return new ly(this.syncTree_,t)}node(){return iy(this.syncTree_,this.path_)}}const T3=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},eS=function(n,e,t){if(!n||typeof n!="object")return n;if(Y(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return C3(n[".sv"],e,t);if(typeof n[".sv"]=="object")return M3(n[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},C3=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Y(!1,"Unexpected server value: "+n)}},M3=function(n,e,t){n.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Y(!1,"Unexpected increment value: "+i);const r=e.node();if(Y(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},oT=function(n,e,t,i){return cy(e,new ly(t,n),i)},lT=function(n,e,t){return cy(n,new oy(e),t)};function cy(n,e,t){const i=n.getPriority().val(),r=eS(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,h=eS(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new Tt(h,yt(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Tt(r))),c.forEachChild(et,(h,f)=>{const d=cy(f,e.getImmediateChild(h),t);d!==f&&(o=o.updateImmediateChild(h,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ff(n,e){let t=e instanceof Ve?e:new Ve(e),i=n,r=Se(t);for(;r!==null;){const o=yr(i.node.children,r)||{children:{},childCount:0};i=new uy(r,i,o),t=$e(t),r=Se(t)}return i}function Ar(n){return n.node.value}function hy(n,e){n.node.value=e,Qg(n)}function cT(n){return n.node.childCount>0}function O3(n){return Ar(n)===void 0&&!cT(n)}function df(n,e){kt(n.node.children,(t,i)=>{e(new uy(t,n,i))})}function uT(n,e,t,i){t&&e(n),df(n,r=>{uT(r,e,!0)})}function A3(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function fc(n){return new Ve(n.parent===null?n.name:fc(n.parent)+"/"+n.name)}function Qg(n){n.parent!==null&&R3(n.parent,n.name,n)}function R3(n,e,t){const i=O3(t),r=Gn(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Qg(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Qg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=/[\[\].#$\/\u0000-\u001F\u007F]/,D3=/[\[\].#$\u0000-\u001F\u007F]/,lg=10*1024*1024,fy=function(n){return typeof n=="string"&&n.length!==0&&!k3.test(n)},hT=function(n){return typeof n=="string"&&n.length!==0&&!D3.test(n)},N3=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hT(n)},fT=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Hp(n)||n&&typeof n=="object"&&Gn(n,".sv")},mf=function(n,e,t){const i=t instanceof Ve?new KI(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+lr(i));if(typeof e=="function")throw new Error(n+"contains a function "+lr(i)+" with contents = "+e.toString());if(Hp(e))throw new Error(n+"contains "+e.toString()+" "+lr(i));if(typeof e=="string"&&e.length>lg/3&&nf(e)>lg)throw new Error(n+"contains a string greater than "+lg+" utf8 bytes "+lr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(kt(e,(c,h)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!fy(c)))throw new Error(n+" contains an invalid key ("+c+") "+lr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QI(i,c),mf(n,h,i),JI(i)}),r&&o)throw new Error(n+' contains ".value" child '+lr(i)+" in addition to actual children.")}},I3=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=Bl(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!fy(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XI);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&Cn(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},L3=function(n,e,t,i){const r=Cp(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];kt(e,(c,h)=>{const f=new Ve(c);if(mf(r,h,at(t,f)),Wp(f)===".priority"&&!fT(h))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),I3(r,o)},dT=function(n,e,t,i){if(!hT(t))throw new Error(Cp(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},P3=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dT(n,e,t)},z3=function(n,e){if(Se(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},U3=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!N3(t))throw new Error(Cp(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dy(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();t!==null&&!qp(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function mT(n,e,t){dy(n,t),gT(n,i=>qp(i,e))}function qn(n,e,t){dy(n,t),gT(n,i=>Cn(i,e)||Cn(e,i))}function gT(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;e(o)?(B3(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function B3(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Tl&&Rt("event: "+t.toString()),Ka(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="repo_interrupt",V3=25;class j3{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rh(),this.transactionQueueTree_=new uy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W3(n,e,t){if(n.stats_=Vp(n.repoInfo_),n.forceRestClient_||SI())n.server_=new Ah(n.repoInfo_,(i,r,o,c)=>{tS(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>nS(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Pi(n.repoInfo_,e,(i,r,o,c)=>{tS(n,i,r,o,c)},i=>{nS(n,i)},i=>{Y3(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=CI(n.repoInfo_,()=>new T6(n.stats_,n.server_)),n.infoData_=new b6,n.infoSyncTree_=new J1({startListening:(i,r,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=hc(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),my(n,"connected",!1),n.serverSyncTree_=new J1({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,f)=>{const d=c(h,f);qn(n.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function q3(n){const t=n.infoData_.getNode(new Ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function gf(n){return T3({timestamp:q3(n)})}function tS(n,e,t,i,r){n.dataUpdateCount++;const o=new Ve(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=vh(t,d=>yt(d));c=v3(n.serverSyncTree_,o,f,r)}else{const f=yt(t);c=iT(n.serverSyncTree_,o,f,r)}else if(i){const f=vh(t,d=>yt(d));c=p3(n.serverSyncTree_,o,f)}else{const f=yt(t);c=hc(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=Yl(n,o)),qn(n.eventQueue_,h,c)}function nS(n,e){my(n,"connected",e),e===!1&&Z3(n)}function Y3(n,e){kt(e,(t,i)=>{my(n,t,i)})}function my(n,e,t){const i=new Ve("/.info/"+e),r=yt(t);n.infoData_.updateSnapshot(i,r);const o=hc(n.infoSyncTree_,i,r);qn(n.eventQueue_,i,o)}function gy(n){return n.nextWriteId_++}function G3(n,e,t){const i=b3(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{const o=yt(r).withIndex(e._queryParams.getIndex());Kg(n.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=hc(n.serverSyncTree_,e._path,o);else{const h=ql(n.serverSyncTree_,e);c=iT(n.serverSyncTree_,e._path,o,h)}return qn(n.eventQueue_,e._path,c),Uh(n.serverSyncTree_,e,t,null,!0),o},r=>(dc(n,"get for query "+_t(e)+" failed: "+r),Promise.reject(new Error(r))))}function $3(n,e,t,i){dc(n,"update",{path:e.toString(),value:t});let r=!0;const o=gf(n),c={};if(kt(t,(h,f)=>{r=!1,c[h]=oT(at(e,h),yt(f),n.serverSyncTree_,o)}),r)Rt("update() called with empty data.  Don't do anything."),iS(n,i,"ok",void 0);else{const h=gy(n),f=g3(n.serverSyncTree_,e,c,h);dy(n.eventQueue_,f),n.server_.merge(e.toString(),t,(d,p)=>{const y=d==="ok";y||Qt("update at "+e+" failed: "+d);const _=dr(n.serverSyncTree_,h,!y),b=_.length>0?Yl(n,e):e;qn(n.eventQueue_,b,_),iS(n,i,d,p)}),kt(t,d=>{const p=vT(n,at(e,d));Yl(n,p)}),qn(n.eventQueue_,e,[])}}function Z3(n){dc(n,"onDisconnectEvents");const e=gf(n),t=Rh();qg(n.onDisconnect_,ke(),(r,o)=>{const c=oT(r,o,n.serverSyncTree_,e);FE(t,r,c)});let i=[];qg(t,ke(),(r,o)=>{i=i.concat(hc(n.serverSyncTree_,r,o));const c=vT(n,r);Yl(n,c)}),n.onDisconnect_=Rh(),qn(n.eventQueue_,ke(),i)}function X3(n,e,t){let i;Se(e._path)===".info"?i=Kg(n.infoSyncTree_,e,t):i=Kg(n.serverSyncTree_,e,t),mT(n.eventQueue_,e._path,i)}function K3(n,e,t){let i;Se(e._path)===".info"?i=Uh(n.infoSyncTree_,e,t):i=Uh(n.serverSyncTree_,e,t),mT(n.eventQueue_,e._path,i)}function Q3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(F3)}function dc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Rt(t,...e)}function iS(n,e,t,i){e&&Ka(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,e(c)}})}function J3(n,e,t,i,r,o){dc(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:hE(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=py(n,e,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(f===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{mf("transaction failed: Data returned ",f,c.path),c.status=0;const d=ff(n.transactionQueueTree_,e),p=Ar(d)||[];p.push(c),hy(d,p);let y;typeof f=="object"&&f!==null&&Gn(f,".priority")?(y=yr(f,".priority"),Y(fT(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(iy(n.serverSyncTree_,e)||ue.EMPTY_NODE).getPriority().val();const _=gf(n),b=yt(f,y),w=lT(b,h,_);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=w,c.currentWriteId=gy(n);const x=nT(n.serverSyncTree_,e,w,c.currentWriteId,c.applyLocally);qn(n.eventQueue_,e,x),pf(n,n.transactionQueueTree_)}}function py(n,e,t){return iy(n.serverSyncTree_,e,t)||ue.EMPTY_NODE}function pf(n,e=n.transactionQueueTree_){if(e||yf(n,e),Ar(e)){const t=yT(n,e);Y(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&e4(n,fc(e),t)}else cT(e)&&df(e,t=>{pf(n,t)})}function e4(n,e,t){const i=t.map(d=>d.currentWriteId),r=py(n,e,i);let o=r;const c=r.hash();for(let d=0;d<t.length;d++){const p=t[d];Y(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=Bt(e,p.path);o=o.updateChild(y,p.currentOutputSnapshotRaw)}const h=o.val(!0),f=e;n.server_.put(f.toString(),h,d=>{dc(n,"transaction put response",{path:f.toString(),status:d});let p=[];if(d==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(dr(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();yf(n,ff(n.transactionQueueTree_,e)),pf(n,n.transactionQueueTree_),qn(n.eventQueue_,e,p);for(let _=0;_<y.length;_++)Ka(y[_])}else{if(d==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{Qt("transaction at "+f.toString()+" failed: "+d);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=d}Yl(n,e)}},c)}function Yl(n,e){const t=pT(n,e),i=fc(t),r=yT(n,t);return t4(n,r,i),i}function t4(n,e,t){if(e.length===0)return;const i=[];let r=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],d=Bt(t,f.path);let p=!1,y;if(Y(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,y=f.abortReason,r=r.concat(dr(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=V3)p=!0,y="maxretry",r=r.concat(dr(n.serverSyncTree_,f.currentWriteId,!0));else{const _=py(n,f.path,c);f.currentInputSnapshot=_;const b=e[h].update(_.val());if(b!==void 0){mf("transaction failed: Data returned ",b,f.path);let w=yt(b);typeof b=="object"&&b!=null&&Gn(b,".priority")||(w=w.updatePriority(_.getPriority()));const E=f.currentWriteId,C=gf(n),R=lT(w,_,C);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=R,f.currentWriteId=gy(n),c.splice(c.indexOf(E),1),r=r.concat(nT(n.serverSyncTree_,f.path,R,f.currentWriteId,f.applyLocally)),r=r.concat(dr(n.serverSyncTree_,E,!0))}else p=!0,y="nodata",r=r.concat(dr(n.serverSyncTree_,f.currentWriteId,!0))}qn(n.eventQueue_,t,r),r=[],p&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(y),!1,null))))}yf(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Ka(i[h]);pf(n,n.transactionQueueTree_)}function pT(n,e){let t,i=n.transactionQueueTree_;for(t=Se(e);t!==null&&Ar(i)===void 0;)i=ff(i,t),e=$e(e),t=Se(e);return i}function yT(n,e){const t=[];return _T(n,e,t),t.sort((i,r)=>i.order-r.order),t}function _T(n,e,t){const i=Ar(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);df(e,r=>{_T(n,r,t)})}function yf(n,e){const t=Ar(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,hy(e,t.length>0?t:void 0)}df(e,i=>{yf(n,i)})}function vT(n,e){const t=fc(pT(n,e)),i=ff(n.transactionQueueTree_,e);return A3(i,r=>{cg(n,r)}),cg(n,i),uT(i,r=>{cg(n,r)}),t}function cg(n,e){const t=Ar(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(Y(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):(Y(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(dr(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?hy(e,void 0):t.length=o+1,qn(n.eventQueue_,fc(e),r);for(let c=0;c<i.length;c++)Ka(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function i4(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Qt(`Invalid query segment '${t}' in query '${n}'`)}return e}const sS=function(n,e){const t=s4(n),i=t.namespace;t.domain==="firebase.com"&&Bi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||fI();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new EE(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Ve(t.pathString)}},s4=function(n){let e="",t="",i="",r="",o="",c=!0,h="https",f=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(h=n.substring(0,d-1),n=n.substring(d+2));let p=n.indexOf("/");p===-1&&(p=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(p,y)),p<y&&(r=n4(n.substring(p,y)));const _=i4(n.substring(Math.min(n.length,y)));d=e.indexOf(":"),d>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),t=e.substring(w+1),o=i}"ns"in _&&(o=_.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())}}class a4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Te(this._path)?null:Wp(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const e=j1(this._queryParams),t=Bp(e);return t==="{}"?"default":t}get _queryObject(){return j1(this._queryParams)}isEqual(e){if(e=Jt(e),!(e instanceof yy))return!1;const t=this._repo===e._repo,i=qp(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZI(this._path)}}class li extends yy{constructor(e,t){super(e,t,new Zp,!1)}get parent(){const e=NE(this._path);return e===null?null:new li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ba{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ve(e),i=Jg(this.ref,e);return new Ba(this._node.getChild(t),i,et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Ba(r,Jg(this.ref,i),et)))}hasChild(e){const t=new Ve(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hn(n,e){return n=Jt(n),n._checkNotDeleted("ref"),e!==void 0?Jg(n._root,e):n._root}function Jg(n,e){return n=Jt(n),Se(n._path)===null?P3("child","path",e):dT("child","path",e),new li(n._repo,at(n._path,e))}function rS(n,e){L3("update",e,n._path);const t=new nc;return $3(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Mn(n){n=Jt(n);const e=new bT(()=>{}),t=new _f(e);return G3(n._repo,n,t).then(i=>new Ba(i,new li(n._repo,n._path),n._queryParams.getIndex()))}class _f{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new r4("value",this,new Ba(e.snapshotNode,new li(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a4(this,e,t):null}matches(e){return e instanceof _f?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function o4(n,e,t,i,r){const o=new bT(t,void 0),c=new _f(o);return X3(n._repo,n,c),()=>K3(n._repo,n,c)}function l4(n,e,t,i){return o4(n,"value",e)}o3(li);f3(li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="FIREBASE_DATABASE_EMULATOR_HOST",ep={};let u4=!1;function h4(n,e,t,i){const r=e.lastIndexOf(":"),o=e.substring(0,r),c=Ga(o);n.repoInfo_=new EE(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function f4(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=sS(o,r),h=c.repoInfo,f;typeof process<"u"&&T1&&(f=T1[c4]),f?(o=`http://${f}?ns=${h.namespace}`,c=sS(o,r),h=c.repoInfo):c.repoInfo.secure;const d=new xI(n.name,n.options,e);U3("Invalid Firebase Database URL",c),Te(c.path)||Bi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=m4(h,n,d,new wI(n,t));return new g4(p,n)}function d4(n,e){const t=ep[e];(!t||t[n.key]!==n)&&Bi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Q3(n),delete t[n.key]}function m4(n,e,t,i){let r=ep[e.name];r||(r={},ep[e.name]=r);let o=r[n.toURLString()];return o&&Bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new j3(n,u4,t,i),r[n.toURLString()]=o,o}class g4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(d4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bi("Cannot call "+e+" on a deleted database.")}}function p4(n=Mx(),e){const t=Ap(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=AR("database");i&&y4(t,...i)}return t}function y4(n,e,t,i={}){n=Jt(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&_r(i,o.repoInfo_.emulatorOptions))return;Bi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new ch(ch.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:RR(i.mockUserToken,n.app.options.projectId);c=new ch(h)}Ga(e)&&(bx(e),Sx("Database",!0)),h4(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n){oI(Za),La(new vr("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return f4(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),Ts(C1,M1,n),Ts(C1,M1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function b4(n,e,t){if(n=Jt(n),z3("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=!0,r=new nc,o=(h,f,d)=>{let p=null;h?r.reject(h):(p=new Ba(d,new li(n._repo,n._path),et),r.resolve(new v4(f,p)))},c=l4(n,()=>{});return J3(n._repo,n._path,e,o,c,i),r.promise}Pi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Pi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};_4();const S4={apiKey:"AIzaSyBc0dGkBKXhK_0AcfXFo2aHvoWXQHu0VEY",authDomain:"english-master-5ca79.firebaseapp.com",databaseURL:"https://english-master-5ca79-default-rtdb.firebaseio.com",projectId:"english-master-5ca79",storageBucket:"english-master-5ca79.firebasestorage.app",messagingSenderId:"1003173994906",appId:"1:1003173994906:web:a85404f0c521270a8d1a23",measurementId:"G-S1T3737QG1"},w4=Cx(S4),Fa=iI(),fn=p4(w4),ST=new Ai,wT=L.createContext(),x4=({children:n})=>{const[e,t]=L.useState(null),[i,r]=L.useState(!0);L.useEffect(()=>{const c=GD(Fa,h=>{t(h),r(!1)});return()=>c()},[]);const o={user:e,loading:i};return A.jsx(wT.Provider,{value:o,children:!i&&n})},Ja=()=>L.useContext(wT),E4=[{days:5,borderColor:"#FBBF24"},{days:10,borderColor:"#F59E0B"},{days:20,borderColor:"#FB923C"},{days:30,borderColor:"#EA580C"},{days:60,borderColor:"#2563EB"},{days:100,borderColor:"#9333EA"},{days:150,borderColor:"#D97706"},{days:200,borderColor:"#FBBF24"},{days:250,borderColor:"#F59E0B"},{days:300,borderColor:"#EAB308"},{days:365,borderColor:"#FFD700"}];function T4({streakCount:n,isGot:e}){return A.jsx("div",{className:`w-20 h-20 flex items-center justify-center relative transform transition-all duration-500 ${e?"animate-pulse":"animate-none"}`,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsxs("defs",{children:[A.jsx("clipPath",{id:"hexClip",children:A.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25"})}),A.jsxs("filter",{id:"glass",x:"0",y:"0",width:"100%",height:"100%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),A.jsx("feFlood",{floodColor:"#ffffff",floodOpacity:"0.3"}),A.jsx("feComposite",{in2:"blur",operator:"in"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),A.jsxs("radialGradient",{id:"sparkGrad",cx:"50%",cy:"50%",r:"50%",children:[A.jsx("stop",{offset:"0%",stopColor:"#FFD700",stopOpacity:"1"}),A.jsx("stop",{offset:"100%",stopColor:"#FFD700",stopOpacity:"0"})]})]}),A.jsx("rect",{width:"100",height:"100",rx:"12",ry:"12",fill:"rgba(255,255,255,0.4)",filter:"url(#glass)",clipPath:"url(#hexClip)"}),A.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25",fill:"none",stroke:e?E4.find(t=>t.days==n).borderColor:"#EEEEEE",strokeWidth:"4"}),A.jsx("text",{x:"50",y:"58",textAnchor:"middle",fontFamily:"'Montserrat', sans-serif",fontWeight:"100",fontSize:"22",fill:e?"#111111":"#CCCCCC",children:n}),e&&n===365&&[...Array(8)].map((t,i)=>{const r=i/8*2*Math.PI,o=40,c=50+o*Math.cos(r),h=50+o*Math.sin(r),f=1+Math.random();return A.jsxs("circle",{cx:c,cy:h,r:"2",fill:"url(#sparkGrad)",children:[A.jsx("animate",{attributeName:"r",values:"2;5;2",dur:`${f}s`,repeatCount:"indefinite"}),A.jsx("animate",{attributeName:"opacity",values:"1;0.2;1",dur:`${f}s`,repeatCount:"indefinite"})]},i)})]})})}const aS=[5,10,20,30,60,100,150,200,250,300,365];function C4({streakCount:n}){const e=L.useRef(null),t=L.useRef([]),i=aS.filter(r=>r<=n).length-1;return L.useEffect(()=>{if(e.current&&t.current[i]){const r=e.current,o=t.current[i],c=r.offsetWidth,h=o.offsetWidth,d=o.offsetLeft-c/2+h/2;r.scrollTo({left:d,behavior:"smooth"})}},[i]),A.jsx("div",{ref:e,className:"flex gap-4 overflow-x-auto px-4 py-6 w-full snap-x snap-mandatory scrollbar-hide",children:aS.map((r,o)=>A.jsx("div",{className:"snap-center flex-shrink-0 h-fit",ref:c=>t.current[o]=c,children:A.jsx(T4,{streakCount:r,isGot:r<=n})},o))})}function M4({streakCount:n,dailyActivity:e}){const t=[1,2,3,4,5,6,7];return A.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[A.jsxs("div",{className:"text-6xl font-extrabold text-[var(--color-accent)]",children:[n,n<=1?"Day":"Days"]}),A.jsx("div",{className:"text-gray-600 font-JP",children:""}),A.jsx("div",{className:"flex gap-2",children:e?A.jsx(A.Fragment,{children:Object.entries(e).map(([i,r])=>A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("div",{className:`w-8 h-8 rounded transition-colors duration-300 ${r?"bg-[var(--color-accent)]":"bg-gray-300"}`}),A.jsx("p",{className:"text-center text-xs",children:new Date(i).toDateString().slice(0,3)})]},i))}):A.jsx(A.Fragment,{children:t.map((i,r)=>A.jsx("div",{className:"w-8 h-8 rounded animation-pulse bg-gray-200"},r))})}),A.jsx(C4,{streakCount:n})]})}class Rr extends Error{}class O4 extends Rr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class A4 extends Rr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class R4 extends Rr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ta extends Rr{}class xT extends Rr{constructor(e){super(`Invalid unit ${e}`)}}class Pt extends Rr{}class gs extends Rr{constructor(){super("Zone is an abstract class")}}const Z="numeric",Yn="short",dn="long",Hh={year:Z,month:Z,day:Z},ET={year:Z,month:Yn,day:Z},k4={year:Z,month:Yn,day:Z,weekday:Yn},TT={year:Z,month:dn,day:Z},CT={year:Z,month:dn,day:Z,weekday:dn},MT={hour:Z,minute:Z},OT={hour:Z,minute:Z,second:Z},AT={hour:Z,minute:Z,second:Z,timeZoneName:Yn},RT={hour:Z,minute:Z,second:Z,timeZoneName:dn},kT={hour:Z,minute:Z,hourCycle:"h23"},DT={hour:Z,minute:Z,second:Z,hourCycle:"h23"},NT={hour:Z,minute:Z,second:Z,hourCycle:"h23",timeZoneName:Yn},IT={hour:Z,minute:Z,second:Z,hourCycle:"h23",timeZoneName:dn},LT={year:Z,month:Z,day:Z,hour:Z,minute:Z},PT={year:Z,month:Z,day:Z,hour:Z,minute:Z,second:Z},zT={year:Z,month:Yn,day:Z,hour:Z,minute:Z},UT={year:Z,month:Yn,day:Z,hour:Z,minute:Z,second:Z},D4={year:Z,month:Yn,day:Z,weekday:Yn,hour:Z,minute:Z},HT={year:Z,month:dn,day:Z,hour:Z,minute:Z,timeZoneName:Yn},BT={year:Z,month:dn,day:Z,hour:Z,minute:Z,second:Z,timeZoneName:Yn},FT={year:Z,month:dn,day:Z,weekday:dn,hour:Z,minute:Z,timeZoneName:dn},VT={year:Z,month:dn,day:Z,weekday:dn,hour:Z,minute:Z,second:Z,timeZoneName:dn};class mc{get type(){throw new gs}get name(){throw new gs}get ianaName(){return this.name}get isUniversal(){throw new gs}offsetName(e,t){throw new gs}formatOffset(e,t){throw new gs}offset(e){throw new gs}equals(e){throw new gs}get isValid(){throw new gs}}let ug=null;class vf extends mc{static get instance(){return ug===null&&(ug=new vf),ug}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return JT(e,t,i)}formatOffset(e,t){return Rl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const tp=new Map;function N4(n){let e=tp.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),tp.set(n,e)),e}const I4={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function L4(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,o,c,h,f,d,p]=i;return[c,r,o,h,f,d,p]}function P4(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:o,value:c}=t[r],h=I4[o];o==="era"?i[h]=c:me(h)||(i[h]=parseInt(c,10))}return i}const hg=new Map;class Fi extends mc{static create(e){let t=hg.get(e);return t===void 0&&hg.set(e,t=new Fi(e)),t}static resetCache(){hg.clear(),tp.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Fi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return JT(e,t,i,this.name)}formatOffset(e,t){return Rl(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const i=N4(this.name);let[r,o,c,h,f,d,p]=i.formatToParts?P4(i,t):L4(i,t);h==="BC"&&(r=-Math.abs(r)+1);const _=Sf({year:r,month:o,day:c,hour:f===24?0:f,minute:d,second:p,millisecond:0});let b=+t;const w=b%1e3;return b-=w>=0?w:1e3+w,(_-b)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let oS={};function z4(n,e={}){const t=JSON.stringify([n,e]);let i=oS[t];return i||(i=new Intl.ListFormat(n,e),oS[t]=i),i}const np=new Map;function ip(n,e={}){const t=JSON.stringify([n,e]);let i=np.get(t);return i===void 0&&(i=new Intl.DateTimeFormat(n,e),np.set(t,i)),i}const sp=new Map;function U4(n,e={}){const t=JSON.stringify([n,e]);let i=sp.get(t);return i===void 0&&(i=new Intl.NumberFormat(n,e),sp.set(t,i)),i}const rp=new Map;function H4(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let o=rp.get(r);return o===void 0&&(o=new Intl.RelativeTimeFormat(n,e),rp.set(r,o)),o}let yl=null;function B4(){return yl||(yl=new Intl.DateTimeFormat().resolvedOptions().locale,yl)}const ap=new Map;function jT(n){let e=ap.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),ap.set(n,e)),e}const op=new Map;function F4(n){let e=op.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...WT,...e}),op.set(n,e)}return e}function V4(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=ip(n).resolvedOptions(),r=n}catch{const f=n.substring(0,t);i=ip(f).resolvedOptions(),r=f}const{numberingSystem:o,calendar:c}=i;return[r,o,c]}}function j4(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function W4(n){const e=[];for(let t=1;t<=12;t++){const i=he.utc(2009,t,1);e.push(n(i))}return e}function q4(n){const e=[];for(let t=1;t<=7;t++){const i=he.utc(2016,11,13+t);e.push(n(i))}return e}function Hu(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function Y4(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||jT(n.locale).numberingSystem==="latn"}class G4{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:o,...c}=i;if(!t||Object.keys(c).length>0){const h={useGrouping:!1,...i};i.padTo>0&&(h.minimumIntegerDigits=i.padTo),this.inf=U4(e,h)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):wy(e,3);return dt(t,this.padTo)}}}class $4{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const c=-1*(e.offset/60),h=c>=0?`Etc/GMT+${c}`:`Etc/GMT${c}`;e.offset!==0&&Fi.create(h).valid?(r=h,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=ip(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Z4{constructor(e,t,i){this.opts={style:"long",...i},!t&&KT()&&(this.rtf=H4(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):y5(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const WT={firstDay:1,minimalDays:4,weekend:[6,7]};class Ie{static fromOpts(e){return Ie.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,o=!1){const c=e||rt.defaultLocale,h=c||(o?"en-US":B4()),f=t||rt.defaultNumberingSystem,d=i||rt.defaultOutputCalendar,p=cp(r)||rt.defaultWeekSettings;return new Ie(h,f,d,p,c)}static resetCache(){yl=null,np.clear(),sp.clear(),rp.clear(),ap.clear(),op.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return Ie.create(e,t,i,r)}constructor(e,t,i,r,o){const[c,h,f]=V4(e);this.locale=c,this.numberingSystem=t||h||null,this.outputCalendar=i||f||null,this.weekSettings=r,this.intl=j4(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Y4(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ie.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,cp(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Hu(this,e,nC,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");t&=!i;const r=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";if(!this.monthsCache[o][e]){const c=i?h=>this.dtFormatter(h,r).format():h=>this.extract(h,r,"month");this.monthsCache[o][e]=W4(c)}return this.monthsCache[o][e]})}weekdays(e,t=!1){return Hu(this,e,rC,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=q4(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Hu(this,void 0,()=>aC,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Hu(this,e,oC,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),o=r.formatToParts(),c=o.find(h=>h.type.toLowerCase()===i);return c?c.value:null}numberFormatter(e={}){return new G4(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new $4(e,this.intl,t)}relFormatter(e={}){return new Z4(this.intl,this.isEnglish(),e)}listFormatter(e={}){return z4(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||jT(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:QT()?F4(this.locale):WT}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let fg=null;class Ft extends mc{static get utcInstance(){return fg===null&&(fg=new Ft(0)),fg}static instance(e){return e===0?Ft.utcInstance:new Ft(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ft(wf(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Rl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Rl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Rl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class X4 extends mc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bs(n,e){if(me(n)||n===null)return e;if(n instanceof mc)return n;if(n5(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?vf.instance:t==="utc"||t==="gmt"?Ft.utcInstance:Ft.parseSpecifier(t)||Fi.create(n)}else return As(n)?Ft.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new X4(n)}const _y={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},lS={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},K4=_y.hanidec.replace(/[\[|\]]/g,"").split("");function Q4(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(_y.hanidec)!==-1)e+=K4.indexOf(n[t]);else for(const r in lS){const[o,c]=lS[r];i>=o&&i<=c&&(e+=i-o)}}return parseInt(e,10)}else return e}const lp=new Map;function J4(){lp.clear()}function zn({numberingSystem:n},e=""){const t=n||"latn";let i=lp.get(t);i===void 0&&(i=new Map,lp.set(t,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${_y[t]}${e}`),i.set(e,r)),r}let cS=()=>Date.now(),uS="system",hS=null,fS=null,dS=null,mS=60,gS,pS=null;class rt{static get now(){return cS}static set now(e){cS=e}static set defaultZone(e){uS=e}static get defaultZone(){return bs(uS,vf.instance)}static get defaultLocale(){return hS}static set defaultLocale(e){hS=e}static get defaultNumberingSystem(){return fS}static set defaultNumberingSystem(e){fS=e}static get defaultOutputCalendar(){return dS}static set defaultOutputCalendar(e){dS=e}static get defaultWeekSettings(){return pS}static set defaultWeekSettings(e){pS=cp(e)}static get twoDigitCutoffYear(){return mS}static set twoDigitCutoffYear(e){mS=e%100}static get throwOnInvalid(){return gS}static set throwOnInvalid(e){gS=e}static resetCaches(){Ie.resetCache(),Fi.resetCache(),he.resetCache(),J4()}}class Vn{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const qT=[0,31,59,90,120,151,181,212,243,273,304,334],YT=[0,31,60,91,121,152,182,213,244,274,305,335];function On(n,e){return new Vn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function vy(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function GT(n,e,t){return t+(gc(n)?YT:qT)[e-1]}function $T(n,e){const t=gc(n)?YT:qT,i=t.findIndex(o=>o<e),r=e-t[i];return{month:i+1,day:r}}function by(n,e){return(n-e+7)%7+1}function Bh(n,e=4,t=1){const{year:i,month:r,day:o}=n,c=GT(i,r,o),h=by(vy(i,r,o),t);let f=Math.floor((c-h+14-e)/7),d;return f<1?(d=i-1,f=Gl(d,e,t)):f>Gl(i,e,t)?(d=i+1,f=1):d=i,{weekYear:d,weekNumber:f,weekday:h,...xf(n)}}function yS(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:o}=n,c=by(vy(i,1,e),t),h=ka(i);let f=r*7+o-c-7+e,d;f<1?(d=i-1,f+=ka(d)):f>h?(d=i+1,f-=ka(i)):d=i;const{month:p,day:y}=$T(d,f);return{year:d,month:p,day:y,...xf(n)}}function dg(n){const{year:e,month:t,day:i}=n,r=GT(e,t,i);return{year:e,ordinal:r,...xf(n)}}function _S(n){const{year:e,ordinal:t}=n,{month:i,day:r}=$T(e,t);return{year:e,month:i,day:r,...xf(n)}}function vS(n,e){if(!me(n.localWeekday)||!me(n.localWeekNumber)||!me(n.localWeekYear)){if(!me(n.weekday)||!me(n.weekNumber)||!me(n.weekYear))throw new Ta("Cannot mix locale-based week fields with ISO-based week fields");return me(n.localWeekday)||(n.weekday=n.localWeekday),me(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),me(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function e5(n,e=4,t=1){const i=bf(n.weekYear),r=An(n.weekNumber,1,Gl(n.weekYear,e,t)),o=An(n.weekday,1,7);return i?r?o?!1:On("weekday",n.weekday):On("week",n.weekNumber):On("weekYear",n.weekYear)}function t5(n){const e=bf(n.year),t=An(n.ordinal,1,ka(n.year));return e?t?!1:On("ordinal",n.ordinal):On("year",n.year)}function ZT(n){const e=bf(n.year),t=An(n.month,1,12),i=An(n.day,1,Fh(n.year,n.month));return e?t?i?!1:On("day",n.day):On("month",n.month):On("year",n.year)}function XT(n){const{hour:e,minute:t,second:i,millisecond:r}=n,o=An(e,0,23)||e===24&&t===0&&i===0&&r===0,c=An(t,0,59),h=An(i,0,59),f=An(r,0,999);return o?c?h?f?!1:On("millisecond",r):On("second",i):On("minute",t):On("hour",e)}function me(n){return typeof n>"u"}function As(n){return typeof n=="number"}function bf(n){return typeof n=="number"&&n%1===0}function n5(n){return typeof n=="string"}function i5(n){return Object.prototype.toString.call(n)==="[object Date]"}function KT(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function QT(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function s5(n){return Array.isArray(n)?n:[n]}function bS(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const o=[e(r),r];return i&&t(i[0],o[0])===i[0]?i:o},null)[1]}function r5(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function Va(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function cp(n){if(n==null)return null;if(typeof n!="object")throw new Pt("Week settings must be an object");if(!An(n.firstDay,1,7)||!An(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!An(e,1,7)))throw new Pt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function An(n,e,t){return bf(n)&&n>=e&&n<=t}function a5(n,e){return n-e*Math.floor(n/e)}function dt(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function ps(n){if(!(me(n)||n===null||n===""))return parseInt(n,10)}function nr(n){if(!(me(n)||n===null||n===""))return parseFloat(n)}function Sy(n){if(!(me(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function wy(n,e,t="round"){const i=10**e;switch(t){case"expand":return n>0?Math.ceil(n*i)/i:Math.floor(n*i)/i;case"trunc":return Math.trunc(n*i)/i;case"round":return Math.round(n*i)/i;case"floor":return Math.floor(n*i)/i;case"ceil":return Math.ceil(n*i)/i;default:throw new RangeError(`Value rounding ${t} is out of range`)}}function gc(n){return n%4===0&&(n%100!==0||n%400===0)}function ka(n){return gc(n)?366:365}function Fh(n,e){const t=a5(e-1,12)+1,i=n+(e-t)/12;return t===2?gc(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Sf(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function SS(n,e,t){return-by(vy(n,1,e),t)+e-1}function Gl(n,e=4,t=1){const i=SS(n,e,t),r=SS(n+1,e,t);return(ka(n)-i+r)/7}function up(n){return n>99?n:n>rt.twoDigitCutoffYear?1900+n:2e3+n}function JT(n,e,t,i=null){const r=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);const c={timeZoneName:e,...o},h=new Intl.DateTimeFormat(t,c).formatToParts(r).find(f=>f.type.toLowerCase()==="timezonename");return h?h.value:null}function wf(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function eC(n){const e=Number(n);if(typeof n=="boolean"||n===""||!Number.isFinite(e))throw new Pt(`Invalid unit value ${n}`);return e}function Vh(n,e){const t={};for(const i in n)if(Va(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=eC(r)}return t}function Rl(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${dt(t,2)}:${dt(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${dt(t,2)}${dt(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function xf(n){return r5(n,["hour","minute","second","millisecond"])}const o5=["January","February","March","April","May","June","July","August","September","October","November","December"],tC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l5=["J","F","M","A","M","J","J","A","S","O","N","D"];function nC(n){switch(n){case"narrow":return[...l5];case"short":return[...tC];case"long":return[...o5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const iC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c5=["M","T","W","T","F","S","S"];function rC(n){switch(n){case"narrow":return[...c5];case"short":return[...sC];case"long":return[...iC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const aC=["AM","PM"],u5=["Before Christ","Anno Domini"],h5=["BC","AD"],f5=["B","A"];function oC(n){switch(n){case"narrow":return[...f5];case"short":return[...h5];case"long":return[...u5];default:return null}}function d5(n){return aC[n.hour<12?0:1]}function m5(n,e){return rC(e)[n.weekday-1]}function g5(n,e){return nC(e)[n.month-1]}function p5(n,e){return oC(e)[n.year<0?0:1]}function y5(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&o){const y=n==="days";switch(e){case 1:return y?"tomorrow":`next ${r[n][0]}`;case-1:return y?"yesterday":`last ${r[n][0]}`;case 0:return y?"today":`this ${r[n][0]}`}}const c=Object.is(e,-0)||e<0,h=Math.abs(e),f=h===1,d=r[n],p=i?f?d[1]:d[2]||d[1]:f?r[n][0]:n;return c?`${h} ${p} ago`:`in ${h} ${p}`}function wS(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const _5={D:Hh,DD:ET,DDD:TT,DDDD:CT,t:MT,tt:OT,ttt:AT,tttt:RT,T:kT,TT:DT,TTT:NT,TTTT:IT,f:LT,ff:zT,fff:HT,ffff:FT,F:PT,FF:UT,FFF:BT,FFFF:VT};class zt{static create(e,t={}){return new zt(e,t)}static parseFormat(e){let t=null,i="",r=!1;const o=[];for(let c=0;c<e.length;c++){const h=e.charAt(c);h==="'"?((i.length>0||r)&&o.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),t=null,i="",r=!r):r||h===t?i+=h:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=h,t=h)}return i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(e){return _5[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,i=void 0){if(this.opts.forceSimple)return dt(e,t);const r={...this.opts};return t>0&&(r.padTo=t),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(b,w)=>this.loc.extract(e,b,w),c=b=>e.isOffsetFixed&&e.offset===0&&b.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,b.format):"",h=()=>i?d5(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(b,w)=>i?g5(e,b):o(w?{month:b}:{month:b,day:"numeric"},"month"),d=(b,w)=>i?m5(e,b):o(w?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),p=b=>{const w=zt.macroTokenToFormatOpts(b);return w?this.formatWithSystemDefault(e,w):b},y=b=>i?p5(e,b):o({era:b},"era"),_=b=>{switch(b){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return c({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return c({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return c({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(b)}};return wS(zt.parseFormat(t),_)}formatDurationFromString(e,t){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=(p,y)=>_=>{const b=r(_);if(b){const w=y.isNegativeDuration&&b!==y.largestUnit?i:1;let x;return this.opts.signMode==="negativeLargestOnly"&&b!==y.largestUnit?x="never":this.opts.signMode==="all"?x="always":x="auto",this.num(p.get(b)*w,_.length,x)}else return _},c=zt.parseFormat(t),h=c.reduce((p,{literal:y,val:_})=>y?p:p.concat(_),[]),f=e.shiftTo(...h.map(r).filter(p=>p)),d={isNegativeDuration:f<0,largestUnit:Object.keys(f.values)[0]};return wS(c,o(f,d))}}const lC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function eo(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function to(...n){return e=>n.reduce(([t,i,r],o)=>{const[c,h,f]=o(e,r);return[{...t,...c},h||i,f]},[{},null,1]).slice(0,2)}function no(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function cC(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=ps(e[t+r]);return[i,null,t+r]}}const uC=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,v5=`(?:${uC.source}?(?:\\[(${lC.source})\\])?)?`,xy=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,hC=RegExp(`${xy.source}${v5}`),Ey=RegExp(`(?:[Tt]${hC.source})?`),b5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,S5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,w5=/(\d{4})-?(\d{3})/,x5=cC("weekYear","weekNumber","weekDay"),E5=cC("year","ordinal"),T5=/(\d{4})-(\d\d)-(\d\d)/,fC=RegExp(`${xy.source} ?(?:${uC.source}|(${lC.source}))?`),C5=RegExp(`(?: ${fC.source})?`);function Da(n,e,t){const i=n[e];return me(i)?t:ps(i)}function M5(n,e){return[{year:Da(n,e),month:Da(n,e+1,1),day:Da(n,e+2,1)},null,e+3]}function io(n,e){return[{hours:Da(n,e,0),minutes:Da(n,e+1,0),seconds:Da(n,e+2,0),milliseconds:Sy(n[e+3])},null,e+4]}function pc(n,e){const t=!n[e]&&!n[e+1],i=wf(n[e+1],n[e+2]),r=t?null:Ft.instance(i);return[{},r,e+3]}function yc(n,e){const t=n[e]?Fi.create(n[e]):null;return[{},t,e+1]}const O5=RegExp(`^T?${xy.source}$`),A5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function R5(n){const[e,t,i,r,o,c,h,f,d]=n,p=e[0]==="-",y=f&&f[0]==="-",_=(b,w=!1)=>b!==void 0&&(w||b&&p)?-b:b;return[{years:_(nr(t)),months:_(nr(i)),weeks:_(nr(r)),days:_(nr(o)),hours:_(nr(c)),minutes:_(nr(h)),seconds:_(nr(f),f==="-0"),milliseconds:_(Sy(d),y)}]}const k5={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ty(n,e,t,i,r,o,c){const h={year:e.length===2?up(ps(e)):ps(e),month:tC.indexOf(t)+1,day:ps(i),hour:ps(r),minute:ps(o)};return c&&(h.second=ps(c)),n&&(h.weekday=n.length>3?iC.indexOf(n)+1:sC.indexOf(n)+1),h}const D5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function N5(n){const[,e,t,i,r,o,c,h,f,d,p,y]=n,_=Ty(e,r,i,t,o,c,h);let b;return f?b=k5[f]:d?b=0:b=wf(p,y),[_,new Ft(b)]}function I5(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const L5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,P5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,z5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function xS(n){const[,e,t,i,r,o,c,h]=n;return[Ty(e,r,i,t,o,c,h),Ft.utcInstance]}function U5(n){const[,e,t,i,r,o,c,h]=n;return[Ty(e,h,t,i,r,o,c),Ft.utcInstance]}const H5=eo(b5,Ey),B5=eo(S5,Ey),F5=eo(w5,Ey),V5=eo(hC),dC=to(M5,io,pc,yc),j5=to(x5,io,pc,yc),W5=to(E5,io,pc,yc),q5=to(io,pc,yc);function Y5(n){return no(n,[H5,dC],[B5,j5],[F5,W5],[V5,q5])}function G5(n){return no(I5(n),[D5,N5])}function $5(n){return no(n,[L5,xS],[P5,xS],[z5,U5])}function Z5(n){return no(n,[A5,R5])}const X5=to(io);function K5(n){return no(n,[O5,X5])}const Q5=eo(T5,C5),J5=eo(fC),eL=to(io,pc,yc);function tL(n){return no(n,[Q5,dC],[J5,eL])}const ES="Invalid Duration",mC={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},nL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...mC},xn=146097/400,_a=146097/4800,iL={years:{quarters:4,months:12,weeks:xn/7,days:xn,hours:xn*24,minutes:xn*24*60,seconds:xn*24*60*60,milliseconds:xn*24*60*60*1e3},quarters:{months:3,weeks:xn/28,days:xn/4,hours:xn*24/4,minutes:xn*24*60/4,seconds:xn*24*60*60/4,milliseconds:xn*24*60*60*1e3/4},months:{weeks:_a/7,days:_a,hours:_a*24,minutes:_a*24*60,seconds:_a*24*60*60,milliseconds:_a*24*60*60*1e3},...mC},mr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sL=mr.slice(0).reverse();function Ei(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Me(i)}function gC(n,e){let t=e.milliseconds??0;for(const i of sL.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function TS(n,e){const t=gC(n,e)<0?-1:1;mr.reduceRight((i,r)=>{if(me(e[r]))return i;if(i){const o=e[i]*t,c=n[r][i],h=Math.floor(o/c);e[r]+=h*t,e[i]-=h*c*t}return r},null),mr.reduce((i,r)=>{if(me(e[r]))return i;if(i){const o=e[i]%1;e[i]-=o,e[r]+=o*n[i][r]}return r},null)}function CS(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Me{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?iL:nL;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Ie.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Me.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Pt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Me({values:Vh(e,Me.normalizeUnit),loc:Ie.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(As(e))return Me.fromMillis(e);if(Me.isDuration(e))return e;if(typeof e=="object")return Me.fromObject(e);throw new Pt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Z5(e);return i?Me.fromObject(i,t):Me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=K5(e);return i?Me.fromObject(i,t):Me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the Duration is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new R4(i);return new Me({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new xT(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?zt.create(this.loc,i).formatDurationFromString(this,e):ES}toHuman(e={}){if(!this.isValid)return ES;const t=e.showZeros!==!1,i=mr.map(r=>{const o=this.values[r];return me(o)||o===0&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=wy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},he.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?gC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e),i={};for(const r of mr)(Va(t.values,r)||Va(this.values,r))&&(i[r]=t.get(r)+this.get(r));return Ei(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=eC(e(this.values[i],i));return Ei(this,{values:t},!0)}get(e){return this[Me.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Vh(e,Me.normalizeUnit)};return Ei(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const c={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return Ei(this,c)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return TS(this.matrix,e),Ei(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=CS(this.normalize().shiftToAll().toObject());return Ei(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(c=>Me.normalizeUnit(c));const t={},i={},r=this.toObject();let o;for(const c of mr)if(e.indexOf(c)>=0){o=c;let h=0;for(const d in i)h+=this.matrix[d][c]*i[d],i[d]=0;As(r[c])&&(h+=r[c]);const f=Math.trunc(h);t[c]=f,i[c]=(h*1e3-f*1e3)/1e3}else As(r[c])&&(i[c]=r[c]);for(const c in i)i[c]!==0&&(t[o]+=c===o?i[c]:i[c]/this.matrix[o][c]);return TS(this.matrix,t),Ei(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ei(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=CS(this.values);return Ei(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of mr)if(!t(this.values[i],e.values[i]))return!1;return!0}}const va="Invalid Interval";function rL(n,e){return!n||!n.isValid?st.invalid("missing or invalid start"):!e||!e.isValid?st.invalid("missing or invalid end"):e<n?st.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class st{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the Interval is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new A4(i);return new st({invalid:i})}static fromDateTimes(e,t){const i=hl(e),r=hl(t),o=rL(i,r);return o??new st({start:i,end:r})}static after(e,t){const i=Me.fromDurationLike(t),r=hl(e);return st.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Me.fromDurationLike(t),r=hl(e);return st.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let o,c;try{o=he.fromISO(i,t),c=o.isValid}catch{c=!1}let h,f;try{h=he.fromISO(r,t),f=h.isValid}catch{f=!1}if(c&&f)return st.fromDateTimes(o,h);if(c){const d=Me.fromISO(r,t);if(d.isValid)return st.after(o,d)}else if(f){const d=Me.fromISO(i,t);if(d.isValid)return st.before(h,d)}}return st.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?st.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(hl).filter(c=>this.contains(c)).sort((c,h)=>c.toMillis()-h.toMillis()),i=[];let{s:r}=this,o=0;for(;r<this.e;){const c=t[o]||this.e,h=+c>+this.e?this.e:c;i.push(st.fromDateTimes(r,h)),r=h,o+=1}return i}splitBy(e){const t=Me.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,o;const c=[];for(;i<this.e;){const h=this.start.plus(t.mapUnits(f=>f*r));o=+h>+this.e?this.e:h,c.push(st.fromDateTimes(i,o)),i=o,r+=1}return c}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:st.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return st.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,o)=>r.s-o.s).reduce(([r,o],c)=>o?o.overlaps(c)||o.abutsStart(c)?[r,o.union(c)]:[r.concat([o]),c]:[r,c],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],o=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),c=Array.prototype.concat(...o),h=c.sort((f,d)=>f.time-d.time);for(const f of h)i+=f.type==="s"?1:-1,i===1?t=f.time:(t&&+t!=+f.time&&r.push(st.fromDateTimes(t,f.time)),t=null);return st.merge(r)}difference(...e){return st.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:va}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Hh,t={}){return this.isValid?zt.create(this.s.loc.clone(t),e).formatInterval(this):va}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:va}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:va}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:va}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:va}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Me.invalid(this.invalidReason)}mapEndpoints(e){return st.fromDateTimes(e(this.s),e(this.e))}}class Bu{static hasDST(e=rt.defaultZone){const t=he.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Fi.isValidZone(e)}static normalizeZone(e){return bs(e,rt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Ie.create(t,i,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Ie.create(t,i,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ie.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ie.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ie.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Ie.create(t,null,"gregory").eras(e)}static features(){return{relative:KT(),localeWeek:QT()}}}function MS(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Me.fromMillis(i).as("days"))}function aL(n,e,t){const i=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter+(d.year-f.year)*4],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{const p=MS(f,d);return(p-p%7)/7}],["days",MS]],r={},o=n;let c,h;for(const[f,d]of i)t.indexOf(f)>=0&&(c=f,r[f]=d(n,e),h=o.plus(r),h>e?(r[f]--,n=o.plus(r),n>e&&(h=n,r[f]--,n=o.plus(r))):n=h);return[n,r,h,c]}function oL(n,e,t,i){let[r,o,c,h]=aL(n,e,t);const f=e-r,d=t.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);d.length===0&&(c<e&&(c=r.plus({[h]:1})),c!==r&&(o[h]=(o[h]||0)+f/(c-r)));const p=Me.fromObject(o,i);return d.length>0?Me.fromMillis(f,i).shiftTo(...d).plus(p):p}const lL="missing Intl.DateTimeFormat.formatToParts support";function Ne(n,e=t=>t){return{regex:n,deser:([t])=>e(Q4(t))}}const cL="",pC=`[ ${cL}]`,yC=new RegExp(pC,"g");function uL(n){return n.replace(/\./g,"\\.?").replace(yC,pC)}function OS(n){return n.replace(/\./g,"").replace(yC," ").toLowerCase()}function Un(n,e){return n===null?null:{regex:RegExp(n.map(uL).join("|")),deser:([t])=>n.findIndex(i=>OS(t)===OS(i))+e}}function AS(n,e){return{regex:n,deser:([,t,i])=>wf(t,i),groups:e}}function Fu(n){return{regex:n,deser:([e])=>e}}function hL(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function fL(n,e){const t=zn(e),i=zn(e,"{2}"),r=zn(e,"{3}"),o=zn(e,"{4}"),c=zn(e,"{6}"),h=zn(e,"{1,2}"),f=zn(e,"{1,3}"),d=zn(e,"{1,6}"),p=zn(e,"{1,9}"),y=zn(e,"{2,4}"),_=zn(e,"{4,6}"),b=E=>({regex:RegExp(hL(E.val)),deser:([C])=>C,literal:!0}),x=(E=>{if(n.literal)return b(E);switch(E.val){case"G":return Un(e.eras("short"),0);case"GG":return Un(e.eras("long"),0);case"y":return Ne(d);case"yy":return Ne(y,up);case"yyyy":return Ne(o);case"yyyyy":return Ne(_);case"yyyyyy":return Ne(c);case"M":return Ne(h);case"MM":return Ne(i);case"MMM":return Un(e.months("short",!0),1);case"MMMM":return Un(e.months("long",!0),1);case"L":return Ne(h);case"LL":return Ne(i);case"LLL":return Un(e.months("short",!1),1);case"LLLL":return Un(e.months("long",!1),1);case"d":return Ne(h);case"dd":return Ne(i);case"o":return Ne(f);case"ooo":return Ne(r);case"HH":return Ne(i);case"H":return Ne(h);case"hh":return Ne(i);case"h":return Ne(h);case"mm":return Ne(i);case"m":return Ne(h);case"q":return Ne(h);case"qq":return Ne(i);case"s":return Ne(h);case"ss":return Ne(i);case"S":return Ne(f);case"SSS":return Ne(r);case"u":return Fu(p);case"uu":return Fu(h);case"uuu":return Ne(t);case"a":return Un(e.meridiems(),0);case"kkkk":return Ne(o);case"kk":return Ne(y,up);case"W":return Ne(h);case"WW":return Ne(i);case"E":case"c":return Ne(t);case"EEE":return Un(e.weekdays("short",!1),1);case"EEEE":return Un(e.weekdays("long",!1),1);case"ccc":return Un(e.weekdays("short",!0),1);case"cccc":return Un(e.weekdays("long",!0),1);case"Z":case"ZZ":return AS(new RegExp(`([+-]${h.source})(?::(${i.source}))?`),2);case"ZZZ":return AS(new RegExp(`([+-]${h.source})(${i.source})?`),2);case"z":return Fu(/[a-z_+-/]{1,256}?/i);case" ":return Fu(/[^\S\n\r]/);default:return b(E)}})(n)||{invalidReason:lL};return x.token=n,x}const dL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function mL(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const f=/^\s+$/.test(r);return{literal:!f,val:f?" ":r}}const o=e[i];let c=i;i==="hour"&&(e.hour12!=null?c=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?c="hour12":c="hour24":c=t.hour12?"hour12":"hour24");let h=dL[c];if(typeof h=="object"&&(h=h[o]),h)return{literal:!1,val:h}}function gL(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function pL(n,e,t){const i=n.match(e);if(i){const r={};let o=1;for(const c in t)if(Va(t,c)){const h=t[c],f=h.groups?h.groups+1:1;!h.literal&&h.token&&(r[h.token.val[0]]=h.deser(i.slice(o,o+f))),o+=f}return[i,r]}else return[i,{}]}function yL(n){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return me(n.z)||(t=Fi.create(n.z)),me(n.Z)||(t||(t=new Ft(n.Z)),i=n.Z),me(n.q)||(n.M=(n.q-1)*3+1),me(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),me(n.u)||(n.S=Sy(n.u)),[Object.keys(n).reduce((o,c)=>{const h=e(c);return h&&(o[h]=n[c]),o},{}),t,i]}let mg=null;function _L(){return mg||(mg=he.fromMillis(1555555555555)),mg}function vL(n,e){if(n.literal)return n;const t=zt.macroTokenToFormatOpts(n.val),i=SC(t,e);return i==null||i.includes(void 0)?n:i}function _C(n,e){return Array.prototype.concat(...n.map(t=>vL(t,e)))}class vC{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=_C(zt.parseFormat(t),e),this.units=this.tokens.map(i=>fL(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=gL(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[t,i]=pL(e,this.regex,this.handlers),[r,o,c]=i?yL(i):[null,null,void 0];if(Va(i,"a")&&Va(i,"H"))throw new Ta("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:r,zone:o,specificOffset:c}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function bC(n,e,t){return new vC(n,t).explainFromTokens(e)}function bL(n,e,t){const{result:i,zone:r,specificOffset:o,invalidReason:c}=bC(n,e,t);return[i,r,o,c]}function SC(n,e){if(!n)return null;const i=zt.create(e,n).dtFormatter(_L()),r=i.formatToParts(),o=i.resolvedOptions();return r.map(c=>mL(c,n,o))}const gg="Invalid DateTime",RS=864e13;function _l(n){return new Vn("unsupported zone",`the zone "${n.name}" is not supported`)}function pg(n){return n.weekData===null&&(n.weekData=Bh(n.c)),n.weekData}function yg(n){return n.localWeekData===null&&(n.localWeekData=Bh(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ir(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new he({...t,...e,old:t})}function wC(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const o=t.offset(i);return r===o?[i,r]:[n-Math.min(r,o)*60*1e3,Math.max(r,o)]}function Vu(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function uh(n,e,t){return wC(Sf(n),e,t)}function kS(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...n.c,year:i,month:r,day:Math.min(n.c.day,Fh(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},c=Me.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=Sf(o);let[f,d]=wC(h,t,n.zone);return c!==0&&(f+=c,d=n.zone.offset(f)),{ts:f,o:d}}function ba(n,e,t,i,r,o){const{setZone:c,zone:h}=t;if(n&&Object.keys(n).length!==0||e){const f=e||h,d=he.fromObject(n,{...t,zone:f,specificOffset:o});return c?d:d.setZone(h)}else return he.invalid(new Vn("unparsable",`the input "${r}" can't be parsed as ${i}`))}function ju(n,e,t=!0){return n.isValid?zt.create(Ie.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function _g(n,e,t){const i=n.c.year>9999||n.c.year<0;let r="";if(i&&n.c.year>=0&&(r+="+"),r+=dt(n.c.year,i?6:4),t==="year")return r;if(e){if(r+="-",r+=dt(n.c.month),t==="month")return r;r+="-"}else if(r+=dt(n.c.month),t==="month")return r;return r+=dt(n.c.day),r}function DS(n,e,t,i,r,o,c){let h=!t||n.c.millisecond!==0||n.c.second!==0,f="";switch(c){case"day":case"month":case"year":break;default:if(f+=dt(n.c.hour),c==="hour")break;if(e){if(f+=":",f+=dt(n.c.minute),c==="minute")break;h&&(f+=":",f+=dt(n.c.second))}else{if(f+=dt(n.c.minute),c==="minute")break;h&&(f+=dt(n.c.second))}if(c==="second")break;h&&(!i||n.c.millisecond!==0)&&(f+=".",f+=dt(n.c.millisecond,3))}return r&&(n.isOffsetFixed&&n.offset===0&&!o?f+="Z":n.o<0?(f+="-",f+=dt(Math.trunc(-n.o/60)),f+=":",f+=dt(Math.trunc(-n.o%60))):(f+="+",f+=dt(Math.trunc(n.o/60)),f+=":",f+=dt(Math.trunc(n.o%60)))),o&&(f+="["+n.zone.ianaName+"]"),f}const xC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},SL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hh=["year","month","day","hour","minute","second","millisecond"],xL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],EL=["year","ordinal","hour","minute","second","millisecond"];function fh(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new xT(n);return e}function NS(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return fh(n)}}function TL(n){if(vl===void 0&&(vl=rt.now()),n.type!=="iana")return n.offset(vl);const e=n.name;let t=hp.get(e);return t===void 0&&(t=n.offset(vl),hp.set(e,t)),t}function IS(n,e){const t=bs(e.zone,rt.defaultZone);if(!t.isValid)return he.invalid(_l(t));const i=Ie.fromObject(e);let r,o;if(me(n.year))r=rt.now();else{for(const f of hh)me(n[f])&&(n[f]=xC[f]);const c=ZT(n)||XT(n);if(c)return he.invalid(c);const h=TL(t);[r,o]=uh(n,h,t)}return new he({ts:r,zone:t,loc:i,o})}function LS(n,e,t){const i=me(t.round)?!0:t.round,r=me(t.rounding)?"trunc":t.rounding,o=(h,f)=>(h=wy(h,i||t.calendary?0:2,t.calendary?"round":r),e.loc.clone(t).relFormatter(t).format(h,f)),c=h=>t.calendary?e.hasSame(n,h)?0:e.startOf(h).diff(n.startOf(h),h).get(h):e.diff(n,h).get(h);if(t.unit)return o(c(t.unit),t.unit);for(const h of t.units){const f=c(h);if(Math.abs(f)>=1)return o(f,h)}return o(n>e?-0:0,t.units[t.units.length-1])}function PS(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let vl;const hp=new Map;class he{constructor(e){const t=e.zone||rt.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Vn("invalid input"):null)||(t.isValid?null:_l(t));this.ts=me(e.ts)?rt.now():e.ts;let r=null,o=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const h=As(e.o)&&!e.old?e.o:t.offset(this.ts);r=Vu(this.ts,h),i=Number.isNaN(r.year)?new Vn("invalid input"):null,r=i?null:r,o=i?null:h}this._zone=t,this.loc=e.loc||Ie.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new he({})}static local(){const[e,t]=PS(arguments),[i,r,o,c,h,f,d]=t;return IS({year:i,month:r,day:o,hour:c,minute:h,second:f,millisecond:d},e)}static utc(){const[e,t]=PS(arguments),[i,r,o,c,h,f,d]=t;return e.zone=Ft.utcInstance,IS({year:i,month:r,day:o,hour:c,minute:h,second:f,millisecond:d},e)}static fromJSDate(e,t={}){const i=i5(e)?e.valueOf():NaN;if(Number.isNaN(i))return he.invalid("invalid input");const r=bs(t.zone,rt.defaultZone);return r.isValid?new he({ts:i,zone:r,loc:Ie.fromObject(t)}):he.invalid(_l(r))}static fromMillis(e,t={}){if(As(e))return e<-RS||e>RS?he.invalid("Timestamp out of range"):new he({ts:e,zone:bs(t.zone,rt.defaultZone),loc:Ie.fromObject(t)});throw new Pt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(As(e))return new he({ts:e*1e3,zone:bs(t.zone,rt.defaultZone),loc:Ie.fromObject(t)});throw new Pt("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=bs(t.zone,rt.defaultZone);if(!i.isValid)return he.invalid(_l(i));const r=Ie.fromObject(t),o=Vh(e,NS),{minDaysInFirstWeek:c,startOfWeek:h}=vS(o,r),f=rt.now(),d=me(t.specificOffset)?i.offset(f):t.specificOffset,p=!me(o.ordinal),y=!me(o.year),_=!me(o.month)||!me(o.day),b=y||_,w=o.weekYear||o.weekNumber;if((b||p)&&w)throw new Ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&p)throw new Ta("Can't mix ordinal dates with month/day");const x=w||o.weekday&&!b;let E,C,R=Vu(f,d);x?(E=xL,C=SL,R=Bh(R,c,h)):p?(E=EL,C=wL,R=dg(R)):(E=hh,C=xC);let U=!1;for(const se of E){const re=o[se];me(re)?U?o[se]=C[se]:o[se]=R[se]:U=!0}const j=x?e5(o,c,h):p?t5(o):ZT(o),H=j||XT(o);if(H)return he.invalid(H);const $=x?yS(o,c,h):p?_S(o):o,[K,Q]=uh($,d,i),J=new he({ts:K,zone:i,o:Q,loc:r});return o.weekday&&b&&e.weekday!==J.weekday?he.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${J.toISO()}`):J.isValid?J:he.invalid(J.invalid)}static fromISO(e,t={}){const[i,r]=Y5(e);return ba(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=G5(e);return ba(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=$5(e);return ba(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(me(e)||me(t))throw new Pt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[h,f,d,p]=bL(c,e,t);return p?he.invalid(p):ba(h,f,i,`format ${t}`,e,d)}static fromString(e,t,i={}){return he.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=tL(e);return ba(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the DateTime is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new O4(i);return new he({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=SC(e,Ie.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return _C(zt.parseFormat(e),Ie.fromObject(t)).map(r=>r.val).join("")}static resetCache(){vl=void 0,hp.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?pg(this).weekYear:NaN}get weekNumber(){return this.isValid?pg(this).weekNumber:NaN}get weekday(){return this.isValid?pg(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yg(this).weekday:NaN}get localWeekNumber(){return this.isValid?yg(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yg(this).weekYear:NaN}get ordinal(){return this.isValid?dg(this.c).ordinal:NaN}get monthShort(){return this.isValid?Bu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Bu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Bu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Bu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Sf(this.c),r=this.zone.offset(i-e),o=this.zone.offset(i+e),c=this.zone.offset(i-r*t),h=this.zone.offset(i-o*t);if(c===h)return[this];const f=i-c*t,d=i-h*t,p=Vu(f,c),y=Vu(d,h);return p.hour===y.hour&&p.minute===y.minute&&p.second===y.second&&p.millisecond===y.millisecond?[ir(this,{ts:f}),ir(this,{ts:d})]:[this]}get isInLeapYear(){return gc(this.year)}get daysInMonth(){return Fh(this.year,this.month)}get daysInYear(){return this.isValid?ka(this.year):NaN}get weeksInWeekYear(){return this.isValid?Gl(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Gl(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=zt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Ft.instance(e),t)}toLocal(){return this.setZone(rt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=bs(e,rt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const o=e.offset(this.ts),c=this.toObject();[r]=uh(c,o,e)}return ir(this,{ts:r,zone:e})}else return he.invalid(_l(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return ir(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Vh(e,NS),{minDaysInFirstWeek:i,startOfWeek:r}=vS(t,this.loc),o=!me(t.weekYear)||!me(t.weekNumber)||!me(t.weekday),c=!me(t.ordinal),h=!me(t.year),f=!me(t.month)||!me(t.day),d=h||f,p=t.weekYear||t.weekNumber;if((d||c)&&p)throw new Ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Ta("Can't mix ordinal dates with month/day");let y;o?y=yS({...Bh(this.c,i,r),...t},i,r):me(t.ordinal)?(y={...this.toObject(),...t},me(t.day)&&(y.day=Math.min(Fh(y.year,y.month),y.day))):y=_S({...dg(this.c),...t});const[_,b]=uh(y,this.o,this.zone);return ir(this,{ts:_,o:b})}plus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e);return ir(this,kS(this,t))}minus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e).negate();return ir(this,kS(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Me.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const o=this.loc.getStartOfWeek(),{weekday:c}=this;c<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(r==="quarters"){const o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?zt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):gg}toLocaleString(e=Hh,t={}){return this.isValid?zt.create(this.loc.clone(t),e).formatDateTime(this):gg}toLocaleParts(e={}){return this.isValid?zt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:o=!1,precision:c="milliseconds"}={}){if(!this.isValid)return null;c=fh(c);const h=e==="extended";let f=_g(this,h,c);return hh.indexOf(c)>=3&&(f+="T"),f+=DS(this,h,t,i,r,o,c),f}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?_g(this,e==="extended",fh(t)):null}toISOWeekDate(){return ju(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:o=!1,format:c="extended",precision:h="milliseconds"}={}){return this.isValid?(h=fh(h),(r&&hh.indexOf(h)>=3?"T":"")+DS(this,c==="extended",t,e,i,o,h)):null}toRFC2822(){return ju(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ju(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?_g(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),ju(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():gg}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Me.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=s5(t).map(Me.normalizeUnit),c=e.valueOf()>this.valueOf(),h=c?this:e,f=c?e:this,d=oL(h,f,o,r);return c?d.negate():d}diffNow(e="milliseconds",t={}){return this.diff(he.now(),e,t)}until(e){return this.isValid?st.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,i)<=r&&r<=o.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||he.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),LS(t,this.plus(i),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(e={}){return this.isValid?LS(e.base||he.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(he.isDateTime))throw new Pt("min requires all arguments be DateTimes");return bS(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(he.isDateTime))throw new Pt("max requires all arguments be DateTimes");return bS(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});return bC(c,e,t)}static fromStringExplain(e,t,i={}){return he.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:r=null}=t,o=Ie.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new vC(o,e)}static fromFormatParser(e,t,i={}){if(me(e)||me(t))throw new Pt("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!c.equals(t.locale))throw new Pt(`fromFormatParser called with a locale of ${c}, but the format parser was created for ${t.locale}`);const{result:h,zone:f,specificOffset:d,invalidReason:p}=t.explainFromTokens(e);return p?he.invalid(p):ba(h,f,i,`format ${t.format}`,e,d)}static get DATE_SHORT(){return Hh}static get DATE_MED(){return ET}static get DATE_MED_WITH_WEEKDAY(){return k4}static get DATE_FULL(){return TT}static get DATE_HUGE(){return CT}static get TIME_SIMPLE(){return MT}static get TIME_WITH_SECONDS(){return OT}static get TIME_WITH_SHORT_OFFSET(){return AT}static get TIME_WITH_LONG_OFFSET(){return RT}static get TIME_24_SIMPLE(){return kT}static get TIME_24_WITH_SECONDS(){return DT}static get TIME_24_WITH_SHORT_OFFSET(){return NT}static get TIME_24_WITH_LONG_OFFSET(){return IT}static get DATETIME_SHORT(){return LT}static get DATETIME_SHORT_WITH_SECONDS(){return PT}static get DATETIME_MED(){return zT}static get DATETIME_MED_WITH_SECONDS(){return UT}static get DATETIME_MED_WITH_WEEKDAY(){return D4}static get DATETIME_FULL(){return HT}static get DATETIME_FULL_WITH_SECONDS(){return BT}static get DATETIME_HUGE(){return FT}static get DATETIME_HUGE_WITH_SECONDS(){return VT}}function hl(n){if(he.isDateTime(n))return n;if(n&&n.valueOf&&As(n.valueOf()))return he.fromJSDate(n);if(n&&typeof n=="object")return he.fromObject(n);throw new Pt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}async function CL(n,e){const t=he.now().setZone("Asia/Tokyo").toFormat("yyyy-MM-dd"),i=hn(fn,`emr-users/${n}/progress`);await b4(i,r=>{if(r===null)return{currentIndex:0,repeat:0,streak:1,lastStudiedDate:t,dailyActivity:{[t]:!0}};if(r.currentIndex=e,r.dailyActivity||(r.dailyActivity={}),r.dailyActivity[t])return{...r,dailyActivity:{...r.dailyActivity,[t]:!0}};const c=he.now().setZone("Asia/Tokyo").minus({days:1}).toFormat("yyyy-MM-dd");let h=1;return r.lastStudiedDate===c?h=(r.streak||0)+1:h=1,{...r,streak:h,lastStudiedDate:t,dailyActivity:{...r.dailyActivity,[t]:!0}}})}async function ML(n){const e=hn(fn,`emr-users/${n}/progress/dailyActivity`),i=(await Mn(e)).val()||{},r={};for(let o=6;o>=0;o--){const h=he.now().setZone("Asia/Tokyo").minus({days:o}).toFormat("yyyy-MM-dd");r[h]=i[h]===!0}return r}const OL=()=>{const{user:n,loading:e}=Ja(),[t,i]=L.useState(1),[r,o]=L.useState(null);return L.useEffect(()=>{const c=async()=>{if(n){const f=hn(fn,`emr-users/${n.uid}/progress/streak`),p=(await Mn(f)).val()||0;i(p)}};(async()=>{if(n){const f=await ML(n.uid);o(f)}})(),c()},[n]),A.jsx(A.Fragment,{children:A.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[A.jsxs("h1",{className:"font-bold text-xl",children:["Welcome back, ",n?.displayName,"!"]}),A.jsx("div",{className:"flex gap-2 p-2 flex-1 items-center w-full overflow-x-hidden",children:A.jsx(M4,{streakCount:t,dailyActivity:r})})]})})},AL=()=>A.jsx(A.Fragment,{children:A.jsx("div",{className:"p-4",children:"Oh, not found your page."})});var EC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zS=Ii.createContext&&Ii.createContext(EC),RL=["attr","size","title"];function kL(n,e){if(n==null)return{};var t=DL(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function DL(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jh.apply(this,arguments)}function US(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?US(Object(t),!0).forEach(function(i){NL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):US(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NL(n,e,t){return e=IL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IL(n){var e=LL(n,"string");return typeof e=="symbol"?e:e+""}function LL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TC(n){return n&&n.map((e,t)=>Ii.createElement(e.tag,Wh({key:t},e.attr),TC(e.child)))}function Nn(n){return e=>Ii.createElement(PL,jh({attr:Wh({},n.attr)},e),TC(n.child))}function PL(n){var e=t=>{var{attr:i,size:r,title:o}=n,c=kL(n,RL),h=r||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ii.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:f,style:Wh(Wh({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ii.createElement("title",null,o),n.children)};return zS!==void 0?Ii.createElement(zS.Consumer,null,t=>e(t)):e(EC)}function zL(n){return Nn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 18.71875 6.78125 L 17.28125 8.21875 L 24.0625 15 L 4 15 L 4 17 L 24.0625 17 L 17.28125 23.78125 L 18.71875 25.21875 L 27.21875 16.71875 L 27.90625 16 L 27.21875 15.28125 Z"},child:[]}]})(n)}function UL(n){return Nn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"},child:[]}]})(n)}function HL(n){return Nn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 4 C 10.421875 4 5.742188 7.832031 4.40625 13 L 6.46875 13 C 7.746094 8.945313 11.53125 6 16 6 C 21.515625 6 26 10.484375 26 16 C 26 21.515625 21.515625 26 16 26 C 11.53125 26 7.746094 23.054688 6.46875 19 L 4.40625 19 C 5.742188 24.167969 10.421875 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 15.34375 11.28125 L 13.90625 12.71875 L 16.1875 15 L 4 15 L 4 17 L 16.1875 17 L 13.90625 19.28125 L 15.34375 20.71875 L 19.34375 16.71875 L 20.03125 16 L 19.34375 15.28125 Z"},child:[]}]})(n)}function BL(n){return Nn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"},child:[]}]})(n)}const FL=({word:n,isMeaning:e})=>{const t=()=>{if(!n)return"-";const i=n.Word.length,r="_".repeat(i);return n.ExampleSentence.replace(n.Word,r)};return A.jsx(A.Fragment,{children:A.jsx("div",{className:"border-2 border-[var(--color-accent)] rounded-md shadow-xl bg-gray-100 flex flex-col justify-center items-center w-full p-4 gap-4 h-72 overflow-auto",children:n?e?A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),A.jsx("p",{className:"font-JP",children:n.Meaning}),A.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),A.jsx("p",{children:n.ExampleSentence}),A.jsx("p",{className:"font-JP",children:n.ExampleTranslation})]}):A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),A.jsx("p",{children:n.PartOfSpeech}),A.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),A.jsx("p",{children:t()})]}):A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"animate-pulse h-12 bg-gray-200 rounded-full w-44"}),A.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-24"}),A.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),A.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"}),A.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"})]})})})},CC=L.createContext(),VL=({children:n})=>{const[e,t]=L.useState("level1");return A.jsx(CC.Provider,{value:{theme:e,setTheme:t},children:A.jsx("div",{"data-theme":e,className:"h-dvh",children:n})})},Cy=()=>{const n=L.useContext(CC);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n},MC=n=>{let e="level1";return n>3?e="level3":n>1?e="level2":e="level1",e},jL=()=>{const[n,e]=L.useState([]),[t,i]=L.useState(null),[r,o]=L.useState(-1),[c,h]=L.useState(!1),{user:f,loading:d}=Ja(),{theme:p,setTheme:y}=Cy(),_=E=>{const C=MC(E);y(C),localStorage.setItem("level",C)};L.useEffect(()=>{if(!f)return;(async()=>{const C=hn(fn,`emr-users/${f.uid}/progress/currentIndex`),R=await Mn(C);R.val()?o(R.val()):o(0),i(n[r])})()},[n]),L.useEffect(()=>{(async()=>{const C=hn(fn,"words");try{const U=(await Mn(C)).val();e(Object.entries(U).map(([j,H])=>({id:j,...H})).sort(j=>j.id))}catch(R){console.error(R)}})()},[]);const b=async()=>{try{const E=f.uid,C=hn(fn,`emr-users/${E}/progress/repeat`),j=((await Mn(C)).val()||0)+1;await rS(C,j),_(j)}catch(E){console.error(E)}},w=async E=>{if(!t)return;const C=f.uid;let R=r+1;R>=n.length&&(b(),R=0),h(!1),i(n[R]),o(R);const U=hn(fn,`emr-users/${C}/wordHistories/${t.id}`);try{const H=(await Mn(U)).val()||{correctCount:0,incorrectCount:0,difficulty:"new"},$={correctCount:E?H.correctCount+1:H.correctCount,incorrectCount:E?H.incorrectCount:H.incorrectCount+1,lastReviewed:he.now().setZone("Asia/Tokyo"),difficulty:x(H,E)};await rS(U,$)}catch(j){console.error(j)}await CL(C,R)},x=(E,C)=>{const R=C?E.correctCount+1:E.correctCount,U=C?E.incorrectCount:E.incorrectCount+1,j=["easy","normal","hard"],H=R/(R+U);return H>=.8?j[0]:H<=.3?j[2]:j[1]};return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"h-full flex justify-around items-center p-4 flex-col",children:[t?A.jsxs("p",{className:"h-6",children:[r+1,"/",n.length]}):A.jsx("p",{className:"h-6 w-24 animate-pulse bg-gray-200 rounded-full"}),A.jsx(FL,{word:t,isMeaning:c},t?.id),A.jsx("div",{children:A.jsx("div",{className:"flex gap-12 justify-center",children:c?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>w(!0),className:"btn-icon bg-green-500 text-white",children:A.jsx(UL,{className:"size-12"})}),A.jsx("button",{onClick:()=>w(!1),className:"btn-icon bg-red-500 text-white",children:A.jsx(BL,{className:"size-12"})})]}):A.jsx("button",{className:"btn-icon bg-[var(--color-accent)] text-white",onClick:()=>h(!0),children:A.jsx(zL,{className:"size-12"})})})})]})})},WL=()=>{const[n,e]=L.useState([]),[t,i]=L.useState("");L.useEffect(()=>{try{(async()=>{const h=hn(fn,"words");try{const d=(await Mn(h)).val();e(Object.entries(d).map(([p,y])=>({id:p,...y})))}catch(f){console.error(f)}})()}catch(c){console.error(c)}},[]);const r=c=>i(c.target.value),o=n.filter(c=>c.Word.toLowerCase().includes(t.toLowerCase())).sort(c=>c.Word);return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"h-full px-2 pt-2 flex flex-col overflow-hidden",children:[A.jsx("input",{onChange:r,value:t,className:"rounded-full p-2 border border-[var(--color-accent)] shadow"}),n.length==0?A.jsx("div",{className:"flex-1 flex items-center justify-center",children:A.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):A.jsx("div",{className:"overflow-y-auto flex-1",children:A.jsx("ul",{children:o.map(c=>A.jsxs("li",{id:c.id,className:"p-2 border-b",children:[A.jsx("p",{className:"text-xl font-semibold",children:c.Word}),A.jsx("p",{className:"text-base font-JP",children:c.Meaning})]},c.id))})})]})})};function qL(n){return Nn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function YL(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function GL(n){return Nn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function $L(n){return Nn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function ZL(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function XL(n){return Nn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(n)}const KL=()=>A.jsx(A.Fragment,{children:A.jsx("nav",{className:"border-t border-[var(--color-accent)]",children:A.jsxs("ul",{className:"flex justify-around",children:[A.jsx("li",{children:A.jsxs(ur,{to:"/",className:"flex flex-col items-center justify-center p-2 gap-2",children:[A.jsx($L,{className:"size-6"}),A.jsx("p",{className:"text-xs",children:"Home"})]})}),A.jsx("li",{children:A.jsxs(ur,{to:"/study",className:"flex flex-col items-center justify-center p-2 gap-2",children:[A.jsx(XL,{className:"size-6"}),A.jsx("p",{className:"text-xs",children:"Study"})]})}),A.jsx("li",{children:A.jsxs(ur,{to:"/words",className:"flex flex-col items-center justify-center p-2 gap-2",children:[A.jsx(ZL,{className:"size-6"}),A.jsx("p",{className:"text-xs",children:"Words"})]})}),A.jsx("li",{children:A.jsxs(ur,{to:"/charts",className:"flex flex-col items-center justify-center p-2 gap-2",children:[A.jsx(GL,{className:"size-6"}),A.jsx("p",{className:"text-xs",children:"Charts"})]})})]})})});function QL(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m93.19 329.38 47.45-304.07c1.64-10.37 15.55-12.82 20.46-3.55l51 95.45zM432 400l-46.74-276.79a11 11 0 0 0-18.54-6L80 400l159.36 91.91a33.18 33.18 0 0 0 31.91 0zM302.36 158.93l-36.54-69.54a10.86 10.86 0 0 0-19.36 0L85.83 375.74z"},child:[]}]})(n)}function JL(n){return Nn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(n)}const e8=async()=>{try{const n=await oE(Fa,ST);WD(Fa.currentUser,n)}catch(n){console.error(n)}},t8=async()=>{try{await oE(Fa,ST)}catch(n){console.error(n)}},n8=async()=>{try{await HD(Fa)}catch(n){console.error(n)}},i8=()=>{try{Fa.signOut()}catch(n){console.error(n)}},s8=()=>A.jsx(A.Fragment,{children:A.jsx("div",{className:"bg-gray-400/50 fixed top-0 left-0 w-full h-dvh flex items-center justify-center z-50",children:A.jsxs("div",{className:"shadow-xl rounded-xl p-4 bg-gray-50 flex items-center jusitfy-center flex-col max-w-72",children:[A.jsxs("h1",{className:"text-2xl font-bold text-center",children:[A.jsx("p",{children:"Welcome to"}),A.jsx("p",{children:"New"}),A.jsx("p",{children:"English Master!"})]}),A.jsx("p",{className:"pt-2 text-base text-center font-thin",children:"Weve been developing English Master with Blazor, and now were excited to start creating it with React. Enjoy the new, evolved English Master!"}),A.jsxs("div",{className:"p-4 w-full",children:[A.jsx("button",{onClick:t8,className:"btn-primary",children:"Sign in with Google"}),A.jsx("p",{className:"text-center font-thin",children:"or"}),A.jsx("button",{className:"btn-secondary",onClick:n8,children:"Start as Guest"})]}),A.jsx("p",{className:"text-base font-thin p-2",children:"Powered by"}),A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsx(YL,{className:"size-6"}),A.jsx(QL,{className:"size-6"}),A.jsx(JL,{className:"size-6"})]}),A.jsx("p",{className:"text-base font-thin p-2",children:"Developed by"}),A.jsxs("a",{href:"https://github.com/fukicycle",className:"flex justify-center items-center gap-2",children:["Fuki Sato",A.jsx(qL,{})]})]})})});function r8(){const{theme:n}=Cy();return L.useEffect(()=>{const e=document.querySelector('meta[name="theme-color"]');e&&(n==="level1"?e.setAttribute("content","#10b981"):n==="level2"?e.setAttribute("content","#0ea5e9"):n==="level3"&&e.setAttribute("content","#a855f7"))},[n]),null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _c(n){return n+.5|0}const Ss=(n,e,t)=>Math.max(Math.min(n,t),e);function bl(n){return Ss(_c(n*2.55),0,255)}function Rs(n){return Ss(_c(n*255),0,255)}function Oi(n){return Ss(_c(n/2.55)/100,0,1)}function HS(n){return Ss(_c(n*100),0,100)}const En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fp=[..."0123456789ABCDEF"],a8=n=>fp[n&15],o8=n=>fp[(n&240)>>4]+fp[n&15],Wu=n=>(n&240)>>4===(n&15),l8=n=>Wu(n.r)&&Wu(n.g)&&Wu(n.b)&&Wu(n.a);function c8(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&En[n[1]]*17,g:255&En[n[2]]*17,b:255&En[n[3]]*17,a:e===5?En[n[4]]*17:255}:(e===7||e===9)&&(t={r:En[n[1]]<<4|En[n[2]],g:En[n[3]]<<4|En[n[4]],b:En[n[5]]<<4|En[n[6]],a:e===9?En[n[7]]<<4|En[n[8]]:255})),t}const u8=(n,e)=>n<255?e(n):"";function h8(n){var e=l8(n)?a8:o8;return n?"#"+e(n.r)+e(n.g)+e(n.b)+u8(n.a,e):void 0}const f8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OC(n,e,t){const i=e*Math.min(t,1-t),r=(o,c=(o+n/30)%12)=>t-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function d8(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function m8(n,e,t){const i=OC(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function g8(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function My(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),c=Math.min(t,i,r),h=(o+c)/2;let f,d,p;return o!==c&&(p=o-c,d=h>.5?p/(2-o-c):p/(o+c),f=g8(t,i,r,p,o),f=f*60+.5),[f|0,d||0,h]}function Oy(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Rs)}function Ay(n,e,t){return Oy(OC,n,e,t)}function p8(n,e,t){return Oy(m8,n,e,t)}function y8(n,e,t){return Oy(d8,n,e,t)}function AC(n){return(n%360+360)%360}function _8(n){const e=f8.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?bl(+e[5]):Rs(+e[5]));const r=AC(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=p8(r,o,c):e[1]==="hsv"?i=y8(r,o,c):i=Ay(r,o,c),{r:i[0],g:i[1],b:i[2],a:t}}function v8(n,e){var t=My(n);t[0]=AC(t[0]+e),t=Ay(t),n.r=t[0],n.g=t[1],n.b=t[2]}function b8(n){if(!n)return;const e=My(n),t=e[0],i=HS(e[1]),r=HS(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Oi(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const BS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function S8(){const n={},e=Object.keys(FS),t=Object.keys(BS);let i,r,o,c,h;for(i=0;i<e.length;i++){for(c=h=e[i],r=0;r<t.length;r++)o=t[r],h=h.replace(o,BS[o]);o=parseInt(FS[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let qu;function w8(n){qu||(qu=S8(),qu.transparent=[0,0,0,0]);const e=qu[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const x8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E8(n){const e=x8.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const c=+e[7];t=e[8]?bl(c):Ss(c*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?bl(i):Ss(i,0,255)),r=255&(e[4]?bl(r):Ss(r,0,255)),o=255&(e[6]?bl(o):Ss(o,0,255)),{r:i,g:r,b:o,a:t}}}function T8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Oi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const vg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Sa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function C8(n,e,t){const i=Sa(Oi(n.r)),r=Sa(Oi(n.g)),o=Sa(Oi(n.b));return{r:Rs(vg(i+t*(Sa(Oi(e.r))-i))),g:Rs(vg(r+t*(Sa(Oi(e.g))-r))),b:Rs(vg(o+t*(Sa(Oi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Yu(n,e,t){if(n){let i=My(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Ay(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function RC(n,e){return n&&Object.assign(e||{},n)}function VS(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Rs(n[3]))):(e=RC(n,{r:0,g:0,b:0,a:1}),e.a=Rs(e.a)),e}function M8(n){return n.charAt(0)==="r"?E8(n):_8(n)}class $l{constructor(e){if(e instanceof $l)return e;const t=typeof e;let i;t==="object"?i=VS(e):t==="string"&&(i=c8(e)||w8(e)||M8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RC(this._rgb);return e&&(e.a=Oi(e.a)),e}set rgb(e){this._rgb=VS(e)}rgbString(){return this._valid?T8(this._rgb):void 0}hexString(){return this._valid?h8(this._rgb):void 0}hslString(){return this._valid?b8(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,f=i.a-r.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=C8(this._rgb,e._rgb,t)),this}clone(){return new $l(this.rgb)}alpha(e){return this._rgb.a=Rs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=_c(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yu(this._rgb,2,e),this}darken(e){return Yu(this._rgb,2,-e),this}saturate(e){return Yu(this._rgb,1,e),this}desaturate(e){return Yu(this._rgb,1,-e),this}rotate(e){return v8(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ti(){}const O8=(()=>{let n=0;return()=>n++})();function qe(n){return n==null}function vt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ae(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function kn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ei(n,e){return kn(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const A8=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,kC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Xe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ze(n,e,t,i){let r,o,c;if(vt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Ae(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)e.call(t,n[c[r]],c[r])}function qh(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Yh(n){if(vt(n))return n.map(Yh);if(Ae(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Yh(n[t[r]]);return e}return n}function DC(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function R8(n,e,t,i){if(!DC(n))return;const r=e[n],o=t[n];Ae(r)&&Ae(o)?Zl(r,o,i):e[n]=Yh(o)}function Zl(n,e,t){const i=vt(e)?e:[e],r=i.length;if(!Ae(n))return n;t=t||{};const o=t.merger||R8;let c;for(let h=0;h<r;++h){if(c=i[h],!Ae(c))continue;const f=Object.keys(c);for(let d=0,p=f.length;d<p;++d)o(f[d],n,c,t)}return n}function kl(n,e){return Zl(n,e,{merger:k8})}function k8(n,e,t){if(!DC(n))return;const i=e[n],r=t[n];Ae(i)&&Ae(r)?kl(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Yh(r))}const jS={"":n=>n,x:n=>n.x,y:n=>n.y};function D8(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function N8(n){const e=D8(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Er(n,e){return(jS[e]||(jS[e]=N8(e)))(n)}function Ry(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Xl=n=>typeof n<"u",Ps=n=>typeof n=="function",WS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function I8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const We=Math.PI,mt=2*We,Gh=Number.POSITIVE_INFINITY,L8=We/180,bt=We/2,sr=We/4,qS=We*2/3,NC=Math.log10,ks=Math.sign;function dh(n,e,t){return Math.abs(n-e)<t}function YS(n){const e=Math.round(n);n=dh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(NC(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function P8(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function z8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $h(n){return!z8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function U8(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function H8(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ni(n){return n*(We/180)}function B8(n){return n*(180/We)}function GS(n){if(!kn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function IC(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*We&&(o+=mt),{angle:o,distance:r}}function F8(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ii(n){return(n%mt+mt)%mt}function Zh(n,e,t,i){const r=ii(n),o=ii(e),c=ii(t),h=ii(o-r),f=ii(c-r),d=ii(r-o),p=ii(r-c);return r===o||r===c||i&&o===c||h>f&&d<p}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function V8(n){return Kt(n,-32768,32767)}function gr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function ky(n,e,t){t=t||(c=>n[c]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const dp=(n,e,t,i)=>ky(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),j8=(n,e,t)=>ky(n,t,i=>n[i][e]>=t);function W8(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const LC=["push","pop","shift","splice","unshift"];function q8(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),LC.forEach(t=>{const i="_onData"+Ry(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function $S(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(LC.forEach(o=>{delete n[o]}),delete n._chartjs)}function PC(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const zC=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function UC(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,zC.call(window,()=>{i=!1,n.apply(e,t)}))}}function Y8(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Dy=n=>n==="start"?"left":n==="end"?"right":"center",Lt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,G8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Gu=n=>n===0||n===1,ZS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*mt/t)),XS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*mt/t)+1,Dl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*bt)+1,easeOutSine:n=>Math.sin(n*bt),easeInOutSine:n=>-.5*(Math.cos(We*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Gu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Gu(n)?n:ZS(n,.075,.3),easeOutElastic:n=>Gu(n)?n:XS(n,.075,.3),easeInOutElastic(n){return Gu(n)?n:n<.5?.5*ZS(n*2,.1125,.45):.5+.5*XS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Dl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Dl.easeInBounce(n*2)*.5:Dl.easeOutBounce(n*2-1)*.5+.5};function HC(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function KS(n){return HC(n)?n:new $l(n)}function bg(n){return HC(n)?n:new $l(n).saturate(.5).darken(.1).hexString()}const $8=["x","y","borderWidth","radius","tension"],Z8=["color","borderColor","backgroundColor"];function X8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Z8},numbers:{type:"number",properties:$8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function K8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const QS=new Map;function Q8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=QS.get(t);return i||(i=new Intl.NumberFormat(n,e),QS.set(t,i)),i}function Ny(n,e,t){return Q8(e,t).format(n)}const J8={values(n){return vt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=eP(n,t)}const c=NC(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Ny(n,i,f)}};function eP(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var BC={formatters:J8};function tP(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Tr=Object.create(null),mp=Object.create(null);function Nl(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Sg(n,e,t){return typeof e=="string"?Zl(Nl(n,e),t):Zl(Nl(n,""),e)}class nP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>bg(r.backgroundColor),this.hoverBorderColor=(i,r)=>bg(r.borderColor),this.hoverColor=(i,r)=>bg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Sg(this,e,t)}get(e){return Nl(this,e)}describe(e,t){return Sg(mp,e,t)}override(e,t){return Sg(Tr,e,t)}route(e,t,i,r){const o=Nl(this,e),c=Nl(this,i),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[h],d=c[r];return Ae(f)?Object.assign({},d,f):Oe(f,d)},set(f){this[h]=f}}})}apply(e){e.forEach(t=>t(this))}}var ut=new nP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[X8,K8,tP]);function iP(n){return!n||qe(n.size)||qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function JS(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function rr(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function ew(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function tw(n,e,t,i){FC(n,e,t,i,null)}function FC(n,e,t,i,r){let o,c,h,f,d,p,y,_;const b=e.pointStyle,w=e.rotation,x=e.radius;let E=(w||0)*L8;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(E),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,x,0,0,mt):n.arc(t,i,x,0,mt),n.closePath();break;case"triangle":p=r?r/2:x,n.moveTo(t+Math.sin(E)*p,i-Math.cos(E)*x),E+=qS,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*x),E+=qS,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*x),n.closePath();break;case"rectRounded":d=x*.516,f=x-d,c=Math.cos(E+sr)*f,y=Math.cos(E+sr)*(r?r/2-d:f),h=Math.sin(E+sr)*f,_=Math.sin(E+sr)*(r?r/2-d:f),n.arc(t-y,i-h,d,E-We,E-bt),n.arc(t+_,i-c,d,E-bt,E),n.arc(t+y,i+h,d,E,E+bt),n.arc(t-_,i+c,d,E+bt,E+We),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*x,p=r?r/2:f,n.rect(t-p,i-f,2*p,2*f);break}E+=sr;case"rectRot":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-y,i-h),n.lineTo(t+_,i-c),n.lineTo(t+y,i+h),n.lineTo(t-_,i+c),n.closePath();break;case"crossRot":E+=sr;case"cross":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c);break;case"star":y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c),E+=sr,y=Math.cos(E)*(r?r/2:x),c=Math.cos(E)*x,h=Math.sin(E)*x,_=Math.sin(E)*(r?r/2:x),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c);break;case"line":c=r?r/2:Math.cos(E)*x,h=Math.sin(E)*x,n.moveTo(t-c,i-h),n.lineTo(t+c,i+h);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(E)*(r?r/2:x),i+Math.sin(E)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function VC(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Iy(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ly(n){n.restore()}function sP(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function rP(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,f=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,p),n.lineTo(h,p),n.stroke()}}function aP(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Kl(n,e,t,i,r,o={}){const c=vt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,sP(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&aP(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,t,i,o.maxWidth)),n.fillText(d,t,i,o.maxWidth),rP(n,t,i,d,o),i+=Number(r.lineHeight);n.restore()}function Xh(n,e){const{x:t,y:i,w:r,h:o,radius:c}=e;n.arc(t+c.topLeft,i+c.topLeft,c.topLeft,1.5*We,We,!0),n.lineTo(t,i+o-c.bottomLeft),n.arc(t+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,We,bt,!0),n.lineTo(t+r-c.bottomRight,i+o),n.arc(t+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,bt,0,!0),n.lineTo(t+r,i+c.topRight),n.arc(t+r-c.topRight,i+c.topRight,c.topRight,0,-bt,!0),n.lineTo(t+c.topLeft,i)}const oP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cP(n,e){const t=(""+n).match(oP);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const uP=n=>+n||0;function Py(n,e){const t={},i=Ae(e),r=i?Object.keys(e):e,o=Ae(n)?i?c=>Oe(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of r)t[c]=uP(o(c));return t}function jC(n){return Py(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Na(n){return Py(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Dn(n){const e=jC(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ut(n,e){n=n||{},e=e||ut.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Oe(n.style,e.style);i&&!(""+i).match(lP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Oe(n.family,e.family),lineHeight:cP(Oe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Oe(n.weight,e.weight),string:""};return r.string=iP(r),r}function $u(n,e,t,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function hP(n,e,t){const{min:i,max:r}=n,o=kC(e,(r-i)/2),c=(h,f)=>t&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function so(n,e){return Object.assign(Object.create(n),e)}function zy(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=GC("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>zy([h,...n],e,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return qC(h,f,()=>vP(f,e,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return iw(h).includes(f)},ownKeys(h){return iw(h)},set(h,f,d){const p=h._storage||(h._storage=r());return h[f]=p[f]=d,delete h._keys,!0}})}function ja(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:WC(n,i),setContext:o=>ja(n,o,t,i),override:o=>ja(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return qC(o,c,()=>dP(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function WC(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ps(t)?t:()=>t,isIndexable:Ps(i)?i:()=>i}}const fP=(n,e)=>n?n+Ry(e):e,Uy=(n,e)=>Ae(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qC(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function dP(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[e];return Ps(h)&&c.isScriptable(e)&&(h=mP(e,h,n,t)),vt(h)&&h.length&&(h=gP(e,h,n,c.isIndexable)),Uy(e,h)&&(h=ja(h,r,o&&o[e],c)),h}function mP(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=e(o,c||i);return h.delete(n),Uy(n,f)&&(f=Hy(r._scopes,r,n,f)),f}function gP(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Ae(e[0])){const f=e,d=r._scopes.filter(p=>p!==f);e=[];for(const p of f){const y=Hy(d,r,n,p);e.push(ja(y,o,c&&c[n],h))}}return e}function YC(n,e,t){return Ps(n)?n(e,t):n}const pP=(n,e)=>n===!0?e:typeof n=="string"?Er(e,n):void 0;function yP(n,e,t,i,r){for(const o of e){const c=pP(t,o);if(c){n.add(c);const h=YC(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==i)return h}else if(c===!1&&typeof i<"u"&&t!==i)return null}return!1}function Hy(n,e,t,i){const r=e._rootScopes,o=YC(e._fallback,t,i),c=[...n,...r],h=new Set;h.add(i);let f=nw(h,c,t,o||t,i);return f===null||typeof o<"u"&&o!==t&&(f=nw(h,c,o,f,i),f===null)?!1:zy(Array.from(h),[""],r,o,()=>_P(e,t,i))}function nw(n,e,t,i,r){for(;t;)t=yP(n,e,t,i,r);return t}function _P(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return vt(r)&&Ae(t)?t:r||{}}function vP(n,e,t,i){let r;for(const o of e)if(r=GC(fP(o,n),t),typeof r<"u")return Uy(n,r)?Hy(t,i,n,r):r}function GC(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function iw(n){let e=n._keys;return e||(e=n._keys=bP(n._scopes)),e}function bP(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function By(){return typeof window<"u"&&typeof document<"u"}function Fy(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Kh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Ef=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function SP(n,e){return Ef(n).getPropertyValue(e)}const wP=["top","right","bottom","left"];function pr(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=wP[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const xP=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function EP(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(xP(r,o,n.target))h=r,f=o;else{const d=e.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function cr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Ef(t),o=r.boxSizing==="border-box",c=pr(r,"padding"),h=pr(r,"border","width"),{x:f,y:d,box:p}=EP(n,t),y=c.left+(p&&h.left),_=c.top+(p&&h.top);let{width:b,height:w}=e;return o&&(b-=c.width+h.width,w-=c.height+h.height),{x:Math.round((f-y)/b*t.width/i),y:Math.round((d-_)/w*t.height/i)}}function TP(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&Fy(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Ef(o),f=pr(h,"border","width"),d=pr(h,"padding");e=c.width-d.width-f.width,t=c.height-d.height-f.height,i=Kh(h.maxWidth,o,"clientWidth"),r=Kh(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Gh,maxHeight:r||Gh}}const Zu=n=>Math.round(n*10)/10;function CP(n,e,t,i){const r=Ef(n),o=pr(r,"margin"),c=Kh(r.maxWidth,n,"clientWidth")||Gh,h=Kh(r.maxHeight,n,"clientHeight")||Gh,f=TP(n,e,t);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const _=pr(r,"border","width"),b=pr(r,"padding");d-=b.width+_.width,p-=b.height+_.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Zu(Math.min(d,c,f.maxWidth)),p=Zu(Math.min(p,h,f.maxHeight)),d&&!p&&(p=Zu(d/2)),(e!==void 0||t!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=Zu(Math.floor(p*i))),{width:d,height:p}}function sw(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const MP=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};By()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function rw(n,e){const t=SP(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const OP=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},AP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ia(n,e,t){return n?OP(e,t):AP()}function $C(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function ZC(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Xu(n,e,t){return n.options.clip?n[t]:e[t]}function RP(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Xu(t,e,"left"),right:Xu(t,e,"right"),top:Xu(i,e,"top"),bottom:Xu(i,e,"bottom")}:e}function kP(n,e){const t=e._clip;if(t.disabled)return!1;const i=RP(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(i-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=zC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ci=new DP;const aw="transparent",NP={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=KS(n||aw),r=i.valid&&KS(e||aw);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class IP{constructor(e,t,i,r){const o=t[i];r=$u([e.to,r,o,e.from]);const c=$u([e.from,o,r]);this._active=!0,this._fn=e.fn||NP[e.type||typeof c],this._easing=Dl[e.easing]||Dl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=$u([e.to,t,r,e.from]),this._from=$u([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||t<i),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}f=t/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class XC{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ae(e))return;const t=Object.keys(ut.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Ae(o))return;const c={};for(const h of t)c[h]=o[h];(vt(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(e,t){const i=t.options,r=PP(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&LP(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let y=o[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,h);continue}else y.cancel();if(!_||!_.duration){e[d]=p;continue}o[d]=y=new IP(_,e,d,p),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ci.add(this._chart,i),!0}}function LP(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function PP(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ow(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function zP(n,e,t){if(t===!1)return!1;const i=ow(n,t),r=ow(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function UP(n){let e,t,i,r;return Ae(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function KC(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function lw(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,d;if(e===null)return;let p=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===t){if(p=!0,i.all)continue;break}d=n.values[f],kn(d)&&(o||e===0||ks(e)===ks(d))&&(e+=d)}return!p&&!i.all?0:e}function HP(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,p;for(f=0,d=c.length;f<d;++f)p=c[f],h[f]={[r]:p,[o]:n[p]};return h}function wg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function BP(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function FP(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function VP(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function cw(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function uw(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,p=BP(o,c,i),y=e.length;let _;for(let b=0;b<y;++b){const w=e[b],{[f]:x,[d]:E}=w,C=w._stacks||(w._stacks={});_=C[d]=VP(r,p,x),_[h]=E,_._top=cw(_,c,!0,i.type),_._bottom=cw(_,c,!1,i.type);const R=_._visualValues||(_._visualValues={});R[h]=E}}function xg(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function jP(n,e){return so(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function WP(n,e,t){return so(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function fl(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Eg=n=>n==="reset"||n==="none",hw=(n,e)=>e?n:Object.assign({},n),qP=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:KC(t,!0),values:null};class Vy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,_,b,w)=>y==="x"?_:y==="r"?w:b,o=t.xAxisID=Oe(i.xAxisID,xg(e,"x")),c=t.yAxisID=Oe(i.yAxisID,xg(e,"y")),h=t.rAxisID=Oe(i.rAxisID,xg(e,"r")),f=t.indexAxis,d=t.iAxisID=r(f,o,c,h),p=t.vAxisID=r(f,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$S(this._data,this),e._stacked&&fl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ae(t)){const r=this._cachedMeta;this._data=HP(t,r)}else if(i!==t){if(i){$S(i,this);const r=this._cachedMeta;fl(r),r._parsed=[]}t&&Object.isExtensible(t)&&q8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=wg(t.vScale,t),t.stack!==i.stack&&(r=!0,fl(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(uw(this,t._parsed),t._stacked=wg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{vt(r[e])?_=this.parseArrayData(i,r,e,t):Ae(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>y[h]===null||d&&y[h]<d[h];for(p=0;p<t;++p)i._parsed[p+e]=y=_[p],f&&(b()&&(f=!1),d=y);i._sorted=f}c&&uw(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:c}=e,h=o.axis,f=c.axis,d=o.getLabels(),p=o===c,y=new Array(r);let _,b,w;for(_=0,b=r;_<b;++_)w=_+i,y[_]={[h]:p||o.parse(d[w],w),[f]:c.parse(t[w],w)};return y}parseArrayData(e,t,i,r){const{xScale:o,yScale:c}=e,h=new Array(r);let f,d,p,y;for(f=0,d=r;f<d;++f)p=f+i,y=t[p],h[f]={x:o.parse(y[0],p),y:c.parse(y[1],p)};return h}parseObjectData(e,t,i,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,y,_,b;for(p=0,y=r;p<y;++p)_=p+i,b=t[_],d[p]={x:o.parse(Er(b,h),_),y:c.parse(Er(b,f),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:KC(r,!0),values:t._stacks[e.axis]._visualValues};return lw(h,c,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let c=o===null?NaN:o;const h=r&&i._stacks[t.axis];r&&h&&(r.values=h,c=lw(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,c=r.length,h=this._getOtherScale(e),f=qP(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=FP(h);let _,b;function w(){b=r[_];const x=b[h.axis];return!kn(b[e.axis])||p>x||y<x}for(_=0;_<c&&!(!w()&&(this.updateRangeFromParsed(d,e,b,f),o));++_);if(o){for(_=c-1;_>=0;--_)if(!w()){this.updateRangeFromParsed(d,e,b,f);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],kn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=UP(Oe(this.options.clip,zP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,h,f),p=h;p<h+f;++p){const y=r[p];y.hidden||(y.active&&d?c.push(y):y.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=WP(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=jP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],f=this.enableOptionSharing&&Xl(i);if(h)return hw(h,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),p),b=Object.keys(ut.elements[e]),w=()=>this.getContext(i,r,t),x=d.resolveNamedOptions(_,b,w,y);return x.$shared&&(x.$shared=f,o[c]=Object.freeze(hw(x,f))),x}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),y);f=p.createResolver(_,this.getContext(e,i,t))}const d=new XC(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Eg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:c}}updateElement(e,t,i,r){Eg(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Eg(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const r=i.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const f=d=>{for(d.length+=t,h=d.length-1;h>=c;h--)d[h]=d[h-t]};for(f(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&fl(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function YP(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=PC(i.sort((r,o)=>r-o))}return n._cache.$bar}function GP(n){const e=n.iScale,t=YP(e,n.type);let i=e._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Xl(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),f();for(h=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),f();return i}function $P(n,e,t,i){const r=t.barThickness;let o,c;return qe(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[n]-o/2}}function ZP(n,e,t,i){const r=e.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const d=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:t.barPercentage,start:d}}function XP(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,d=h;Math.abs(c)>Math.abs(h)&&(f=h,d=c),e[t.axis]=d,e._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:h}}function QC(n,e,t,i){return vt(n)?XP(n,e,t,i):e[t.axis]=t.parse(n,i),e}function fw(n,e,t,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let d,p,y,_;for(d=t,p=t+i;d<p;++d)_=e[d],y={},y[r.axis]=h||r.parse(c[d],d),f.push(QC(_,y,o,d));return f}function Tg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function KP(n,e,t){return n!==0?ks(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function QP(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function JP(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:d,bottom:p}=QP(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=d:(t._bottom||0)===i?r=p:(o[dw(p,c,h,f)]=!0,r=d)),o[dw(r,c,h,f)]=!0,n.borderSkipped=o}function dw(n,e,t,i){return i?(n=ez(n,e,t),n=mw(n,t,e)):n=mw(n,e,t),n}function ez(n,e,t){return n===e?t:n===t?e:n}function mw(n,e,t){return n==="start"?e:n==="end"?t:n}function tz(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class nz extends Vy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return fw(e,t,i,r)}parseArrayData(e,t,i,r){return fw(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?h:f,p=c.axis==="x"?h:f,y=[];let _,b,w,x;for(_=i,b=i+r;_<b;++_)x=t[_],w={},w[o.axis]=o.parse(Er(x,d),_),y.push(QC(Er(x,p),w,c,_));return y}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),c=o._custom,h=Tg(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),d=h.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(t,r);for(let b=t;b<t+i;b++){const w=this.getParsed(b),x=o||qe(w[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),E=this._calculateBarIndexPixels(b,p),C=(w._stacks||{})[h.axis],R={horizontal:d,base:x.base,enableBorderRadius:!C||Tg(w._custom)||c===C._top||c===C._bottom,x:d?x.head:E.center,y:d?E.center:x.head,height:d?E.size:Math.abs(x.size),width:d?Math.abs(x.size):E.size};_&&(R.options=y||this.resolveDataElementOptions(b,e[b].active?"active":r));const U=R.options||e[b].options;JP(R,U,C,c),tz(R,U,p.ratio),this.updateElement(e[b],b,R,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),f=h&&h[i.axis],d=p=>{const y=p._parsed.find(b=>b[i.axis]===f),_=y&&y[p.vScale.axis];if(qe(_)||isNaN(_))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=e.barThickness;return{min:h||GP(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(e),d=f._custom,p=Tg(d);let y=f[t.axis],_=0,b=i?this.applyStack(t,f,i):y,w,x;b!==y&&(_=b-y,b=y),p&&(y=d.barStart,b=d.barEnd-d.barStart,y!==0&&ks(y)!==ks(d.barEnd)&&(_=0),_+=y);const E=!qe(o)&&!p?o:_;let C=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?w=t.getPixelForValue(_+b):w=C,x=w-C,Math.abs(x)<c){x=KP(x,t,h)*c,y===h&&(C-=x/2);const R=t.getPixelForDecimal(0),U=t.getPixelForDecimal(1),j=Math.min(R,U),H=Math.max(R,U);C=Math.max(Math.min(C,H),j),w=C+x,i&&!p&&(f._stacks[t.axis]._visualValues[r]=t.getValueForPixel(w)-t.getValueForPixel(C))}if(C===t.getPixelForValue(h)){const R=ks(x)*t.getLineWidthForValue(h)/2;C+=R,x-=R}return{size:x,base:C,head:w,center:w+x/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,c=Oe(r.maxBarThickness,1/0);let h,f;const d=this._getAxisCount();if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,y=r.barThickness==="flex"?ZP(e,t,r,p*d):$P(e,t,r,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Oe(_,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+b;h=y.start+y.chunk*w+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,t.min*t.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function iz(n,e,t){let i=1,r=1,o=0,c=0;if(e<mt){const h=n,f=h+e,d=Math.cos(h),p=Math.sin(h),y=Math.cos(f),_=Math.sin(f),b=(U,j,H)=>Zh(U,h,f,!0)?1:Math.max(j,j*t,H,H*t),w=(U,j,H)=>Zh(U,h,f,!0)?-1:Math.min(j,j*t,H,H*t),x=b(0,d,y),E=b(bt,p,_),C=w(We,d,y),R=w(We+bt,p,_);i=(x-C)/2,r=(E-R)/2,o=-(x+C)/2,c=-(E+R)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class sz extends Vy{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ae(i[e])){const{key:f="value"}=this._parsing;o=d=>+Er(i[d],f)}let c,h;for(c=e,h=e+t;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ni(this.options.rotation-90)}_getCircumference(){return Ni(this.options.circumference)}_getRotationExtents(){let e=mt,t=-mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(A8(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:w,offsetY:x}=iz(y,p,f),E=(i.width-c)/_,C=(i.height-c)/b,R=Math.max(Math.min(E,C)/2,0),U=kC(this.options.radius,R),j=Math.max(U*f,0),H=(U-j)/this._getVisibleDatasetWeightTotal();this.offsetX=w*U,this.offsetY=x*U,r.total=this.calculateTotal(),this.outerRadius=U-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/mt)}updateElements(e,t,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,d=c.options.animation,p=(h.left+h.right)/2,y=(h.top+h.bottom)/2,_=o&&d.animateScale,b=_?0:this.innerRadius,w=_?0:this.outerRadius,{sharedOptions:x,includeOptions:E}=this._getSharedOptions(t,r);let C=this._getRotation(),R;for(R=0;R<t;++R)C+=this._circumference(R,o);for(R=t;R<t+i;++R){const U=this._circumference(R,o),j=e[R],H={x:p+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+U,circumference:U,outerRadius:w,innerRadius:b};E&&(H.options=x||this.resolveDataElementOptions(R,j.active?"active":r)),C+=U,this.updateElement(j,R,H,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?mt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Ny(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,c,h,f;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),e=c.data,h=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(t=Math.max(t,f.borderWidth||0,f.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function ar(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jy{static override(e){Object.assign(jy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ar()}parse(){return ar()}format(){return ar()}add(){return ar()}diff(){return ar()}startOf(){return ar()}endOf(){return ar()}}var rz={_date:jy};function az(n,e,t,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const d=h._reversePixels?j8:dp;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const _=d(o,e,t-y),b=d(o,e,t+y);return{lo:_.lo,hi:b.hi}}}}else{const p=d(o,e,t);if(f){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(x=>!qe(x[y.axis]));p.lo-=Math.max(0,b);const w=_.slice(p.hi).findIndex(x=>!qe(x[y.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function Tf(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,f=o.length;h<f;++h){const{index:d,data:p}=o[h],{lo:y,hi:_}=az(o[h],e,c,r);for(let b=y;b<=_;++b){const w=p[b];w.skip||i(w,d,b)}}}function oz(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,c=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Cg(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||Tf(n,t,e,function(h,f,d){!r&&!VC(h,n.chartArea,0)||h.inRange(e.x,e.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function lz(n,e,t,i){let r=[];function o(c,h,f){const{startAngle:d,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:y}=IC(c,{x:e.x,y:e.y});Zh(y,d,p)&&r.push({element:c,datasetIndex:h,index:f})}return Tf(n,t,e,o),r}function cz(n,e,t,i,r,o){let c=[];const h=oz(t);let f=Number.POSITIVE_INFINITY;function d(p,y,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const w=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!b)return;const E=h(e,w);E<f?(c=[{element:p,datasetIndex:y,index:_}],f=E):E===f&&c.push({element:p,datasetIndex:y,index:_})}return Tf(n,t,e,d),c}function Mg(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?lz(n,e,t,r):cz(n,e,t,i,r,o)}function gw(n,e,t,i,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Tf(n,t,e,(f,d,p)=>{f[c]&&f[c](e[t],r)&&(o.push({element:f,datasetIndex:d,index:p}),h=h||f.inRange(e.x,e.y,r))}),i&&!h?[]:o}var uz={modes:{index(n,e,t,i){const r=cr(e,n),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Cg(n,r,o,i,c):Mg(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=h[0].index,y=d.data[p];y&&!y.skip&&f.push({element:y,datasetIndex:d.index,index:p})}),f):[]},dataset(n,e,t,i){const r=cr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Cg(n,r,o,i,c):Mg(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let p=0;p<d.length;++p)h.push({element:d[p],datasetIndex:f,index:p})}return h},point(n,e,t,i){const r=cr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Cg(n,r,o,i,c)},nearest(n,e,t,i){const r=cr(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Mg(n,r,o,t.intersect,i,c)},x(n,e,t,i){const r=cr(e,n);return gw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=cr(e,n);return gw(n,r,"y",t.intersect,i)}}};const JC=["left","top","right","bottom"];function dl(n,e){return n.filter(t=>t.pos===e)}function pw(n,e){return n.filter(t=>JC.indexOf(t.pos)===-1&&t.box.axis===e)}function ml(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function hz(n){const e=[];let t,i,r,o,c,h;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function fz(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!JC.includes(r))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function dz(n,e){const t=fz(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=t[h.stack],p=d&&h.stackWeight/d.weight;h.horizontal?(h.width=p?p*i:f&&e.availableWidth,h.height=r):(h.width=i,h.height=p?p*r:f&&e.availableHeight)}return t}function mz(n){const e=hz(n),t=ml(e.filter(d=>d.box.fullSize),!0),i=ml(dl(e,"left"),!0),r=ml(dl(e,"right")),o=ml(dl(e,"top"),!0),c=ml(dl(e,"bottom")),h=pw(e,"x"),f=pw(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:dl(e,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function yw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function e2(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function gz(n,e,t,i){const{pos:r,box:o}=t,c=n.maxPadding;if(!Ae(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[r]+=t.size}o.getPadding&&e2(c,o.getPadding());const h=Math.max(0,e.outerWidth-yw(c,n,"left","right")),f=Math.max(0,e.outerHeight-yw(c,n,"top","bottom")),d=h!==n.w,p=f!==n.h;return n.w=h,n.h=f,t.horizontal?{same:d,other:p}:{same:p,other:d}}function pz(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function yz(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Sl(n,e,t,i){const r=[];let o,c,h,f,d,p;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||e.w,h.height||e.h,yz(h.horizontal,e));const{same:y,other:_}=gz(e,t,h,i);d|=y&&r.length,p=p||_,f.fullSize||r.push(h)}return d&&Sl(r,e,t,i)||p}function Ku(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function _w(n,e,t,i){const r=t.padding;let{x:o,y:c}=e;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},p=h.stackWeight/d.weight||1;if(h.horizontal){const y=e.w*p,_=d.size||f.height;Xl(d.start)&&(c=d.start),f.fullSize?Ku(f,r.left,c,t.outerWidth-r.right-r.left,_):Ku(f,e.left+d.placed,c,y,_),d.start=c,d.placed+=y,c=f.bottom}else{const y=e.h*p,_=d.size||f.width;Xl(d.start)&&(o=d.start),f.fullSize?Ku(f,o,r.top,_,t.outerHeight-r.bottom-r.top):Ku(f,o,e.top+d.placed,_,y),d.start=o,d.placed+=y,o=f.right}}e.x=o,e.y=c}var Rn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Dn(n.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=mz(n.boxes),f=h.vertical,d=h.horizontal;ze(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const p=f.reduce((x,E)=>E.box.options&&E.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),_=Object.assign({},r);e2(_,Dn(i));const b=Object.assign({maxPadding:_,w:o,h:c,x:r.left,y:r.top},r),w=dz(f.concat(d),y);Sl(h.fullSize,b,y,w),Sl(f,b,y,w),Sl(d,b,y,w)&&Sl(f,b,y,w),pz(b),_w(h.leftAndTop,b,y,w),b.x+=b.w,b.y+=b.h,_w(h.rightAndBottom,b,y,w),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ze(h.chartArea,x=>{const E=x.box;Object.assign(E,n.chartArea),E.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class t2{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class _z extends t2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mh="$chartjs",vz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vw=n=>n===null||n==="";function bz(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[mh]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",vw(r)){const o=rw(n,"width");o!==void 0&&(n.width=o)}if(vw(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=rw(n,"height");o!==void 0&&(n.height=o)}return n}const n2=MP?{passive:!0}:!1;function Sz(n,e,t){n&&n.addEventListener(e,t,n2)}function wz(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,n2)}function xz(n,e){const t=vz[n.type]||n.type,{x:i,y:r}=cr(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qh(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Ez(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qh(h.addedNodes,i),c=c&&!Qh(h.removedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Tz(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Qh(h.removedNodes,i),c=c&&!Qh(h.addedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ql=new Map;let bw=0;function i2(){const n=window.devicePixelRatio;n!==bw&&(bw=n,Ql.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Cz(n,e){Ql.size||window.addEventListener("resize",i2),Ql.set(n,e)}function Mz(n){Ql.delete(n),Ql.size||window.removeEventListener("resize",i2)}function Oz(n,e,t){const i=n.canvas,r=i&&Fy(i);if(!r)return;const o=UC((h,f)=>{const d=r.clientWidth;t(h,f),d<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return c.observe(r),Cz(n,o),c}function Og(n,e,t){t&&t.disconnect(),e==="resize"&&Mz(n)}function Az(n,e,t){const i=n.canvas,r=UC(o=>{n.ctx!==null&&t(xz(o,n))},n);return Sz(i,e,r),r}class Rz extends t2{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(bz(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[mh])return!1;const i=t[mh].initial;["height","width"].forEach(o=>{const c=i[o];qe(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[mh],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:Ez,detach:Tz,resize:Oz}[t]||Az;r[t]=c(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Og,detach:Og,resize:Og}[t]||wz)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return CP(e,t,i,r)}isAttached(e){const t=e&&Fy(e);return!!(t&&t.isConnected)}}function kz(n){return!By()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?_z:Rz}class kr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return $h(this.x)&&$h(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function Dz(n,e){const t=n.options.ticks,i=Nz(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Lz(e):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>r)return Pz(e,d,o,c/r),d;const p=Iz(o,e,r);if(c>0){let y,_;const b=c>1?Math.round((f-h)/(c-1)):null;for(Qu(e,d,p,qe(b)?0:h-b,h),y=0,_=c-1;y<_;y++)Qu(e,d,p,o[y],o[y+1]);return Qu(e,d,p,f,qe(b)?e.length:f+b),d}return Qu(e,d,p),d}function Nz(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Iz(n,e,t){const i=zz(n),r=e.length/t;if(!i)return Math.max(r,1);const o=P8(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function Lz(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Pz(n,e,t,i){let r=0,o=t[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(e.push(n[c]),r++,o=t[r*i])}function Qu(n,e,t,i,r){const o=Oe(i,0),c=Math.min(Oe(r,n.length),n.length);let h=0,f,d,p;for(t=Math.ceil(t),r&&(f=r-i,t=f/Math.floor(f/t)),p=o;p<0;)h++,p=Math.round(o+h*t);for(d=Math.max(o,0);d<c;d++)d===p&&(e.push(n[d]),h++,p=Math.round(o+h*t))}function zz(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Uz=n=>n==="left"?"right":n==="right"?"left":n,Sw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,ww=(n,e)=>Math.min(e||n,n);function xw(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function Hz(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(f-o,c-f):e===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<e?d:-d,f<o-h||f>c+h)))return f}function Bz(n,e){ze(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function gl(n){return n.drawTicks?n.tickLength:0}function Ew(n,e){if(!n.display)return 0;const t=Ut(n.font,e),i=Dn(n.padding);return(vt(n.text)?n.text.length:1)*t.lineHeight+i.height}function Fz(n,e){return so(n,{scale:e,type:"scale"})}function Vz(n,e,t){return so(n,{tick:t,index:e,type:"tick"})}function jz(n,e,t){let i=Dy(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Uz(i)),i}function Wz(n,e,t,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:p}=f;let y=0,_,b,w;const x=c-r,E=h-o;if(n.isHorizontal()){if(b=Lt(i,o,h),Ae(t)){const C=Object.keys(t)[0],R=t[C];w=p[C].getPixelForValue(R)+x-e}else t==="center"?w=(d.bottom+d.top)/2+x-e:w=Sw(n,t,e);_=h-o}else{if(Ae(t)){const C=Object.keys(t)[0],R=t[C];b=p[C].getPixelForValue(R)-E+e}else t==="center"?b=(d.left+d.right)/2-E+e:b=Sw(n,t,e);w=Lt(i,c,r),y=t==="left"?-bt:bt}return{titleX:b,titleY:w,maxWidth:_,rotation:y}}class ro extends kr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ei(e,Number.POSITIVE_INFINITY),t=ei(t,Number.NEGATIVE_INFINITY),i=ei(i,Number.POSITIVE_INFINITY),r=ei(r,Number.NEGATIVE_INFINITY),{min:ei(e,i),max:ei(t,r),minDefined:kn(e),maxDefined:kn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(i=Math.max(i,c.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:ei(t,ei(i,t)),max:ei(i,ei(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xe(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hP(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?xw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Dz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xe(this.options.afterUpdate,[this])}beforeSetDimensions(){Xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Xe(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=ww(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,f,d;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Kt(this.chart.width-y,0,this.maxWidth);h=e.offset?this.maxWidth/i:b/(i-1),y+6>h&&(h=b/(i-(e.offset?.5:1)),f=this.maxHeight-gl(e.grid)-t.padding-Ew(e.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),c=B8(Math.min(Math.asin(Kt((p.highest.height+6)/h,-1,1)),Math.asin(Kt(f/d,-1,1))-Math.asin(Kt(_/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Ew(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=gl(o)+f):(e.height=this.maxHeight,e.width=gl(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,w=Ni(this.labelRotation),x=Math.cos(w),E=Math.sin(w);if(h){const C=i.mirror?0:E*y.width+x*_.height;e.height=Math.min(this.maxHeight,e.height+C+b)}else{const C=i.mirror?0:x*y.width+E*_.height;e.width=Math.min(this.maxWidth,e.width+C+b)}this._calculatePadding(d,p,E,x)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;f?d?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):o==="start"?b=t.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+c)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;o==="start"?(p=0,y=e.height):o==="end"&&(p=t.height,y=0),this.paddingTop=p+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)qe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=xw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(t/ww(t,i));let d=0,p=0,y,_,b,w,x,E,C,R,U,j,H;for(y=0;y<t;y+=f){if(w=e[y].label,x=this._resolveTickFontOptions(y),r.font=E=x.string,C=o[E]=o[E]||{data:{},gc:[]},R=x.lineHeight,U=j=0,!qe(w)&&!vt(w))U=JS(r,C.data,C.gc,U,w),j=R;else if(vt(w))for(_=0,b=w.length;_<b;++_)H=w[_],!qe(H)&&!vt(H)&&(U=JS(r,C.data,C.gc,U,H),j+=R);c.push(U),h.push(j),d=Math.max(U,d),p=Math.max(j,p)}Bz(o,t);const $=c.indexOf(d),K=h.indexOf(p),Q=J=>({width:c[J]||0,height:h[J]||0});return{first:Q(0),last:Q(t-1),widest:Q($),highest:Q(K),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return V8(this._alignToPixels?rr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=Vz(this.getContext(),e,i))}return this.$context||(this.$context=Fz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ni(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,d=this.isHorizontal(),y=this.ticks.length+(f?1:0),_=gl(o),b=[],w=h.setContext(this.getContext()),x=w.display?w.width:0,E=x/2,C=function(z){return rr(i,z,x)};let R,U,j,H,$,K,Q,J,se,re,oe,Ze;if(c==="top")R=C(this.bottom),K=this.bottom-_,J=R-E,re=C(e.top)+E,Ze=e.bottom;else if(c==="bottom")R=C(this.top),re=e.top,Ze=C(e.bottom)-E,K=R+E,J=this.top+_;else if(c==="left")R=C(this.right),$=this.right-_,Q=R-E,se=C(e.left)+E,oe=e.right;else if(c==="right")R=C(this.left),se=e.left,oe=C(e.right)-E,$=R+E,Q=this.left+_;else if(t==="x"){if(c==="center")R=C((e.top+e.bottom)/2+.5);else if(Ae(c)){const z=Object.keys(c)[0],q=c[z];R=C(this.chart.scales[z].getPixelForValue(q))}re=e.top,Ze=e.bottom,K=R+E,J=K+_}else if(t==="y"){if(c==="center")R=C((e.left+e.right)/2);else if(Ae(c)){const z=Object.keys(c)[0],q=c[z];R=C(this.chart.scales[z].getPixelForValue(q))}$=R-E,Q=$-_,se=e.left,oe=e.right}const ot=Oe(r.ticks.maxTicksLimit,y),ge=Math.max(1,Math.ceil(y/ot));for(U=0;U<y;U+=ge){const z=this.getContext(U),q=o.setContext(z),te=h.setContext(z),pe=q.lineWidth,M=q.color,W=te.dash||[],X=te.dashOffset,G=q.tickWidth,ne=q.tickColor,ve=q.tickBorderDash||[],ae=q.tickBorderDashOffset;j=Hz(this,U,f),j!==void 0&&(H=rr(i,j,pe),d?$=Q=se=oe=H:K=J=re=Ze=H,b.push({tx1:$,ty1:K,tx2:Q,ty2:J,x1:se,y1:re,x2:oe,y2:Ze,width:pe,color:M,borderDash:W,borderDashOffset:X,tickWidth:G,tickColor:ne,tickBorderDash:ve,tickBorderDashOffset:ae}))}return this._ticksLength=y,this._borderValue=R,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:p,mirror:y}=o,_=gl(i.grid),b=_+p,w=y?-p:b,x=-Ni(this.labelRotation),E=[];let C,R,U,j,H,$,K,Q,J,se,re,oe,Ze="middle";if(r==="top")$=this.bottom-w,K=this._getXAxisLabelAlignment();else if(r==="bottom")$=this.top+w,K=this._getXAxisLabelAlignment();else if(r==="left"){const ge=this._getYAxisLabelAlignment(_);K=ge.textAlign,H=ge.x}else if(r==="right"){const ge=this._getYAxisLabelAlignment(_);K=ge.textAlign,H=ge.x}else if(t==="x"){if(r==="center")$=(e.top+e.bottom)/2+b;else if(Ae(r)){const ge=Object.keys(r)[0],z=r[ge];$=this.chart.scales[ge].getPixelForValue(z)+b}K=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-b;else if(Ae(r)){const ge=Object.keys(r)[0],z=r[ge];H=this.chart.scales[ge].getPixelForValue(z)}K=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(f==="start"?Ze="top":f==="end"&&(Ze="bottom"));const ot=this._getLabelSizes();for(C=0,R=h.length;C<R;++C){U=h[C],j=U.label;const ge=o.setContext(this.getContext(C));Q=this.getPixelForTick(C)+o.labelOffset,J=this._resolveTickFontOptions(C),se=J.lineHeight,re=vt(j)?j.length:1;const z=re/2,q=ge.color,te=ge.textStrokeColor,pe=ge.textStrokeWidth;let M=K;c?(H=Q,K==="inner"&&(C===R-1?M=this.options.reverse?"left":"right":C===0?M=this.options.reverse?"right":"left":M="center"),r==="top"?d==="near"||x!==0?oe=-re*se+se/2:d==="center"?oe=-ot.highest.height/2-z*se+se:oe=-ot.highest.height+se/2:d==="near"||x!==0?oe=se/2:d==="center"?oe=ot.highest.height/2-z*se:oe=ot.highest.height-re*se,y&&(oe*=-1),x!==0&&!ge.showLabelBackdrop&&(H+=se/2*Math.sin(x))):($=Q,oe=(1-re)*se/2);let W;if(ge.showLabelBackdrop){const X=Dn(ge.backdropPadding),G=ot.heights[C],ne=ot.widths[C];let ve=oe-X.top,ae=0-X.left;switch(Ze){case"middle":ve-=G/2;break;case"bottom":ve-=G;break}switch(K){case"center":ae-=ne/2;break;case"right":ae-=ne;break;case"inner":C===R-1?ae-=ne:C>0&&(ae-=ne/2);break}W={left:ae,top:ve,width:ne+X.width,height:G+X.height,color:ge.backdropColor}}E.push({label:j,font:J,textOffset:oe,options:{rotation:x,color:q,strokeColor:te,strokeWidth:pe,textAlign:M,textBaseline:Ze,translation:[H,$],backdrop:W}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ni(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,f=c.widest.width;let d,p;return t==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-h,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+h,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const f=r[o];t.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=rr(e,this.left,c)-c/2,p=rr(e,this.right,h)+h/2,y=_=f):(y=rr(e,this.top,c)-c/2,_=rr(e,this.bottom,h)+h/2,d=p=f),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,y),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Iy(i,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,f=c.font,d=c.label,p=c.textOffset;Kl(i,d,0,p,f,h)}r&&Ly(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=Ut(i.font),c=Dn(i.padding),h=i.align;let f=o.lineHeight/2;t==="bottom"||t==="center"||Ae(t)?(f+=c.bottom,vt(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=Wz(this,f,t,h);Kl(e,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:jz(h,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Oe(e.grid&&e.grid.z,-1),r=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ro.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[i]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ut(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ju{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;Gz(t)&&(i=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,qz(e,c,i),this.override&&ut.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in ut[r]&&(delete ut[r][i],this.override&&delete Tr[i])}}function qz(n,e,t){const i=Zl(Object.create(null),[t?ut.get(t):{},ut.get(e),n.defaults]);ut.set(e,i),n.defaultRoutes&&Yz(e,n.defaultRoutes),n.descriptors&&ut.describe(e,n.descriptors)}function Yz(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),c=e[t].split("."),h=c.pop(),f=c.join(".");ut.route(o,r,f,h)})}function Gz(n){return"id"in n&&"defaults"in n}class $z{constructor(){this.controllers=new Ju(Vy,"datasets",!0),this.elements=new Ju(kr,"elements"),this.plugins=new Ju(Object,"plugins"),this.scales=new Ju(ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):ze(r,c=>{const h=i||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,i){const r=Ry(e);Xe(i["before"+r],[],i),t[e](i),Xe(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ni=new $z;class Zz{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,i,r){r=r||{};for(const o of e){const c=o.plugin,h=c[i],f=[t,r,o.options];if(Xe(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Oe(i.options&&i.options.plugins,{}),o=Xz(i);return r===!1&&!t?[]:Qz(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Xz(n){const e={},t=[],i=Object.keys(ni.plugins.items);for(let o=0;o<i.length;o++)t.push(ni.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function Kz(n,e){return!e&&n===!1?null:n===!0?{}:n}function Qz(n,{plugins:e,localIds:t},i,r){const o=[],c=n.getContext();for(const h of e){const f=h.id,d=Kz(i[f],r);d!==null&&o.push({plugin:h,options:Jz(n.config,{plugin:h,local:t[f]},d,c)})}return o}function Jz(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(i,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gp(n,e){const t=ut.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function e7(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function t7(n,e){return n===e?"_index_":"_value_"}function Tw(n){if(n==="x"||n==="y"||n==="r")return n}function n7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function pp(n,...e){if(Tw(n))return n;for(const t of e){const i=t.axis||n7(t.position)||n.length>1&&Tw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Cw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function i7(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Cw(n,"x",t[0])||Cw(n,"y",t[0])}return{}}function s7(n,e){const t=Tr[n.type]||{scales:{}},i=e.scales||{},r=gp(n.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ae(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=pp(c,h,i7(c,n),ut.scales[h.type]),d=t7(f,r),p=t.scales||{};o[c]=kl(Object.create(null),[{axis:f},h,p[f],p[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||gp(h,e),p=(Tr[h]||{}).scales||{};Object.keys(p).forEach(y=>{const _=e7(y,f),b=c[_+"AxisID"]||_;o[b]=o[b]||Object.create(null),kl(o[b],[{axis:_},i[b],p[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];kl(h,[ut.scales[h.type],ut.scale])}),o}function s2(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=s7(n,e)}function r2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function r7(n){return n=n||{},n.data=r2(n.data),s2(n),n}const Mw=new Map,a2=new Set;function eh(n,e){let t=Mw.get(n);return t||(t=e(),Mw.set(n,t),a2.add(t)),t}const pl=(n,e,t)=>{const i=Er(e,t);i!==void 0&&n.add(i)};class a7{constructor(e){this._config=r7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=r2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),s2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return eh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return eh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return eh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return eh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,c=this._cachedScopes(e,i),h=c.get(t);if(h)return h;const f=new Set;t.forEach(p=>{e&&(f.add(e),p.forEach(y=>pl(f,e,y))),p.forEach(y=>pl(f,r,y)),p.forEach(y=>pl(f,Tr[o]||{},y)),p.forEach(y=>pl(f,ut,y)),p.forEach(y=>pl(f,mp,y))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),a2.has(t)&&c.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Tr[t]||{},ut.datasets[t]||{},{type:t},ut,mp]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Ow(this._resolverCache,e,r);let f=c;if(l7(c,t)){o.$shared=!1,i=Ps(i)?i():i;const d=this.createResolver(e,i,h);f=ja(c,i,d)}for(const d of t)o[d]=f[d];return o}createResolver(e,t,i=[""],r){const{resolver:o}=Ow(this._resolverCache,e,i);return Ae(t)?ja(o,t,void 0,r):o}}function Ow(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:zy(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const o7=n=>Ae(n)&&Object.getOwnPropertyNames(n).some(e=>Ps(n[e]));function l7(n,e){const{isScriptable:t,isIndexable:i}=WC(n);for(const r of e){const o=t(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ps(h)||o7(h))||c&&vt(h))return!0}return!1}var c7="4.5.0";const u7=["top","bottom","left","right","chartArea"];function Aw(n,e){return n==="top"||n==="bottom"||u7.indexOf(n)===-1&&e==="x"}function Rw(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function kw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Xe(t&&t.onComplete,[n],e)}function h7(n){const e=n.chart,t=e.options.animation;Xe(t&&t.onProgress,[n],e)}function o2(n){return By()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gh={},Dw=n=>{const e=o2(n);return Object.values(gh).filter(t=>t.canvas===e).pop()};function f7(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const c=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=c)}}}function d7(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let vc=class{static defaults=ut;static instances=gh;static overrides=Tr;static registry=ni;static version=c7;static getChart=Dw;static register(...e){ni.add(...e),Nw()}static unregister(...e){ni.remove(...e),Nw()}constructor(e,t){const i=this.config=new a7(t),r=o2(e),o=Dw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kz(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,p=f&&f.width;if(this.id=O8(),this.ctx=h,this.canvas=f,this.width=p,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Y8(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],gh[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",kw),Ci.listen(this,"progress",h7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return qe(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ni}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ew(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(e,t){Ci.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,sw(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Xe(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ze(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],f=pp(c,h),d=f==="r",p=f==="x";return{options:h,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ze(o,c=>{const h=c.options,f=h.id,d=pp(f,h),p=Oe(h.type,c.dtype);(h.position===void 0||Aw(h.position,d)!==Aw(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===p)y=i[f];else{const _=ni.getScale(p);y=new _({id:f,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,e)}),ze(r,(c,h)=>{c||delete i[h]}),ze(i,c=>{Rn.configure(this,c,c.options),Rn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Rw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||gp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=ni.getController(h),{datasetElementType:d,dataElementType:p}=ut.datasets[h];Object.assign(f,{dataElementType:ni.getElement(p),datasetElementType:d&&ni.getElement(d)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ze(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ze(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Rw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ze(this.scales,e=>{Rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!WS(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const c=i==="_removeElements"?-o:o;f7(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!WS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ze(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ps(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),kw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=kP(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Iy(t,r),e.controller.draw(),r&&Ly(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return VC(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=uz.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=so(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);Xl(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ci.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ew(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ze(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(f,d)=>{t.addEventListener(this,f,d),e[f]=d},r=(f,d)=>{e[f]&&(t.removeEventListener(this,f,d),delete e[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){ze(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ze(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,c,h,f;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=e.length;h<f;++h){c=e[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!qh(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),c=o(t,e),h=i?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,i,c),f=I8(e),d=d7(e,this._lastEvent,i,f);i&&(this._lastEvent=null,Xe(o.onHover,[e,h,this],this),f&&Xe(o.onClick,[e,h,this],this));const p=!qh(h,r);return(p||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function Nw(){return ze(vc.instances,n=>n._plugins.invalidate())}function m7(n,e,t){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=e,{borderWidth:d,borderJoinStyle:p}=f,y=Math.min(d/c,ii(i-t));if(n.beginPath(),n.arc(r,o,c-d/2,i+y/2,t-y/2),h>0){const _=Math.min(d/h,ii(i-t));n.arc(r,o,h+d/2,t-_/2,i+_/2,!0)}else{const _=Math.min(d/2,c*ii(i-t));if(p==="round")n.arc(r,o,_,t-We/2,i+We/2,!0);else if(p==="bevel"){const b=2*_*_,w=-b*Math.cos(t+We/2)+r,x=-b*Math.sin(t+We/2)+o,E=b*Math.cos(i+We/2)+r,C=b*Math.sin(i+We/2)+o;n.lineTo(w,x),n.lineTo(E,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function g7(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=e;let d=r/h;n.beginPath(),n.arc(o,c,h,i-d,t+d),f>r?(d=r/f,n.arc(o,c,f,t+d,i-d,!0)):n.arc(o,c,r,t+bt,i-bt),n.closePath(),n.clip()}function p7(n){return Py(n,["outerStart","outerEnd","innerStart","innerEnd"])}function y7(n,e,t,i){const r=p7(n.options.borderRadius),o=(t-e)/2,c=Math.min(o,i*e/2),h=f=>{const d=(t-Math.min(o,f))*i/2;return Kt(f,0,Math.min(o,d))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Kt(r.innerStart,0,c),innerEnd:Kt(r.innerEnd,0,c)}}function wa(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Jh(n,e,t,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:d,innerRadius:p}=e,y=Math.max(e.outerRadius+i+t-d,0),_=p>0?p+i+t+d:0;let b=0;const w=r-f;if(i){const ge=p>0?p-i:0,z=y>0?y-i:0,q=(ge+z)/2,te=q!==0?w*q/(q+i):w;b=(w-te)/2}const x=Math.max(.001,w*y-t/We)/y,E=(w-x)/2,C=f+E+b,R=r-E-b,{outerStart:U,outerEnd:j,innerStart:H,innerEnd:$}=y7(e,_,y,R-C),K=y-U,Q=y-j,J=C+U/K,se=R-j/Q,re=_+H,oe=_+$,Ze=C+H/re,ot=R-$/oe;if(n.beginPath(),o){const ge=(J+se)/2;if(n.arc(c,h,y,J,ge),n.arc(c,h,y,ge,se),j>0){const pe=wa(Q,se,c,h);n.arc(pe.x,pe.y,j,se,R+bt)}const z=wa(oe,R,c,h);if(n.lineTo(z.x,z.y),$>0){const pe=wa(oe,ot,c,h);n.arc(pe.x,pe.y,$,R+bt,ot+Math.PI)}const q=(R-$/_+(C+H/_))/2;if(n.arc(c,h,_,R-$/_,q,!0),n.arc(c,h,_,q,C+H/_,!0),H>0){const pe=wa(re,Ze,c,h);n.arc(pe.x,pe.y,H,Ze+Math.PI,C-bt)}const te=wa(K,C,c,h);if(n.lineTo(te.x,te.y),U>0){const pe=wa(K,J,c,h);n.arc(pe.x,pe.y,U,C-bt,J)}}else{n.moveTo(c,h);const ge=Math.cos(J)*y+c,z=Math.sin(J)*y+h;n.lineTo(ge,z);const q=Math.cos(se)*y+c,te=Math.sin(se)*y+h;n.lineTo(q,te)}n.closePath()}function _7(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:h}=e;let f=e.endAngle;if(o){Jh(n,e,t,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(h)||(f=c+(h%mt||mt))}return Jh(n,e,t,i,f,r),n.fill(),f}function v7(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=e,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:b}=f,w=f.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=_,w?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let x=e.endAngle;if(o){Jh(n,e,t,i,x,r);for(let E=0;E<o;++E)n.stroke();isNaN(h)||(x=c+(h%mt||mt))}w&&g7(n,e,x),f.selfJoin&&x-c>=We&&b===0&&p!=="miter"&&m7(n,e,x),o||(Jh(n,e,t,i,x,r),n.stroke())}class b7 extends kr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=IC(r,{x:e,y:t}),{startAngle:h,endAngle:f,innerRadius:d,outerRadius:p,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,b=Oe(y,f-h),w=Zh(o,h,f)&&h!==f,x=b>=mt||w,E=gr(c,d+_,p+_);return x&&E}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:d}=this.options,p=(r+o)/2,y=(c+h+d+f)/2;return{x:t+Math.cos(p)*y,y:i+Math.sin(p)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>mt?Math.floor(i/mt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(We,i||0)),d=r*f;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,_7(e,this,d,o,c),v7(e,this,d,o,c),e.restore()}}function l2(n,e){const{x:t,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let h,f,d,p,y;return n.horizontal?(y=c/2,h=Math.min(t,r),f=Math.max(t,r),d=i-y,p=i+y):(y=o/2,h=t-y,f=t+y,d=Math.min(i,r),p=Math.max(i,r)),{left:h,top:d,right:f,bottom:p}}function ws(n,e,t,i){return n?0:Kt(e,t,i)}function S7(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=jC(i);return{t:ws(r.top,o.top,0,t),r:ws(r.right,o.right,0,e),b:ws(r.bottom,o.bottom,0,t),l:ws(r.left,o.left,0,e)}}function w7(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Na(r),c=Math.min(e,t),h=n.borderSkipped,f=i||Ae(r);return{topLeft:ws(!f||h.top||h.left,o.topLeft,0,c),topRight:ws(!f||h.top||h.right,o.topRight,0,c),bottomLeft:ws(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:ws(!f||h.bottom||h.right,o.bottomRight,0,c)}}function x7(n){const e=l2(n),t=e.right-e.left,i=e.bottom-e.top,r=S7(n,t/2,i/2),o=w7(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Ag(n,e,t,i){const r=e===null,o=t===null,h=n&&!(r&&o)&&l2(n,i);return h&&(r||gr(e,h.left,h.right))&&(o||gr(t,h.top,h.bottom))}function E7(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function T7(n,e){n.rect(e.x,e.y,e.w,e.h)}function Rg(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,c=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class C7 extends kr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=x7(this),h=E7(c.radius)?Xh:T7;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,Rg(c,t,o)),e.clip(),h(e,Rg(o,-t,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),h(e,Rg(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Ag(this,e,t,i)}inXRange(e,t){return Ag(this,e,null,t)}inYRange(e,t){return Ag(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Iw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},M7=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Lw extends kr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Xe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ut(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Iw(i,o);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(c,o,h,f)+10):(p=this.maxHeight,d=this._fitCols(c,r,h,f)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+h;let y=e;o.textAlign="left",o.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((w,x)=>{const E=i+t/2+o.measureText(w.text).width;(x===0||d[d.length-1]+E+2*h>c)&&(y+=p,d[d.length-(x>0?0:1)]=0,b+=p,_++),f[x]={left:0,top:b,row:_,width:E,height:r},d[d.length-1]+=E+h}),y}_fitCols(e,t,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=c-e;let y=h,_=0,b=0,w=0,x=0;return this.legendItems.forEach((E,C)=>{const{itemWidth:R,itemHeight:U}=O7(i,t,o,E,r);C>0&&b+U+2*h>p&&(y+=_+h,d.push({width:_,height:b}),w+=_+h,x++,_=b=0),f[C]={left:w,top:b,col:x,width:R,height:U},_=Math.max(_,R),b+=U+h}),y+=_,d.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Ia(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Lt(i,this.left+r,this.right-this.lineWidths[h]);for(const d of t)h!==d.row&&(h=d.row,f=Lt(i,this.left+r,this.right-this.lineWidths[h])),d.top+=this.top+e+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let h=0,f=Lt(i,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const d of t)d.col!==h&&(h=d.col,f=Lt(i,this.top+e+r,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Iy(e,this),this._draw(),Ly(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:c}=e,h=ut.color,f=Ia(e.rtl,this.left,this.width),d=Ut(c.font),{padding:p}=c,y=d.size,_=y/2;let b;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:w,boxHeight:x,itemHeight:E}=Iw(c,y),C=function($,K,Q){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;r.save();const J=Oe(Q.lineWidth,1);if(r.fillStyle=Oe(Q.fillStyle,h),r.lineCap=Oe(Q.lineCap,"butt"),r.lineDashOffset=Oe(Q.lineDashOffset,0),r.lineJoin=Oe(Q.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=Oe(Q.strokeStyle,h),r.setLineDash(Oe(Q.lineDash,[])),c.usePointStyle){const se={radius:x*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:J},re=f.xPlus($,w/2),oe=K+_;FC(r,se,re,oe,c.pointStyleWidth&&w)}else{const se=K+Math.max((y-x)/2,0),re=f.leftForLtr($,w),oe=Na(Q.borderRadius);r.beginPath(),Object.values(oe).some(Ze=>Ze!==0)?Xh(r,{x:re,y:se,w,h:x,radius:oe}):r.rect(re,se,w,x),r.fill(),J!==0&&r.stroke()}r.restore()},R=function($,K,Q){Kl(r,Q.text,$,K+E/2,d,{strikethrough:Q.hidden,textAlign:f.textAlign(Q.textAlign)})},U=this.isHorizontal(),j=this._computeTitleHeight();U?b={x:Lt(o,this.left+p,this.right-i[0]),y:this.top+p+j,line:0}:b={x:this.left+p,y:Lt(o,this.top+j+p,this.bottom-t[0].height),line:0},$C(this.ctx,e.textDirection);const H=E+p;this.legendItems.forEach(($,K)=>{r.strokeStyle=$.fontColor,r.fillStyle=$.fontColor;const Q=r.measureText($.text).width,J=f.textAlign($.textAlign||($.textAlign=c.textAlign)),se=w+_+Q;let re=b.x,oe=b.y;f.setWidth(this.width),U?K>0&&re+se+p>this.right&&(oe=b.y+=H,b.line++,re=b.x=Lt(o,this.left+p,this.right-i[b.line])):K>0&&oe+H>this.bottom&&(re=b.x=re+t[b.line].width+p,b.line++,oe=b.y=Lt(o,this.top+j+p,this.bottom-t[b.line].height));const Ze=f.x(re);if(C(Ze,oe,$),re=G8(J,re+w+_,U?re+se:this.right,e.rtl),R(f.x(re),oe,$),U)b.x+=se+p;else if(typeof $.text!="string"){const ot=d.lineHeight;b.y+=c2($,ot)+p}else b.y+=H}),ZC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ut(t.font),r=Dn(t.padding);if(!t.display)return;const o=Ia(e.rtl,this.left,this.width),c=this.ctx,h=t.position,f=i.size/2,d=r.top+f;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=Lt(e.align,y,this.right-_);else{const w=this.columnSizes.reduce((x,E)=>Math.max(x,E.height),0);p=d+Lt(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const b=Lt(h,y,y+_);c.textAlign=o.textAlign(Dy(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=i.string,Kl(c,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Ut(e.font),i=Dn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(gr(e,this.left,this.right)&&gr(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],gr(e,r.left,r.left+r.width)&&gr(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!k7(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=M7(r,i);r&&!o&&Xe(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Xe(t.onHover,[e,i,this],this)}else i&&Xe(t.onClick,[e,i,this],this)}}function O7(n,e,t,i,r){const o=A7(i,n,e,t),c=R7(r,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function A7(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+i.measureText(r).width}function R7(n,e,t){let i=n;return typeof e.text!="string"&&(i=c2(e,t)),i}function c2(n,e){const t=n.text?n.text.length:0;return e*t}function k7(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var u2={id:"legend",_element:Lw,start(n,e,t){const i=n.legend=new Lw({ctx:n.ctx,options:t,chart:n});Rn.configure(n,i,t),Rn.addBox(n,i)},stop(n){Rn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Rn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(t?0:void 0),p=Dn(d.borderWidth);return{text:e[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class h2 extends kr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=vt(i.text)?i.text.length:1;this._padding=Dn(i.padding);const o=r*Ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,d,p,y;return this.isHorizontal()?(p=Lt(h,i,o),y=t+e,d=o-i):(c.position==="left"?(p=i+e,y=Lt(h,r,t),f=We*-.5):(p=o-e,y=Lt(h,t,r),f=We*.5),d=r-t),{titleX:p,titleY:y,maxWidth:d,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ut(t.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);Kl(e,t.text,0,0,i,{color:t.color,maxWidth:f,rotation:d,textAlign:Dy(t.align),textBaseline:"middle",translation:[c,h]})}}function D7(n,e){const t=new h2({ctx:n.ctx,options:e,chart:n});Rn.configure(n,t,e),Rn.addBox(n,t),n.titleBlock=t}var N7={id:"title",_element:h2,start(n,e,t){D7(n,t)},stop(n){const e=n.titleBlock;Rn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Rn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wl={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const h=n[e].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=F8(e,d);p<r&&(r=p,h=f)}}if(h){const f=h.tooltipPosition();t=f.x,i=f.y}return{x:t,y:i}}};function ti(n,e){return e&&(vt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Mi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function I7(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Pw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=e,f=Ut(e.bodyFont),d=Ut(e.titleFont),p=Ut(e.footerFont),y=o.length,_=r.length,b=i.length,w=Dn(e.padding);let x=w.height,E=0,C=i.reduce((j,H)=>j+H.before.length+H.lines.length+H.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,y&&(x+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),C){const j=e.displayColors?Math.max(h,f.lineHeight):f.lineHeight;x+=b*j+(C-b)*f.lineHeight+(C-1)*e.bodySpacing}_&&(x+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let R=0;const U=function(j){E=Math.max(E,t.measureText(j).width+R)};return t.save(),t.font=d.string,ze(n.title,U),t.font=f.string,ze(n.beforeBody.concat(n.afterBody),U),R=e.displayColors?c+2+e.boxPadding:0,ze(i,j=>{ze(j.before,U),ze(j.lines,U),ze(j.after,U)}),R=0,t.font=p.string,ze(n.footer,U),t.restore(),E+=w.width,{width:E,height:x}}function L7(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function P7(n,e,t,i){const{x:r,width:o}=i,c=t.caretSize+t.caretPadding;if(n==="left"&&r+o+c>e.width||n==="right"&&r-o-c<0)return!0}function z7(n,e,t,i){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=r<=(h+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),P7(d,n,e,t)&&(d="center"),d}function zw(n,e,t){const i=t.yAlign||e.yAlign||L7(n,t);return{xAlign:t.xAlign||e.xAlign||z7(n,e,t,i),yAlign:i}}function U7(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function H7(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Uw(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=t,d=r+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=Na(c);let w=U7(e,h);const x=H7(e,f,d);return f==="center"?h==="left"?w+=d:h==="right"&&(w-=d):h==="left"?w-=Math.max(p,_)+r:h==="right"&&(w+=Math.max(y,b)+r),{x:Kt(w,0,i.width-e.width),y:Kt(x,0,i.height-e.height)}}function th(n,e,t){const i=Dn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Hw(n){return ti([],Mi(n))}function B7(n,e,t){return so(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Bw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const f2={beforeTitle:Ti,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ti,beforeBody:Ti,beforeLabel:Ti,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return qe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ti,afterBody:Ti,beforeFooter:Ti,footer:Ti,afterFooter:Ti};function $t(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?f2[e].call(t,i):r}class Fw extends kr{static positioners=wl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new XC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=B7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=$t(i,"beforeTitle",this,e),o=$t(i,"title",this,e),c=$t(i,"afterTitle",this,e);let h=[];return h=ti(h,Mi(r)),h=ti(h,Mi(o)),h=ti(h,Mi(c)),h}getBeforeBody(e,t){return Hw($t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return ze(e,o=>{const c={before:[],lines:[],after:[]},h=Bw(i,o);ti(c.before,Mi($t(h,"beforeLabel",this,o))),ti(c.lines,$t(h,"label",this,o)),ti(c.after,Mi($t(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return Hw($t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=$t(i,"beforeFooter",this,e),o=$t(i,"footer",this,e),c=$t(i,"afterFooter",this,e);let h=[];return h=ti(h,Mi(r)),h=ti(h,Mi(o)),h=ti(h,Mi(c)),h}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,d;for(f=0,d=t.length;f<d;++f)h.push(I7(this.chart,t[f]));return e.filter&&(h=h.filter((p,y,_)=>e.filter(p,y,_,i))),e.itemSort&&(h=h.sort((p,y)=>e.itemSort(p,y,i))),ze(h,p=>{const y=Bw(e.callbacks,p);r.push($t(y,"labelColor",this,p)),o.push($t(y,"labelPointStyle",this,p)),c.push($t(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=wl[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Pw(this,i),d=Object.assign({},h,f),p=zw(this.chart,i,d),y=Uw(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:y}=Na(h),{x:_,y:b}=e,{width:w,height:x}=t;let E,C,R,U,j,H;return o==="center"?(j=b+x/2,r==="left"?(E=_,C=E-c,U=j+c,H=j-c):(E=_+w,C=E+c,U=j-c,H=j+c),R=E):(r==="left"?C=_+Math.max(f,p)+c:r==="right"?C=_+w-Math.max(d,y)-c:C=this.caretX,o==="top"?(U=b,j=U-c,E=C-c,R=C+c):(U=b+x,j=U+c,E=C+c,R=C-c),H=U),{x1:E,x2:C,x3:R,y1:U,y2:j,y3:H}}drawTitle(e,t,i){const r=this.title,o=r.length;let c,h,f;if(o){const d=Ia(i.rtl,this.x,this.width);for(e.x=th(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",c=Ut(i.titleFont),h=i.titleSpacing,t.fillStyle=i.titleColor,t.font=c.string,f=0;f<o;++f)t.fillText(r[f],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,f+1===o&&(e.y+=i.titleMarginBottom-h)}}_drawColorBox(e,t,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=Ut(o.bodyFont),y=th(this,"left",o),_=r.x(y),b=f<p.lineHeight?(p.lineHeight-f)/2:0,w=t.y+b;if(o.usePointStyle){const x={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},E=r.leftForLtr(_,d)+d/2,C=w+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,tw(e,x,E,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,tw(e,x,E,C)}else{e.lineWidth=Ae(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const x=r.leftForLtr(_,d),E=r.leftForLtr(r.xPlus(_,1),d-2),C=Na(c.borderRadius);Object.values(C).some(R=>R!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Xh(e,{x,y:w,w:d,h:f,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Xh(e,{x:E,y:w+1,w:d-2,h:f-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(x,w,d,f),e.strokeRect(x,w,d,f),e.fillStyle=c.backgroundColor,e.fillRect(E,w+1,d-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:p}=i,y=Ut(i.bodyFont);let _=y.lineHeight,b=0;const w=Ia(i.rtl,this.x,this.width),x=function(Q){t.fillText(Q,w.x(e.x+b),e.y+_/2),e.y+=_+o},E=w.textAlign(c);let C,R,U,j,H,$,K;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=th(this,E,i),t.fillStyle=i.bodyColor,ze(this.beforeBody,x),b=h&&E!=="right"?c==="center"?d/2+p:d+2+p:0,j=0,$=r.length;j<$;++j){for(C=r[j],R=this.labelTextColors[j],t.fillStyle=R,ze(C.before,x),U=C.lines,h&&U.length&&(this._drawColorBox(t,e,j,w,i),_=Math.max(y.lineHeight,f)),H=0,K=U.length;H<K;++H)x(U[H]),_=y.lineHeight;ze(C.after,x)}b=0,_=y.lineHeight,ze(this.afterBody,x),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Ia(i.rtl,this.x,this.width);for(e.x=th(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=f.textAlign(i.footerAlign),t.textBaseline="middle",c=Ut(i.footerFont),t.fillStyle=i.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=e,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:w}=Na(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+y,f),c==="top"&&this.drawCaret(e,t,i,r),t.lineTo(h+d-_,f),t.quadraticCurveTo(h+d,f,h+d,f+_),c==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(h+d,f+p-w),t.quadraticCurveTo(h+d,f+p,h+d-w,f+p),c==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(h+b,f+p),t.quadraticCurveTo(h,f+p,h,f+p-b),c==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(h,f+y),t.quadraticCurveTo(h,f,h+y,f),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=wl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Pw(this,e),f=Object.assign({},c,this._size),d=zw(t,e,f),p=Uw(e,f,d,t);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Dn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),$C(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),ZC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!qh(i,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,i),h=this._positionChanged(c,e),f=t||!qh(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,c=wl[o.position].call(this,e,t);return c!==!1&&(i!==c.x||r!==c.y)}}var d2={id:"tooltip",_element:Fw,positioners:wl,afterInit(n,e,t){t&&(n.tooltip=new Fw({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:f2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const F7=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function V7(n,e,t,i){const r=n.indexOf(e);if(r===-1)return F7(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const j7=(n,e)=>n===null?null:Kt(Math.round(n),0,e);function Vw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class W7 extends ro{static id="category";static defaults={ticks:{callback:Vw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:V7(i,e,Oe(t,e),this._addedLabels),j7(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return Vw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function q7(n,e){const t=[],{bounds:r,step:o,min:c,max:h,precision:f,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=n,b=o||1,w=p-1,{min:x,max:E}=e,C=!qe(c),R=!qe(h),U=!qe(d),j=(E-x)/(y+1);let H=YS((E-x)/w/b)*b,$,K,Q,J;if(H<1e-14&&!C&&!R)return[{value:x},{value:E}];J=Math.ceil(E/H)-Math.floor(x/H),J>w&&(H=YS(J*H/w/b)*b),qe(f)||($=Math.pow(10,f),H=Math.ceil(H*$)/$),r==="ticks"?(K=Math.floor(x/H)*H,Q=Math.ceil(E/H)*H):(K=x,Q=E),C&&R&&o&&U8((h-c)/o,H/1e3)?(J=Math.round(Math.min((h-c)/H,p)),H=(h-c)/J,K=c,Q=h):U?(K=C?c:K,Q=R?h:Q,J=d-1,H=(Q-K)/J):(J=(Q-K)/H,dh(J,Math.round(J),H/1e3)?J=Math.round(J):J=Math.ceil(J));const se=Math.max(GS(H),GS(K));$=Math.pow(10,qe(f)?se:f),K=Math.round(K*$)/$,Q=Math.round(Q*$)/$;let re=0;for(C&&(_&&K!==c?(t.push({value:c}),K<c&&re++,dh(Math.round((K+re*H)*$)/$,c,jw(c,j,n))&&re++):K<c&&re++);re<J;++re){const oe=Math.round((K+re*H)*$)/$;if(R&&oe>h)break;t.push({value:oe})}return R&&_&&Q!==h?t.length&&dh(t[t.length-1].value,h,jw(h,j,n))?t[t.length-1].value=h:t.push({value:h}):(!R||Q===h)&&t.push({value:Q}),t}function jw(n,e,{horizontal:t,minRotation:i}){const r=Ni(i),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class Y7 extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=t?r:f,h=f=>o=i?o:f;if(e){const f=ks(r),d=ks(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),e||c(r-f)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=q7(r,o);return e.bounds==="ticks"&&H8(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Ny(e,this.chart.options.locale,this.options.ticks.format)}}class G7 extends Y7{static id="linear";static defaults={ticks:{callback:BC.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=kn(e)?e:0,this.max=kn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ni(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Cf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(Cf);function Ww(n,e){return n-e}function qw(n,e){if(qe(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),kn(c)||(c=typeof i=="string"?t.parse(c,i):t.parse(c)),c===null?null:(r&&(c=r==="week"&&($h(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function Yw(n,e,t,i){const r=Zt.length;for(let o=Zt.indexOf(n);o<r-1;++o){const c=Cf[Zt[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=i)return Zt[o]}return Zt[r-1]}function $7(n,e,t,i,r){for(let o=Zt.length-1;o>=Zt.indexOf(t);o--){const c=Zt[o];if(Cf[c].common&&n._adapter.diff(r,i,c)>=e-1)return c}return Zt[t?Zt.indexOf(t):0]}function Z7(n){for(let e=Zt.indexOf(n)+1,t=Zt.length;e<t;++e)if(Cf[Zt[e]].common)return Zt[e]}function Gw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=ky(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function X7(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),c=e[e.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=t[h],f>=0&&(e[f].major=!0);return e}function $w(n,e,t){const i=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,i.push({value:h,major:!1});return o===0||!t?i:X7(n,i,r,t)}class Zw extends ro{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new rz._date(e.adapters.date);r.init(t),kl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:qw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=kn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=kn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=W8(r,o,c);return this._unit=t.unit||(i.autoSkip?Yw(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):$7(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Z7(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),$w(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Kt(t,0,c),i=Kt(i,0,c),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||Yw(o.minUnit,t,i,this._getLabelCapacity(t)),h=Oe(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=$h(f)||f===!0,p={};let y=t,_,b;if(d&&(y=+e.startOf(y,"isoWeek",f)),y=+e.startOf(y,d?"day":c),e.diff(i,t,c)>1e5*h)throw new Error(t+" and "+i+" are too far apart with stepSize of "+h+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+e.add(_,h,c),b++)Gw(p,_,w);return(_===i||r.bounds==="ticks"||b===1)&&Gw(p,_,w),Object.keys(p).sort(Ww).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,i,r){const o=this.options,c=o.ticks.callback;if(c)return Xe(c,[e,t,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&h[f],y=d&&h[d],_=i[t],b=d&&y&&_&&_.major;return this._adapter.format(e,r||(b?y:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ni(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,$w(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(qw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PC(e.sort(Ww))}}function nh(n,e,t){let i=0,r=n.length-1,o,c,h,f;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=dp(n,"pos",e)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=dp(n,"time",e)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?h+(f-h)*(e-o)/d:h}class l9 extends Zw{static id="timeseries";static defaults=Zw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nh(t,this.min),this._tableRange=nh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let c,h,f,d,p;for(c=0,h=e.length;c<h;++c)d=e[c],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)p=r[c+1],f=r[c-1],d=r[c],Math.round((p+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(nh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return nh(this._table,i*this._tableRange+this._minPos,!0)}}const m2="label";function Xw(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function K7(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function g2(n,e){n.labels=e}function p2(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m2;const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(c=>c[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function Q7(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m2;const t={labels:[],datasets:[]};return g2(t,n.labels),p2(t,n.datasets,e),t}function J7(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:d=[],fallbackContent:p,updateMode:y,..._}=n,b=L.useRef(null),w=L.useRef(null),x=()=>{b.current&&(w.current=new vc(b.current,{type:c,data:Q7(h,o),options:f&&{...f},plugins:d}),Xw(e,w.current))},E=()=>{Xw(e,null),w.current&&(w.current.destroy(),w.current=null)};return L.useEffect(()=>{!r&&w.current&&f&&K7(w.current,f)},[r,f]),L.useEffect(()=>{!r&&w.current&&g2(w.current.config.data,h.labels)},[r,h.labels]),L.useEffect(()=>{!r&&w.current&&h.datasets&&p2(w.current.config.data,h.datasets,o)},[r,h.datasets]),L.useEffect(()=>{w.current&&(r?(E(),setTimeout(x)):w.current.update(y))},[r,f,h.labels,h.datasets,y]),L.useEffect(()=>{w.current&&(E(),setTimeout(x))},[c]),L.useEffect(()=>(x(),()=>E()),[]),Ii.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const e9=L.forwardRef(J7);function y2(n,e){return vc.register(e),L.forwardRef((t,i)=>Ii.createElement(e9,{...t,ref:i,type:n}))}const t9=y2("bar",nz),n9=y2("doughnut",sz);vc.register(b7,d2,u2);const i9=()=>{const{user:n,loading:e}=Ja(),[t,i]=L.useState(null),[r,o]=L.useState(0),c=async d=>{if(!d){o(0),setCalculating(!1);return}try{const p=hn(fn,`emr-users/${d.uid}/progress`),_=(await Mn(p)).val(),b=hn(fn,"words"),x=(await Mn(b)).size,E=hn(fn,`emr-users/${d.uid}/wordHistories`),C=await Mn(E);if(!C.val()){o(0);return}const R=C.val(),U={easy:0,normal:0,hard:0,default:0};for(const H in R)switch(R[H].difficulty){case"easy":U.easy++;break;case"normal":U.normal++;break;case"hard":U.hard++;break;default:U.default++;break}const j=x-C.size;if(i([U.easy,U.normal,U.hard,j]),_&&x>0){const H=Math.round((_.currentIndex+1)/x*100);o(H)}else o(0)}catch(p){console.error("Error calculating progress:",p),o(0)}};L.useEffect(()=>{n&&c(n)},[n,e]);const h=["#14B8A6","#3B82F6","#F59E0B","#E5E7EB"],f={datasets:[{data:t,backgroundColor:h.map(d=>`${d}7F`),borderColor:h,borderWidth:1}]};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative w-full h-full flex-1 min-h-40",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:A.jsx(n9,{data:f})}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:n?A.jsxs("p",{className:"text-6xl font-black",children:[r,"%"]}):A.jsx("p",{className:"text-6xl font-black",children:"-%"})})]}),A.jsxs("div",{className:"flex w-full justify-center gap-4",children:[A.jsx("p",{className:"bg-teal-400/50 px-2 rounded border border-teal-400",children:"easy"}),A.jsx("p",{className:"bg-blue-400/50 px-2 rounded border border-blue-400",children:"normal"}),A.jsx("p",{className:"bg-amber-400/50 px-2 rounded border border-amber-400",children:"hard"}),A.jsx("p",{className:"bg-gray-200/50 px-2 rounded border border-gray-200",children:"not study"})]})]})};vc.register(W7,G7,C7,N7,d2,u2);const s9=()=>{const{user:n,loading:e}=Ja(),[t,i]=L.useState({labels:[],datasets:[]});if(L.useEffect(()=>{n&&(async()=>{const c=hn(fn,`emr-users/${n.uid}/wordHistories`);try{const h=await Mn(c);if(h.exists()){const f=h.val(),d=new Date;d.setHours(0,0,0,0);const p=new Date(d);p.setDate(d.getDate()-6);const y={},_=[];for(let b=0;b<7;b++){const w=new Date(p);w.setDate(p.getDate()+b);const x=w.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});y[x]=0,_.push(x)}for(const b in f){const w=f[b];if(w.lastReviewed){const x=new Date(w.lastReviewed);if(x>=p){const E=x.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});y.hasOwnProperty(E)&&y[E]++}}}i({labels:_,datasets:[{data:_.map(b=>y[b]),backgroundColor:"#FB923C7F",borderColor:"#FB923C",borderWidth:1}]})}}catch(h){console.error(":",h)}})()},[n]),e)return A.jsx("div",{children:"Loading..."});const r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Words"},ticks:{stepSize:1}},x:{title:{display:!0,text:"Date"}}}};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-full h-full flex-1",children:A.jsx(t9,{data:t,options:r})}),A.jsx("div",{className:"flex w-full justify-center gap-4",children:A.jsx("p",{className:"bg-orange-400/50 px-2 rounded border border-orange-400",children:"Study words"})})]})},r9=()=>{const{user:n,loading:e}=Ja();return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[A.jsxs("h1",{className:"font-bold text-xl",children:["Study chart of ",n?.displayName]}),A.jsxs("div",{className:"flex flex-col gap-2 p-2 flex-1 overflow-auto w-full",children:[A.jsx(i9,{}),A.jsx(s9,{})]})]})})};function a9(){const{user:n,loading:e}=Ja(),{theme:t,setTheme:i}=Cy(),r=async()=>{try{const o=n.uid,c=hn(fn,`emr-users/${o}/progress/repeat`),f=(await Mn(c)).val()||0,d=MC(f);i(d),localStorage.setItem("level",d)}catch(o){console.error(o)}};return L.useEffect(()=>{const o=localStorage.getItem("level");o?i(o):r()}),A.jsxs(A.Fragment,{children:[A.jsx(r8,{}),e?A.jsx("div",{className:"fixed top-0 left-0 w-full h-dvh flex justify-center items-center bg-gray-400/50",children:A.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):!n&&A.jsx(s8,{}),A.jsxs("div",{className:"h-full bg-[var(--color-bg)] text-[var(--color-text)] font-Montserrat flex flex-col pb-safe",children:[A.jsxs("div",{className:"bg-[var(--color-accent)] shadow-xl p-2 flex items-center justify-between h-16",children:[A.jsx(ur,{to:"/",className:" text-white text-xl text-bold",children:"English Master"}),n&&!n.isAnonymous?A.jsx("img",{src:n.photoURL,className:"rounded-full h-full shadow-md",onClick:i8}):A.jsx("button",{className:"btn-icon",onClick:e8,children:A.jsx(HL,{className:"size-8"})})]}),A.jsx("div",{className:"flex-1 overflow-hidden",children:A.jsxs(FA,{children:[A.jsx(xa,{path:"/",element:A.jsx(OL,{})}),A.jsx(xa,{path:"/study",element:A.jsx(jL,{})}),A.jsx(xa,{path:"/words",element:A.jsx(WL,{})}),A.jsx(xa,{path:"*",element:A.jsx(AL,{})}),A.jsx(xa,{path:"/charts",element:A.jsx(r9,{})})]})}),A.jsx(KL,{})]})]})}XO.createRoot(document.getElementById("root")).render(A.jsx(L.StrictMode,{children:A.jsx(x4,{children:A.jsx(VL,{children:A.jsx(uR,{basename:"/english-master-react/",children:A.jsx(a9,{})})})})}));
