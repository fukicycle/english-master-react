(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function VO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ym={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function WO(){if(Bb)return ol;Bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return ol.Fragment=e,ol.jsx=t,ol.jsxs=t,ol}var Fb;function qO(){return Fb||(Fb=1,Ym.exports=WO()),Ym.exports}var C=qO(),Gm={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function YO(){if(jb)return ye;jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function E(O,W,X){this.props=O,this.context=W,this.refs=w,this.updater=X||b}E.prototype.isReactComponent={},E.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function M(){}M.prototype=E.prototype;function R(O,W,X){this.props=O,this.context=W,this.refs=w,this.updater=X||b}var U=R.prototype=new M;U.constructor=R,x(U,E.prototype),U.isPureReactComponent=!0;var V=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function K(O,W,X,G,ne,ve){return X=ve.ref,{$$typeof:n,type:O,key:W,ref:X!==void 0?X:null,props:ve}}function Q(O,W){return K(O.type,W,void 0,void 0,void 0,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function se(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return W[X]})}var re=/\/+/g;function oe(O,W){return typeof O=="object"&&O!==null&&O.key!=null?se(""+O.key):W.toString(36)}function Ze(){}function ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ze,Ze):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ge(O,W,X,G,ne){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var ae=!1;if(O===null)ae=!0;else switch(ve){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(O.$$typeof){case n:case e:ae=!0;break;case p:return ae=O._init,ge(ae(O._payload),W,X,G,ne)}}if(ae)return ne=ne(O),ae=G===""?"."+oe(O,0):G,V(ne)?(X="",ae!=null&&(X=ae.replace(re,"$&/")+"/"),ge(ne,W,X,"",function(Vi){return Vi})):ne!=null&&(J(ne)&&(ne=Q(ne,X+(ne.key==null||O&&O.key===ne.key?"":(""+ne.key).replace(re,"$&/")+"/")+ae)),W.push(ne)),1;ae=0;var nn=G===""?".":G+":";if(V(O))for(var Ke=0;Ke<O.length;Ke++)G=O[Ke],ve=nn+oe(G,Ke),ae+=ge(G,W,X,ve,ne);else if(Ke=_(O),typeof Ke=="function")for(O=Ke.call(O),Ke=0;!(G=O.next()).done;)G=G.value,ve=nn+oe(G,Ke++),ae+=ge(G,W,X,ve,ne);else if(ve==="object"){if(typeof O.then=="function")return ge(ot(O),W,X,G,ne);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ae}function z(O,W,X){if(O==null)return O;var G=[],ne=0;return ge(O,G,"","",function(ve){return W.call(X,ve,ne++)}),G}function q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var te=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pe(){}return ye.Children={map:z,forEach:function(O,W,X){z(O,function(){W.apply(this,arguments)},X)},count:function(O){var W=0;return z(O,function(){W++}),W},toArray:function(O){return z(O,function(W){return W})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ye.Component=E,ye.Fragment=t,ye.Profiler=r,ye.PureComponent=R,ye.StrictMode=i,ye.Suspense=f,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ye.__COMPILER_RUNTIME={__proto__:null,c:function(O){return H.H.useMemoCache(O)}},ye.cache=function(O){return function(){return O.apply(null,arguments)}},ye.cloneElement=function(O,W,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var G=x({},O.props),ne=O.key,ve=void 0;if(W!=null)for(ae in W.ref!==void 0&&(ve=void 0),W.key!==void 0&&(ne=""+W.key),W)!$.call(W,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&W.ref===void 0||(G[ae]=W[ae]);var ae=arguments.length-2;if(ae===1)G.children=X;else if(1<ae){for(var nn=Array(ae),Ke=0;Ke<ae;Ke++)nn[Ke]=arguments[Ke+2];G.children=nn}return K(O.type,ne,void 0,void 0,ve,G)},ye.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},ye.createElement=function(O,W,X){var G,ne={},ve=null;if(W!=null)for(G in W.key!==void 0&&(ve=""+W.key),W)$.call(W,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ne[G]=W[G]);var ae=arguments.length-2;if(ae===1)ne.children=X;else if(1<ae){for(var nn=Array(ae),Ke=0;Ke<ae;Ke++)nn[Ke]=arguments[Ke+2];ne.children=nn}if(O&&O.defaultProps)for(G in ae=O.defaultProps,ae)ne[G]===void 0&&(ne[G]=ae[G]);return K(O,ve,void 0,void 0,null,ne)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(O){return{$$typeof:u,render:O}},ye.isValidElement=J,ye.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:q}},ye.memo=function(O,W){return{$$typeof:d,type:O,compare:W===void 0?null:W}},ye.startTransition=function(O){var W=H.T,X={};H.T=X;try{var G=O(),ne=H.S;ne!==null&&ne(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(pe,te)}catch(ve){te(ve)}finally{H.T=W}},ye.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ye.use=function(O){return H.H.use(O)},ye.useActionState=function(O,W,X){return H.H.useActionState(O,W,X)},ye.useCallback=function(O,W){return H.H.useCallback(O,W)},ye.useContext=function(O){return H.H.useContext(O)},ye.useDebugValue=function(){},ye.useDeferredValue=function(O,W){return H.H.useDeferredValue(O,W)},ye.useEffect=function(O,W,X){var G=H.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(O,W)},ye.useId=function(){return H.H.useId()},ye.useImperativeHandle=function(O,W,X){return H.H.useImperativeHandle(O,W,X)},ye.useInsertionEffect=function(O,W){return H.H.useInsertionEffect(O,W)},ye.useLayoutEffect=function(O,W){return H.H.useLayoutEffect(O,W)},ye.useMemo=function(O,W){return H.H.useMemo(O,W)},ye.useOptimistic=function(O,W){return H.H.useOptimistic(O,W)},ye.useReducer=function(O,W,X){return H.H.useReducer(O,W,X)},ye.useRef=function(O){return H.H.useRef(O)},ye.useState=function(O){return H.H.useState(O)},ye.useSyncExternalStore=function(O,W,X){return H.H.useSyncExternalStore(O,W,X)},ye.useTransition=function(){return H.H.useTransition()},ye.version="19.1.1",ye}var Vb;function xp(){return Vb||(Vb=1,Gm.exports=YO()),Gm.exports}var I=xp();const Ii=VO(I);var $m={exports:{}},ll={},Zm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function GO(){return Wb||(Wb=1,(function(n){function e(z,q){var te=z.length;z.push(q);e:for(;0<te;){var pe=te-1>>>1,O=z[pe];if(0<r(O,q))z[pe]=q,z[te]=O,te=pe;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],te=z.pop();if(te!==q){z[0]=te;e:for(var pe=0,O=z.length,W=O>>>1;pe<W;){var X=2*(pe+1)-1,G=z[X],ne=X+1,ve=z[ne];if(0>r(G,te))ne<O&&0>r(ve,G)?(z[pe]=ve,z[ne]=te,pe=ne):(z[pe]=G,z[X]=te,pe=X);else if(ne<O&&0>r(ve,te))z[pe]=ve,z[ne]=te,pe=ne;else break e}}return q}function r(z,q){var te=z.sortIndex-q.sortIndex;return te!==0?te:z.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],d=[],p=1,y=null,_=3,b=!1,x=!1,w=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(z){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=z)i(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function H(z){if(w=!1,V(z),!x)if(t(f)!==null)x=!0,$||($=!0,oe());else{var q=t(d);q!==null&&ge(H,q.startTime-z)}}var $=!1,K=-1,Q=5,J=-1;function se(){return E?!0:!(n.unstable_now()-J<Q)}function re(){if(E=!1,$){var z=n.unstable_now();J=z;var q=!0;try{e:{x=!1,w&&(w=!1,R(K),K=-1),b=!0;var te=_;try{t:{for(V(z),y=t(f);y!==null&&!(y.expirationTime>z&&se());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,_=y.priorityLevel;var O=pe(y.expirationTime<=z);if(z=n.unstable_now(),typeof O=="function"){y.callback=O,V(z),q=!0;break t}y===t(f)&&i(f),V(z)}else i(f);y=t(f)}if(y!==null)q=!0;else{var W=t(d);W!==null&&ge(H,W.startTime-z),q=!1}}break e}finally{y=null,_=te,b=!1}q=void 0}}finally{q?oe():$=!1}}}var oe;if(typeof U=="function")oe=function(){U(re)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ot=Ze.port2;Ze.port1.onmessage=re,oe=function(){ot.postMessage(null)}}else oe=function(){M(re,0)};function ge(z,q){K=M(function(){z(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var te=_;_=q;try{return z()}finally{_=te}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=_;_=z;try{return q()}finally{_=te}},n.unstable_scheduleCallback=function(z,q,te){var pe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=te+O,z={id:p++,callback:q,priorityLevel:z,startTime:te,expirationTime:O,sortIndex:-1},te>pe?(z.sortIndex=te,e(d,z),t(f)===null&&z===t(d)&&(w?(R(K),K=-1):w=!0,ge(H,te-pe))):(z.sortIndex=O,e(f,z),x||b||(x=!0,$||($=!0,oe()))),z},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(z){var q=_;return function(){var te=_;_=q;try{return z.apply(this,arguments)}finally{_=te}}}})(Xm)),Xm}var qb;function $O(){return qb||(qb=1,Zm.exports=GO()),Zm.exports}var Km={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function ZO(){if(Yb)return It;Yb=1;var n=xp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,It.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},It.flushSync=function(f){var d=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=p,i.d.f()}},It.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},It.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},It.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},It.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},It.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},It.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},It.requestFormReset=function(f){i.d.r(f)},It.unstable_batchedUpdates=function(f,d){return f(d)},It.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},It.useFormStatus=function(){return c.H.useHostTransitionStatus()},It.version="19.1.1",It}var Gb;function XO(){if(Gb)return Km.exports;Gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Km.exports=ZO(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function KO(){if($b)return ll;$b=1;var n=$O(),e=xp(),t=XO();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,h=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return u(m),s;if(g===h)return u(m),a;g=g.sibling}throw Error(i(188))}if(l.return!==h.return)l=m,h=g;else{for(var v=!1,S=m.child;S;){if(S===l){v=!0,l=m,h=g;break}if(S===h){v=!0,h=m,l=g;break}S=S.sibling}if(!v){for(S=g.child;S;){if(S===l){v=!0,l=g,h=m;break}if(S===h){v=!0,h=g,l=m;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var Ze=Symbol.for("react.client.reference");function ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ze?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case U:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:ot(s.type)||"Memo";case Q:a=s._payload,s=s._init;try{return ot(s(a))}catch{}}return null}var ge=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],O=-1;function W(s){return{current:s}}function X(s){0>O||(s.current=pe[O],pe[O]=null,O--)}function G(s,a){O++,pe[O]=s.current,s.current=a}var ne=W(null),ve=W(null),ae=W(null),nn=W(null);function Ke(s,a){switch(G(ae,a),G(ve,s),G(ne,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?mb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=mb(a),s=gb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ne),G(ne,s)}function Vi(){X(ne),X(ve),X(ae)}function kf(s){s.memoizedState!==null&&G(nn,s);var a=ne.current,l=gb(a,s.type);a!==l&&(G(ve,s),G(ne,l))}function xc(s){ve.current===s&&(X(ne),X(ve)),nn.current===s&&(X(nn),nl._currentValue=te)}var Df=Object.prototype.hasOwnProperty,Nf=n.unstable_scheduleCallback,If=n.unstable_cancelCallback,SC=n.unstable_shouldYield,xC=n.unstable_requestPaint,$n=n.unstable_now,wC=n.unstable_getCurrentPriorityLevel,$y=n.unstable_ImmediatePriority,Zy=n.unstable_UserBlockingPriority,wc=n.unstable_NormalPriority,EC=n.unstable_LowPriority,Xy=n.unstable_IdlePriority,TC=n.log,CC=n.unstable_setDisableYieldValue,co=null,sn=null;function Wi(s){if(typeof TC=="function"&&CC(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(co,s)}catch{}}var rn=Math.clz32?Math.clz32:AC,MC=Math.log,OC=Math.LN2;function AC(s){return s>>>=0,s===0?32:31-(MC(s)/OC|0)|0}var Ec=256,Tc=4194304;function Hs(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Cc(s,a,l){var h=s.pendingLanes;if(h===0)return 0;var m=0,g=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=h&134217727;return S!==0?(h=S&~g,h!==0?m=Hs(h):(v&=S,v!==0?m=Hs(v):l||(l=S&~s,l!==0&&(m=Hs(l))))):(S=h&~g,S!==0?m=Hs(S):v!==0?m=Hs(v):l||(l=h&~s,l!==0&&(m=Hs(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function uo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function RC(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ky(){var s=Ec;return Ec<<=1,(Ec&4194048)===0&&(Ec=256),s}function Qy(){var s=Tc;return Tc<<=1,(Tc&62914560)===0&&(Tc=4194304),s}function Lf(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ho(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function kC(s,a,l,h,m,g){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,T=s.expirationTimes,N=s.hiddenUpdates;for(l=v&~l;0<l;){var B=31-rn(l),j=1<<B;S[B]=0,T[B]=-1;var L=N[B];if(L!==null)for(N[B]=null,B=0;B<L.length;B++){var P=L[B];P!==null&&(P.lane&=-536870913)}l&=~j}h!==0&&Jy(s,h,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(v&~a))}function Jy(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-rn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194090}function e_(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var h=31-rn(l),m=1<<h;m&a|s[h]&a&&(s[h]|=a),l&=~m}}function Pf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function zf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function t_(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:Ib(s.type))}function DC(s,a){var l=q.p;try{return q.p=s,a()}finally{q.p=l}}var qi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+qi,qt="__reactProps$"+qi,Dr="__reactContainer$"+qi,Uf="__reactEvents$"+qi,NC="__reactListeners$"+qi,IC="__reactHandles$"+qi,n_="__reactResources$"+qi,fo="__reactMarker$"+qi;function Hf(s){delete s[Dt],delete s[qt],delete s[Uf],delete s[NC],delete s[IC]}function Nr(s){var a=s[Dt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Dr]||l[Dt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=vb(s);s!==null;){if(l=s[Dt])return l;s=vb(s)}return a}s=l,l=s.parentNode}return null}function Ir(s){if(s=s[Dt]||s[Dr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function mo(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Lr(s){var a=s[n_];return a||(a=s[n_]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(s){s[fo]=!0}var i_=new Set,s_={};function Bs(s,a){Pr(s,a),Pr(s+"Capture",a)}function Pr(s,a){for(s_[s]=a,s=0;s<a.length;s++)i_.add(a[s])}var LC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),r_={},a_={};function PC(s){return Df.call(a_,s)?!0:Df.call(r_,s)?!1:LC.test(s)?a_[s]=!0:(r_[s]=!0,!1)}function Mc(s,a,l){if(PC(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Oc(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function ci(s,a,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+h)}}var Bf,o_;function zr(s){if(Bf===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Bf=a&&a[1]||"",o_=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bf+s+o_}var Ff=!1;function jf(s,a){if(!s||Ff)return"";Ff=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(P){var L=P}Reflect.construct(s,[],j)}else{try{j.call()}catch(P){L=P}s.call(j.prototype)}}else{try{throw Error()}catch(P){L=P}(j=s())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(P){if(P&&L&&typeof P.stack=="string")return[P.stack,L.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=h.DetermineComponentFrameRoot(),v=g[0],S=g[1];if(v&&S){var T=v.split(`
`),N=S.split(`
`);for(m=h=0;h<T.length&&!T[h].includes("DetermineComponentFrameRoot");)h++;for(;m<N.length&&!N[m].includes("DetermineComponentFrameRoot");)m++;if(h===T.length||m===N.length)for(h=T.length-1,m=N.length-1;1<=h&&0<=m&&T[h]!==N[m];)m--;for(;1<=h&&0<=m;h--,m--)if(T[h]!==N[m]){if(h!==1||m!==1)do if(h--,m--,0>m||T[h]!==N[m]){var B=`
`+T[h].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=h&&0<=m);break}}}finally{Ff=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?zr(l):""}function zC(s){switch(s.tag){case 26:case 27:case 5:return zr(s.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return jf(s.type,!1);case 11:return jf(s.type.render,!1);case 1:return jf(s.type,!0);case 31:return zr("Activity");default:return""}}function l_(s){try{var a="";do a+=zC(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function c_(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function UC(s){var a=c_(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(v){h=""+v,g.call(this,v)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ac(s){s._valueTracker||(s._valueTracker=UC(s))}function u_(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return s&&(h=c_(s)?s.checked?"true":"false":s.value),s=h,s!==l?(a.setValue(s),!0):!1}function Rc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var HC=/[\n"\\]/g;function _n(s){return s.replace(HC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vf(s,a,l,h,m,g,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),a!=null?v==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+yn(a)):s.value!==""+yn(a)&&(s.value=""+yn(a)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),a!=null?Wf(s,v,yn(a)):l!=null?Wf(s,v,yn(l)):h!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+yn(S):s.removeAttribute("name")}function h_(s,a,l,h,m,g,v,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=S?s.checked:!!h,s.defaultChecked=!!h,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v)}function Wf(s,a,l){a==="number"&&Rc(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ur(s,a,l,h){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function f_(s,a,l){if(a!=null&&(a=""+yn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+yn(l):""}function d_(s,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(ge(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=yn(a),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function Hr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var BC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m_(s,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,l):typeof l!="number"||l===0||BC.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function g_(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&l[m]!==h&&m_(s,m,h)}else for(var g in a)a.hasOwnProperty(g)&&m_(s,g,a[g])}function qf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(s){return jC.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yf=null;function Gf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Br=null,Fr=null;function p_(s){var a=Ir(s);if(a&&(s=a.stateNode)){var l=s[qt]||null;e:switch(s=a.stateNode,a.type){case"input":if(Vf(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==s&&h.form===s.form){var m=h[qt]||null;if(!m)throw Error(i(90));Vf(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===s.form&&u_(h)}break e;case"textarea":f_(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ur(s,!!l.multiple,a,!1)}}}var $f=!1;function y_(s,a,l){if($f)return s(a,l);$f=!0;try{var h=s(a);return h}finally{if($f=!1,(Br!==null||Fr!==null)&&(pu(),Br&&(a=Br,s=Fr,Fr=Br=null,p_(a),s)))for(a=0;a<s.length;a++)p_(s[a])}}function go(s,a){var l=s.stateNode;if(l===null)return null;var h=l[qt]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=!1;if(ui)try{var po={};Object.defineProperty(po,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Zf=!1}var Yi=null,Xf=null,Dc=null;function __(){if(Dc)return Dc;var s,a=Xf,l=a.length,h,m="value"in Yi?Yi.value:Yi.textContent,g=m.length;for(s=0;s<l&&a[s]===m[s];s++);var v=l-s;for(h=1;h<=v&&a[l-h]===m[g-h];h++);return Dc=m.slice(s,1<h?1-h:void 0)}function Nc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ic(){return!0}function v_(){return!1}function Yt(s){function a(l,h,m,g,v){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ic:v_,this.isPropagationStopped=v_,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),a}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=Yt(Fs),yo=p({},Fs,{view:0,detail:0}),VC=Yt(yo),Kf,Qf,_o,Pc=p({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_o&&(_o&&s.type==="mousemove"?(Kf=s.screenX-_o.screenX,Qf=s.screenY-_o.screenY):Qf=Kf=0,_o=s),Kf)},movementY:function(s){return"movementY"in s?s.movementY:Qf}}),b_=Yt(Pc),WC=p({},Pc,{dataTransfer:0}),qC=Yt(WC),YC=p({},yo,{relatedTarget:0}),Jf=Yt(YC),GC=p({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),$C=Yt(GC),ZC=p({},Fs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),XC=Yt(ZC),KC=p({},Fs,{data:0}),S_=Yt(KC),QC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tM(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=eM[s])?!!a[s]:!1}function ed(){return tM}var nM=p({},yo,{key:function(s){if(s.key){var a=QC[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Nc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?JC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(s){return s.type==="keypress"?Nc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),iM=Yt(nM),sM=p({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x_=Yt(sM),rM=p({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),aM=Yt(rM),oM=p({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lM=Yt(oM),cM=p({},Pc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),uM=Yt(cM),hM=p({},Fs,{newState:0,oldState:0}),fM=Yt(hM),dM=[9,13,27,32],td=ui&&"CompositionEvent"in window,vo=null;ui&&"documentMode"in document&&(vo=document.documentMode);var mM=ui&&"TextEvent"in window&&!vo,w_=ui&&(!td||vo&&8<vo&&11>=vo),E_=" ",T_=!1;function C_(s,a){switch(s){case"keyup":return dM.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jr=!1;function gM(s,a){switch(s){case"compositionend":return M_(a);case"keypress":return a.which!==32?null:(T_=!0,E_);case"textInput":return s=a.data,s===E_&&T_?null:s;default:return null}}function pM(s,a){if(jr)return s==="compositionend"||!td&&C_(s,a)?(s=__(),Dc=Xf=Yi=null,jr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w_&&a.locale!=="ko"?null:a.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!yM[s.type]:a==="textarea"}function A_(s,a,l,h){Br?Fr?Fr.push(h):Fr=[h]:Br=h,a=xu(a,"onChange"),0<a.length&&(l=new Lc("onChange","change",null,l,h),s.push({event:l,listeners:a}))}var bo=null,So=null;function _M(s){cb(s,0)}function zc(s){var a=mo(s);if(u_(a))return s}function R_(s,a){if(s==="change")return a}var k_=!1;if(ui){var nd;if(ui){var id="oninput"in document;if(!id){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),id=typeof D_.oninput=="function"}nd=id}else nd=!1;k_=nd&&(!document.documentMode||9<document.documentMode)}function N_(){bo&&(bo.detachEvent("onpropertychange",I_),So=bo=null)}function I_(s){if(s.propertyName==="value"&&zc(So)){var a=[];A_(a,So,s,Gf(s)),y_(_M,a)}}function vM(s,a,l){s==="focusin"?(N_(),bo=a,So=l,bo.attachEvent("onpropertychange",I_)):s==="focusout"&&N_()}function bM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zc(So)}function SM(s,a){if(s==="click")return zc(a)}function xM(s,a){if(s==="input"||s==="change")return zc(a)}function wM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var an=typeof Object.is=="function"?Object.is:wM;function xo(s,a){if(an(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!Df.call(a,m)||!an(s[m],a[m]))return!1}return!0}function L_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P_(s,a){var l=L_(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=a&&h>=a)return{node:l,offset:a-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=L_(l)}}function z_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?z_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function U_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Rc(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Rc(s.document)}return a}function sd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var EM=ui&&"documentMode"in document&&11>=document.documentMode,Vr=null,rd=null,wo=null,ad=!1;function H_(s,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ad||Vr==null||Vr!==Rc(h)||(h=Vr,"selectionStart"in h&&sd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),wo&&xo(wo,h)||(wo=h,h=xu(rd,"onSelect"),0<h.length&&(a=new Lc("onSelect","select",null,a,l),s.push({event:a,listeners:h}),a.target=Vr)))}function js(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Wr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},od={},B_={};ui&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Vs(s){if(od[s])return od[s];if(!Wr[s])return s;var a=Wr[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in B_)return od[s]=a[l];return s}var F_=Vs("animationend"),j_=Vs("animationiteration"),V_=Vs("animationstart"),TM=Vs("transitionrun"),CM=Vs("transitionstart"),MM=Vs("transitioncancel"),W_=Vs("transitionend"),q_=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Ln(s,a){q_.set(s,a),Bs(a,[s])}var Y_=new WeakMap;function vn(s,a){if(typeof s=="object"&&s!==null){var l=Y_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:l_(a)},Y_.set(s,a),a)}return{value:s,source:a,stack:l_(a)}}var bn=[],qr=0,cd=0;function Uc(){for(var s=qr,a=cd=qr=0;a<s;){var l=bn[a];bn[a++]=null;var h=bn[a];bn[a++]=null;var m=bn[a];bn[a++]=null;var g=bn[a];if(bn[a++]=null,h!==null&&m!==null){var v=h.pending;v===null?m.next=m:(m.next=v.next,v.next=m),h.pending=m}g!==0&&G_(l,m,g)}}function Hc(s,a,l,h){bn[qr++]=s,bn[qr++]=a,bn[qr++]=l,bn[qr++]=h,cd|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function ud(s,a,l,h){return Hc(s,a,l,h),Bc(s)}function Yr(s,a){return Hc(s,null,null,a),Bc(s)}function G_(s,a,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,h=g.alternate,h!==null&&(h.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&a!==null&&(m=31-rn(l),s=g.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=l|536870912),g):null}function Bc(s){if(50<$o)throw $o=0,pm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Gr={};function OM(s,a,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(s,a,l,h){return new OM(s,a,l,h)}function hd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hi(s,a){var l=s.alternate;return l===null?(l=on(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function $_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Fc(s,a,l,h,m,g){var v=0;if(h=s,typeof s=="function")hd(s)&&(v=1);else if(typeof s=="string")v=RO(s,l,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=on(31,l,a,m),s.elementType=J,s.lanes=g,s;case x:return Ws(l.children,m,g,a);case w:v=8,m|=24;break;case E:return s=on(12,l,a,m|2),s.elementType=E,s.lanes=g,s;case H:return s=on(13,l,a,m),s.elementType=H,s.lanes=g,s;case $:return s=on(19,l,a,m),s.elementType=$,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case U:v=10;break e;case R:v=9;break e;case V:v=11;break e;case K:v=14;break e;case Q:v=16,h=null;break e}v=29,l=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=on(v,l,a,m),a.elementType=s,a.type=h,a.lanes=g,a}function Ws(s,a,l,h){return s=on(7,s,h,a),s.lanes=l,s}function fd(s,a,l){return s=on(6,s,null,a),s.lanes=l,s}function dd(s,a,l){return a=on(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var $r=[],Zr=0,jc=null,Vc=0,Sn=[],xn=0,qs=null,fi=1,di="";function Ys(s,a){$r[Zr++]=Vc,$r[Zr++]=jc,jc=s,Vc=a}function Z_(s,a,l){Sn[xn++]=fi,Sn[xn++]=di,Sn[xn++]=qs,qs=s;var h=fi;s=di;var m=32-rn(h)-1;h&=~(1<<m),l+=1;var g=32-rn(a)+m;if(30<g){var v=m-m%5;g=(h&(1<<v)-1).toString(32),h>>=v,m-=v,fi=1<<32-rn(a)+m|l<<m|h,di=g+s}else fi=1<<g|l<<m|h,di=s}function md(s){s.return!==null&&(Ys(s,1),Z_(s,1,0))}function gd(s){for(;s===jc;)jc=$r[--Zr],$r[Zr]=null,Vc=$r[--Zr],$r[Zr]=null;for(;s===qs;)qs=Sn[--xn],Sn[xn]=null,di=Sn[--xn],Sn[xn]=null,fi=Sn[--xn],Sn[xn]=null}var Ht=null,nt=null,De=!1,Gs=null,Zn=!1,pd=Error(i(519));function $s(s){var a=Error(i(418,""));throw Co(vn(a,s)),pd}function X_(s){var a=s.stateNode,l=s.type,h=s.memoizedProps;switch(a[Dt]=s,a[qt]=h,l){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(l=0;l<Xo.length;l++)Ee(Xo[l],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Ee("invalid",a),h_(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ac(a);break;case"select":Ee("invalid",a);break;case"textarea":Ee("invalid",a),d_(a,h.value,h.defaultValue,h.children),Ac(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||db(a.textContent,l)?(h.popover!=null&&(Ee("beforetoggle",a),Ee("toggle",a)),h.onScroll!=null&&Ee("scroll",a),h.onScrollEnd!=null&&Ee("scrollend",a),h.onClick!=null&&(a.onclick=wu),a=!0):a=!1,a||$s(s)}function K_(s){for(Ht=s.return;Ht;)switch(Ht.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ht=Ht.return}}function Eo(s){if(s!==Ht)return!1;if(!De)return K_(s),De=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Dm(s.type,s.memoizedProps)),l=!l),l&&nt&&$s(s),K_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){nt=zn(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}nt=null}}else a===27?(a=nt,ls(s.type)?(s=Pm,Pm=null,nt=s):nt=a):nt=Ht?zn(s.stateNode.nextSibling):null;return!0}function To(){nt=Ht=null,De=!1}function Q_(){var s=Gs;return s!==null&&(Zt===null?Zt=s:Zt.push.apply(Zt,s),Gs=null),s}function Co(s){Gs===null?Gs=[s]:Gs.push(s)}var yd=W(null),Zs=null,mi=null;function Gi(s,a,l){G(yd,a._currentValue),a._currentValue=l}function gi(s){s._currentValue=yd.current,X(yd)}function _d(s,a,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===l)break;s=s.return}}function vd(s,a,l,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var v=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var T=0;T<a.length;T++)if(S.context===a[T]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),_d(g.return,l,s),h||(v=null);break e}g=S.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(i(341));v.lanes|=l,g=v.alternate,g!==null&&(g.lanes|=l),_d(v,l,s),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function Mo(s,a,l,h){s=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=m.type;an(m.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(m===nn.current){if(v=m.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(nl):s=[nl])}m=m.return}s!==null&&vd(a,s,l,h),a.flags|=262144}function Wc(s){for(s=s.firstContext;s!==null;){if(!an(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xs(s){Zs=s,mi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Nt(s){return J_(Zs,s)}function qc(s,a){return Zs===null&&Xs(s),J_(s,a)}function J_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},mi===null){if(s===null)throw Error(i(308));mi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else mi=mi.next=a;return l}var AM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},RM=n.unstable_scheduleCallback,kM=n.unstable_NormalPriority,pt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new AM,data:new Map,refCount:0}}function Oo(s){s.refCount--,s.refCount===0&&RM(kM,function(){s.controller.abort()})}var Ao=null,Sd=0,Xr=0,Kr=null;function DM(s,a){if(Ao===null){var l=Ao=[];Sd=0,Xr=wm(),Kr={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Sd++,a.then(e0,e0),a}function e0(){if(--Sd===0&&Ao!==null){Kr!==null&&(Kr.status="fulfilled");var s=Ao;Ao=null,Xr=0,Kr=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function NM(s,a){var l=[],h={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),h}var t0=z.S;z.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&DM(s,a),t0!==null&&t0(s,a)};var Ks=W(null);function xd(){var s=Ks.current;return s!==null?s:Ye.pooledCache}function Yc(s,a){a===null?G(Ks,Ks.current):G(Ks,a.pool)}function n0(){var s=xd();return s===null?null:{parent:pt._currentValue,pool:s}}var Ro=Error(i(460)),i0=Error(i(474)),Gc=Error(i(542)),wd={then:function(){}};function s0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $c(){}function r0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then($c,$c),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,o0(s),s;default:if(typeof a.status=="string")a.then($c,$c);else{if(s=Ye,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,o0(s),s}throw ko=a,Ro}}var ko=null;function a0(){if(ko===null)throw Error(i(459));var s=ko;return ko=null,s}function o0(s){if(s===Ro||s===Gc)throw Error(i(483))}var $i=!1;function Ed(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xi(s,a,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Le&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Bc(s),G_(s,null,l),a}return Hc(s,h,a,l),Bc(s)}function Do(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,e_(s,l)}}function Cd(s,a){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=v:g=g.next=v,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Md=!1;function No(){if(Md){var s=Kr;if(s!==null)throw s}}function Io(s,a,l,h){Md=!1;var m=s.updateQueue;$i=!1;var g=m.firstBaseUpdate,v=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var T=S,N=T.next;T.next=null,v===null?g=N:v.next=N,v=T;var B=s.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==v&&(S===null?B.firstBaseUpdate=N:S.next=N,B.lastBaseUpdate=T))}if(g!==null){var j=m.baseState;v=0,B=N=T=null,S=g;do{var L=S.lane&-536870913,P=L!==S.lane;if(P?(Ce&L)===L:(h&L)===L){L!==0&&L===Xr&&(Md=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=s,le=S;L=a;var Be=l;switch(le.tag){case 1:if(fe=le.payload,typeof fe=="function"){j=fe.call(Be,j,L);break e}j=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=le.payload,L=typeof fe=="function"?fe.call(Be,j,L):fe,L==null)break e;j=p({},j,L);break e;case 2:$i=!0}}L=S.callback,L!==null&&(s.flags|=64,P&&(s.flags|=8192),P=m.callbacks,P===null?m.callbacks=[L]:P.push(L))}else P={lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(N=B=P,T=j):B=B.next=P,v|=L;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;P=S,S=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);B===null&&(T=j),m.baseState=T,m.firstBaseUpdate=N,m.lastBaseUpdate=B,g===null&&(m.shared.lanes=0),ss|=v,s.lanes=v,s.memoizedState=j}}function l0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function c0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)l0(l[s],a)}var Qr=W(null),Zc=W(0);function u0(s,a){s=xi,G(Zc,s),G(Qr,a),xi=s|a.baseLanes}function Od(){G(Zc,xi),G(Qr,Qr.current)}function Ad(){xi=Zc.current,X(Qr),X(Zc)}var Ki=0,_e=null,Ue=null,ht=null,Xc=!1,Jr=!1,Qs=!1,Kc=0,Lo=0,ea=null,IM=0;function lt(){throw Error(i(321))}function Rd(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!an(s[l],a[l]))return!1;return!0}function kd(s,a,l,h,m,g){return Ki=g,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?G0:$0,Qs=!1,g=l(h,m),Qs=!1,Jr&&(g=f0(a,l,h,m)),h0(s),g}function h0(s){z.H=iu;var a=Ue!==null&&Ue.next!==null;if(Ki=0,ht=Ue=_e=null,Xc=!1,Lo=0,ea=null,a)throw Error(i(300));s===null||xt||(s=s.dependencies,s!==null&&Wc(s)&&(xt=!0))}function f0(s,a,l,h){_e=s;var m=0;do{if(Jr&&(ea=null),Lo=0,Jr=!1,25<=m)throw Error(i(301));if(m+=1,ht=Ue=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=FM,g=a(l,h)}while(Jr);return g}function LM(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?Po(a):a,s=s.useState()[0],(Ue!==null?Ue.memoizedState:null)!==s&&(_e.flags|=1024),a}function Dd(){var s=Kc!==0;return Kc=0,s}function Nd(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Id(s){if(Xc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Xc=!1}Ki=0,ht=Ue=_e=null,Jr=!1,Lo=Kc=0,ea=null}function Gt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?_e.memoizedState=ht=s:ht=ht.next=s,ht}function ft(){if(Ue===null){var s=_e.alternate;s=s!==null?s.memoizedState:null}else s=Ue.next;var a=ht===null?_e.memoizedState:ht.next;if(a!==null)ht=a,Ue=s;else{if(s===null)throw _e.alternate===null?Error(i(467)):Error(i(310));Ue=s,s={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ht===null?_e.memoizedState=ht=s:ht=ht.next=s}return ht}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(s){var a=Lo;return Lo+=1,ea===null&&(ea=[]),s=r0(ea,s,a),a=_e,(ht===null?a.memoizedState:ht.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?G0:$0),s}function Qc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Po(s);if(s.$$typeof===U)return Nt(s)}throw Error(i(438,String(s)))}function Pd(s){var a=null,l=_e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=_e.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ld(),_e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),h=0;h<s;h++)l[h]=se;return a.index++,l}function pi(s,a){return typeof a=="function"?a(s):a}function Jc(s){var a=ft();return zd(a,Ue,s)}function zd(s,a,l){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var m=s.baseQueue,g=h.pending;if(g!==null){if(m!==null){var v=m.next;m.next=g.next,g.next=v}a.baseQueue=m=g,h.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{a=m.next;var S=v=null,T=null,N=a,B=!1;do{var j=N.lane&-536870913;if(j!==N.lane?(Ce&j)===j:(Ki&j)===j){var L=N.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),j===Xr&&(B=!0);else if((Ki&L)===L){N=N.next,L===Xr&&(B=!0);continue}else j={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=j,v=g):T=T.next=j,_e.lanes|=L,ss|=L;j=N.action,Qs&&l(g,j),g=N.hasEagerState?N.eagerState:l(g,j)}else L={lane:j,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=L,v=g):T=T.next=L,_e.lanes|=j,ss|=j;N=N.next}while(N!==null&&N!==a);if(T===null?v=g:T.next=S,!an(g,s.memoizedState)&&(xt=!0,B&&(l=Kr,l!==null)))throw l;s.memoizedState=g,s.baseState=v,s.baseQueue=T,h.lastRenderedState=g}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Ud(s){var a=ft(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var v=m=m.next;do g=s(g,v.action),v=v.next;while(v!==m);an(g,a.memoizedState)||(xt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,h]}function d0(s,a,l){var h=_e,m=ft(),g=De;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var v=!an((Ue||m).memoizedState,l);v&&(m.memoizedState=l,xt=!0),m=m.queue;var S=p0.bind(null,h,m,s);if(zo(2048,8,S,[s]),m.getSnapshot!==a||v||ht!==null&&ht.memoizedState.tag&1){if(h.flags|=2048,ta(9,eu(),g0.bind(null,h,m,l,a),null),Ye===null)throw Error(i(349));g||(Ki&124)!==0||m0(h,a,l)}return l}function m0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=_e.updateQueue,a===null?(a=Ld(),_e.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function g0(s,a,l,h){a.value=l,a.getSnapshot=h,y0(a)&&_0(s)}function p0(s,a,l){return l(function(){y0(a)&&_0(s)})}function y0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!an(s,l)}catch{return!0}}function _0(s){var a=Yr(s,2);a!==null&&fn(a,s,2)}function Hd(s){var a=Gt();if(typeof s=="function"){var l=s;if(s=l(),Qs){Wi(!0);try{l()}finally{Wi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},a}function v0(s,a,l,h){return s.baseState=l,zd(s,Ue,typeof h=="function"?h:pi)}function PM(s,a,l,h,m){if(nu(s))throw Error(i(485));if(s=a.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};z.T!==null?l(!0):g.isTransition=!1,h(g),l=a.pending,l===null?(g.next=a.pending=g,b0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function b0(s,a){var l=a.action,h=a.payload,m=s.state;if(a.isTransition){var g=z.T,v={};z.T=v;try{var S=l(m,h),T=z.S;T!==null&&T(v,S),S0(s,a,S)}catch(N){Bd(s,a,N)}finally{z.T=g}}else try{g=l(m,h),S0(s,a,g)}catch(N){Bd(s,a,N)}}function S0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){x0(s,a,h)},function(h){return Bd(s,a,h)}):x0(s,a,l)}function x0(s,a,l){a.status="fulfilled",a.value=l,w0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,b0(s,l)))}function Bd(s,a,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,w0(a),a=a.next;while(a!==h)}s.action=null}function w0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function E0(s,a){return a}function T0(s,a){if(De){var l=Ye.formState;if(l!==null){e:{var h=_e;if(De){if(nt){t:{for(var m=nt,g=Zn;m.nodeType!==8;){if(!g){m=null;break t}if(m=zn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){nt=zn(m.nextSibling),h=m.data==="F!";break e}}$s(h)}h=!1}h&&(a=l[0])}}return l=Gt(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:a},l.queue=h,l=W0.bind(null,_e,h),h.dispatch=l,h=Hd(!1),g=qd.bind(null,_e,!1,h.queue),h=Gt(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,l=PM.bind(null,_e,m,g,l),m.dispatch=l,h.memoizedState=s,[a,l,!1]}function C0(s){var a=ft();return M0(a,Ue,s)}function M0(s,a,l){if(a=zd(s,a,E0)[0],s=Jc(pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Po(a)}catch(v){throw v===Ro?Gc:v}else h=a;a=ft();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(_e.flags|=2048,ta(9,eu(),zM.bind(null,m,l),null)),[h,g,s]}function zM(s,a){s.action=a}function O0(s){var a=ft(),l=Ue;if(l!==null)return M0(a,l,s);ft(),a=a.memoizedState,l=ft();var h=l.queue.dispatch;return l.memoizedState=s,[a,h,!1]}function ta(s,a,l,h){return s={tag:s,create:l,deps:h,inst:a,next:null},a=_e.updateQueue,a===null&&(a=Ld(),_e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,a.lastEffect=s),s}function eu(){return{destroy:void 0,resource:void 0}}function A0(){return ft().memoizedState}function tu(s,a,l,h){var m=Gt();h=h===void 0?null:h,_e.flags|=s,m.memoizedState=ta(1|a,eu(),l,h)}function zo(s,a,l,h){var m=ft();h=h===void 0?null:h;var g=m.memoizedState.inst;Ue!==null&&h!==null&&Rd(h,Ue.memoizedState.deps)?m.memoizedState=ta(a,g,l,h):(_e.flags|=s,m.memoizedState=ta(1|a,g,l,h))}function R0(s,a){tu(8390656,8,s,a)}function k0(s,a){zo(2048,8,s,a)}function D0(s,a){return zo(4,2,s,a)}function N0(s,a){return zo(4,4,s,a)}function I0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function L0(s,a,l){l=l!=null?l.concat([s]):null,zo(4,4,I0.bind(null,a,s),l)}function Fd(){}function P0(s,a){var l=ft();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Rd(a,h[1])?h[0]:(l.memoizedState=[s,a],s)}function z0(s,a){var l=ft();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Rd(a,h[1]))return h[0];if(h=s(),Qs){Wi(!0);try{s()}finally{Wi(!1)}}return l.memoizedState=[h,a],h}function jd(s,a,l){return l===void 0||(Ki&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Bv(),_e.lanes|=s,ss|=s,l)}function U0(s,a,l,h){return an(l,a)?l:Qr.current!==null?(s=jd(s,l,h),an(s,a)||(xt=!0),s):(Ki&42)===0?(xt=!0,s.memoizedState=l):(s=Bv(),_e.lanes|=s,ss|=s,a)}function H0(s,a,l,h,m){var g=q.p;q.p=g!==0&&8>g?g:8;var v=z.T,S={};z.T=S,qd(s,!1,a,l);try{var T=m(),N=z.S;if(N!==null&&N(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=NM(T,h);Uo(s,a,B,hn(s))}else Uo(s,a,h,hn(s))}catch(j){Uo(s,a,{then:function(){},status:"rejected",reason:j},hn())}finally{q.p=g,z.T=v}}function UM(){}function Vd(s,a,l,h){if(s.tag!==5)throw Error(i(476));var m=B0(s).queue;H0(s,m,a,te,l===null?UM:function(){return F0(s),l(h)})}function B0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function F0(s){var a=B0(s).next.queue;Uo(s,a,{},hn())}function Wd(){return Nt(nl)}function j0(){return ft().memoizedState}function V0(){return ft().memoizedState}function HM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=hn();s=Zi(l);var h=Xi(a,s,l);h!==null&&(fn(h,a,l),Do(h,a,l)),a={cache:bd()},s.payload=a;return}a=a.return}}function BM(s,a,l){var h=hn();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},nu(s)?q0(a,l):(l=ud(s,a,l,h),l!==null&&(fn(l,s,h),Y0(l,a,h)))}function W0(s,a,l){var h=hn();Uo(s,a,l,h)}function Uo(s,a,l,h){var m={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(nu(s))q0(a,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var v=a.lastRenderedState,S=g(v,l);if(m.hasEagerState=!0,m.eagerState=S,an(S,v))return Hc(s,a,m,0),Ye===null&&Uc(),!1}catch{}finally{}if(l=ud(s,a,m,h),l!==null)return fn(l,s,h),Y0(l,a,h),!0}return!1}function qd(s,a,l,h){if(h={lane:2,revertLane:wm(),action:h,hasEagerState:!1,eagerState:null,next:null},nu(s)){if(a)throw Error(i(479))}else a=ud(s,l,h,2),a!==null&&fn(a,s,2)}function nu(s){var a=s.alternate;return s===_e||a!==null&&a===_e}function q0(s,a){Jr=Xc=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Y0(s,a,l){if((l&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,e_(s,l)}}var iu={readContext:Nt,use:Qc,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},G0={readContext:Nt,use:Qc,useCallback:function(s,a){return Gt().memoizedState=[s,a===void 0?null:a],s},useContext:Nt,useEffect:R0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,tu(4194308,4,I0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return tu(4194308,4,s,a)},useInsertionEffect:function(s,a){tu(4,2,s,a)},useMemo:function(s,a){var l=Gt();a=a===void 0?null:a;var h=s();if(Qs){Wi(!0);try{s()}finally{Wi(!1)}}return l.memoizedState=[h,a],h},useReducer:function(s,a,l){var h=Gt();if(l!==void 0){var m=l(a);if(Qs){Wi(!0);try{l(a)}finally{Wi(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=BM.bind(null,_e,s),[h.memoizedState,s]},useRef:function(s){var a=Gt();return s={current:s},a.memoizedState=s},useState:function(s){s=Hd(s);var a=s.queue,l=W0.bind(null,_e,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Fd,useDeferredValue:function(s,a){var l=Gt();return jd(l,s,a)},useTransition:function(){var s=Hd(!1);return s=H0.bind(null,_e,s.queue,!0,!1),Gt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var h=_e,m=Gt();if(De){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ye===null)throw Error(i(349));(Ce&124)!==0||m0(h,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,R0(p0.bind(null,h,g,s),[s]),h.flags|=2048,ta(9,eu(),g0.bind(null,h,g,l,a),null),l},useId:function(){var s=Gt(),a=Ye.identifierPrefix;if(De){var l=di,h=fi;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,a=""+a+"R"+l,l=Kc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=IM++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Wd,useFormState:T0,useActionState:T0,useOptimistic:function(s){var a=Gt();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=qd.bind(null,_e,!0,l),l.dispatch=a,[s,a]},useMemoCache:Pd,useCacheRefresh:function(){return Gt().memoizedState=HM.bind(null,_e)}},$0={readContext:Nt,use:Qc,useCallback:P0,useContext:Nt,useEffect:k0,useImperativeHandle:L0,useInsertionEffect:D0,useLayoutEffect:N0,useMemo:z0,useReducer:Jc,useRef:A0,useState:function(){return Jc(pi)},useDebugValue:Fd,useDeferredValue:function(s,a){var l=ft();return U0(l,Ue.memoizedState,s,a)},useTransition:function(){var s=Jc(pi)[0],a=ft().memoizedState;return[typeof s=="boolean"?s:Po(s),a]},useSyncExternalStore:d0,useId:j0,useHostTransitionStatus:Wd,useFormState:C0,useActionState:C0,useOptimistic:function(s,a){var l=ft();return v0(l,Ue,s,a)},useMemoCache:Pd,useCacheRefresh:V0},FM={readContext:Nt,use:Qc,useCallback:P0,useContext:Nt,useEffect:k0,useImperativeHandle:L0,useInsertionEffect:D0,useLayoutEffect:N0,useMemo:z0,useReducer:Ud,useRef:A0,useState:function(){return Ud(pi)},useDebugValue:Fd,useDeferredValue:function(s,a){var l=ft();return Ue===null?jd(l,s,a):U0(l,Ue.memoizedState,s,a)},useTransition:function(){var s=Ud(pi)[0],a=ft().memoizedState;return[typeof s=="boolean"?s:Po(s),a]},useSyncExternalStore:d0,useId:j0,useHostTransitionStatus:Wd,useFormState:O0,useActionState:O0,useOptimistic:function(s,a){var l=ft();return Ue!==null?v0(l,Ue,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:V0},na=null,Ho=0;function su(s){var a=Ho;return Ho+=1,na===null&&(na=[]),r0(na,s,a)}function Bo(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ru(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Z0(s){var a=s._init;return a(s._payload)}function X0(s){function a(k,A){if(s){var D=k.deletions;D===null?(k.deletions=[A],k.flags|=16):D.push(A)}}function l(k,A){if(!s)return null;for(;A!==null;)a(k,A),A=A.sibling;return null}function h(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function m(k,A){return k=hi(k,A),k.index=0,k.sibling=null,k}function g(k,A,D){return k.index=D,s?(D=k.alternate,D!==null?(D=D.index,D<A?(k.flags|=67108866,A):D):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function v(k){return s&&k.alternate===null&&(k.flags|=67108866),k}function S(k,A,D,F){return A===null||A.tag!==6?(A=fd(D,k.mode,F),A.return=k,A):(A=m(A,D),A.return=k,A)}function T(k,A,D,F){var ee=D.type;return ee===x?B(k,A,D.props.children,F,D.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Q&&Z0(ee)===A.type)?(A=m(A,D.props),Bo(A,D),A.return=k,A):(A=Fc(D.type,D.key,D.props,null,k.mode,F),Bo(A,D),A.return=k,A)}function N(k,A,D,F){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=dd(D,k.mode,F),A.return=k,A):(A=m(A,D.children||[]),A.return=k,A)}function B(k,A,D,F,ee){return A===null||A.tag!==7?(A=Ws(D,k.mode,F,ee),A.return=k,A):(A=m(A,D),A.return=k,A)}function j(k,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=fd(""+A,k.mode,D),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return D=Fc(A.type,A.key,A.props,null,k.mode,D),Bo(D,A),D.return=k,D;case b:return A=dd(A,k.mode,D),A.return=k,A;case Q:var F=A._init;return A=F(A._payload),j(k,A,D)}if(ge(A)||oe(A))return A=Ws(A,k.mode,D,null),A.return=k,A;if(typeof A.then=="function")return j(k,su(A),D);if(A.$$typeof===U)return j(k,qc(k,A),D);ru(k,A)}return null}function L(k,A,D,F){var ee=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ee!==null?null:S(k,A,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===ee?T(k,A,D,F):null;case b:return D.key===ee?N(k,A,D,F):null;case Q:return ee=D._init,D=ee(D._payload),L(k,A,D,F)}if(ge(D)||oe(D))return ee!==null?null:B(k,A,D,F,null);if(typeof D.then=="function")return L(k,A,su(D),F);if(D.$$typeof===U)return L(k,A,qc(k,D),F);ru(k,D)}return null}function P(k,A,D,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(D)||null,S(A,k,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return k=k.get(F.key===null?D:F.key)||null,T(A,k,F,ee);case b:return k=k.get(F.key===null?D:F.key)||null,N(A,k,F,ee);case Q:var be=F._init;return F=be(F._payload),P(k,A,D,F,ee)}if(ge(F)||oe(F))return k=k.get(D)||null,B(A,k,F,ee,null);if(typeof F.then=="function")return P(k,A,D,su(F),ee);if(F.$$typeof===U)return P(k,A,D,qc(A,F),ee);ru(A,F)}return null}function fe(k,A,D,F){for(var ee=null,be=null,ie=A,ce=A=0,Et=null;ie!==null&&ce<D.length;ce++){ie.index>ce?(Et=ie,ie=null):Et=ie.sibling;var Re=L(k,ie,D[ce],F);if(Re===null){ie===null&&(ie=Et);break}s&&ie&&Re.alternate===null&&a(k,ie),A=g(Re,A,ce),be===null?ee=Re:be.sibling=Re,be=Re,ie=Et}if(ce===D.length)return l(k,ie),De&&Ys(k,ce),ee;if(ie===null){for(;ce<D.length;ce++)ie=j(k,D[ce],F),ie!==null&&(A=g(ie,A,ce),be===null?ee=ie:be.sibling=ie,be=ie);return De&&Ys(k,ce),ee}for(ie=h(ie);ce<D.length;ce++)Et=P(ie,k,ce,D[ce],F),Et!==null&&(s&&Et.alternate!==null&&ie.delete(Et.key===null?ce:Et.key),A=g(Et,A,ce),be===null?ee=Et:be.sibling=Et,be=Et);return s&&ie.forEach(function(ds){return a(k,ds)}),De&&Ys(k,ce),ee}function le(k,A,D,F){if(D==null)throw Error(i(151));for(var ee=null,be=null,ie=A,ce=A=0,Et=null,Re=D.next();ie!==null&&!Re.done;ce++,Re=D.next()){ie.index>ce?(Et=ie,ie=null):Et=ie.sibling;var ds=L(k,ie,Re.value,F);if(ds===null){ie===null&&(ie=Et);break}s&&ie&&ds.alternate===null&&a(k,ie),A=g(ds,A,ce),be===null?ee=ds:be.sibling=ds,be=ds,ie=Et}if(Re.done)return l(k,ie),De&&Ys(k,ce),ee;if(ie===null){for(;!Re.done;ce++,Re=D.next())Re=j(k,Re.value,F),Re!==null&&(A=g(Re,A,ce),be===null?ee=Re:be.sibling=Re,be=Re);return De&&Ys(k,ce),ee}for(ie=h(ie);!Re.done;ce++,Re=D.next())Re=P(ie,k,ce,Re.value,F),Re!==null&&(s&&Re.alternate!==null&&ie.delete(Re.key===null?ce:Re.key),A=g(Re,A,ce),be===null?ee=Re:be.sibling=Re,be=Re);return s&&ie.forEach(function(jO){return a(k,jO)}),De&&Ys(k,ce),ee}function Be(k,A,D,F){if(typeof D=="object"&&D!==null&&D.type===x&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var ee=D.key;A!==null;){if(A.key===ee){if(ee=D.type,ee===x){if(A.tag===7){l(k,A.sibling),F=m(A,D.props.children),F.return=k,k=F;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Q&&Z0(ee)===A.type){l(k,A.sibling),F=m(A,D.props),Bo(F,D),F.return=k,k=F;break e}l(k,A);break}else a(k,A);A=A.sibling}D.type===x?(F=Ws(D.props.children,k.mode,F,D.key),F.return=k,k=F):(F=Fc(D.type,D.key,D.props,null,k.mode,F),Bo(F,D),F.return=k,k=F)}return v(k);case b:e:{for(ee=D.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){l(k,A.sibling),F=m(A,D.children||[]),F.return=k,k=F;break e}else{l(k,A);break}else a(k,A);A=A.sibling}F=dd(D,k.mode,F),F.return=k,k=F}return v(k);case Q:return ee=D._init,D=ee(D._payload),Be(k,A,D,F)}if(ge(D))return fe(k,A,D,F);if(oe(D)){if(ee=oe(D),typeof ee!="function")throw Error(i(150));return D=ee.call(D),le(k,A,D,F)}if(typeof D.then=="function")return Be(k,A,su(D),F);if(D.$$typeof===U)return Be(k,A,qc(k,D),F);ru(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(l(k,A.sibling),F=m(A,D),F.return=k,k=F):(l(k,A),F=fd(D,k.mode,F),F.return=k,k=F),v(k)):l(k,A)}return function(k,A,D,F){try{Ho=0;var ee=Be(k,A,D,F);return na=null,ee}catch(ie){if(ie===Ro||ie===Gc)throw ie;var be=on(29,ie,null,k.mode);return be.lanes=F,be.return=k,be}finally{}}}var ia=X0(!0),K0=X0(!1),wn=W(null),Xn=null;function Qi(s){var a=s.alternate;G(yt,yt.current&1),G(wn,s),Xn===null&&(a===null||Qr.current!==null||a.memoizedState!==null)&&(Xn=s)}function Q0(s){if(s.tag===22){if(G(yt,yt.current),G(wn,s),Xn===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Xn=s)}}else Ji()}function Ji(){G(yt,yt.current),G(wn,wn.current)}function yi(s){X(wn),Xn===s&&(Xn=null),X(yt)}var yt=W(0);function au(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Yd(s,a,l,h){a=s.memoizedState,l=l(h,a),l=l==null?a:p({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Gd={enqueueSetState:function(s,a,l){s=s._reactInternals;var h=hn(),m=Zi(h);m.payload=a,l!=null&&(m.callback=l),a=Xi(s,m,h),a!==null&&(fn(a,s,h),Do(a,s,h))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var h=hn(),m=Zi(h);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Xi(s,m,h),a!==null&&(fn(a,s,h),Do(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=hn(),h=Zi(l);h.tag=2,a!=null&&(h.callback=a),a=Xi(s,h,l),a!==null&&(fn(a,s,l),Do(a,s,l))}};function J0(s,a,l,h,m,g,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,g,v):a.prototype&&a.prototype.isPureReactComponent?!xo(l,h)||!xo(m,g):!0}function ev(s,a,l,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==s&&Gd.enqueueReplaceState(a,a.state,null)}function Js(s,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(s=s.defaultProps){l===a&&(l=p({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var ou=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function tv(s){ou(s)}function nv(s){console.error(s)}function iv(s){ou(s)}function lu(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function sv(s,a,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function $d(s,a,l){return l=Zi(l),l.tag=3,l.payload={element:null},l.callback=function(){lu(s,a)},l}function rv(s){return s=Zi(s),s.tag=3,s}function av(s,a,l,h){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=h.value;s.payload=function(){return m(g)},s.callback=function(){sv(a,l,h)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){sv(a,l,h),typeof m!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=h.stack;this.componentDidCatch(h.value,{componentStack:S!==null?S:""})})}function jM(s,a,l,h,m){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Mo(a,l,m,!0),l=wn.current,l!==null){switch(l.tag){case 13:return Xn===null?_m():l.alternate===null&&it===0&&(it=3),l.flags&=-257,l.flags|=65536,l.lanes=m,h===wd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),bm(s,h,m)),!1;case 22:return l.flags|=65536,h===wd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),bm(s,h,m)),!1}throw Error(i(435,l.tag))}return bm(s,h,m),_m(),!1}if(De)return a=wn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==pd&&(s=Error(i(422),{cause:h}),Co(vn(s,l)))):(h!==pd&&(a=Error(i(423),{cause:h}),Co(vn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=vn(h,l),m=$d(s.stateNode,h,m),Cd(s,m),it!==4&&(it=2)),!1;var g=Error(i(520),{cause:h});if(g=vn(g,l),Go===null?Go=[g]:Go.push(g),it!==4&&(it=2),a===null)return!0;h=vn(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=$d(l.stateNode,h,s),Cd(l,s),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=rv(m),av(m,s,l,h),Cd(l,m),!1}l=l.return}while(l!==null);return!1}var ov=Error(i(461)),xt=!1;function Mt(s,a,l,h){a.child=s===null?K0(a,null,l,h):ia(a,s.child,l,h)}function lv(s,a,l,h,m){l=l.render;var g=a.ref;if("ref"in h){var v={};for(var S in h)S!=="ref"&&(v[S]=h[S])}else v=h;return Xs(a),h=kd(s,a,l,v,g,m),S=Dd(),s!==null&&!xt?(Nd(s,a,m),_i(s,a,m)):(De&&S&&md(a),a.flags|=1,Mt(s,a,h,m),a.child)}function cv(s,a,l,h,m){if(s===null){var g=l.type;return typeof g=="function"&&!hd(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,uv(s,a,g,h,m)):(s=Fc(l.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(g=s.child,!nm(s,m)){var v=g.memoizedProps;if(l=l.compare,l=l!==null?l:xo,l(v,h)&&s.ref===a.ref)return _i(s,a,m)}return a.flags|=1,s=hi(g,h),s.ref=a.ref,s.return=a,a.child=s}function uv(s,a,l,h,m){if(s!==null){var g=s.memoizedProps;if(xo(g,h)&&s.ref===a.ref)if(xt=!1,a.pendingProps=h=g,nm(s,m))(s.flags&131072)!==0&&(xt=!0);else return a.lanes=s.lanes,_i(s,a,m)}return Zd(s,a,l,h,m)}function hv(s,a,l){var h=a.pendingProps,m=h.children,g=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=g!==null?g.baseLanes|l:l,s!==null){for(m=a.child=s.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~h}else a.childLanes=0,a.child=null;return fv(s,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yc(a,g!==null?g.cachePool:null),g!==null?u0(a,g):Od(),Q0(a);else return a.lanes=a.childLanes=536870912,fv(s,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Yc(a,g.cachePool),u0(a,g),Ji(),a.memoizedState=null):(s!==null&&Yc(a,null),Od(),Ji());return Mt(s,a,m,l),a.child}function fv(s,a,l,h){var m=xd();return m=m===null?null:{parent:pt._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Yc(a,null),Od(),Q0(a),s!==null&&Mo(s,a,h,!0),null}function cu(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Zd(s,a,l,h,m){return Xs(a),l=kd(s,a,l,h,void 0,m),h=Dd(),s!==null&&!xt?(Nd(s,a,m),_i(s,a,m)):(De&&h&&md(a),a.flags|=1,Mt(s,a,l,m),a.child)}function dv(s,a,l,h,m,g){return Xs(a),a.updateQueue=null,l=f0(a,h,l,m),h0(s),h=Dd(),s!==null&&!xt?(Nd(s,a,g),_i(s,a,g)):(De&&h&&md(a),a.flags|=1,Mt(s,a,l,g),a.child)}function mv(s,a,l,h,m){if(Xs(a),a.stateNode===null){var g=Gr,v=l.contextType;typeof v=="object"&&v!==null&&(g=Nt(v)),g=new l(h,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gd,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=h,g.state=a.memoizedState,g.refs={},Ed(a),v=l.contextType,g.context=typeof v=="object"&&v!==null?Nt(v):Gr,g.state=a.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Yd(a,l,v,h),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&Gd.enqueueReplaceState(g,g.state,null),Io(a,h,g,m),No(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){g=a.stateNode;var S=a.memoizedProps,T=Js(l,S);g.props=T;var N=g.context,B=l.contextType;v=Gr,typeof B=="object"&&B!==null&&(v=Nt(B));var j=l.getDerivedStateFromProps;B=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||N!==v)&&ev(a,g,h,v),$i=!1;var L=a.memoizedState;g.state=L,Io(a,h,g,m),No(),N=a.memoizedState,S||L!==N||$i?(typeof j=="function"&&(Yd(a,l,j,h),N=a.memoizedState),(T=$i||J0(a,l,T,h,L,N,v))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=N),g.props=h,g.state=N,g.context=v,h=T):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{g=a.stateNode,Td(s,a),v=a.memoizedProps,B=Js(l,v),g.props=B,j=a.pendingProps,L=g.context,N=l.contextType,T=Gr,typeof N=="object"&&N!==null&&(T=Nt(N)),S=l.getDerivedStateFromProps,(N=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==j||L!==T)&&ev(a,g,h,T),$i=!1,L=a.memoizedState,g.state=L,Io(a,h,g,m),No();var P=a.memoizedState;v!==j||L!==P||$i||s!==null&&s.dependencies!==null&&Wc(s.dependencies)?(typeof S=="function"&&(Yd(a,l,S,h),P=a.memoizedState),(B=$i||J0(a,l,B,h,L,P,T)||s!==null&&s.dependencies!==null&&Wc(s.dependencies))?(N||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(h,P,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(h,P,T)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&L===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&L===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=P),g.props=h,g.state=P,g.context=T,h=B):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&L===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&L===s.memoizedState||(a.flags|=1024),h=!1)}return g=h,cu(s,a),h=(a.flags&128)!==0,g||h?(g=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,s!==null&&h?(a.child=ia(a,s.child,null,m),a.child=ia(a,null,l,m)):Mt(s,a,l,m),a.memoizedState=g.state,s=a.child):s=_i(s,a,m),s}function gv(s,a,l,h){return To(),a.flags|=256,Mt(s,a,l,h),a.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(s){return{baseLanes:s,cachePool:n0()}}function Qd(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=En),s}function pv(s,a,l){var h=a.pendingProps,m=!1,g=(a.flags&128)!==0,v;if((v=g)||(v=s!==null&&s.memoizedState===null?!1:(yt.current&2)!==0),v&&(m=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,s===null){if(De){if(m?Qi(a):Ji(),De){var S=nt,T;if(T=S){e:{for(T=S,S=Zn;T.nodeType!==8;){if(!S){S=null;break e}if(T=zn(T.nextSibling),T===null){S=null;break e}}S=T}S!==null?(a.memoizedState={dehydrated:S,treeContext:qs!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},T=on(18,null,null,0),T.stateNode=S,T.return=a,a.child=T,Ht=a,nt=null,T=!0):T=!1}T||$s(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Lm(S)?a.lanes=32:a.lanes=536870912,null;yi(a)}return S=h.children,h=h.fallback,m?(Ji(),m=a.mode,S=uu({mode:"hidden",children:S},m),h=Ws(h,m,l,null),S.return=a,h.return=a,S.sibling=h,a.child=S,m=a.child,m.memoizedState=Kd(l),m.childLanes=Qd(s,v,l),a.memoizedState=Xd,h):(Qi(a),Jd(a,S))}if(T=s.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(g)a.flags&256?(Qi(a),a.flags&=-257,a=em(s,a,l)):a.memoizedState!==null?(Ji(),a.child=s.child,a.flags|=128,a=null):(Ji(),m=h.fallback,S=a.mode,h=uu({mode:"visible",children:h.children},S),m=Ws(m,S,l,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,ia(a,s.child,null,l),h=a.child,h.memoizedState=Kd(l),h.childLanes=Qd(s,v,l),a.memoizedState=Xd,a=m);else if(Qi(a),Lm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var N=v.dgst;v=N,h=Error(i(419)),h.stack="",h.digest=v,Co({value:h,source:null,stack:null}),a=em(s,a,l)}else if(xt||Mo(s,a,l,!1),v=(l&s.childLanes)!==0,xt||v){if(v=Ye,v!==null&&(h=l&-l,h=(h&42)!==0?1:Pf(h),h=(h&(v.suspendedLanes|l))!==0?0:h,h!==0&&h!==T.retryLane))throw T.retryLane=h,Yr(s,h),fn(v,s,h),ov;S.data==="$?"||_m(),a=em(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=T.treeContext,nt=zn(S.nextSibling),Ht=a,De=!0,Gs=null,Zn=!1,s!==null&&(Sn[xn++]=fi,Sn[xn++]=di,Sn[xn++]=qs,fi=s.id,di=s.overflow,qs=a),a=Jd(a,h.children),a.flags|=4096);return a}return m?(Ji(),m=h.fallback,S=a.mode,T=s.child,N=T.sibling,h=hi(T,{mode:"hidden",children:h.children}),h.subtreeFlags=T.subtreeFlags&65011712,N!==null?m=hi(N,m):(m=Ws(m,S,l,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,S=s.child.memoizedState,S===null?S=Kd(l):(T=S.cachePool,T!==null?(N=pt._currentValue,T=T.parent!==N?{parent:N,pool:N}:T):T=n0(),S={baseLanes:S.baseLanes|l,cachePool:T}),m.memoizedState=S,m.childLanes=Qd(s,v,l),a.memoizedState=Xd,h):(Qi(a),l=s.child,s=l.sibling,l=hi(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,s!==null&&(v=a.deletions,v===null?(a.deletions=[s],a.flags|=16):v.push(s)),a.child=l,a.memoizedState=null,l)}function Jd(s,a){return a=uu({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function uu(s,a){return s=on(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function em(s,a,l){return ia(a,s.child,null,l),s=Jd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function yv(s,a,l){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),_d(s.return,a,l)}function tm(s,a,l,h,m){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=m)}function _v(s,a,l){var h=a.pendingProps,m=h.revealOrder,g=h.tail;if(Mt(s,a,h.children,l),h=yt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yv(s,l,a);else if(s.tag===19)yv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(G(yt,h),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&au(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),tm(a,!1,m,l,g);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&au(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}tm(a,!0,l,null,g);break;case"together":tm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _i(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ss|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Mo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function nm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Wc(s)))}function VM(s,a,l){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),Gi(a,pt,s.memoizedState.cache),To();break;case 27:case 5:kf(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:Gi(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Qi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?pv(s,a,l):(Qi(a),s=_i(s,a,l),s!==null?s.sibling:null);Qi(a);break;case 19:var m=(s.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Mo(s,a,l,!1),h=(l&a.childLanes)!==0),m){if(h)return _v(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),G(yt,yt.current),h)break;return null;case 22:case 23:return a.lanes=0,hv(s,a,l);case 24:Gi(a,pt,s.memoizedState.cache)}return _i(s,a,l)}function vv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)xt=!0;else{if(!nm(s,l)&&(a.flags&128)===0)return xt=!1,VM(s,a,l);xt=(s.flags&131072)!==0}else xt=!1,De&&(a.flags&1048576)!==0&&Z_(a,Vc,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")hd(h)?(s=Js(h,s),a.tag=1,a=mv(null,a,h,s,l)):(a.tag=0,a=Zd(null,a,h,s,l));else{if(h!=null){if(m=h.$$typeof,m===V){a.tag=11,a=lv(null,a,h,s,l);break e}else if(m===K){a.tag=14,a=cv(null,a,h,s,l);break e}}throw a=ot(h)||h,Error(i(306,a,""))}}return a;case 0:return Zd(s,a,a.type,a.pendingProps,l);case 1:return h=a.type,m=Js(h,a.pendingProps),mv(s,a,h,m,l);case 3:e:{if(Ke(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var g=a.memoizedState;m=g.element,Td(s,a),Io(a,h,null,l);var v=a.memoizedState;if(h=v.cache,Gi(a,pt,h),h!==g.cache&&vd(a,[pt],l,!0),No(),h=v.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=gv(s,a,h,l);break e}else if(h!==m){m=vn(Error(i(424)),a),Co(m),a=gv(s,a,h,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(nt=zn(s.firstChild),Ht=a,De=!0,Gs=null,Zn=!0,l=K0(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(To(),h===m){a=_i(s,a,l);break e}Mt(s,a,h,l)}a=a.child}return a;case 26:return cu(s,a),s===null?(l=wb(a.type,null,a.pendingProps,null))?a.memoizedState=l:De||(l=a.type,s=a.pendingProps,h=Eu(ae.current).createElement(l),h[Dt]=a,h[qt]=s,At(h,l,s),St(h),a.stateNode=h):a.memoizedState=wb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return kf(a),s===null&&De&&(h=a.stateNode=bb(a.type,a.pendingProps,ae.current),Ht=a,Zn=!0,m=nt,ls(a.type)?(Pm=m,nt=zn(h.firstChild)):nt=m),Mt(s,a,a.pendingProps.children,l),cu(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&De&&((m=h=nt)&&(h=yO(h,a.type,a.pendingProps,Zn),h!==null?(a.stateNode=h,Ht=a,nt=zn(h.firstChild),Zn=!1,m=!0):m=!1),m||$s(a)),kf(a),m=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,h=g.children,Dm(m,g)?h=null:v!==null&&Dm(m,v)&&(a.flags|=32),a.memoizedState!==null&&(m=kd(s,a,LM,null,null,l),nl._currentValue=m),cu(s,a),Mt(s,a,h,l),a.child;case 6:return s===null&&De&&((s=l=nt)&&(l=_O(l,a.pendingProps,Zn),l!==null?(a.stateNode=l,Ht=a,nt=null,s=!0):s=!1),s||$s(a)),null;case 13:return pv(s,a,l);case 4:return Ke(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ia(a,null,h,l):Mt(s,a,h,l),a.child;case 11:return lv(s,a,a.type,a.pendingProps,l);case 7:return Mt(s,a,a.pendingProps,l),a.child;case 8:return Mt(s,a,a.pendingProps.children,l),a.child;case 12:return Mt(s,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Gi(a,a.type,h.value),Mt(s,a,h.children,l),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Xs(a),m=Nt(m),h=h(m),a.flags|=1,Mt(s,a,h,l),a.child;case 14:return cv(s,a,a.type,a.pendingProps,l);case 15:return uv(s,a,a.type,a.pendingProps,l);case 19:return _v(s,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},s===null?(l=uu(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hi(s.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return hv(s,a,l);case 24:return Xs(a),h=Nt(pt),s===null?(m=xd(),m===null&&(m=Ye,g=bd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:h,cache:m},Ed(a),Gi(a,pt,m)):((s.lanes&l)!==0&&(Td(s,a),Io(a,null,null,l),No()),m=s.memoizedState,g=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Gi(a,pt,h)):(h=g.cache,Gi(a,pt,h),h!==m.cache&&vd(a,[pt],l,!0))),Mt(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function vi(s){s.flags|=4}function bv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ob(a)){if(a=wn.current,a!==null&&((Ce&4194048)===Ce?Xn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||a!==Xn))throw ko=wd,i0;s.flags|=8192}}function hu(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Qy():536870912,s.lanes|=a,oa|=a)}function Fo(s,a){if(!De)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Je(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,a}function WM(s,a,l){var h=a.pendingProps;switch(gd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(a),null;case 1:return Je(a),null;case 3:return l=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),gi(pt),Vi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Eo(a)?vi(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Q_())),Je(a),null;case 26:return l=a.memoizedState,s===null?(vi(a),l!==null?(Je(a),bv(a,l)):(Je(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vi(a),Je(a),bv(a,l)):(Je(a),a.flags&=-16777217):(s.memoizedProps!==h&&vi(a),Je(a),a.flags&=-16777217),null;case 27:xc(a),l=ae.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&vi(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Je(a),null}s=ne.current,Eo(a)?X_(a):(s=bb(m,h,l),a.stateNode=s,vi(a))}return Je(a),null;case 5:if(xc(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&vi(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Je(a),null}if(s=ne.current,Eo(a))X_(a);else{switch(m=Eu(ae.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?m.createElement(l,{is:h.is}):m.createElement(l)}}s[Dt]=a,s[qt]=h;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(At(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vi(a)}}return Je(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&vi(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=ae.current,Eo(a)){if(s=a.stateNode,l=a.memoizedProps,h=null,m=Ht,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[Dt]=a,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||db(s.nodeValue,l)),s||$s(a)}else s=Eu(s).createTextNode(h),s[Dt]=a,a.stateNode=s}return Je(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Eo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Dt]=a}else To(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),m=!1}else m=Q_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(yi(a),a):(yi(a),null)}if(yi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var g=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),g!==m&&(h.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),hu(a,a.updateQueue),Je(a),null;case 4:return Vi(),s===null&&Mm(a.stateNode.containerInfo),Je(a),null;case 10:return gi(a.type),Je(a),null;case 19:if(X(yt),m=a.memoizedState,m===null)return Je(a),null;if(h=(a.flags&128)!==0,g=m.rendering,g===null)if(h)Fo(m,!1);else{if(it!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(g=au(s),g!==null){for(a.flags|=128,Fo(m,!1),s=g.updateQueue,a.updateQueue=s,hu(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)$_(l,s),l=l.sibling;return G(yt,yt.current&1|2),a.child}s=s.sibling}m.tail!==null&&$n()>mu&&(a.flags|=128,h=!0,Fo(m,!1),a.lanes=4194304)}else{if(!h)if(s=au(g),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,hu(a,s),Fo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!De)return Je(a),null}else 2*$n()-m.renderingStartTime>mu&&l!==536870912&&(a.flags|=128,h=!0,Fo(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(s=m.last,s!==null?s.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=$n(),a.sibling=null,s=yt.current,G(yt,h?s&1|2:s&1),a):(Je(a),null);case 22:case 23:return yi(a),Ad(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Je(a),a.subtreeFlags&6&&(a.flags|=8192)):Je(a),l=a.updateQueue,l!==null&&hu(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),s!==null&&X(Ks),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gi(pt),Je(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function qM(s,a){switch(gd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gi(pt),Vi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return xc(a),null;case 13:if(yi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));To()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(yt),null;case 4:return Vi(),null;case 10:return gi(a.type),null;case 22:case 23:return yi(a),Ad(),s!==null&&X(Ks),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return gi(pt),null;case 25:return null;default:return null}}function Sv(s,a){switch(gd(a),a.tag){case 3:gi(pt),Vi();break;case 26:case 27:case 5:xc(a);break;case 4:Vi();break;case 13:yi(a);break;case 19:X(yt);break;case 10:gi(a.type);break;case 22:case 23:yi(a),Ad(),s!==null&&X(Ks);break;case 24:gi(pt)}}function jo(s,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&s)===s){h=void 0;var g=l.create,v=l.inst;h=g(),v.destroy=h}l=l.next}while(l!==m)}}catch(S){Ve(a,a.return,S)}}function es(s,a,l){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var g=m.next;h=g;do{if((h.tag&s)===s){var v=h.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,m=a;var T=l,N=S;try{N()}catch(B){Ve(m,T,B)}}}h=h.next}while(h!==g)}}catch(B){Ve(a,a.return,B)}}function xv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{c0(a,l)}catch(h){Ve(s,s.return,h)}}}function wv(s,a,l){l.props=Js(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){Ve(s,a,h)}}function Vo(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(m){Ve(s,a,m)}}function Kn(s,a){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(m){Ve(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ve(s,a,m)}else l.current=null}function Ev(s){var a=s.type,l=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(m){Ve(s,s.return,m)}}function im(s,a,l){try{var h=s.stateNode;fO(h,s.type,l,a),h[qt]=a}catch(m){Ve(s,s.return,m)}}function Tv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ls(s.type)||s.tag===4}function sm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ls(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rm(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=wu));else if(h!==4&&(h===27&&ls(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(rm(s,a,l),s=s.sibling;s!==null;)rm(s,a,l),s=s.sibling}function fu(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(h!==4&&(h===27&&ls(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(fu(s,a,l),s=s.sibling;s!==null;)fu(s,a,l),s=s.sibling}function Cv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);At(a,h,l),a[Dt]=s,a[qt]=l}catch(g){Ve(s,s.return,g)}}var bi=!1,ct=!1,am=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,wt=null;function YM(s,a){if(s=s.containerInfo,Rm=Ru,s=U_(s),sd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var v=0,S=-1,T=-1,N=0,B=0,j=s,L=null;t:for(;;){for(var P;j!==l||m!==0&&j.nodeType!==3||(S=v+m),j!==g||h!==0&&j.nodeType!==3||(T=v+h),j.nodeType===3&&(v+=j.nodeValue.length),(P=j.firstChild)!==null;)L=j,j=P;for(;;){if(j===s)break t;if(L===l&&++N===m&&(S=v),L===g&&++B===h&&(T=v),(P=j.nextSibling)!==null)break;j=L,L=j.parentNode}j=P}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(km={focusedElem:s,selectionRange:l},Ru=!1,wt=a;wt!==null;)if(a=wt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,wt=s;else for(;wt!==null;){switch(a=wt,g=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,h=l.stateNode;try{var fe=Js(l.type,m,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(fe,g),h.__reactInternalSnapshotBeforeUpdate=s}catch(le){Ve(l,l.return,le)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Im(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Im(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,wt=s;break}wt=a.return}}function Ov(s,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ts(s,l),h&4&&jo(5,l);break;case 1:if(ts(s,l),h&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(v){Ve(l,l.return,v)}else{var m=Js(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(v){Ve(l,l.return,v)}}h&64&&xv(l),h&512&&Vo(l,l.return);break;case 3:if(ts(s,l),h&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{c0(s,a)}catch(v){Ve(l,l.return,v)}}break;case 27:a===null&&h&4&&Cv(l);case 26:case 5:ts(s,l),a===null&&h&4&&Ev(l),h&512&&Vo(l,l.return);break;case 12:ts(s,l);break;case 13:ts(s,l),h&4&&kv(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=tO.bind(null,l),vO(s,l))));break;case 22:if(h=l.memoizedState!==null||bi,!h){a=a!==null&&a.memoizedState!==null||ct,m=bi;var g=ct;bi=h,(ct=a)&&!g?ns(s,l,(l.subtreeFlags&8772)!==0):ts(s,l),bi=m,ct=g}break;case 30:break;default:ts(s,l)}}function Av(s){var a=s.alternate;a!==null&&(s.alternate=null,Av(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Hf(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qe=null,$t=!1;function Si(s,a,l){for(l=l.child;l!==null;)Rv(s,a,l),l=l.sibling}function Rv(s,a,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(co,l)}catch{}switch(l.tag){case 26:ct||Kn(l,a),Si(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||Kn(l,a);var h=Qe,m=$t;ls(l.type)&&(Qe=l.stateNode,$t=!1),Si(s,a,l),Qo(l.stateNode),Qe=h,$t=m;break;case 5:ct||Kn(l,a);case 6:if(h=Qe,m=$t,Qe=null,Si(s,a,l),Qe=h,$t=m,Qe!==null)if($t)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(g){Ve(l,a,g)}else try{Qe.removeChild(l.stateNode)}catch(g){Ve(l,a,g)}break;case 18:Qe!==null&&($t?(s=Qe,_b(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),al(s)):_b(Qe,l.stateNode));break;case 4:h=Qe,m=$t,Qe=l.stateNode.containerInfo,$t=!0,Si(s,a,l),Qe=h,$t=m;break;case 0:case 11:case 14:case 15:ct||es(2,l,a),ct||es(4,l,a),Si(s,a,l);break;case 1:ct||(Kn(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&wv(l,a,h)),Si(s,a,l);break;case 21:Si(s,a,l);break;case 22:ct=(h=ct)||l.memoizedState!==null,Si(s,a,l),ct=h;break;default:Si(s,a,l)}}function kv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{al(s)}catch(l){Ve(a,a.return,l)}}function GM(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Mv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Mv),a;default:throw Error(i(435,s.tag))}}function om(s,a){var l=GM(s);a.forEach(function(h){var m=nO.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}function ln(s,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h],g=s,v=a,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ls(S.type)){Qe=S.stateNode,$t=!1;break e}break;case 5:Qe=S.stateNode,$t=!1;break e;case 3:case 4:Qe=S.stateNode.containerInfo,$t=!0;break e}S=S.return}if(Qe===null)throw Error(i(160));Rv(g,v,m),Qe=null,$t=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Dv(a,s),a=a.sibling}var Pn=null;function Dv(s,a){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ln(a,s),cn(s),h&4&&(es(3,s,s.return),jo(3,s),es(5,s,s.return));break;case 1:ln(a,s),cn(s),h&512&&(ct||l===null||Kn(l,l.return)),h&64&&bi&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var m=Pn;if(ln(a,s),cn(s),h&512&&(ct||l===null||Kn(l,l.return)),h&4){var g=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){e:{h=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":g=m.getElementsByTagName("title")[0],(!g||g[fo]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(h),m.head.insertBefore(g,m.querySelector("head > title"))),At(g,h,l),g[Dt]=s,St(g),h=g;break e;case"link":var v=Cb("link","href",m).get(h+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(g=v[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break t}}g=m.createElement(h),At(g,h,l),m.head.appendChild(g);break;case"meta":if(v=Cb("meta","content",m).get(h+(l.content||""))){for(S=0;S<v.length;S++)if(g=v[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break t}}g=m.createElement(h),At(g,h,l),m.head.appendChild(g);break;default:throw Error(i(468,h))}g[Dt]=s,St(g),h=g}s.stateNode=h}else Mb(m,s.type,s.stateNode);else s.stateNode=Tb(m,h,s.memoizedProps);else g!==h?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,h===null?Mb(m,s.type,s.stateNode):Tb(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&im(s,s.memoizedProps,l.memoizedProps)}break;case 27:ln(a,s),cn(s),h&512&&(ct||l===null||Kn(l,l.return)),l!==null&&h&4&&im(s,s.memoizedProps,l.memoizedProps);break;case 5:if(ln(a,s),cn(s),h&512&&(ct||l===null||Kn(l,l.return)),s.flags&32){m=s.stateNode;try{Hr(m,"")}catch(P){Ve(s,s.return,P)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,im(s,m,l!==null?l.memoizedProps:m)),h&1024&&(am=!0);break;case 6:if(ln(a,s),cn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(P){Ve(s,s.return,P)}}break;case 3:if(Mu=null,m=Pn,Pn=Tu(a.containerInfo),ln(a,s),Pn=m,cn(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{al(a.containerInfo)}catch(P){Ve(s,s.return,P)}am&&(am=!1,Nv(s));break;case 4:h=Pn,Pn=Tu(s.stateNode.containerInfo),ln(a,s),cn(s),Pn=h;break;case 12:ln(a,s),cn(s);break;case 13:ln(a,s),cn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dm=$n()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,om(s,h)));break;case 22:m=s.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,N=bi,B=ct;if(bi=N||m,ct=B||T,ln(a,s),ct=B,bi=N,cn(s),h&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||T||bi||ct||er(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){T=l=a;try{if(g=T.stateNode,m)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=T.stateNode;var j=T.memoizedProps.style,L=j!=null&&j.hasOwnProperty("display")?j.display:null;S.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(P){Ve(T,T.return,P)}}}else if(a.tag===6){if(l===null){T=a;try{T.stateNode.nodeValue=m?"":T.memoizedProps}catch(P){Ve(T,T.return,P)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,om(s,l))));break;case 19:ln(a,s),cn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,om(s,h)));break;case 30:break;case 21:break;default:ln(a,s),cn(s)}}function cn(s){var a=s.flags;if(a&2){try{for(var l,h=s.return;h!==null;){if(Tv(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=sm(s);fu(s,g,m);break;case 5:var v=l.stateNode;l.flags&32&&(Hr(v,""),l.flags&=-33);var S=sm(s);fu(s,S,v);break;case 3:case 4:var T=l.stateNode.containerInfo,N=sm(s);rm(s,N,T);break;default:throw Error(i(161))}}catch(B){Ve(s,s.return,B)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Nv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Nv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ts(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ov(s,a.alternate,a),a=a.sibling}function er(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:es(4,a,a.return),er(a);break;case 1:Kn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&wv(a,a.return,l),er(a);break;case 27:Qo(a.stateNode);case 26:case 5:Kn(a,a.return),er(a);break;case 22:a.memoizedState===null&&er(a);break;case 30:er(a);break;default:er(a)}s=s.sibling}}function ns(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,g=a,v=g.flags;switch(g.tag){case 0:case 11:case 15:ns(m,g,l),jo(4,g);break;case 1:if(ns(m,g,l),h=g,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(N){Ve(h,h.return,N)}if(h=g,m=h.updateQueue,m!==null){var S=h.stateNode;try{var T=m.shared.hiddenCallbacks;if(T!==null)for(m.shared.hiddenCallbacks=null,m=0;m<T.length;m++)l0(T[m],S)}catch(N){Ve(h,h.return,N)}}l&&v&64&&xv(g),Vo(g,g.return);break;case 27:Cv(g);case 26:case 5:ns(m,g,l),l&&h===null&&v&4&&Ev(g),Vo(g,g.return);break;case 12:ns(m,g,l);break;case 13:ns(m,g,l),l&&v&4&&kv(m,g);break;case 22:g.memoizedState===null&&ns(m,g,l),Vo(g,g.return);break;case 30:break;default:ns(m,g,l)}a=a.sibling}}function lm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Oo(l))}function cm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Oo(s))}function Qn(s,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Iv(s,a,l,h),a=a.sibling}function Iv(s,a,l,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(s,a,l,h),m&2048&&jo(9,a);break;case 1:Qn(s,a,l,h);break;case 3:Qn(s,a,l,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Oo(s)));break;case 12:if(m&2048){Qn(s,a,l,h),s=a.stateNode;try{var g=a.memoizedProps,v=g.id,S=g.onPostCommit;typeof S=="function"&&S(v,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){Ve(a,a.return,T)}}else Qn(s,a,l,h);break;case 13:Qn(s,a,l,h);break;case 23:break;case 22:g=a.stateNode,v=a.alternate,a.memoizedState!==null?g._visibility&2?Qn(s,a,l,h):Wo(s,a):g._visibility&2?Qn(s,a,l,h):(g._visibility|=2,sa(s,a,l,h,(a.subtreeFlags&10256)!==0)),m&2048&&lm(v,a);break;case 24:Qn(s,a,l,h),m&2048&&cm(a.alternate,a);break;default:Qn(s,a,l,h)}}function sa(s,a,l,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=s,v=a,S=l,T=h,N=v.flags;switch(v.tag){case 0:case 11:case 15:sa(g,v,S,T,m),jo(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?sa(g,v,S,T,m):Wo(g,v):(B._visibility|=2,sa(g,v,S,T,m)),m&&N&2048&&lm(v.alternate,v);break;case 24:sa(g,v,S,T,m),m&&N&2048&&cm(v.alternate,v);break;default:sa(g,v,S,T,m)}a=a.sibling}}function Wo(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,h=a,m=h.flags;switch(h.tag){case 22:Wo(l,h),m&2048&&lm(h.alternate,h);break;case 24:Wo(l,h),m&2048&&cm(h.alternate,h);break;default:Wo(l,h)}a=a.sibling}}var qo=8192;function ra(s){if(s.subtreeFlags&qo)for(s=s.child;s!==null;)Lv(s),s=s.sibling}function Lv(s){switch(s.tag){case 26:ra(s),s.flags&qo&&s.memoizedState!==null&&DO(Pn,s.memoizedState,s.memoizedProps);break;case 5:ra(s);break;case 3:case 4:var a=Pn;Pn=Tu(s.stateNode.containerInfo),ra(s),Pn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=qo,qo=16777216,ra(s),qo=a):ra(s));break;default:ra(s)}}function Pv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Yo(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];wt=h,Uv(h,s)}Pv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zv(s),s=s.sibling}function zv(s){switch(s.tag){case 0:case 11:case 15:Yo(s),s.flags&2048&&es(9,s,s.return);break;case 3:Yo(s);break;case 12:Yo(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,du(s)):Yo(s);break;default:Yo(s)}}function du(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];wt=h,Uv(h,s)}Pv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:es(8,a,a.return),du(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,du(a));break;default:du(a)}s=s.sibling}}function Uv(s,a){for(;wt!==null;){var l=wt;switch(l.tag){case 0:case 11:case 15:es(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Oo(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,wt=h;else e:for(l=s;wt!==null;){h=wt;var m=h.sibling,g=h.return;if(Av(h),h===l){wt=null;break e}if(m!==null){m.return=g,wt=m;break e}wt=g}}}var $M={getCacheForType:function(s){var a=Nt(pt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},ZM=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,we=null,Ce=0,Pe=0,un=null,is=!1,aa=!1,um=!1,xi=0,it=0,ss=0,tr=0,hm=0,En=0,oa=0,Go=null,Zt=null,fm=!1,dm=0,mu=1/0,gu=null,rs=null,Ot=0,as=null,la=null,ca=0,mm=0,gm=null,Hv=null,$o=0,pm=null;function hn(){if((Le&2)!==0&&Ce!==0)return Ce&-Ce;if(z.T!==null){var s=Xr;return s!==0?s:wm()}return t_()}function Bv(){En===0&&(En=(Ce&536870912)===0||De?Ky():536870912);var s=wn.current;return s!==null&&(s.flags|=32),En}function fn(s,a,l){(s===Ye&&(Pe===2||Pe===9)||s.cancelPendingCommit!==null)&&(ua(s,0),os(s,Ce,En,!1)),ho(s,l),((Le&2)===0||s!==Ye)&&(s===Ye&&((Le&2)===0&&(tr|=l),it===4&&os(s,Ce,En,!1)),Jn(s))}function Fv(s,a,l){if((Le&6)!==0)throw Error(i(327));var h=!l&&(a&124)===0&&(a&s.expiredLanes)===0||uo(s,a),m=h?QM(s,a):vm(s,a,!0),g=h;do{if(m===0){aa&&!h&&os(s,a,0,!1);break}else{if(l=s.current.alternate,g&&!XM(l)){m=vm(s,a,!1),g=!1;continue}if(m===2){if(g=a,s.errorRecoveryDisabledLanes&g)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var S=s;m=Go;var T=S.current.memoizedState.isDehydrated;if(T&&(ua(S,v).flags|=256),v=vm(S,v,!1),v!==2){if(um&&!T){S.errorRecoveryDisabledLanes|=g,tr|=g,m=4;break e}g=Zt,Zt=m,g!==null&&(Zt===null?Zt=g:Zt.push.apply(Zt,g))}m=v}if(g=!1,m!==2)continue}}if(m===1){ua(s,0),os(s,a,0,!0);break}e:{switch(h=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:os(h,a,En,!is);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=dm+300-$n(),10<m)){if(os(h,a,En,!is),Cc(h,0,!0)!==0)break e;h.timeoutHandle=pb(jv.bind(null,h,l,Zt,gu,fm,a,En,tr,oa,is,g,2,-0,0),m);break e}jv(h,l,Zt,gu,fm,a,En,tr,oa,is,g,0,-0,0)}}break}while(!0);Jn(s)}function jv(s,a,l,h,m,g,v,S,T,N,B,j,L,P){if(s.timeoutHandle=-1,j=a.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:kO},Lv(a),j=NO(),j!==null)){s.cancelPendingCommit=j(Zv.bind(null,s,a,g,l,h,m,v,S,T,B,1,L,P)),os(s,g,v,!N);return}Zv(s,a,g,l,h,m,v,S,T)}function XM(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var m=l[h],g=m.getSnapshot;m=m.value;try{if(!an(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function os(s,a,l,h){a&=~hm,a&=~tr,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var g=31-rn(m),v=1<<g;h[g]=-1,m&=~v}l!==0&&Jy(s,l,a)}function pu(){return(Le&6)===0?(Zo(0),!1):!0}function ym(){if(we!==null){if(Pe===0)var s=we.return;else s=we,mi=Zs=null,Id(s),na=null,Ho=0,s=we;for(;s!==null;)Sv(s.alternate,s),s=s.return;we=null}}function ua(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,mO(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ym(),Ye=s,we=l=hi(s.current,null),Ce=a,Pe=0,un=null,is=!1,aa=uo(s,a),um=!1,oa=En=hm=tr=ss=it=0,Zt=Go=null,fm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-rn(h),g=1<<m;a|=s[m],h&=~g}return xi=a,Uc(),l}function Vv(s,a){_e=null,z.H=iu,a===Ro||a===Gc?(a=a0(),Pe=3):a===i0?(a=a0(),Pe=4):Pe=a===ov?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,un=a,we===null&&(it=1,lu(s,vn(a,s.current)))}function Wv(){var s=z.H;return z.H=iu,s===null?iu:s}function qv(){var s=z.A;return z.A=$M,s}function _m(){it=4,is||(Ce&4194048)!==Ce&&wn.current!==null||(aa=!0),(ss&134217727)===0&&(tr&134217727)===0||Ye===null||os(Ye,Ce,En,!1)}function vm(s,a,l){var h=Le;Le|=2;var m=Wv(),g=qv();(Ye!==s||Ce!==a)&&(gu=null,ua(s,a)),a=!1;var v=it;e:do try{if(Pe!==0&&we!==null){var S=we,T=un;switch(Pe){case 8:ym(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(a=!0);var N=Pe;if(Pe=0,un=null,ha(s,S,T,N),l&&aa){v=0;break e}break;default:N=Pe,Pe=0,un=null,ha(s,S,T,N)}}KM(),v=it;break}catch(B){Vv(s,B)}while(!0);return a&&s.shellSuspendCounter++,mi=Zs=null,Le=h,z.H=m,z.A=g,we===null&&(Ye=null,Ce=0,Uc()),v}function KM(){for(;we!==null;)Yv(we)}function QM(s,a){var l=Le;Le|=2;var h=Wv(),m=qv();Ye!==s||Ce!==a?(gu=null,mu=$n()+500,ua(s,a)):aa=uo(s,a);e:do try{if(Pe!==0&&we!==null){a=we;var g=un;t:switch(Pe){case 1:Pe=0,un=null,ha(s,a,g,1);break;case 2:case 9:if(s0(g)){Pe=0,un=null,Gv(a);break}a=function(){Pe!==2&&Pe!==9||Ye!==s||(Pe=7),Jn(s)},g.then(a,a);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:s0(g)?(Pe=0,un=null,Gv(a)):(Pe=0,un=null,ha(s,a,g,7));break;case 5:var v=null;switch(we.tag){case 26:v=we.memoizedState;case 5:case 27:var S=we;if(!v||Ob(v)){Pe=0,un=null;var T=S.sibling;if(T!==null)we=T;else{var N=S.return;N!==null?(we=N,yu(N)):we=null}break t}}Pe=0,un=null,ha(s,a,g,5);break;case 6:Pe=0,un=null,ha(s,a,g,6);break;case 8:ym(),it=6;break e;default:throw Error(i(462))}}JM();break}catch(B){Vv(s,B)}while(!0);return mi=Zs=null,z.H=h,z.A=m,Le=l,we!==null?0:(Ye=null,Ce=0,Uc(),it)}function JM(){for(;we!==null&&!SC();)Yv(we)}function Yv(s){var a=vv(s.alternate,s,xi);s.memoizedProps=s.pendingProps,a===null?yu(s):we=a}function Gv(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=dv(l,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=dv(l,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:Id(a);default:Sv(l,a),a=we=$_(a,xi),a=vv(l,a,xi)}s.memoizedProps=s.pendingProps,a===null?yu(s):we=a}function ha(s,a,l,h){mi=Zs=null,Id(a),na=null,Ho=0;var m=a.return;try{if(jM(s,m,a,l,Ce)){it=1,lu(s,vn(l,s.current)),we=null;return}}catch(g){if(m!==null)throw we=m,g;it=1,lu(s,vn(l,s.current)),we=null;return}a.flags&32768?(De||h===1?s=!0:aa||(Ce&536870912)!==0?s=!1:(is=s=!0,(h===2||h===9||h===3||h===6)&&(h=wn.current,h!==null&&h.tag===13&&(h.flags|=16384))),$v(a,s)):yu(a)}function yu(s){var a=s;do{if((a.flags&32768)!==0){$v(a,is);return}s=a.return;var l=WM(a.alternate,a,xi);if(l!==null){we=l;return}if(a=a.sibling,a!==null){we=a;return}we=a=s}while(a!==null);it===0&&(it=5)}function $v(s,a){do{var l=qM(s.alternate,s);if(l!==null){l.flags&=32767,we=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){we=s;return}we=s=l}while(s!==null);it=6,we=null}function Zv(s,a,l,h,m,g,v,S,T){s.cancelPendingCommit=null;do _u();while(Ot!==0);if((Le&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=cd,kC(s,l,g,v,S,T),s===Ye&&(we=Ye=null,Ce=0),la=a,as=s,ca=l,mm=g,gm=m,Hv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,iO(wc,function(){return eb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,m=q.p,q.p=2,v=Le,Le|=4;try{YM(s,a,l)}finally{Le=v,q.p=m,z.T=h}}Ot=1,Xv(),Kv(),Qv()}}function Xv(){if(Ot===1){Ot=0;var s=as,a=la,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var h=q.p;q.p=2;var m=Le;Le|=4;try{Dv(a,s);var g=km,v=U_(s.containerInfo),S=g.focusedElem,T=g.selectionRange;if(v!==S&&S&&S.ownerDocument&&z_(S.ownerDocument.documentElement,S)){if(T!==null&&sd(S)){var N=T.start,B=T.end;if(B===void 0&&(B=N),"selectionStart"in S)S.selectionStart=N,S.selectionEnd=Math.min(B,S.value.length);else{var j=S.ownerDocument||document,L=j&&j.defaultView||window;if(L.getSelection){var P=L.getSelection(),fe=S.textContent.length,le=Math.min(T.start,fe),Be=T.end===void 0?le:Math.min(T.end,fe);!P.extend&&le>Be&&(v=Be,Be=le,le=v);var k=P_(S,le),A=P_(S,Be);if(k&&A&&(P.rangeCount!==1||P.anchorNode!==k.node||P.anchorOffset!==k.offset||P.focusNode!==A.node||P.focusOffset!==A.offset)){var D=j.createRange();D.setStart(k.node,k.offset),P.removeAllRanges(),le>Be?(P.addRange(D),P.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),P.addRange(D))}}}}for(j=[],P=S;P=P.parentNode;)P.nodeType===1&&j.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<j.length;S++){var F=j[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ru=!!Rm,km=Rm=null}finally{Le=m,q.p=h,z.T=l}}s.current=a,Ot=2}}function Kv(){if(Ot===2){Ot=0;var s=as,a=la,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var h=q.p;q.p=2;var m=Le;Le|=4;try{Ov(s,a.alternate,a)}finally{Le=m,q.p=h,z.T=l}}Ot=3}}function Qv(){if(Ot===4||Ot===3){Ot=0,xC();var s=as,a=la,l=ca,h=Hv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,la=as=null,Jv(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(rs=null),zf(l),a=a.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(co,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=z.T,m=q.p,q.p=2,z.T=null;try{for(var g=s.onRecoverableError,v=0;v<h.length;v++){var S=h[v];g(S.value,{componentStack:S.stack})}}finally{z.T=a,q.p=m}}(ca&3)!==0&&_u(),Jn(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===pm?$o++:($o=0,pm=s):$o=0,Zo(0)}}function Jv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Oo(a)))}function _u(s){return Xv(),Kv(),Qv(),eb()}function eb(){if(Ot!==5)return!1;var s=as,a=mm;mm=0;var l=zf(ca),h=z.T,m=q.p;try{q.p=32>l?32:l,z.T=null,l=gm,gm=null;var g=as,v=ca;if(Ot=0,la=as=null,ca=0,(Le&6)!==0)throw Error(i(331));var S=Le;if(Le|=4,zv(g.current),Iv(g,g.current,v,l),Le=S,Zo(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(co,g)}catch{}return!0}finally{q.p=m,z.T=h,Jv(s,a)}}function tb(s,a,l){a=vn(l,a),a=$d(s.stateNode,a,2),s=Xi(s,a,2),s!==null&&(ho(s,2),Jn(s))}function Ve(s,a,l){if(s.tag===3)tb(s,s,l);else for(;a!==null;){if(a.tag===3){tb(a,s,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(rs===null||!rs.has(h))){s=vn(l,s),l=rv(2),h=Xi(a,l,2),h!==null&&(av(l,h,a,s),ho(h,2),Jn(h));break}}a=a.return}}function bm(s,a,l){var h=s.pingCache;if(h===null){h=s.pingCache=new ZM;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(l)||(um=!0,m.add(l),s=eO.bind(null,s,a,l),a.then(s,s))}function eO(s,a,l){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ye===s&&(Ce&l)===l&&(it===4||it===3&&(Ce&62914560)===Ce&&300>$n()-dm?(Le&2)===0&&ua(s,0):hm|=l,oa===Ce&&(oa=0)),Jn(s)}function nb(s,a){a===0&&(a=Qy()),s=Yr(s,a),s!==null&&(ho(s,a),Jn(s))}function tO(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),nb(s,l)}function nO(s,a){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),nb(s,l)}function iO(s,a){return Nf(s,a)}var vu=null,fa=null,Sm=!1,bu=!1,xm=!1,nr=0;function Jn(s){s!==fa&&s.next===null&&(fa===null?vu=fa=s:fa=fa.next=s),bu=!0,Sm||(Sm=!0,rO())}function Zo(s,a){if(!xm&&bu){xm=!0;do for(var l=!1,h=vu;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var g=0;else{var v=h.suspendedLanes,S=h.pingedLanes;g=(1<<31-rn(42|s)+1)-1,g&=m&~(v&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,ab(h,g))}else g=Ce,g=Cc(h,h===Ye?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(g&3)===0||uo(h,g)||(l=!0,ab(h,g));h=h.next}while(l);xm=!1}}function sO(){ib()}function ib(){bu=Sm=!1;var s=0;nr!==0&&(dO()&&(s=nr),nr=0);for(var a=$n(),l=null,h=vu;h!==null;){var m=h.next,g=sb(h,a);g===0?(h.next=null,l===null?vu=m:l.next=m,m===null&&(fa=l)):(l=h,(s!==0||(g&3)!==0)&&(bu=!0)),h=m}Zo(s)}function sb(s,a){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var v=31-rn(g),S=1<<v,T=m[v];T===-1?((S&l)===0||(S&h)!==0)&&(m[v]=RC(S,a)):T<=a&&(s.expiredLanes|=S),g&=~S}if(a=Ye,l=Ce,l=Cc(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===a&&(Pe===2||Pe===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&If(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||uo(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(h!==null&&If(h),zf(l)){case 2:case 8:l=Zy;break;case 32:l=wc;break;case 268435456:l=Xy;break;default:l=wc}return h=rb.bind(null,s),l=Nf(l,h),s.callbackPriority=a,s.callbackNode=l,a}return h!==null&&h!==null&&If(h),s.callbackPriority=2,s.callbackNode=null,2}function rb(s,a){if(Ot!==0&&Ot!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(_u()&&s.callbackNode!==l)return null;var h=Ce;return h=Cc(s,s===Ye?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Fv(s,h,a),sb(s,$n()),s.callbackNode!=null&&s.callbackNode===l?rb.bind(null,s):null)}function ab(s,a){if(_u())return null;Fv(s,a,!0)}function rO(){gO(function(){(Le&6)!==0?Nf($y,sO):ib()})}function wm(){return nr===0&&(nr=Ky()),nr}function ob(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:kc(""+s)}function lb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function aO(s,a,l,h,m){if(a==="submit"&&l&&l.stateNode===m){var g=ob((m[qt]||null).action),v=h.submitter;v&&(a=(a=v[qt]||null)?ob(a.formAction):v.getAttribute("formAction"),a!==null&&(g=a,v=null));var S=new Lc("action","action",null,h,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(nr!==0){var T=v?lb(m,v):new FormData(m);Vd(l,{pending:!0,data:T,method:m.method,action:g},null,T)}}else typeof g=="function"&&(S.preventDefault(),T=v?lb(m,v):new FormData(m),Vd(l,{pending:!0,data:T,method:m.method,action:g},g,T))},currentTarget:m}]})}}for(var Em=0;Em<ld.length;Em++){var Tm=ld[Em],oO=Tm.toLowerCase(),lO=Tm[0].toUpperCase()+Tm.slice(1);Ln(oO,"on"+lO)}Ln(F_,"onAnimationEnd"),Ln(j_,"onAnimationIteration"),Ln(V_,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(TM,"onTransitionRun"),Ln(CM,"onTransitionStart"),Ln(MM,"onTransitionCancel"),Ln(W_,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function cb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var g=void 0;if(a)for(var v=h.length-1;0<=v;v--){var S=h[v],T=S.instance,N=S.currentTarget;if(S=S.listener,T!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=N;try{g(m)}catch(B){ou(B)}m.currentTarget=null,g=T}else for(v=0;v<h.length;v++){if(S=h[v],T=S.instance,N=S.currentTarget,S=S.listener,T!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=N;try{g(m)}catch(B){ou(B)}m.currentTarget=null,g=T}}}}function Ee(s,a){var l=a[Uf];l===void 0&&(l=a[Uf]=new Set);var h=s+"__bubble";l.has(h)||(ub(a,s,2,!1),l.add(h))}function Cm(s,a,l){var h=0;a&&(h|=4),ub(l,s,h,a)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Mm(s){if(!s[Su]){s[Su]=!0,i_.forEach(function(l){l!=="selectionchange"&&(cO.has(l)||Cm(l,!1,s),Cm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Su]||(a[Su]=!0,Cm("selectionchange",!1,a))}}function ub(s,a,l,h){switch(Ib(a)){case 2:var m=PO;break;case 8:m=zO;break;default:m=Fm}l=m.bind(null,a,l,s),m=void 0,!Zf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Om(s,a,l,h,m){var g=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var S=h.stateNode.containerInfo;if(S===m)break;if(v===4)for(v=h.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;S!==null;){if(v=Nr(S),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){h=g=v;continue e}S=S.parentNode}}h=h.return}y_(function(){var N=g,B=Gf(l),j=[];e:{var L=q_.get(s);if(L!==void 0){var P=Lc,fe=s;switch(s){case"keypress":if(Nc(l)===0)break e;case"keydown":case"keyup":P=iM;break;case"focusin":fe="focus",P=Jf;break;case"focusout":fe="blur",P=Jf;break;case"beforeblur":case"afterblur":P=Jf;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=qC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=aM;break;case F_:case j_:case V_:P=$C;break;case W_:P=lM;break;case"scroll":case"scrollend":P=VC;break;case"wheel":P=uM;break;case"copy":case"cut":case"paste":P=XC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=x_;break;case"toggle":case"beforetoggle":P=fM}var le=(a&4)!==0,Be=!le&&(s==="scroll"||s==="scrollend"),k=le?L!==null?L+"Capture":null:L;le=[];for(var A=N,D;A!==null;){var F=A;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||k===null||(F=go(A,k),F!=null&&le.push(Ko(A,F,D))),Be)break;A=A.return}0<le.length&&(L=new P(L,fe,null,l,B),j.push({event:L,listeners:le}))}}if((a&7)===0){e:{if(L=s==="mouseover"||s==="pointerover",P=s==="mouseout"||s==="pointerout",L&&l!==Yf&&(fe=l.relatedTarget||l.fromElement)&&(Nr(fe)||fe[Dr]))break e;if((P||L)&&(L=B.window===B?B:(L=B.ownerDocument)?L.defaultView||L.parentWindow:window,P?(fe=l.relatedTarget||l.toElement,P=N,fe=fe?Nr(fe):null,fe!==null&&(Be=o(fe),le=fe.tag,fe!==Be||le!==5&&le!==27&&le!==6)&&(fe=null)):(P=null,fe=N),P!==fe)){if(le=b_,F="onMouseLeave",k="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(le=x_,F="onPointerLeave",k="onPointerEnter",A="pointer"),Be=P==null?L:mo(P),D=fe==null?L:mo(fe),L=new le(F,A+"leave",P,l,B),L.target=Be,L.relatedTarget=D,F=null,Nr(B)===N&&(le=new le(k,A+"enter",fe,l,B),le.target=D,le.relatedTarget=Be,F=le),Be=F,P&&fe)t:{for(le=P,k=fe,A=0,D=le;D;D=da(D))A++;for(D=0,F=k;F;F=da(F))D++;for(;0<A-D;)le=da(le),A--;for(;0<D-A;)k=da(k),D--;for(;A--;){if(le===k||k!==null&&le===k.alternate)break t;le=da(le),k=da(k)}le=null}else le=null;P!==null&&hb(j,L,P,le,!1),fe!==null&&Be!==null&&hb(j,Be,fe,le,!0)}}e:{if(L=N?mo(N):window,P=L.nodeName&&L.nodeName.toLowerCase(),P==="select"||P==="input"&&L.type==="file")var ee=R_;else if(O_(L))if(k_)ee=xM;else{ee=bM;var be=vM}else P=L.nodeName,!P||P.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?N&&qf(N.elementType)&&(ee=R_):ee=SM;if(ee&&(ee=ee(s,N))){A_(j,ee,l,B);break e}be&&be(s,L,N),s==="focusout"&&N&&L.type==="number"&&N.memoizedProps.value!=null&&Wf(L,"number",L.value)}switch(be=N?mo(N):window,s){case"focusin":(O_(be)||be.contentEditable==="true")&&(Vr=be,rd=N,wo=null);break;case"focusout":wo=rd=Vr=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,H_(j,l,B);break;case"selectionchange":if(EM)break;case"keydown":case"keyup":H_(j,l,B)}var ie;if(td)e:{switch(s){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else jr?C_(s,l)&&(ce="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(w_&&l.locale!=="ko"&&(jr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&jr&&(ie=__()):(Yi=B,Xf="value"in Yi?Yi.value:Yi.textContent,jr=!0)),be=xu(N,ce),0<be.length&&(ce=new S_(ce,s,null,l,B),j.push({event:ce,listeners:be}),ie?ce.data=ie:(ie=M_(l),ie!==null&&(ce.data=ie)))),(ie=mM?gM(s,l):pM(s,l))&&(ce=xu(N,"onBeforeInput"),0<ce.length&&(be=new S_("onBeforeInput","beforeinput",null,l,B),j.push({event:be,listeners:ce}),be.data=ie)),aO(j,s,N,l,B)}cb(j,a)})}function Ko(s,a,l){return{instance:s,listener:a,currentTarget:l}}function xu(s,a){for(var l=a+"Capture",h=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=go(s,l),m!=null&&h.unshift(Ko(s,m,g)),m=go(s,a),m!=null&&h.push(Ko(s,m,g))),s.tag===3)return h;s=s.return}return[]}function da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function hb(s,a,l,h,m){for(var g=a._reactName,v=[];l!==null&&l!==h;){var S=l,T=S.alternate,N=S.stateNode;if(S=S.tag,T!==null&&T===h)break;S!==5&&S!==26&&S!==27||N===null||(T=N,m?(N=go(l,g),N!=null&&v.unshift(Ko(l,N,T))):m||(N=go(l,g),N!=null&&v.push(Ko(l,N,T)))),l=l.return}v.length!==0&&s.push({event:a,listeners:v})}var uO=/\r\n?/g,hO=/\u0000|\uFFFD/g;function fb(s){return(typeof s=="string"?s:""+s).replace(uO,`
`).replace(hO,"")}function db(s,a){return a=fb(a),fb(s)===a}function wu(){}function He(s,a,l,h,m,g){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Hr(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Hr(s,""+h);break;case"className":Oc(s,"class",h);break;case"tabIndex":Oc(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(s,l,h);break;case"style":g_(s,h,g);break;case"data":if(a!=="object"){Oc(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=kc(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&He(s,a,"name",m.name,m,null),He(s,a,"formEncType",m.formEncType,m,null),He(s,a,"formMethod",m.formMethod,m,null),He(s,a,"formTarget",m.formTarget,m,null)):(He(s,a,"encType",m.encType,m,null),He(s,a,"method",m.method,m,null),He(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=kc(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=wu);break;case"onScroll":h!=null&&Ee("scroll",s);break;case"onScrollEnd":h!=null&&Ee("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=kc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":Ee("beforetoggle",s),Ee("toggle",s),Mc(s,"popover",h);break;case"xlinkActuate":ci(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ci(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ci(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ci(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ci(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ci(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ci(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ci(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ci(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Mc(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=FC.get(l)||l,Mc(s,l,h))}}function Am(s,a,l,h,m,g){switch(l){case"style":g_(s,h,g);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof h=="string"?Hr(s,h):(typeof h=="number"||typeof h=="bigint")&&Hr(s,""+h);break;case"onScroll":h!=null&&Ee("scroll",s);break;case"onScrollEnd":h!=null&&Ee("scrollend",s);break;case"onClick":h!=null&&(s.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!s_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=s[qt]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(a,g,m),typeof h=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,h,m);break e}l in s?s[l]=h:h===!0?s.setAttribute(l,""):Mc(s,l,h)}}}function At(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",s),Ee("load",s);var h=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var v=l[g];if(v!=null)switch(g){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:He(s,a,g,v,l,null)}}m&&He(s,a,"srcSet",l.srcSet,l,null),h&&He(s,a,"src",l.src,l,null);return;case"input":Ee("invalid",s);var S=g=v=m=null,T=null,N=null;for(h in l)if(l.hasOwnProperty(h)){var B=l[h];if(B!=null)switch(h){case"name":m=B;break;case"type":v=B;break;case"checked":T=B;break;case"defaultChecked":N=B;break;case"value":g=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,a));break;default:He(s,a,h,B,l,null)}}h_(s,g,S,T,N,v,m,!1),Ac(s);return;case"select":Ee("invalid",s),h=v=g=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":v=S;break;case"multiple":h=S;default:He(s,a,m,S,l,null)}a=g,l=v,s.multiple=!!h,a!=null?Ur(s,!!h,a,!1):l!=null&&Ur(s,!!h,l,!0);return;case"textarea":Ee("invalid",s),g=m=h=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":h=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:He(s,a,v,S,l,null)}d_(s,h,m,g),Ac(s);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(h=l[T],h!=null))switch(T){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:He(s,a,T,h,l,null)}return;case"dialog":Ee("beforetoggle",s),Ee("toggle",s),Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":Ee("load",s);break;case"video":case"audio":for(h=0;h<Xo.length;h++)Ee(Xo[h],s);break;case"image":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"embed":case"source":case"link":Ee("error",s),Ee("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in l)if(l.hasOwnProperty(N)&&(h=l[N],h!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:He(s,a,N,h,l,null)}return;default:if(qf(a)){for(B in l)l.hasOwnProperty(B)&&(h=l[B],h!==void 0&&Am(s,a,B,h,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(h=l[S],h!=null&&He(s,a,S,h,l,null))}function fO(s,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,v=null,S=null,T=null,N=null,B=null;for(P in l){var j=l[P];if(l.hasOwnProperty(P)&&j!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=j;default:h.hasOwnProperty(P)||He(s,a,P,null,h,j)}}for(var L in h){var P=h[L];if(j=l[L],h.hasOwnProperty(L)&&(P!=null||j!=null))switch(L){case"type":g=P;break;case"name":m=P;break;case"checked":N=P;break;case"defaultChecked":B=P;break;case"value":v=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:P!==j&&He(s,a,L,P,h,j)}}Vf(s,v,S,T,N,B,g,m);return;case"select":P=v=S=L=null;for(g in l)if(T=l[g],l.hasOwnProperty(g)&&T!=null)switch(g){case"value":break;case"multiple":P=T;default:h.hasOwnProperty(g)||He(s,a,g,null,h,T)}for(m in h)if(g=h[m],T=l[m],h.hasOwnProperty(m)&&(g!=null||T!=null))switch(m){case"value":L=g;break;case"defaultValue":S=g;break;case"multiple":v=g;default:g!==T&&He(s,a,m,g,h,T)}a=S,l=v,h=P,L!=null?Ur(s,!!l,L,!1):!!h!=!!l&&(a!=null?Ur(s,!!l,a,!0):Ur(s,!!l,l?[]:"",!1));return;case"textarea":P=L=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!h.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:He(s,a,S,null,h,m)}for(v in h)if(m=h[v],g=l[v],h.hasOwnProperty(v)&&(m!=null||g!=null))switch(v){case"value":L=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&He(s,a,v,m,h,g)}f_(s,L,P);return;case"option":for(var fe in l)if(L=l[fe],l.hasOwnProperty(fe)&&L!=null&&!h.hasOwnProperty(fe))switch(fe){case"selected":s.selected=!1;break;default:He(s,a,fe,null,h,L)}for(T in h)if(L=h[T],P=l[T],h.hasOwnProperty(T)&&L!==P&&(L!=null||P!=null))switch(T){case"selected":s.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:He(s,a,T,L,h,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)L=l[le],l.hasOwnProperty(le)&&L!=null&&!h.hasOwnProperty(le)&&He(s,a,le,null,h,L);for(N in h)if(L=h[N],P=l[N],h.hasOwnProperty(N)&&L!==P&&(L!=null||P!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,a));break;default:He(s,a,N,L,h,P)}return;default:if(qf(a)){for(var Be in l)L=l[Be],l.hasOwnProperty(Be)&&L!==void 0&&!h.hasOwnProperty(Be)&&Am(s,a,Be,void 0,h,L);for(B in h)L=h[B],P=l[B],!h.hasOwnProperty(B)||L===P||L===void 0&&P===void 0||Am(s,a,B,L,h,P);return}}for(var k in l)L=l[k],l.hasOwnProperty(k)&&L!=null&&!h.hasOwnProperty(k)&&He(s,a,k,null,h,L);for(j in h)L=h[j],P=l[j],!h.hasOwnProperty(j)||L===P||L==null&&P==null||He(s,a,j,L,h,P)}var Rm=null,km=null;function Eu(s){return s.nodeType===9?s:s.ownerDocument}function mb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Dm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nm=null;function dO(){var s=window.event;return s&&s.type==="popstate"?s===Nm?!1:(Nm=s,!0):(Nm=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,gO=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(s){return yb.resolve(null).then(s).catch(pO)}:pb;function pO(s){setTimeout(function(){throw s})}function ls(s){return s==="head"}function _b(s,a){var l=a,h=0,m=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<h&&8>h){l=h;var v=s.ownerDocument;if(l&1&&Qo(v.documentElement),l&2&&Qo(v.body),l&4)for(l=v.head,Qo(l),v=l.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[fo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}if(m===0){s.removeChild(g),al(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:h=l.charCodeAt(0)-48;else h=0;l=g}while(l);al(a)}function Im(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Im(l),Hf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function yO(s,a,l,h){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[fo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=zn(s.nextSibling),s===null)break}return null}function _O(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=zn(s.nextSibling),s===null))return null;return s}function Lm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function vO(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function zn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Pm=null;function vb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function bb(s,a,l){switch(a=Eu(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Qo(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Hf(s)}var Tn=new Map,Sb=new Set;function Tu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var wi=q.d;q.d={f:bO,r:SO,D:xO,C:wO,L:EO,m:TO,X:MO,S:CO,M:OO};function bO(){var s=wi.f(),a=pu();return s||a}function SO(s){var a=Ir(s);a!==null&&a.tag===5&&a.type==="form"?F0(a):wi.r(s)}var ma=typeof document>"u"?null:document;function xb(s,a,l){var h=ma;if(h&&typeof a=="string"&&a){var m=_n(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Sb.has(m)||(Sb.add(m),s={rel:s,crossOrigin:l,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),At(a,"link",s),St(a),h.head.appendChild(a)))}}function xO(s){wi.D(s),xb("dns-prefetch",s,null)}function wO(s,a){wi.C(s,a),xb("preconnect",s,a)}function EO(s,a,l){wi.L(s,a,l);var h=ma;if(h&&s&&a){var m='link[rel="preload"][as="'+_n(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+_n(l.imageSizes)+'"]')):m+='[href="'+_n(s)+'"]';var g=m;switch(a){case"style":g=ga(s);break;case"script":g=pa(s)}Tn.has(g)||(s=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Tn.set(g,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Jo(g))||a==="script"&&h.querySelector(el(g))||(a=h.createElement("link"),At(a,"link",s),St(a),h.head.appendChild(a)))}}function TO(s,a){wi.m(s,a);var l=ma;if(l&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+_n(h)+'"][href="'+_n(s)+'"]',g=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pa(s)}if(!Tn.has(g)&&(s=p({rel:"modulepreload",href:s},a),Tn.set(g,s),l.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(el(g)))return}h=l.createElement("link"),At(h,"link",s),St(h),l.head.appendChild(h)}}}function CO(s,a,l){wi.S(s,a,l);var h=ma;if(h&&s){var m=Lr(h).hoistableStyles,g=ga(s);a=a||"default";var v=m.get(g);if(!v){var S={loading:0,preload:null};if(v=h.querySelector(Jo(g)))S.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Tn.get(g))&&zm(s,l);var T=v=h.createElement("link");St(T),At(T,"link",s),T._p=new Promise(function(N,B){T.onload=N,T.onerror=B}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Cu(v,a,h)}v={type:"stylesheet",instance:v,count:1,state:S},m.set(g,v)}}}function MO(s,a){wi.X(s,a);var l=ma;if(l&&s){var h=Lr(l).hoistableScripts,m=pa(s),g=h.get(m);g||(g=l.querySelector(el(m)),g||(s=p({src:s,async:!0},a),(a=Tn.get(m))&&Um(s,a),g=l.createElement("script"),St(g),At(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},h.set(m,g))}}function OO(s,a){wi.M(s,a);var l=ma;if(l&&s){var h=Lr(l).hoistableScripts,m=pa(s),g=h.get(m);g||(g=l.querySelector(el(m)),g||(s=p({src:s,async:!0,type:"module"},a),(a=Tn.get(m))&&Um(s,a),g=l.createElement("script"),St(g),At(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},h.set(m,g))}}function wb(s,a,l,h){var m=(m=ae.current)?Tu(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ga(l.href),l=Lr(m).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ga(l.href);var g=Lr(m).hoistableStyles,v=g.get(s);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,v),(g=m.querySelector(Jo(s)))&&!g._p&&(v.instance=g,v.state.loading=5),Tn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tn.set(s,l),g||AO(m,s,l,v.state))),a&&h===null)throw Error(i(528,""));return v}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pa(l),l=Lr(m).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ga(s){return'href="'+_n(s)+'"'}function Jo(s){return'link[rel="stylesheet"]['+s+"]"}function Eb(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function AO(s,a,l,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),At(a,"link",l),St(a),s.head.appendChild(a))}function pa(s){return'[src="'+_n(s)+'"]'}function el(s){return"script[async]"+s}function Tb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+_n(l.href)+'"]');if(h)return a.instance=h,St(h),h;var m=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),St(h),At(h,"style",m),Cu(h,l.precedence,s),a.instance=h;case"stylesheet":m=ga(l.href);var g=s.querySelector(Jo(m));if(g)return a.state.loading|=4,a.instance=g,St(g),g;h=Eb(l),(m=Tn.get(m))&&zm(h,m),g=(s.ownerDocument||s).createElement("link"),St(g);var v=g;return v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),At(g,"link",h),a.state.loading|=4,Cu(g,l.precedence,s),a.instance=g;case"script":return g=pa(l.src),(m=s.querySelector(el(g)))?(a.instance=m,St(m),m):(h=l,(m=Tn.get(g))&&(h=p({},l),Um(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),St(m),At(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Cu(h,l.precedence,s));return a.instance}function Cu(s,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,g=m,v=0;v<h.length;v++){var S=h[v];if(S.dataset.precedence===a)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function zm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Um(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Mu=null;function Cb(s,a,l){if(Mu===null){var h=new Map,m=Mu=new Map;m.set(l,h)}else m=Mu,h=m.get(l),h||(h=new Map,m.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[fo]||g[Dt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(a)||"";v=s+v;var S=h.get(v);S?S.push(g):h.set(v,[g])}}return h}function Mb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function RO(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ob(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var tl=null;function kO(){}function DO(s,a,l){if(tl===null)throw Error(i(475));var h=tl;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=ga(l.href),g=s.querySelector(Jo(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Ou.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=g,St(g);return}g=s.ownerDocument||s,l=Eb(l),(m=Tn.get(m))&&zm(l,m),g=g.createElement("link"),St(g);var v=g;v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),At(g,"link",l),a.instance=g}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Ou.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function NO(){if(tl===null)throw Error(i(475));var s=tl;return s.stylesheets&&s.count===0&&Hm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Hm(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Au=null;function Hm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Au=new Map,a.forEach(IO,s),Au=null,Ou.call(s))}function IO(s,a){if(!(a.state.loading&4)){var l=Au.get(s);if(l)var h=l.get(null);else{l=new Map,Au.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var v=m[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),h=v)}h&&l.set(null,h)}m=a.instance,v=m.getAttribute("data-precedence"),g=l.get(v)||h,g===h&&l.set(null,m),l.set(v,m),this.count++,h=Ou.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var nl={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function LO(s,a,l,h,m,g,v,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.hiddenUpdates=Lf(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ab(s,a,l,h,m,g,v,S,T,N,B,j){return s=new LO(s,a,l,v,S,T,N,j),a=1,g===!0&&(a|=24),g=on(3,null,null,a),s.current=g,g.stateNode=s,a=bd(),a.refCount++,s.pooledCache=a,a.refCount++,g.memoizedState={element:h,isDehydrated:l,cache:a},Ed(g),s}function Rb(s){return s?(s=Gr,s):Gr}function kb(s,a,l,h,m,g){m=Rb(m),h.context===null?h.context=m:h.pendingContext=m,h=Zi(a),h.payload={element:l},g=g===void 0?null:g,g!==null&&(h.callback=g),l=Xi(s,h,a),l!==null&&(fn(l,s,a),Do(l,s,a))}function Db(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Bm(s,a){Db(s,a),(s=s.alternate)&&Db(s,a)}function Nb(s){if(s.tag===13){var a=Yr(s,67108864);a!==null&&fn(a,s,67108864),Bm(s,67108864)}}var Ru=!0;function PO(s,a,l,h){var m=z.T;z.T=null;var g=q.p;try{q.p=2,Fm(s,a,l,h)}finally{q.p=g,z.T=m}}function zO(s,a,l,h){var m=z.T;z.T=null;var g=q.p;try{q.p=8,Fm(s,a,l,h)}finally{q.p=g,z.T=m}}function Fm(s,a,l,h){if(Ru){var m=jm(h);if(m===null)Om(s,a,h,ku,l),Lb(s,h);else if(HO(m,s,a,l,h))h.stopPropagation();else if(Lb(s,h),a&4&&-1<UO.indexOf(s)){for(;m!==null;){var g=Ir(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=Hs(g.pendingLanes);if(v!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var T=1<<31-rn(v);S.entanglements[1]|=T,v&=~T}Jn(g),(Le&6)===0&&(mu=$n()+500,Zo(0))}}break;case 13:S=Yr(g,2),S!==null&&fn(S,g,2),pu(),Bm(g,2)}if(g=jm(h),g===null&&Om(s,a,h,ku,l),g===m)break;m=g}m!==null&&h.stopPropagation()}else Om(s,a,h,null,l)}}function jm(s){return s=Gf(s),Vm(s)}var ku=null;function Vm(s){if(ku=null,s=Nr(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return ku=s,null}function Ib(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wC()){case $y:return 2;case Zy:return 8;case wc:case EC:return 32;case Xy:return 268435456;default:return 32}default:return 32}}var Wm=!1,cs=null,us=null,hs=null,il=new Map,sl=new Map,fs=[],UO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(s,a){switch(s){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":il.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(a.pointerId)}}function rl(s,a,l,h,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[m]},a!==null&&(a=Ir(a),a!==null&&Nb(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function HO(s,a,l,h,m){switch(a){case"focusin":return cs=rl(cs,s,a,l,h,m),!0;case"dragenter":return us=rl(us,s,a,l,h,m),!0;case"mouseover":return hs=rl(hs,s,a,l,h,m),!0;case"pointerover":var g=m.pointerId;return il.set(g,rl(il.get(g)||null,s,a,l,h,m)),!0;case"gotpointercapture":return g=m.pointerId,sl.set(g,rl(sl.get(g)||null,s,a,l,h,m)),!0}return!1}function Pb(s){var a=Nr(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,DC(s.priority,function(){if(l.tag===13){var h=hn();h=Pf(h);var m=Yr(l,h);m!==null&&fn(m,l,h),Bm(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Du(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=jm(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);Yf=h,l.target.dispatchEvent(h),Yf=null}else return a=Ir(l),a!==null&&Nb(a),s.blockedOn=l,!1;a.shift()}return!0}function zb(s,a,l){Du(s)&&l.delete(a)}function BO(){Wm=!1,cs!==null&&Du(cs)&&(cs=null),us!==null&&Du(us)&&(us=null),hs!==null&&Du(hs)&&(hs=null),il.forEach(zb),sl.forEach(zb)}function Nu(s,a){s.blockedOn===a&&(s.blockedOn=null,Wm||(Wm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BO)))}var Iu=null;function Ub(s){Iu!==s&&(Iu=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Iu===s&&(Iu=null);for(var a=0;a<s.length;a+=3){var l=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(Vm(h||l)===null)continue;break}var g=Ir(l);g!==null&&(s.splice(a,3),a-=3,Vd(g,{pending:!0,data:m,method:l.method,action:h},h,m))}}))}function al(s){function a(T){return Nu(T,s)}cs!==null&&Nu(cs,s),us!==null&&Nu(us,s),hs!==null&&Nu(hs,s),il.forEach(a),sl.forEach(a);for(var l=0;l<fs.length;l++){var h=fs[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<fs.length&&(l=fs[0],l.blockedOn===null);)Pb(l),l.blockedOn===null&&fs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var m=l[h],g=l[h+1],v=m[qt]||null;if(typeof g=="function")v||Ub(l);else if(v){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,v=g[qt]||null)S=v.formAction;else if(Vm(m)!==null)continue}else S=v.action;typeof S=="function"?l[h+1]=S:(l.splice(h,3),h-=3),Ub(l)}}}function qm(s){this._internalRoot=s}Lu.prototype.render=qm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=hn();kb(l,h,s,a,null,null)},Lu.prototype.unmount=qm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;kb(s.current,2,null,s,null,null),pu(),a[Dr]=null}};function Lu(s){this._internalRoot=s}Lu.prototype.unstable_scheduleHydration=function(s){if(s){var a=t_();s={blockedOn:null,target:s,priority:a};for(var l=0;l<fs.length&&a!==0&&a<fs[l].priority;l++);fs.splice(l,0,s),l===0&&Pb(s)}};var Hb=e.version;if(Hb!=="19.1.1")throw Error(i(527,Hb,"19.1.1"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var FO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{co=Pu.inject(FO),sn=Pu}catch{}}return ll.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,h="",m=tv,g=nv,v=iv,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=Ab(s,1,!1,null,null,l,h,m,g,v,S,null),s[Dr]=a.current,Mm(s),new qm(a)},ll.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var h=!1,m="",g=tv,v=nv,S=iv,T=null,N=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(N=l.formState)),a=Ab(s,1,!0,a,l??null,h,m,g,v,S,T,N),a.context=Rb(null),l=a.current,h=hn(),h=Pf(h),m=Zi(h),m.callback=null,Xi(l,m,h),l=h,a.current.lanes=l,ho(a,l),Jn(a),s[Dr]=a.current,Mm(s),new Lu(a)},ll.version="19.1.1",ll}var Zb;function QO(){if(Zb)return $m.exports;Zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$m.exports=KO(),$m.exports}var JO=QO();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xb="popstate";function eA(n={}){function e(i,r){let{pathname:o,search:c,hash:u}=i.location;return Lg("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:zl(r)}return nA(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function Kb(n,e){return{usr:n.state,key:n.key,idx:e}}function Lg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||i||tA()}}function zl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nA(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",f=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function y(){u="POP";let E=p(),M=E==null?null:E-d;d=E,f&&f({action:u,location:w.location,delta:M})}function _(E,M){u="PUSH";let R=Lg(w.location,E,M);d=p()+1;let U=Kb(R,d),V=w.createHref(R);try{c.pushState(U,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(V)}o&&f&&f({action:u,location:w.location,delta:1})}function b(E,M){u="REPLACE";let R=Lg(w.location,E,M);d=p();let U=Kb(R,d),V=w.createHref(R);c.replaceState(U,"",V),o&&f&&f({action:u,location:w.location,delta:0})}function x(E){return iA(E)}let w={get action(){return u},get location(){return n(r,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Xb,y),f=E,()=>{r.removeEventListener(Xb,y),f=null}},createHref(E){return e(r,E)},createURL:x,encodeLocation(E){let M=x(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:b,go(E){return c.go(E)}};return w}function iA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:zl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Jx(n,e,t="/"){return sA(n,e,t,!1)}function sA(n,e,t,i){let r=typeof e=="string"?qa(e):e,o=zi(r.pathname||"/",t);if(o==null)return null;let c=ew(n);rA(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let d=pA(o);u=mA(c[f],d,i)}return u}function ew(n,e=[],t=[],i="",r=!1){let o=(c,u,f=r,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Li([i,p.relativePath]),_=t.concat(p);c.children&&c.children.length>0&&(tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ew(c.children,e,_,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:fA(y,c.index),routesMeta:_})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let f of tw(c.path))o(c,u,!0,f)}),e}function tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=tw(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...c),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function rA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:dA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aA=/^:[\w-]+$/,oA=3,lA=2,cA=1,uA=10,hA=-2,Qb=n=>n==="*";function fA(n,e){let t=n.split("/"),i=t.length;return t.some(Qb)&&(i+=hA),e&&(i+=lA),t.filter(r=>!Qb(r)).reduce((r,o)=>r+(aA.test(o)?oA:o===""?cA:uA),i)}function dA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function mA(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=_h({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),_=f.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=_h({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:Li([o,y.pathname]),pathnameBase:bA(Li([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Li([o,y.pathnameBase]))}return c}function _h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=gA(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let x=u[_]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[_];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function gA(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function pA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yA(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?qa(n):n;return{pathname:t?t.startsWith("/")?t:_A(t,e):e,search:SA(i),hash:xA(r)}}function _A(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Qm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nw(n){let e=vA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function iw(n,e,t,i=!1){let r;typeof n=="string"?r=qa(n):(r={...n},tt(!r.pathname||!r.pathname.includes("?"),Qm("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),Qm("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),Qm("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;r.pathname=_.join("/")}u=y>=0?e[y]:"/"}let f=yA(r,u),d=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),bA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sw=["POST","PUT","PATCH","DELETE"];new Set(sw);var EA=["GET",...sw];new Set(EA);var Ya=I.createContext(null);Ya.displayName="DataRouter";var nf=I.createContext(null);nf.displayName="DataRouterState";I.createContext(!1);var rw=I.createContext({isTransitioning:!1});rw.displayName="ViewTransition";var TA=I.createContext(new Map);TA.displayName="Fetchers";var CA=I.createContext(null);CA.displayName="Await";var oi=I.createContext(null);oi.displayName="Navigation";var tc=I.createContext(null);tc.displayName="Location";var ji=I.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var wp=I.createContext(null);wp.displayName="RouteError";function MA(n,{relative:e}={}){tt(nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=I.useContext(oi),{hash:r,pathname:o,search:c}=ic(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Li([t,o])),i.createHref({pathname:u,search:c,hash:r})}function nc(){return I.useContext(tc)!=null}function Cr(){return tt(nc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(tc).location}var aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ow(n){I.useContext(oi).static||I.useLayoutEffect(n)}function OA(){let{isDataRoute:n}=I.useContext(ji);return n?FA():AA()}function AA(){tt(nc(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Ya),{basename:e,navigator:t}=I.useContext(oi),{matches:i}=I.useContext(ji),{pathname:r}=Cr(),o=JSON.stringify(nw(i)),c=I.useRef(!1);return ow(()=>{c.current=!0}),I.useCallback((f,d={})=>{if(ri(c.current,aw),!c.current)return;if(typeof f=="number"){t.go(f);return}let p=iw(f,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Li([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,r,n])}I.createContext(null);function ic(n,{relative:e}={}){let{matches:t}=I.useContext(ji),{pathname:i}=Cr(),r=JSON.stringify(nw(t));return I.useMemo(()=>iw(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function RA(n,e){return lw(n,e)}function lw(n,e,t,i,r){tt(nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=I.useContext(oi),{matches:c}=I.useContext(ji),u=c[c.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let R=y&&y.path||"";cw(d,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=Cr(),b;if(e){let R=typeof e=="string"?qa(e):e;tt(p==="/"||R.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=_;let x=b.pathname||"/",w=x;if(p!=="/"){let R=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=Jx(n,{pathname:w});ri(y||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ri(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=LA(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Li([p,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Li([p,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,t,i,r);return e&&M?I.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function kA(){let n=BA(),e=wA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,c)}var DA=I.createElement(kA,null),NA=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(ji.Provider,{value:this.props.routeContext},I.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IA({routeContext:n,match:e,children:t}){let i=I.useContext(Ya);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ji.Provider,{value:n},t)}function LA(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let d=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:y,errors:_}=t,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let _,b=!1,x=null,w=null;t&&(_=c&&p.route.id?c[p.route.id]:void 0,x=p.route.errorElement||DA,u&&(f<0&&y===0?(cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):f===y&&(b=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),M=()=>{let R;return _?R=x:b?R=w:p.route.Component?R=I.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=d,I.createElement(IA,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?I.createElement(NA,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:M(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):M()},null)}function Ep(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PA(n){let e=I.useContext(Ya);return tt(e,Ep(n)),e}function zA(n){let e=I.useContext(nf);return tt(e,Ep(n)),e}function UA(n){let e=I.useContext(ji);return tt(e,Ep(n)),e}function Tp(n){let e=UA(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function HA(){return Tp("useRouteId")}function BA(){let n=I.useContext(wp),e=zA("useRouteError"),t=Tp("useRouteError");return n!==void 0?n:e.errors?.[t]}function FA(){let{router:n}=PA("useNavigate"),e=Tp("useNavigate"),t=I.useRef(!1);return ow(()=>{t.current=!0}),I.useCallback(async(r,o={})=>{ri(t.current,aw),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Jb={};function cw(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,ri(!1,t))}I.memo(jA);function jA({routes:n,future:e,state:t,unstable_onError:i}){return lw(n,void 0,t,i,e)}function wa(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){tt(!nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof t=="string"&&(t=qa(t));let{pathname:f="/",search:d="",hash:p="",state:y=null,key:_="default"}=t,b=I.useMemo(()=>{let x=zi(f,c);return x==null?null:{location:{pathname:x,search:d,hash:p,state:y,key:_},navigationType:i}},[c,f,d,p,y,_,i]);return ri(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:I.createElement(oi.Provider,{value:u},I.createElement(tc.Provider,{children:e,value:b}))}function WA({children:n,location:e}){return RA(Pg(n),e)}function Pg(n,e=[]){let t=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let o=[...e,r];if(i.type===I.Fragment){t.push.apply(t,Pg(i.props.children,o));return}tt(i.type===wa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Pg(i.props.children,o)),t.push(c)}),t}var rh="get",ah="application/x-www-form-urlencoded";function sf(n){return n!=null&&typeof n.tagName=="string"}function qA(n){return sf(n)&&n.tagName.toLowerCase()==="button"}function YA(n){return sf(n)&&n.tagName.toLowerCase()==="form"}function GA(n){return sf(n)&&n.tagName.toLowerCase()==="input"}function $A(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZA(n,e){return n.button===0&&(!e||e==="_self")&&!$A(n)}var zu=null;function XA(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var KA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(n){return n!=null&&!KA.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):n}function QA(n,e){let t,i,r,o,c;if(YA(n)){let u=n.getAttribute("action");i=u?zi(u,e):null,t=n.getAttribute("method")||rh,r=Jm(n.getAttribute("enctype"))||ah,o=new FormData(n)}else if(qA(n)||GA(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?zi(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||rh,r=Jm(n.getAttribute("formenctype"))||Jm(u.getAttribute("enctype"))||ah,o=new FormData(u,n),!XA()){let{name:d,type:p,value:y}=n;if(p==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(sf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,i=null,r=ah,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function JA(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&zi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function eR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nR(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await eR(o,t);return c.links?c.links():[]}return[]}));return aR(i.flat(1).filter(tR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function e1(n,e,t,i,r,o){let c=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>c(f,d)||u(f,d)):o==="data"?e.filter((f,d)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function iR(n,e,{includeHydrateFallback:t}={}){return sR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function sR(n){return[...new Set(n)]}function rR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(rR(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function uw(){let n=I.useContext(Ya);return Cp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oR(){let n=I.useContext(nf);return Cp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mp=I.createContext(void 0);Mp.displayName="FrameworkContext";function hw(){let n=I.useContext(Mp);return Cp(n,"You must render this element inside a <HydratedRouter> element"),n}function lR(n,e){let t=I.useContext(Mp),[i,r]=I.useState(!1),[o,c]=I.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,_=I.useRef(null);I.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let w=M=>{M.forEach(R=>{c(R.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[n]),I.useEffect(()=>{if(i){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[i]);let b=()=>{r(!0)},x=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:cl(u,b),onBlur:cl(f,x),onMouseEnter:cl(d,b),onMouseLeave:cl(p,x),onTouchStart:cl(y,b)}]:[!1,_,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cR({page:n,...e}){let{router:t}=uw(),i=I.useMemo(()=>Jx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?I.createElement(hR,{page:n,matches:i,...e}):null}function uR(n){let{manifest:e,routeModules:t}=hw(),[i,r]=I.useState([]);return I.useEffect(()=>{let o=!1;return nR(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),i}function hR({page:n,matches:e,...t}){let i=Cr(),{manifest:r,routeModules:o}=hw(),{basename:c}=uw(),{loaderData:u,matches:f}=oR(),d=I.useMemo(()=>e1(n,e,f,r,i,"data"),[n,e,f,r,i]),p=I.useMemo(()=>e1(n,e,f,r,i,"assets"),[n,e,f,r,i]),y=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(e.forEach(M=>{let R=r.routes[M.route.id];!R||!R.hasLoader||(!d.some(U=>U.route.id===M.route.id)&&M.route.id in u&&o[M.route.id]?.shouldRevalidate||R.hasClientLoader?w=!0:x.add(M.route.id))}),x.size===0)return[];let E=JA(n,c,"data");return w&&x.size>0&&E.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[E.pathname+E.search]},[c,u,i,r,d,e,n,o]),_=I.useMemo(()=>iR(p,r),[p,r]),b=uR(p);return I.createElement(I.Fragment,null,y.map(x=>I.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),_.map(x=>I.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:w})=>I.createElement("link",{key:x,nonce:t.nonce,...w})))}function fR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.8.2")}catch{}function dR({basename:n,children:e,window:t}){let i=I.useRef();i.current==null&&(i.current=eA({window:t,v5Compat:!0}));let r=i.current,[o,c]=I.useState({action:r.action,location:r.location}),u=I.useCallback(f=>{I.startTransition(()=>c(f))},[c]);return I.useLayoutEffect(()=>r.listen(u),[r,u]),I.createElement(VA,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=I.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:p,viewTransition:y,..._},b){let{basename:x}=I.useContext(oi),w=typeof d=="string"&&dw.test(d),E,M=!1;if(typeof d=="string"&&w&&(E=d,fw))try{let J=new URL(window.location.href),se=d.startsWith("//")?new URL(J.protocol+d):new URL(d),re=zi(se.pathname,x);se.origin===J.origin&&re!=null?d=re+se.search+se.hash:M=!0}catch{ri(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=MA(d,{relative:r}),[U,V,H]=lR(i,_),$=yR(d,{replace:c,state:u,target:f,preventScrollReset:p,relative:r,viewTransition:y});function K(J){e&&e(J),J.defaultPrevented||$(J)}let Q=I.createElement("a",{..._,...H,href:E||R,onClick:M||o?e:K,ref:fR(b,V),target:f,"data-discover":!w&&t==="render"?"true":void 0});return U&&!w?I.createElement(I.Fragment,null,Q,I.createElement(cR,{page:R})):Q});hr.displayName="Link";var mR=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:f,...d},p){let y=ic(c,{relative:d.relative}),_=Cr(),b=I.useContext(nf),{navigator:x,basename:w}=I.useContext(oi),E=b!=null&&xR(y)&&u===!0,M=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,R=_.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(R=R.toLowerCase(),U=U?U.toLowerCase():null,M=M.toLowerCase()),U&&w&&(U=zi(U,w)||U);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=R===M||!r&&R.startsWith(M)&&R.charAt(V)==="/",$=U!=null&&(U===M||!r&&U.startsWith(M)&&U.charAt(M.length)==="/"),K={isActive:H,isPending:$,isTransitioning:E},Q=H?e:void 0,J;typeof i=="function"?J=i(K):J=[i,H?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(K):o;return I.createElement(hr,{...d,"aria-current":Q,className:J,ref:p,style:se,to:c,viewTransition:u},typeof f=="function"?f(K):f)});mR.displayName="NavLink";var gR=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:c=rh,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:y,..._},b)=>{let x=bR(),w=SR(u,{relative:d}),E=c.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&dw.test(u),R=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let V=U.nativeEvent.submitter,H=V?.getAttribute("formmethod")||c;x(V||U.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:r,state:o,relative:d,preventScrollReset:p,viewTransition:y})};return I.createElement("form",{ref:b,method:E,action:w,onSubmit:i?f:R,..._,"data-discover":!M&&n==="render"?"true":void 0})});gR.displayName="Form";function pR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(n){let e=I.useContext(Ya);return tt(e,pR(n)),e}function yR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=OA(),f=Cr(),d=ic(n,{relative:o});return I.useCallback(p=>{if(ZA(p,e)){p.preventDefault();let y=t!==void 0?t:zl(f)===zl(d);u(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,u,d,t,i,e,n,r,o,c])}var _R=0,vR=()=>`__${String(++_R)}__`;function bR(){let{router:n}=mw("useSubmit"),{basename:e}=I.useContext(oi),t=HA();return I.useCallback(async(i,r={})=>{let{action:o,method:c,encType:u,formData:f,body:d}=QA(i,e);if(r.navigate===!1){let p=r.fetcherKey||vR();await n.fetch(p,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function SR(n,{relative:e}={}){let{basename:t}=I.useContext(oi),i=I.useContext(ji);tt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ic(n||".",{relative:e})},c=Cr();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Li([t,o.pathname])),zl(o)}function xR(n,{relative:e}={}){let t=I.useContext(rw);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mw("useViewTransitionState"),r=ic(n,{relative:e});if(!t.isTransitioning)return!1;let o=zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return _h(r.pathname,c)!=null||_h(r.pathname,o)!=null}const wR=()=>{};var t1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(n,e){if(!n)throw Ga(e)},Ga=function(n){return new Error("Firebase Database ("+gw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ER=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],u=n[t++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,b=d&63;f||(b=64,c||(_=64)),i.push(t[p],t[y],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ER(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const y=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||y==null)throw new TR;const _=o<<2|u>>4;if(i.push(_),d!==64){const b=u<<4&240|d>>2;if(i.push(b),y!==64){const x=d<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(n){const e=pw(n);return Op.encodeByteArray(e,!0)},vh=function(n){return yw(n).replace(/\./g,"")},bh=function(n){try{return Op.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){return _w(void 0,n)}function _w(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!MR(t)||(n[t]=_w(n[t],e[t]));return n}function MR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>OR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof t1>"u")return;const n=t1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bh(n[1]);return e&&JSON.parse(e)},Ap=()=>{try{return wR()||AR()||RR()||kR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vw=n=>Ap()?.emulatorHosts?.[n],DR=n=>{const e=vw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},bw=()=>Ap()?.config,Sw=n=>Ap()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vh(JSON.stringify(t)),vh(JSON.stringify(c)),""].join(".")}const Cl={};function IR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?n.emulator.push(e):n.prod.push(e);return n}function LR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let n1=!1;function ww(n,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Cl[n]===e||Cl[n]||n1)return;Cl[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=IR().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{n1=!0,c()},_}function p(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=LR(i),b=t("text"),x=document.getElementById(b)||document.createElement("span"),w=t("learnmore"),E=document.getElementById(w)||document.createElement("a"),M=t("preprendIcon"),R=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;u(U),p(E,w);const V=d();f(R,M),U.append(R,x,E,V),document.body.appendChild(U)}o?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function PR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HR(){return gw.NODE_ADMIN===!0}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="FirebaseError";class Us extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jR,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?VR(o,i):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new Us(r,u,i)}}function VR(n,e){return n.replace(WR,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const WR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){return JSON.parse(n)}function _t(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Ul(bh(o[0])||""),t=Ul(bh(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},qR=function(n){const e=Tw(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},YR=function(n){const e=Tw(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function zg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sh(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function _r(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],c=e[r];if(i1(o)&&i1(c)){if(!_r(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function i1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],c=this.chain_[2],u=this.chain_[3],f=this.chain_[4],d,p;for(let y=0;y<80;y++){y<40?y<20?(d=u^o&(c^u),p=1518500249):(d=o^c^u,p=1859775393):y<60?(d=o&c|u&(o|c),p=2400959708):(d=o^c^u,p=3395469782);const _=(r<<5|r>>>27)+d+f+p+i[y]&4294967295;f=u,u=c,c=(o<<30|o>>>2)&4294967295,o=r,r=_}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let c=this.inbuf_;for(;r<t;){if(c===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[c]=e.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<t;)if(o[c]=e[r],++c,++r,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function $R(n,e){const t=new ZR(n,e);return t.subscribe.bind(t)}class ZR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=eg),r.error===void 0&&(r.error=eg),r.complete===void 0&&(r.complete=eg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eg(){}function rf(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,Y(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;r=65536+(o<<10)+c}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},af=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n){return n&&n._delegate?n._delegate:n}class vr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new $a;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ek(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(n){return n===lr?void 0:n}function ek(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const nk={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},ik=Fe.INFO,sk={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},rk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=sk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=ik,this._logHandler=rk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const ak=(n,e)=>e.some(t=>n instanceof t);let s1,r1;function ok(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lk(){return r1||(r1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cw=new WeakMap,Ug=new WeakMap,Mw=new WeakMap,tg=new WeakMap,Dp=new WeakMap;function ck(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Es(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Cw.set(t,n)}).catch(()=>{}),Dp.set(e,n),e}function uk(n){if(Ug.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Ug.set(n,e)}let Hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hk(n){Hg=n(Hg)}function fk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ng(this),e,...t);return Mw.set(i,e.sort?e.sort():[e]),Es(i)}:lk().includes(n)?function(...e){return n.apply(ng(this),e),Es(Cw.get(this))}:function(...e){return Es(n.apply(ng(this),e))}}function dk(n){return typeof n=="function"?fk(n):(n instanceof IDBTransaction&&uk(n),ak(n,ok())?new Proxy(n,Hg):n)}function Es(n){if(n instanceof IDBRequest)return ck(n);if(tg.has(n))return tg.get(n);const e=dk(n);return e!==n&&(tg.set(n,e),Dp.set(e,n)),e}const ng=n=>Dp.get(n);function mk(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),u=Es(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Es(c.result),f.oldVersion,f.newVersion,Es(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gk=["get","getKey","getAll","getAllKeys","count"],pk=["put","add","delete","clear"],ig=new Map;function a1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=pk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gk.includes(t)))return;const o=async function(c,...u){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),r&&f.done]))[0]};return ig.set(e,o),o}hk(n=>({...n,get:(e,t,i)=>a1(e,t)||n.get(e,t,i),has:(e,t)=>!!a1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_k(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _k(n){return n.getComponent()?.type==="VERSION"}const Bg="@firebase/app",o1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new kp("@firebase/app"),vk="@firebase/app-compat",bk="@firebase/analytics-compat",Sk="@firebase/analytics",xk="@firebase/app-check-compat",wk="@firebase/app-check",Ek="@firebase/auth",Tk="@firebase/auth-compat",Ck="@firebase/database",Mk="@firebase/data-connect",Ok="@firebase/database-compat",Ak="@firebase/functions",Rk="@firebase/functions-compat",kk="@firebase/installations",Dk="@firebase/installations-compat",Nk="@firebase/messaging",Ik="@firebase/messaging-compat",Lk="@firebase/performance",Pk="@firebase/performance-compat",zk="@firebase/remote-config",Uk="@firebase/remote-config-compat",Hk="@firebase/storage",Bk="@firebase/storage-compat",Fk="@firebase/firestore",jk="@firebase/ai",Vk="@firebase/firestore-compat",Wk="firebase",qk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",Yk={[Bg]:"fire-core",[vk]:"fire-core-compat",[Sk]:"fire-analytics",[bk]:"fire-analytics-compat",[wk]:"fire-app-check",[xk]:"fire-app-check-compat",[Ek]:"fire-auth",[Tk]:"fire-auth-compat",[Ck]:"fire-rtdb",[Mk]:"fire-data-connect",[Ok]:"fire-rtdb-compat",[Ak]:"fire-fn",[Rk]:"fire-fn-compat",[kk]:"fire-iid",[Dk]:"fire-iid-compat",[Nk]:"fire-fcm",[Ik]:"fire-fcm-compat",[Lk]:"fire-perf",[Pk]:"fire-perf-compat",[zk]:"fire-rc",[Uk]:"fire-rc-compat",[Hk]:"fire-gcs",[Bk]:"fire-gcs-compat",[Fk]:"fire-fst",[Vk]:"fire-fst-compat",[jk]:"fire-vertex","fire-js":"fire-js",[Wk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,Gk=new Map,jg=new Map;function l1(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function La(n){const e=n.name;if(jg.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,n);for(const t of xh.values())l1(t,n);for(const t of Gk.values())l1(t,n);return!0}function Np(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new sc("app","Firebase",$k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=qk;function Ow(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Fg,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Ts.create("bad-app-name",{appName:String(r)});if(t||(t=bw()),!t)throw Ts.create("no-options");const o=xh.get(r);if(o){if(_r(t,o.options)&&_r(i,o.config))return o;throw Ts.create("duplicate-app",{appName:r})}const c=new tk(r);for(const f of jg.values())c.addComponent(f);const u=new Zk(t,i,c);return xh.set(r,u),u}function Aw(n=Fg){const e=xh.get(n);if(!e&&n===Fg&&bw())return Ow();if(!e)throw Ts.create("no-app",{appName:n});return e}function Cs(n,e,t){let i=Yk[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${e}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(c.join(" "));return}La(new vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebase-heartbeat-database",Kk=1,Hl="firebase-heartbeat-store";let sg=null;function Rw(){return sg||(sg=mk(Xk,Kk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),sg}async function Qk(n){try{const t=(await Rw()).transaction(Hl),i=await t.objectStore(Hl).get(kw(n));return await t.done,i}catch(e){if(e instanceof Us)Ui.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function c1(n,e){try{const i=(await Rw()).transaction(Hl,"readwrite");await i.objectStore(Hl).put(e,kw(n)),await i.done}catch(t){if(t instanceof Us)Ui.warn(t.message);else{const i=Ts.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(i.message)}}}function kw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=1024,eD=30;class tD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=u1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>eD){const r=sD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u1(),{heartbeatsToSend:t,unsentEntries:i}=nD(this._heartbeatsCache.heartbeats),r=vh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ui.warn(e),""}}}function u1(){return new Date().toISOString().substring(0,10)}function nD(n,e=Jk){const t=[];let i=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),h1(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),h1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Qk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h1(n){return vh(JSON.stringify({version:2,heartbeats:n})).length}function sD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){La(new vr("platform-logger",e=>new yk(e),"PRIVATE")),La(new vr("heartbeat",e=>new tD(e),"PRIVATE")),Cs(Bg,o1,n),Cs(Bg,o1,"esm2020"),Cs("fire-js","")}rD("");function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aD=Dw,Nw=new sc("auth","Firebase",Dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new kp("@firebase/auth");function oD(n,...e){wh.logLevel<=Fe.WARN&&wh.warn(`Auth (${Ka}): ${n}`,...e)}function oh(n,...e){wh.logLevel<=Fe.ERROR&&wh.error(`Auth (${Ka}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw Lp(n,...e)}function Wn(n,...e){return Lp(n,...e)}function Ip(n,e,t){const i={...aD(),[e]:t};return new sc("auth","Firebase",i).create(e,{appName:n.name})}function Ms(n){return Ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lD(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(n,"argument-error"),Ip(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nw.create(n,...e)}function de(n,e,...t){if(!n)throw Lp(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Hi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){return typeof self<"u"&&self.location?.href||""}function cD(){return f1()==="http:"||f1()==="https:"}function f1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cD()||zR()||"connection"in navigator)?navigator.onLine:!0}function hD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=Rp()||Ew()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mD=new rc(3e4,6e4);function of(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qa(n,e,t,i,r={}){return Lw(n,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const u=Xa({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return PR()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Za(n.emulatorConfig.host)&&(d.credentials="include"),Iw.fetch()(await zw(n,n.config.apiHost,t,u),d)})}async function Lw(n,e,t){n._canInitEmulator=!1;const i={...fD,...e};try{const r=new gD(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Uu(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Uu(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Uu(n,"user-disabled",c);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ip(n,p,d);ai(n,p)}}catch(r){if(r instanceof Us)throw r;ai(n,"network-request-failed",{message:String(r)})}}async function Pw(n,e,t,i,r={}){const o=await Qa(n,e,t,i,r);return"mfaPendingCredential"in o&&ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function zw(n,e,t,i){const r=`${e}${t}?${i}`,o=n,c=o.config.emulator?Pp(n.config,r):`${n.config.apiScheme}://${r}`;return dD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class gD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wn(this.auth,"network-request-failed")),mD.get())})}}function Uu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Wn(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e){return Qa(n,"POST","/v1/accounts:delete",e)}async function Eh(n,e){return Qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(n,e=!1){const t=Wt(n),i=await t.getIdToken(e),r=zp(i);de(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Ml(rg(r.auth_time)),issuedAtTime:Ml(rg(r.iat)),expirationTime:Ml(rg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function rg(n){return Number(n)*1e3}function zp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const r=bh(t);return r?JSON.parse(r):(oh("Failed to decode base64 JWT payload"),null)}catch(r){return oh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function d1(n){const e=zp(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Us&&_D(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _D({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n){const e=n.auth,t=await n.getIdToken(),i=await Bl(n,Eh(e,{idToken:t}));de(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Uw(r.providerUserInfo):[],c=SD(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=u?f:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Wg(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function bD(n){const e=Wt(n);await Fl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SD(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Uw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){const t=await Lw(n,{},async()=>{const i=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await zw(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Za(n.emulatorConfig.host)&&(f.credentials="include"),Iw.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wD(n,e){return Qa(n,"POST","/v2/accounts:revokeToken",of(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=d1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await xD(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,c=new Ca;return i&&(de(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(de(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(de(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new vD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Wg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yD(this,e)}reload(){return bD(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Fl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await Bl(this,pD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:x,stsTokenManager:w}=t;de(y&&w,e,"internal-error");const E=Ca.fromJSON(this.name,w);de(typeof y=="string",e,"internal-error"),ms(i,e.name),ms(r,e.name),de(typeof _=="boolean",e,"internal-error"),de(typeof b=="boolean",e,"internal-error"),ms(o,e.name),ms(c,e.name),ms(u,e.name),ms(f,e.name),ms(d,e.name),ms(p,e.name);const M=new Fn({uid:y,auth:e,email:r,emailVerified:_,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:E,createdAt:d,lastLoginAt:p});return x&&Array.isArray(x)&&(M.providerData=x.map(R=>({...R}))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,t,i=!1){const r=new Ca;r.updateFromServerResponse(t);const o=new Fn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Fl(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];de(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Uw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new Ca;u.updateFromIdToken(i);const f=new Fn({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Wg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function ki(n){Hi(n instanceof Function,"Expected a class definition");let e=m1.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,m1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hw.type="NONE";const g1=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ma{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=lh(this.userKey,r.apiKey,o),this.fullPersistenceKey=lh("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Eh(this.auth,{idToken:e}).catch(()=>{});return t?Fn._fromGetAccountInfoResponse(this.auth,t,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ma(ki(g1),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||ki(g1);const c=lh(i,e.config.apiKey,e.name);let u=null;for(const d of t)try{const p=await d._get(c);if(p){let y;if(typeof p=="string"){const _=await Eh(e,{idToken:p}).catch(()=>{});if(!_)break;y=await Fn._fromGetAccountInfoResponse(e,_,p)}else y=Fn._fromJSON(e,p);d!==o&&(u=y),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ma(o,e,i):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Ma(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if(Yw(e))return"Webos";if(Fw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(Ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Bw(n=Vt()){return/firefox\//i.test(n)}function Fw(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=Vt()){return/crios\//i.test(n)}function Vw(n=Vt()){return/iemobile/i.test(n)}function Ww(n=Vt()){return/android/i.test(n)}function qw(n=Vt()){return/blackberry/i.test(n)}function Yw(n=Vt()){return/webos/i.test(n)}function Up(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ED(n=Vt()){return Up(n)&&!!window.navigator?.standalone}function TD(){return UR()&&document.documentMode===10}function Gw(n=Vt()){return Up(n)||Ww(n)||Yw(n)||qw(n)||/windows phone/i.test(n)||Vw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n,e=[]){let t;switch(n){case"Browser":t=p1(Vt());break;case"Worker":t=`${p1(Vt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ka}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,u)=>{try{const f=e(o);c(f)}catch(f){u(f)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e={}){return Qa(n,"GET","/v2/passwordPolicy",of(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=6;class AD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??OD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new CD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Eh(this,{idToken:e}),i=await Fn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Ms(this));const t=e?Wt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MD(this),t=new AD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,r);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ac(n){return Wt(n)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kD(n){Hp=n}function DD(n){return Hp.loadJS(n)}function ND(){return Hp.gapiScript}function ID(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n,e){const t=Np(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(_r(o,e??{}))return r;ai(r,"already-initialized")}return t.initialize({options:e})}function PD(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ki);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function zD(n,e,t){const i=ac(n);de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=Zw(e),{host:c,port:u}=UD(e),f=u===null?"":`:${u}`,d={url:`${o}//${c}${f}/`},p=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){de(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),de(_r(d,i.config.emulator)&&_r(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Za(c)?(xw(`${o}//${c}${f}`),ww("Auth",!0)):HD()}function Zw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UD(n){const e=Zw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:_1(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:_1(c)}}}function _1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function HD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n,e){return Pw(n,"POST","/v1/accounts:signInWithIdp",of(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="http://localhost";class br extends Xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=t;if(!i||!r)return null;const c=new br(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Oa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Oa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oa(e,t)}buildRequest(){const e={requestUri:BD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xa(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends oc{constructor(){super("facebook.com")}static credential(e){return br._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return br._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends oc{constructor(){super("github.com")}static credential(e){return br._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends oc{constructor(){super("twitter.com")}static credential(e,t){return br._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e){return Pw(n,"POST","/v1/accounts:signUp",of(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await Fn._fromIdTokenResponse(e,i,r),c=v1(i);return new Ns({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=v1(i);return new Ns({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function v1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n){if(On(n.app))return Promise.reject(Ms(n));const e=ac(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ns({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await FD(e,{returnSecureToken:!0}),i=await Ns._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Us{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Th(e,t,i,r)}}function Kw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(n,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function Qw(n,e,t=!1){const i=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ns._forOperation(n,"link",i)}async function WD(n,e,t){await Fl(e);const i=VD(e.providerData);de(i.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e,t=!1){const{auth:i}=n;if(On(i.app))return Promise.reject(Ms(i));const r="reauthenticate";try{const o=await Bl(n,Kw(i,r,e,n),t);de(o.idToken,i,"internal-error");const c=zp(o.idToken);de(c,i,"internal-error");const{sub:u}=c;return de(n.uid===u,i,"user-mismatch"),Ns._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ai(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e,t=!1){if(On(n.app))return Promise.reject(Ms(n));const i="signIn",r=await Kw(n,i,e),o=await Ns._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}async function GD(n,e){const t=Wt(n);return await WD(!1,t,e.providerId),Qw(t,e)}function $D(n,e,t,i){return Wt(n).onIdTokenChanged(e,t,i)}function ZD(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function XD(n,e,t,i){return Wt(n).onAuthStateChanged(e,t,i)}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1e3,QD=10;class eE extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);TD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,QD):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eE.type="LOCAL";const JD=eE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tE.type="SESSION";const nE=tE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new lf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(c).map(async d=>d(t.origin,o)),f=await eN(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const d=Fp("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function nN(n){si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function rN(){return iE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebaseLocalStorageDb",aN=1,Mh="firebaseLocalStorage",rE="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cf(n,e){return n.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function oN(){const n=indexedDB.deleteDatabase(sE);return new lc(n).toPromise()}function qg(){const n=indexedDB.open(sE,aN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mh,{keyPath:rE})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mh)?e(i):(i.close(),await oN(),e(await qg()))})})}async function b1(n,e,t){const i=cf(n,!0).put({[rE]:e,value:t});return new lc(i).toPromise()}async function lN(n,e){const t=cf(n,!1).get(e),i=await new lc(t).toPromise();return i===void 0?null:i.value}function S1(n,e){const t=cf(n,!0).delete(e);return new lc(t).toPromise()}const cN=800,uN=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>uN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await b1(e,Ch,"1"),await S1(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>b1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>lN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=cf(r,!1).getAll();return new lc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const hN=aE;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(n,e){return e?ki(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fN(n){return YD(n.auth,new jp(n),n.bypassAuthState)}function dN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),qD(t,new jp(n),n.bypassAuthState)}async function mN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),Qw(t,new jp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fN;case"linkViaPopup":case"linkViaRedirect":return mN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:ai(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new rc(2e3,1e4);async function cE(n,e,t){if(On(n.app))return Promise.reject(Wn(n,"operation-not-supported-in-this-environment"));const i=ac(n);lD(n,e,Bp);const r=oE(i,t);return new fr(i,"signInViaPopup",e,r).executeNotNull()}class fr extends lE{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,fr.currentPopupAction&&fr.currentPopupAction.cancel(),fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gN.get())};e()}}fr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="pendingRedirect",ch=new Map;class yN extends lE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const i=await _N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _N(n,e){const t=SN(e),i=bN(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function vN(n,e){ch.set(n._key(),e)}function bN(n){return ki(n._redirectPersistence)}function SN(n){return lh(pN,n.config.apiKey,n.name)}async function xN(n,e,t=!1){if(On(n.app))return Promise.reject(Ms(n));const i=ac(n),r=oE(i,e),c=await new yN(i,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=600*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(x1(e))}saveEventToCache(e){this.cachedEventUids.add(x1(e)),this.lastProcessedEventTime=Date.now()}}function x1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function TN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e={}){return Qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ON=/^https?/;async function AN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CN(n);for(const t of e)try{if(RN(t))return}catch{}ai(n,"unauthorized-domain")}function RN(n){const e=Vg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ON.test(t))return!1;if(MN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new rc(3e4,6e4);function w1(){const n=si().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DN(n){return new Promise((e,t)=>{function i(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),t(Wn(n,"network-request-failed"))},timeout:kN.get()})}if(si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(si().gapi?.load)i();else{const r=ID("iframefcb");return si()[r]=()=>{gapi.load?i():t(Wn(n,"network-request-failed"))},DD(`${ND()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw uh=null,e})}let uh=null;function NN(n){return uh=uh||DN(n),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new rc(5e3,15e3),LN="__/auth/iframe",PN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HN(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Pp(e,PN):`https://${n.config.authDomain}/${LN}`,i={apiKey:e.apiKey,appName:n.name,v:Ka},r=UN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Xa(i).slice(1)}`}async function BN(n){const e=await NN(n),t=si().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:HN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Wn(n,"network-request-failed"),u=si().setTimeout(()=>{o(c)},IN.get());function f(){si().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jN=500,VN=600,WN="_blank",qN="http://localhost";class E1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(n,e,t,i=jN,r=VN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...FN,width:i.toString(),height:r.toString(),top:o,left:c},d=Vt().toLowerCase();t&&(u=jw(d)?WN:t),Bw(d)&&(e=e||qN,f.scrollbars="yes");const p=Object.entries(f).reduce((_,[b,x])=>`${_}${b}=${x},`,"");if(ED(d)&&u!=="_self")return GN(e||"",u),new E1(null);const y=window.open(e||"",u,p);de(y,n,"popup-blocked");try{y.focus()}catch{}return new E1(y)}function GN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="__/auth/handler",ZN="emulator/auth/handler",XN=encodeURIComponent("fac");async function T1(n,e,t,i,r,o){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ka,eventId:r};if(e instanceof Bp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",zg(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))c[p]=y}if(e instanceof oc){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(c.scopes=p.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await n._getAppCheckToken(),d=f?`#${XN}=${encodeURIComponent(f)}`:"";return`${KN(n)}?${Xa(u).slice(1)}${d}`}function KN({config:n}){return n.emulator?Pp(n,ZN):`https://${n.authDomain}/${$N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=xN,this._overrideRedirectResult=vN}async _openPopup(e,t,i,r){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await T1(e,t,i,Vg(),r);return YN(e,o,Fp())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await T1(e,t,i,Vg(),r);return nN(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Hi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BN(e),i=new EN(e);return t.register("authEvent",r=>(de(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ag,{type:ag},r=>{const o=r?.[0]?.[ag];o!==void 0&&t(!!o),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gw()||Fw()||Up()}}const JN=QN;var C1="@firebase/auth",M1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nI(n){La(new vr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=i.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(n)},d=new RD(i,r,o,f);return PD(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),La(new vr("auth-internal",e=>{const t=ac(e.getProvider("auth").getImmediate());return(i=>new eI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(C1,M1,tI(n)),Cs(C1,M1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=300,sI=Sw("authIdTokenMaxAge")||iI;let O1=null;const rI=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>sI)return;const r=t?.token;O1!==r&&(O1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function aI(n=Aw()){const e=Np(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LD(n,{popupRedirectResolver:JN,persistence:[hN,JD,nE]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=rI(o.toString());ZD(t,c,()=>c(t.currentUser)),$D(t,u=>c(u))}}const r=vw("auth");return r&&zD(t,`http://${r}`),t}function oI(){return document.getElementsByTagName("head")?.[0]??document}kD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Wn("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",oI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nI("Browser");var lI="firebase",cI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(lI,cI,"app");var A1={};const R1="@firebase/database",k1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE="";function uI(n){hE=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_t(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ul(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hI(e)}}catch{}return new fI},dr=fE("localStorage"),dI=fE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new kp("@firebase/database"),dE=(function(){let n=1;return function(){return n++}})(),mE=function(n){const e=KR(n),t=new GR;t.update(e);const i=t.digest();return Op.encodeByteArray(i)},cc=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=cc.apply(null,i):typeof i=="object"?e+=_t(i):e+=i,e+=" "}return e};let Ol=null,D1=!0;const mI=function(n,e){Y(!0,"Can't turn on custom loggers persistently."),Aa.logLevel=Fe.VERBOSE,Ol=Aa.log.bind(Aa)},Rt=function(...n){if(D1===!0&&(D1=!1,Ol===null&&dI.get("logging_enabled")===!0&&mI()),Ol){const e=cc.apply(null,n);Ol(e)}},uc=function(n){return function(...e){Rt(n,...e)}},Yg=function(...n){const e="FIREBASE INTERNAL ERROR: "+cc(...n);Aa.error(e)},Bi=function(...n){const e=`FIREBASE FATAL ERROR: ${cc(...n)}`;throw Aa.error(e),new Error(e)},jt=function(...n){const e="FIREBASE WARNING: "+cc(...n);Aa.warn(e)},gI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vp=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pI=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Pa="[MIN_NAME]",Sr="[MAX_NAME]",Mr=function(n,e){if(n===e)return 0;if(n===Pa||e===Sr)return-1;if(e===Pa||n===Sr)return 1;{const t=N1(n),i=N1(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},yI=function(n,e){return n===e?0:n<e?-1:1},ul=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+_t(e))},Wp=function(n){if(typeof n!="object"||n===null)return _t(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=_t(e[i]),t+=":",t+=Wp(n[e[i]]);return t+="}",t},gE=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const pE=function(n){Y(!Vp(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,o,c,u,f;n===0?(o=0,c=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,c=Math.round(n*Math.pow(2,t-u)-Math.pow(2,t))):(o=0,c=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(f=t;f;f-=1)d.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const p=d.join("");let y="";for(f=0;f<64;f+=8){let _=parseInt(p.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},_I=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bI(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const SI=new RegExp("^-?(0*)\\d{1,10}$"),xI=-2147483648,wI=2147483647,N1=function(n){if(SI.test(n)){const e=Number(n);if(e>=xI&&e<=wI)return e}return null},Ja=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw jt("Exception was thrown by user callback.",t),e},Math.floor(0))}},EI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Al=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,On(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}class hh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="5",yE="v",_E="s",vE="r",bE="f",SE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xE="ls",wE="p",Gg="ac",EE="websocket",TE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i,r,o=!1,c="",u=!1,f=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function MI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ME(n,e,t){Y(typeof e=="string","typeof type must == string"),Y(typeof t=="object","typeof params must == object");let i;if(e===EE)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TE)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MI(n)&&(t.ns=n.namespace);const r=[];return kt(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.counters_={}}incrementCounter(e,t=1){Gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return CR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og={},lg={};function Yp(n){const e=n.toString();return og[e]||(og[e]=new OI),og[e]}function AI(n,e){const t=n.toString();return lg[t]||(lg[t]=e()),lg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ja(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="start",kI="close",DI="pLPCommand",NI="pRTLPCB",OE="id",AE="pw",RE="ser",II="cb",LI="seg",PI="ts",zI="d",UI="dframe",kE=1870,DE=30,HI=kE-DE,BI=25e3,FI=3e4;class Ea{constructor(e,t,i,r,o,c,u){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uc(e),this.stats_=Yp(t),this.urlFn=f=>(this.appCheckToken&&(f[Gg]=this.appCheckToken),ME(t,TE,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new RI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FI)),pI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gp((...o)=>{const[c,u,f,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===I1)this.id=u,this.password=f;else if(c===kI)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[I1]="t",i[RE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[II]=this.scriptTagHolder.uniqueCallbackIdentifier),i[yE]=qp,this.transportSessionId&&(i[_E]=this.transportSessionId),this.lastSessionId&&(i[xE]=this.lastSessionId),this.applicationId&&(i[wE]=this.applicationId),this.appCheckToken&&(i[Gg]=this.appCheckToken),typeof location<"u"&&location.hostname&&SE.test(location.hostname)&&(i[vE]=bE);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ea.forceAllow_=!0}static forceDisallow(){Ea.forceDisallow_=!0}static isAvailable(){return Ea.forceAllow_?!0:!Ea.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_I()&&!vI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=_t(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=yw(t),r=gE(i,HI);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[UI]="t",i[OE]=e,i[AE]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=_t(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Gp{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dE(),window[DI+this.uniqueCallbackIdentifier]=e,window[NI+this.uniqueCallbackIdentifier]=t,this.myIFrame=Gp.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){Rt("frame writing exception"),u.stack&&Rt(u.stack),Rt(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OE]=this.myID,e[AE]=this.myPW,e[RE]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DE+i.length<=kE;){const c=this.pendingSegs.shift();i=i+"&"+LI+r+"="+c.seg+"&"+PI+r+"="+c.ts+"&"+zI+r+"="+c.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(BI)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=16384,VI=45e3;let Oh=null;typeof MozWebSocket<"u"?Oh=MozWebSocket:typeof WebSocket<"u"&&(Oh=WebSocket);class Bn{constructor(e,t,i,r,o,c,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uc(this.connId),this.stats_=Yp(t),this.connURL=Bn.connectionURL_(t,c,u,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,o){const c={};return c[yE]=qp,typeof location<"u"&&location.hostname&&SE.test(location.hostname)&&(c[vE]=bE),t&&(c[_E]=t),i&&(c[xE]=i),r&&(c[Gg]=r),o&&(c[wE]=o),ME(e,EE,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dr.set("previous_websocket_failure",!0);try{let i;HR(),this.mySock=new Oh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Oh!==null&&!Bn.forceDisallow_}static previouslyFailed(){return dr.isInMemoryStorage||dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Ul(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=_t(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=gE(t,jI);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VI))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static get ALL_TRANSPORTS(){return[Ea,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Bn&&Bn.isAvailable();let i=t&&!Bn.previouslyFailed();if(e.webSocketOnly&&(t||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bn];else{const r=this.transports_=[];for(const o of jl.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);jl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=6e4,qI=5e3,YI=10*1024,GI=100*1024,cg="t",L1="d",$I="s",P1="r",ZI="e",z1="o",U1="a",H1="n",B1="p",XI="h";class KI{constructor(e,t,i,r,o,c,u,f,d,p){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=f,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uc("c:"+this.id+":"),this.transportManager_=new jl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Al(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cg in e){const t=e[cg];t===U1?this.upgradeIfSecondaryHealthy_():t===P1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===z1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ul("t",e),i=ul("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:B1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:U1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:H1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ul("t",e),i=ul("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ul(cg,e);if(L1 in e){const i=e[L1];if(t===XI){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===H1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===$I?this.onConnectionShutdown_(i):t===P1?this.onReset_(i):t===ZI?Yg("Server Error: "+i):t===z1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),qp!==i&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Al(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Al(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:B1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends IE{static getInstance(){return new Ah}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=32,j1=768;class je{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ke(){return new je("")}function Se(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Is(n){return n.pieces_.length-n.pieceNum_}function $e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new je(n.pieces_,e)}function $p(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function QI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Vl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function LE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new je(e,0)}function at(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new je(t,0)}function Te(n){return n.pieceNum_>=n.pieces_.length}function Bt(n,e){const t=Se(n),i=Se(e);if(t===null)return e;if(t===i)return Bt($e(n),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function JI(n,e){const t=Vl(n,0),i=Vl(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Mr(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function Zp(n,e){if(Is(n)!==Is(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function An(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Is(n)>Is(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class e6{constructor(e,t){this.errorPrefix_=t,this.parts_=Vl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=af(this.parts_[i]);PE(this)}}function t6(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=af(e),PE(n)}function n6(n){const e=n.parts_.pop();n.byteLength_-=af(e),n.parts_.length>0&&(n.byteLength_-=1)}function PE(n){if(n.byteLength_>j1)throw new Error(n.errorPrefix_+"has a key path longer than "+j1+" bytes ("+n.byteLength_+").");if(n.parts_.length>F1)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+F1+") or object contains a cycle "+cr(n))}function cr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends IE{static getInstance(){return new Xp}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=1e3,i6=300*1e3,V1=30*1e3,s6=1.3,r6=3e4,a6="server_kill",W1=3;class Pi extends NE{constructor(e,t,i,r,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=Pi.nextPersistentConnectionId_++,this.log_=uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hl,this.maxReconnectDelay_=i6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ah.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,o={r,a:e,b:t};this.log_(_t(o)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new $a,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;c.s==="ok"?t.resolve(u):t.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,r){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},c="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,u=>{const f=u.d,d=u.s;Pi.warnOnListenWarnings_(f,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Gn(e,"w")){const i=yr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||YR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=V1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=qR(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const o=r.s,c=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e},c="n";r&&(o.q=i,o.t=r),this.sendRequest(c,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{r&&setTimeout(()=>{r(c.s,c.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,o){this.initConnection_();const c={p:t,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_t(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Yg("Unrecognized action received from server: "+_t(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>r6&&(this.reconnectDelay_=hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*s6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Pi.nextConnectionId_++,o=this.lastSessionId;let c=!1,u=null;const f=function(){u?u.close():(c=!0,i())},d=function(y){Y(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(y)};this.realtime_={close:f,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,u=new KI(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{jt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(a6)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&jt(y),f())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zg(this.interruptReasons_)&&(this.reconnectDelay_=hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>Wp(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new je(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){Rt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=W1&&(this.reconnectDelay_=V1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Rt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=W1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+hE.replace(/\./g,"-")]=1,Rp()?e["framework.cordova"]=1:Ew()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ah.getInstance().currentlyOnline();return zg(this.interruptReasons_)&&e}}Pi.nextPersistentConnectionId_=0;Pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xe(Pa,e),r=new xe(Pa,t);return this.compare(i,r)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class zE extends uf{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(e){Hu=e}compare(e,t){return Mr(e.name,t.name)}isDefinedOn(e){throw Ga("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Sr,Hu)}makePost(e,t){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,Hu)}toString(){return".key"}}const Ra=new zE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ct{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ct.RED,this.left=r??Qt.EMPTY_NODE,this.right=o??Qt.EMPTY_NODE}copy(e,t,i,r,o){return new Ct(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ct.RED=!0;Ct.BLACK=!1;class o6{copy(e,t,i,r,o){return this}insert(e,t,i){return new Ct(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qt{constructor(e,t=Qt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Qt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ct.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Bu(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Bu(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Bu(this.root_,null,this.comparator_,!0,e)}}Qt.EMPTY_NODE=new o6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n,e){return Mr(n.name,e.name)}function Kp(n,e){return Mr(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g;function c6(n){$g=n}const UE=function(n){return typeof n=="number"?"number:"+pE(n):"string:"+n},HE=function(n){if(n.isLeafNode()){const e=n.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gn(e,".sv"),"Priority must be a string or number.")}else Y(n===$g||n.isEmpty(),"priority of unexpected type.");Y(n===$g||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q1;class Tt{static set __childrenNodeConstructor(e){q1=e}static get __childrenNodeConstructor(){return q1}constructor(e,t=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Te(e)?this:Se(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Se(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Y(i!==".priority"||Is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=pE(this.value_):e+=this.value_,this.lazyHash_=mE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=Tt.VALUE_TYPE_ORDER.indexOf(t),o=Tt.VALUE_TYPE_ORDER.indexOf(i);return Y(r>=0,"Unknown leaf type: "+t),Y(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BE,FE;function u6(n){BE=n}function h6(n){FE=n}class f6 extends uf{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?Mr(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Sr,new Tt("[PRIORITY-POST]",FE))}makePost(e,t){const i=BE(e);return new xe(t,new Tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const et=new f6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=Math.log(2);class m6{constructor(e){const t=o=>parseInt(Math.log(o)/d6,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rh=function(n,e,t,i){n.sort(e);const r=function(f,d){const p=d-f;let y,_;if(p===0)return null;if(p===1)return y=n[f],_=t?t(y):y,new Ct(_,y.node,Ct.BLACK,null,null);{const b=parseInt(p/2,10)+f,x=r(f,b),w=r(b+1,d);return y=n[b],_=t?t(y):y,new Ct(_,y.node,Ct.BLACK,x,w)}},o=function(f){let d=null,p=null,y=n.length;const _=function(x,w){const E=y-x,M=y;y-=x;const R=r(E+1,M),U=n[E],V=t?t(U):U;b(new Ct(V,U.node,w,null,R))},b=function(x){d?(d.left=x,d=x):(p=x,d=x)};for(let x=0;x<f.count;++x){const w=f.nextBitIsOne(),E=Math.pow(2,f.count-(x+1));w?_(E,Ct.BLACK):(_(E,Ct.BLACK),_(E,Ct.RED))}return p},c=new m6(n.length),u=o(c);return new Qt(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug;const ya={};class Di{static get Default(){return Y(ya&&et,"ChildrenNode.ts has not been loaded"),ug=ug||new Di({".priority":ya},{".priority":et}),ug}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=yr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qt?t:null}hasIndex(e){return Gn(this.indexSet_,e.toString())}addIndex(e,t){Y(e!==Ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(xe.Wrap);let c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let u;r?u=Rh(i,e.getCompare()):u=ya;const f=e.toString(),d={...this.indexSet_};d[f]=e;const p={...this.indexes_};return p[f]=u,new Di(p,d)}addToIndexes(e,t){const i=Sh(this.indexes_,(r,o)=>{const c=yr(this.indexSet_,o);if(Y(c,"Missing index implementation for "+o),r===ya)if(c.isDefinedOn(e.node)){const u=[],f=t.getIterator(xe.Wrap);let d=f.getNext();for(;d;)d.name!==e.name&&u.push(d),d=f.getNext();return u.push(e),Rh(u,c.getCompare())}else return ya;else{const u=t.get(e.name);let f=r;return u&&(f=f.remove(new xe(e.name,u))),f.insert(e,e.node)}});return new Di(i,this.indexSet_)}removeFromIndexes(e,t){const i=Sh(this.indexes_,r=>{if(r===ya)return r;{const o=t.get(e.name);return o?r.remove(new xe(e.name,o)):r}});return new Di(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class ue{static get EMPTY_NODE(){return fl||(fl=new ue(new Qt(Kp),null,Di.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&HE(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fl}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?fl:t}}getChild(e){const t=Se(e);return t===null?this:this.getImmediateChild(t).getChild($e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Y(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new xe(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const c=r.isEmpty()?fl:this.priorityNode_;return new ue(r,c,o)}}updateChild(e,t){const i=Se(e);if(i===null)return t;{Y(Se(e)!==".priority"||Is(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild($e(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,o=!0;if(this.forEachChild(et,(c,u)=>{t[c]=u.val(e),i++,o&&ue.INTEGER_REGEXP_.test(c)?r=Math.max(r,Number(c)):o=!1}),!e&&o&&r<2*i){const c=[];for(const u in t)c[u]=t[u];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+UE(this.getPriority().val())+":"),this.forEachChild(et,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":mE(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new xe(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new xe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new xe(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,xe.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let o=r.peek();for(;o!=null&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hc?-1:0}withIndex(e){if(e===Ra||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(et),r=t.getIterator(et);let o=i.getNext(),c=r.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=r.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ra?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class g6 extends ue{constructor(){super(new Qt(Kp),ue.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const hc=new g6;Object.defineProperties(xe,{MIN:{value:new xe(Pa,ue.EMPTY_NODE)},MAX:{value:new xe(Sr,hc)}});zE.__EMPTY_NODE=ue.EMPTY_NODE;Tt.__childrenNodeConstructor=ue;c6(hc);h6(hc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=!0;function mt(n,e=null){if(n===null)return ue.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Tt(t,mt(e))}if(!(n instanceof Array)&&p6){const t=[];let i=!1;if(kt(n,(c,u)=>{if(c.substring(0,1)!=="."){const f=mt(u);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new xe(c,f)))}}),t.length===0)return ue.EMPTY_NODE;const o=Rh(t,l6,c=>c.name,Kp);if(i){const c=Rh(t,et.getCompare());return new ue(o,mt(e),new Di({".priority":c},{".priority":et}))}else return new ue(o,mt(e),Di.Default)}else{let t=ue.EMPTY_NODE;return kt(n,(i,r)=>{if(Gn(n,i)&&i.substring(0,1)!=="."){const o=mt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(mt(e))}}u6(mt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6 extends uf{constructor(e){super(),this.indexPath_=e,Y(!Te(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?Mr(e.name,t.name):o}makePost(e,t){const i=mt(e),r=ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new xe(t,r)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,hc);return new xe(Sr,e)}toString(){return Vl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6 extends uf{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Mr(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,t){const i=mt(e);return new xe(t,i)}toString(){return".value"}}const v6=new _6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){return{type:"value",snapshotNode:n}}function za(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Wl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ql(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function b6(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.index_=e}updateChild(e,t,i,r,o,c){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Wl(t,u)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?c.trackChildChange(za(t,i)):c.trackChildChange(ql(t,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(et,(r,o)=>{t.hasChild(r)||i.trackChildChange(Wl(r,o))}),t.isLeafNode()||t.forEachChild(et,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||i.trackChildChange(ql(r,o,c))}else i.trackChildChange(za(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.indexedFilter_=new Qp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Yl.getStartPost_(e),this.endPost_=Yl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,c){return this.matches(new xe(t,i))||(i=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ue.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ue.EMPTY_NODE);const o=this;return t.forEachChild(et,(c,u)=>{o.matches(new xe(c,u))||(r=r.updateImmediateChild(c,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Yl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,c){return this.rangedFilter_.matches(new xe(t,i))||(i=ue.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=ue.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),c++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(ue.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let c=0;for(;o.hasNext();){const u=o.getNext();c<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?c++:r=r.updateImmediateChild(u.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,b)=>y(b,_)}else c=this.index_.getCompare();const u=e;Y(u.numChildren()===this.limit_,"");const f=new xe(t,i),d=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(u.hasChild(t)){const y=u.getImmediateChild(t);let _=r.getChildAfterChild(this.index_,d,this.reverse_);for(;_!=null&&(_.name===t||u.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const b=_==null?1:c(_,f);if(p&&!i.isEmpty()&&b>=0)return o?.trackChildChange(ql(t,i,y)),u.updateImmediateChild(t,i);{o?.trackChildChange(Wl(t,y));const w=u.updateImmediateChild(t,ue.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o?.trackChildChange(za(_.name,_.node)),w.updateImmediateChild(_.name,_.node)):w}}else return i.isEmpty()?e:p&&c(d,f)>=0?(o!=null&&(o.trackChildChange(Wl(d.name,d.node)),o.trackChildChange(za(t,i))),u.updateImmediateChild(t,i).updateImmediateChild(d.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pa}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const e=new Jp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function x6(n){return n.loadsAllData()?new Qp(n.getIndex()):n.hasLimit()?new S6(n):new Yl(n)}function Y1(n){const e={};if(n.isDefault())return e;let t;if(n.index_===et?t="$priority":n.index_===v6?t="$value":n.index_===Ra?t="$key":(Y(n.index_ instanceof y6,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=_t(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=_t(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+_t(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=_t(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+_t(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function G1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==et&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends NE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=uc("p:rest:"),this.listens_={}}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=kh.getListenId_(e,i),u={};this.listens_[c]=u;const f=Y1(e._queryParams);this.restRequest_(o+".json",f,(d,p)=>{let y=p;if(d===404&&(y=null,d=null),d===null&&this.onDataUpdate_(o,y,!1,i),yr(this.listens_,c)===u){let _;d?d===401?_="permission_denied":_="rest_error:"+d:_="ok",r(_,null)}})}unlisten(e,t){const i=kh.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Y1(e._queryParams),i=e._path.toString(),r=new $a;return this.restRequest_(i+".json",t,(o,c)=>{let u=c;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xa(t);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=Ul(u.responseText)}catch{jt("Failed to parse JSON response for "+c+": "+u.responseText)}i(null,f)}else u.status!==401&&u.status!==404&&jt("Got unsuccessful REST response for "+c+" Status: "+u.status),i(u.status);i=null}},u.open("GET",c,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){return{value:null,children:new Map}}function VE(n,e,t){if(Te(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Se(e);n.children.has(i)||n.children.set(i,Dh());const r=n.children.get(i);e=$e(e),VE(r,e,t)}}function Zg(n,e,t){n.value!==null?t(e,n.value):E6(n,(i,r)=>{const o=new je(e.toString()+"/"+i);Zg(r,o,t)})}function E6(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&kt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=10*1e3,C6=30*1e3,M6=300*1e3;class O6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new T6(e);const i=$1+(C6-$1)*Math.random();Al(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;kt(e,(r,o)=>{o>0&&Gn(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Al(this.reportStats_.bind(this),Math.floor(Math.random()*2*M6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jn||(jn={}));function ey(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ty(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ny(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=jn.ACK_USER_WRITE,this.source=ey()}operationForChild(e){if(Te(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new je(e));return new Nh(ke(),t,this.revert)}}else return Y(Se(this.path)===e,"operationForChild called for unrelated child."),new Nh($e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.source=e,this.path=t,this.type=jn.LISTEN_COMPLETE}operationForChild(e){return Te(this.path)?new Gl(this.source,ke()):new Gl(this.source,$e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=jn.OVERWRITE}operationForChild(e){return Te(this.path)?new xr(this.source,ke(),this.snap.getImmediateChild(e)):new xr(this.source,$e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=jn.MERGE}operationForChild(e){if(Te(this.path)){const t=this.children.subtree(new je(e));return t.isEmpty()?null:t.value?new xr(this.source,ke(),t.value):new Ua(this.source,ke(),t)}else return Y(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ua(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;const t=Se(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function R6(n,e,t,i){const r=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(b6(c.childName,c.snapshotNode))}),dl(n,r,"child_removed",e,i,t),dl(n,r,"child_added",e,i,t),dl(n,r,"child_moved",o,i,t),dl(n,r,"child_changed",e,i,t),dl(n,r,"value",e,i,t),r}function dl(n,e,t,i,r,o){const c=i.filter(u=>u.type===t);c.sort((u,f)=>D6(n,u,f)),c.forEach(u=>{const f=k6(n,u,o);r.forEach(d=>{d.respondsTo(u.type)&&e.push(d.createEvent(f,n.query_))})})}function k6(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function D6(n,e,t){if(e.childName==null||t.childName==null)throw Ga("Should only compare child_ events.");const i=new xe(e.childName,e.snapshotNode),r=new xe(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n,e){return{eventCache:n,serverCache:e}}function Rl(n,e,t,i){return hf(new Ls(e,t,i),n.serverCache)}function WE(n,e,t,i){return hf(n.eventCache,new Ls(e,t,i))}function Ih(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg;const N6=()=>(hg||(hg=new Qt(yI)),hg);class Ge{static fromObject(e){let t=new Ge(null);return kt(e,(i,r)=>{t=t.set(new je(i),r)}),t}constructor(e,t=N6()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ke(),value:this.value};if(Te(e))return null;{const i=Se(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue($e(e),t);return o!=null?{path:at(new je(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Te(e))return this;{const t=Se(e),i=this.children.get(t);return i!==null?i.subtree($e(e)):new Ge(null)}}set(e,t){if(Te(e))return new Ge(t,this.children);{const i=Se(e),o=(this.children.get(i)||new Ge(null)).set($e(e),t),c=this.children.insert(i,o);return new Ge(this.value,c)}}remove(e){if(Te(e))return this.children.isEmpty()?new Ge(null):new Ge(null,this.children);{const t=Se(e),i=this.children.get(t);if(i){const r=i.remove($e(e));let o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new Ge(null):new Ge(this.value,o)}else return this}}get(e){if(Te(e))return this.value;{const t=Se(e),i=this.children.get(t);return i?i.get($e(e)):null}}setTree(e,t){if(Te(e))return t;{const i=Se(e),o=(this.children.get(i)||new Ge(null)).setTree($e(e),t);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new Ge(this.value,c)}}fold(e){return this.fold_(ke(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(at(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ke(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(Te(e))return null;{const o=Se(e),c=this.children.get(o);return c?c.findOnPath_($e(e),at(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ke(),t)}foreachOnPath_(e,t,i){if(Te(e))return this;{this.value&&i(t,this.value);const r=Se(e),o=this.children.get(r);return o?o.foreachOnPath_($e(e),at(t,r),i):new Ge(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(at(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.writeTree_=e}static empty(){return new qn(new Ge(null))}}function kl(n,e,t){if(Te(e))return new qn(new Ge(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const c=Bt(r,e);return o=o.updateChild(c,t),new qn(n.writeTree_.set(r,o))}else{const r=new Ge(t),o=n.writeTree_.setTree(e,r);return new qn(o)}}}function Xg(n,e,t){let i=n;return kt(t,(r,o)=>{i=kl(i,at(e,r),o)}),i}function Z1(n,e){if(Te(e))return qn.empty();{const t=n.writeTree_.setTree(e,new Ge(null));return new qn(t)}}function Kg(n,e){return Or(n,e)!=null}function Or(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Bt(t.path,e)):null}function X1(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(et,(i,r)=>{e.push(new xe(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new xe(i,r.value))}),e}function Os(n,e){if(Te(e))return n;{const t=Or(n,e);return t!=null?new qn(new Ge(t)):new qn(n.writeTree_.subtree(e))}}function Qg(n){return n.writeTree_.isEmpty()}function Ha(n,e){return qE(ke(),n.writeTree_,e)}function qE(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(Y(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=qE(at(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(at(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,e){return ZE(e,n)}function I6(n,e,t,i,r){Y(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=kl(n.visibleWrites,e,t)),n.lastWriteId=i}function L6(n,e,t,i){Y(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Xg(n.visibleWrites,e,t),n.lastWriteId=i}function P6(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function z6(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);Y(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const u=n.allWrites[c];u.visible&&(c>=t&&U6(u,i.path)?r=!1:An(i.path,u.path)&&(o=!0)),c--}if(r){if(o)return H6(n),!0;if(i.snap)n.visibleWrites=Z1(n.visibleWrites,i.path);else{const u=i.children;kt(u,f=>{n.visibleWrites=Z1(n.visibleWrites,at(i.path,f))})}return!0}else return!1}function U6(n,e){if(n.snap)return An(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&An(at(n.path,t),e))return!0;return!1}function H6(n){n.visibleWrites=YE(n.allWrites,B6,ke()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function B6(n){return n.visible}function YE(n,e,t){let i=qn.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let u;if(o.snap)An(t,c)?(u=Bt(t,c),i=kl(i,u,o.snap)):An(c,t)&&(u=Bt(c,t),i=kl(i,ke(),o.snap.getChild(u)));else if(o.children){if(An(t,c))u=Bt(t,c),i=Xg(i,u,o.children);else if(An(c,t))if(u=Bt(c,t),Te(u))i=Xg(i,ke(),o.children);else{const f=yr(o.children,Se(u));if(f){const d=f.getChild($e(u));i=kl(i,ke(),d)}}}else throw Ga("WriteRecord should have .snap or .children")}}return i}function GE(n,e,t,i,r){if(!i&&!r){const o=Or(n.visibleWrites,e);if(o!=null)return o;{const c=Os(n.visibleWrites,e);if(Qg(c))return t;if(t==null&&!Kg(c,ke()))return null;{const u=t||ue.EMPTY_NODE;return Ha(c,u)}}}else{const o=Os(n.visibleWrites,e);if(!r&&Qg(o))return t;if(!r&&t==null&&!Kg(o,ke()))return null;{const c=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(An(d.path,e)||An(e,d.path))},u=YE(n.allWrites,c,e),f=t||ue.EMPTY_NODE;return Ha(u,f)}}}function F6(n,e,t){let i=ue.EMPTY_NODE;const r=Or(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(et,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=Os(n.visibleWrites,e);return t.forEachChild(et,(c,u)=>{const f=Ha(Os(o,new je(c)),u);i=i.updateImmediateChild(c,f)}),X1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Os(n.visibleWrites,e);return X1(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function j6(n,e,t,i,r){Y(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=at(e,t);if(Kg(n.visibleWrites,o))return null;{const c=Os(n.visibleWrites,o);return Qg(c)?r.getChild(t):Ha(c,r.getChild(t))}}function V6(n,e,t,i){const r=at(e,t),o=Or(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){const c=Os(n.visibleWrites,r);return Ha(c,i.getNode().getImmediateChild(t))}else return null}function W6(n,e){return Or(n.visibleWrites,e)}function q6(n,e,t,i,r,o,c){let u;const f=Os(n.visibleWrites,e),d=Or(f,ke());if(d!=null)u=d;else if(t!=null)u=Ha(f,t);else return[];if(u=u.withIndex(c),!u.isEmpty()&&!u.isLeafNode()){const p=[],y=c.getCompare(),_=o?u.getReverseIteratorFrom(i,c):u.getIteratorFrom(i,c);let b=_.getNext();for(;b&&p.length<r;)y(b,i)!==0&&p.push(b),b=_.getNext();return p}else return[]}function Y6(){return{visibleWrites:qn.empty(),allWrites:[],lastWriteId:-1}}function Lh(n,e,t,i){return GE(n.writeTree,n.treePath,e,t,i)}function iy(n,e){return F6(n.writeTree,n.treePath,e)}function K1(n,e,t,i){return j6(n.writeTree,n.treePath,e,t,i)}function Ph(n,e){return W6(n.writeTree,at(n.treePath,e))}function G6(n,e,t,i,r,o){return q6(n.writeTree,n.treePath,e,t,i,r,o)}function sy(n,e,t){return V6(n.writeTree,n.treePath,e,t)}function $E(n,e){return ZE(at(n.treePath,e),n.writeTree)}function ZE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Y(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Y(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,ql(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Wl(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,za(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,ql(i,e.snapshotNode,r.oldSnap));else throw Ga("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const XE=new Z6;class ry{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sy(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wr(this.viewCache_),o=G6(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(n){return{filter:n}}function K6(n,e){Y(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Q6(n,e,t,i,r){const o=new $6;let c,u;if(t.type===jn.OVERWRITE){const d=t;d.source.fromUser?c=Jg(n,e,d.path,d.snap,i,r,o):(Y(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered()&&!Te(d.path),c=zh(n,e,d.path,d.snap,i,r,u,o))}else if(t.type===jn.MERGE){const d=t;d.source.fromUser?c=e3(n,e,d.path,d.children,i,r,o):(Y(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),c=ep(n,e,d.path,d.children,i,r,u,o))}else if(t.type===jn.ACK_USER_WRITE){const d=t;d.revert?c=i3(n,e,d.path,i,r,o):c=t3(n,e,d.path,d.affectedTree,i,r,o)}else if(t.type===jn.LISTEN_COMPLETE)c=n3(n,e,t.path,i,o);else throw Ga("Unknown operation type: "+t.type);const f=o.getChanges();return J6(e,c,f),{viewCache:c,changes:f}}function J6(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Ih(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(jE(Ih(e)))}}function KE(n,e,t,i,r,o){const c=e.eventCache;if(Ph(i,t)!=null)return e;{let u,f;if(Te(t))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=wr(e),p=d instanceof ue?d:ue.EMPTY_NODE,y=iy(i,p);u=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const d=Lh(i,wr(e));u=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=Se(t);if(d===".priority"){Y(Is(t)===1,"Can't have a priority with additional path components");const p=c.getNode();f=e.serverCache.getNode();const y=K1(i,t,p,f);y!=null?u=n.filter.updatePriority(p,y):u=c.getNode()}else{const p=$e(t);let y;if(c.isCompleteForChild(d)){f=e.serverCache.getNode();const _=K1(i,t,c.getNode(),f);_!=null?y=c.getNode().getImmediateChild(d).updateChild(p,_):y=c.getNode().getImmediateChild(d)}else y=sy(i,d,e.serverCache);y!=null?u=n.filter.updateChild(c.getNode(),d,y,p,r,o):u=c.getNode()}}return Rl(e,u,c.isFullyInitialized()||Te(t),n.filter.filtersNodes())}}function zh(n,e,t,i,r,o,c,u){const f=e.serverCache;let d;const p=c?n.filter:n.filter.getIndexedFilter();if(Te(t))d=p.updateFullNode(f.getNode(),i,null);else if(p.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(t,i);d=p.updateFullNode(f.getNode(),b,null)}else{const b=Se(t);if(!f.isCompleteForPath(t)&&Is(t)>1)return e;const x=$e(t),E=f.getNode().getImmediateChild(b).updateChild(x,i);b===".priority"?d=p.updatePriority(f.getNode(),E):d=p.updateChild(f.getNode(),b,E,x,XE,null)}const y=WE(e,d,f.isFullyInitialized()||Te(t),p.filtersNodes()),_=new ry(r,y,o);return KE(n,y,t,r,_,u)}function Jg(n,e,t,i,r,o,c){const u=e.eventCache;let f,d;const p=new ry(r,e,o);if(Te(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=Rl(e,d,!0,n.filter.filtersNodes());else{const y=Se(t);if(y===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),f=Rl(e,d,u.isFullyInitialized(),u.isFiltered());else{const _=$e(t),b=u.getNode().getImmediateChild(y);let x;if(Te(_))x=i;else{const w=p.getCompleteChild(y);w!=null?$p(_)===".priority"&&w.getChild(LE(_)).isEmpty()?x=w:x=w.updateChild(_,i):x=ue.EMPTY_NODE}if(b.equals(x))f=e;else{const w=n.filter.updateChild(u.getNode(),y,x,_,p,c);f=Rl(e,w,u.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function Q1(n,e){return n.eventCache.isCompleteForChild(e)}function e3(n,e,t,i,r,o,c){let u=e;return i.foreach((f,d)=>{const p=at(t,f);Q1(e,Se(p))&&(u=Jg(n,u,p,d,r,o,c))}),i.foreach((f,d)=>{const p=at(t,f);Q1(e,Se(p))||(u=Jg(n,u,p,d,r,o,c))}),u}function J1(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function ep(n,e,t,i,r,o,c,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,d;Te(t)?d=i:d=new Ge(null).setTree(t,i);const p=e.serverCache.getNode();return d.children.inorderTraversal((y,_)=>{if(p.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),x=J1(n,b,_);f=zh(n,f,new je(y),x,r,o,c,u)}}),d.children.inorderTraversal((y,_)=>{const b=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!p.hasChild(y)&&!b){const x=e.serverCache.getNode().getImmediateChild(y),w=J1(n,x,_);f=zh(n,f,new je(y),w,r,o,c,u)}}),f}function t3(n,e,t,i,r,o,c){if(Ph(r,t)!=null)return e;const u=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(Te(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return zh(n,e,t,f.getNode().getChild(t),r,o,u,c);if(Te(t)){let d=new Ge(null);return f.getNode().forEachChild(Ra,(p,y)=>{d=d.set(new je(p),y)}),ep(n,e,t,d,r,o,u,c)}else return e}else{let d=new Ge(null);return i.foreach((p,y)=>{const _=at(t,p);f.isCompleteForPath(_)&&(d=d.set(p,f.getNode().getChild(_)))}),ep(n,e,t,d,r,o,u,c)}}function n3(n,e,t,i,r){const o=e.serverCache,c=WE(e,o.getNode(),o.isFullyInitialized()||Te(t),o.isFiltered());return KE(n,c,t,i,XE,r)}function i3(n,e,t,i,r,o){let c;if(Ph(i,t)!=null)return e;{const u=new ry(i,e,r),f=e.eventCache.getNode();let d;if(Te(t)||Se(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Lh(i,wr(e));else{const y=e.serverCache.getNode();Y(y instanceof ue,"serverChildren would be complete if leaf node"),p=iy(i,y)}p=p,d=n.filter.updateFullNode(f,p,o)}else{const p=Se(t);let y=sy(i,p,e.serverCache);y==null&&e.serverCache.isCompleteForChild(p)&&(y=f.getImmediateChild(p)),y!=null?d=n.filter.updateChild(f,p,y,$e(t),u,o):e.eventCache.getNode().hasChild(p)?d=n.filter.updateChild(f,p,ue.EMPTY_NODE,$e(t),u,o):d=f,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Lh(i,wr(e)),c.isLeafNode()&&(d=n.filter.updateFullNode(d,c,o)))}return c=e.serverCache.isFullyInitialized()||Ph(i,ke())!=null,Rl(e,d,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Qp(i.getIndex()),o=x6(i);this.processor_=X6(o);const c=t.serverCache,u=t.eventCache,f=r.updateFullNode(ue.EMPTY_NODE,c.getNode(),null),d=o.updateFullNode(ue.EMPTY_NODE,u.getNode(),null),p=new Ls(f,c.isFullyInitialized(),r.filtersNodes()),y=new Ls(d,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=hf(y,p),this.eventGenerator_=new A6(this.query_)}get query(){return this.query_}}function r3(n){return n.viewCache_.serverCache.getNode()}function a3(n){return Ih(n.viewCache_)}function o3(n,e){const t=wr(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Te(e)&&!t.getImmediateChild(Se(e)).isEmpty())?t.getChild(e):null}function eS(n){return n.eventRegistrations_.length===0}function l3(n,e){n.eventRegistrations_.push(e)}function tS(n,e,t){const i=[];if(t){Y(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(e))r.push(c);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function nS(n,e,t,i){e.type===jn.MERGE&&e.source.queryId!==null&&(Y(wr(n.viewCache_),"We should always have a full cache before handling merges"),Y(Ih(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=Q6(n.processor_,r,e,t,i);return K6(n.processor_,o.viewCache),Y(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,QE(n,o.changes,o.viewCache.eventCache.getNode(),null)}function c3(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(et,(o,c)=>{i.push(za(o,c))}),t.isFullyInitialized()&&i.push(jE(t.getNode())),QE(n,i,t.getNode(),e)}function QE(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return R6(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;class JE{constructor(){this.views=new Map}}function u3(n){Y(!Uh,"__referenceConstructor has already been defined"),Uh=n}function h3(){return Y(Uh,"Reference.ts has not been loaded"),Uh}function f3(n){return n.views.size===0}function ay(n,e,t,i){const r=e.source.queryId;if(r!==null){const o=n.views.get(r);return Y(o!=null,"SyncTree gave us an op for an invalid query."),nS(o,e,t,i)}else{let o=[];for(const c of n.views.values())o=o.concat(nS(c,e,t,i));return o}}function eT(n,e,t,i,r){const o=e._queryIdentifier,c=n.views.get(o);if(!c){let u=Lh(t,r?i:null),f=!1;u?f=!0:i instanceof ue?(u=iy(t,i),f=!1):(u=ue.EMPTY_NODE,f=!1);const d=hf(new Ls(u,f,!1),new Ls(i,r,!1));return new s3(e,d)}return c}function d3(n,e,t,i,r,o){const c=eT(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),l3(c,t),c3(c,t)}function m3(n,e,t,i){const r=e._queryIdentifier,o=[];let c=[];const u=Ps(n);if(r==="default")for(const[f,d]of n.views.entries())c=c.concat(tS(d,t,i)),eS(d)&&(n.views.delete(f),d.query._queryParams.loadsAllData()||o.push(d.query));else{const f=n.views.get(r);f&&(c=c.concat(tS(f,t,i)),eS(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return u&&!Ps(n)&&o.push(new(h3())(e._repo,e._path)),{removed:o,events:c}}function tT(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function As(n,e){let t=null;for(const i of n.views.values())t=t||o3(i,e);return t}function nT(n,e){if(e._queryParams.loadsAllData())return df(n);{const i=e._queryIdentifier;return n.views.get(i)}}function iT(n,e){return nT(n,e)!=null}function Ps(n){return df(n)!=null}function df(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh;function g3(n){Y(!Hh,"__referenceConstructor has already been defined"),Hh=n}function p3(){return Y(Hh,"Reference.ts has not been loaded"),Hh}let y3=1;class iS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=Y6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oy(n,e,t,i,r){return I6(n.pendingWriteTree_,e,t,i,r),r?eo(n,new xr(ey(),e,t)):[]}function _3(n,e,t,i){L6(n.pendingWriteTree_,e,t,i);const r=Ge.fromObject(t);return eo(n,new Ua(ey(),e,r))}function Ss(n,e,t=!1){const i=P6(n.pendingWriteTree_,e);if(z6(n.pendingWriteTree_,e)){let o=new Ge(null);return i.snap!=null?o=o.set(ke(),!0):kt(i.children,c=>{o=o.set(new je(c),!0)}),eo(n,new Nh(i.path,o,t))}else return[]}function fc(n,e,t){return eo(n,new xr(ty(),e,t))}function v3(n,e,t){const i=Ge.fromObject(t);return eo(n,new Ua(ty(),e,i))}function b3(n,e){return eo(n,new Gl(ty(),e))}function S3(n,e,t){const i=ly(n,t);if(i){const r=cy(i),o=r.path,c=r.queryId,u=Bt(o,e),f=new Gl(ny(c),u);return uy(n,o,f)}else return[]}function Bh(n,e,t,i,r=!1){const o=e._path,c=n.syncPointTree_.get(o);let u=[];if(c&&(e._queryIdentifier==="default"||iT(c,e))){const f=m3(c,e,t,i);f3(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const d=f.removed;if(u=f.events,!r){const p=d.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(_,b)=>Ps(b));if(p&&!y){const _=n.syncPointTree_.subtree(o);if(!_.isEmpty()){const b=E3(_);for(let x=0;x<b.length;++x){const w=b[x],E=w.query,M=oT(n,w);n.listenProvider_.startListening(Dl(E),$l(n,E),M.hashFn,M.onComplete)}}}!y&&d.length>0&&!i&&(p?n.listenProvider_.stopListening(Dl(e),null):d.forEach(_=>{const b=n.queryToTagMap.get(gf(_));n.listenProvider_.stopListening(Dl(_),b)}))}T3(n,d)}return u}function sT(n,e,t,i){const r=ly(n,i);if(r!=null){const o=cy(r),c=o.path,u=o.queryId,f=Bt(c,e),d=new xr(ny(u),f,t);return uy(n,c,d)}else return[]}function x3(n,e,t,i){const r=ly(n,i);if(r){const o=cy(r),c=o.path,u=o.queryId,f=Bt(c,e),d=Ge.fromObject(t),p=new Ua(ny(u),f,d);return uy(n,c,p)}else return[]}function tp(n,e,t,i=!1){const r=e._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(_,b)=>{const x=Bt(_,r);o=o||As(b,x),c=c||Ps(b)});let u=n.syncPointTree_.get(r);u?(c=c||Ps(u),o=o||As(u,ke())):(u=new JE,n.syncPointTree_=n.syncPointTree_.set(r,u));let f;o!=null?f=!0:(f=!1,o=ue.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((b,x)=>{const w=As(x,ke());w&&(o=o.updateImmediateChild(b,w))}));const d=iT(u,e);if(!d&&!e._queryParams.loadsAllData()){const _=gf(e);Y(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const b=C3();n.queryToTagMap.set(_,b),n.tagToQueryMap.set(b,_)}const p=ff(n.pendingWriteTree_,r);let y=d3(u,e,t,p,o,f);if(!d&&!c&&!i){const _=nT(u,e);y=y.concat(M3(n,e,_))}return y}function mf(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,u)=>{const f=Bt(c,e),d=As(u,f);if(d)return d});return GE(r,e,o,t,!0)}function w3(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(d,p)=>{const y=Bt(d,t);i=i||As(p,y)});let r=n.syncPointTree_.get(t);r?i=i||As(r,ke()):(r=new JE,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=i!=null,c=o?new Ls(i,!0,!1):null,u=ff(n.pendingWriteTree_,e._path),f=eT(r,e,u,o?c.getNode():ue.EMPTY_NODE,o);return a3(f)}function eo(n,e){return rT(e,n.syncPointTree_,null,ff(n.pendingWriteTree_,ke()))}function rT(n,e,t,i){if(Te(n.path))return aT(n,e,t,i);{const r=e.get(ke());t==null&&r!=null&&(t=As(r,ke()));let o=[];const c=Se(n.path),u=n.operationForChild(c),f=e.children.get(c);if(f&&u){const d=t?t.getImmediateChild(c):null,p=$E(i,c);o=o.concat(rT(u,f,d,p))}return r&&(o=o.concat(ay(r,n,i,t))),o}}function aT(n,e,t,i){const r=e.get(ke());t==null&&r!=null&&(t=As(r,ke()));let o=[];return e.children.inorderTraversal((c,u)=>{const f=t?t.getImmediateChild(c):null,d=$E(i,c),p=n.operationForChild(c);p&&(o=o.concat(aT(p,u,f,d)))}),r&&(o=o.concat(ay(r,n,i,t))),o}function oT(n,e){const t=e.query,i=$l(n,t);return{hashFn:()=>(r3(e)||ue.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?S3(n,t._path,i):b3(n,t._path);{const o=bI(r,t);return Bh(n,t,null,o)}}}}function $l(n,e){const t=gf(e);return n.queryToTagMap.get(t)}function gf(n){return n._path.toString()+"$"+n._queryIdentifier}function ly(n,e){return n.tagToQueryMap.get(e)}function cy(n){const e=n.indexOf("$");return Y(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new je(n.substr(0,e))}}function uy(n,e,t){const i=n.syncPointTree_.get(e);Y(i,"Missing sync point for query tag that we're tracking");const r=ff(n.pendingWriteTree_,e);return ay(i,t,r,null)}function E3(n){return n.fold((e,t,i)=>{if(t&&Ps(t))return[df(t)];{let r=[];return t&&(r=tT(t)),kt(i,(o,c)=>{r=r.concat(c)}),r}})}function Dl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(p3())(n._repo,n._path):n}function T3(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=gf(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function C3(){return y3++}function M3(n,e,t){const i=e._path,r=$l(n,e),o=oT(n,t),c=n.listenProvider_.startListening(Dl(e),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)Y(!Ps(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((d,p,y)=>{if(!Te(d)&&p&&Ps(p))return[df(p).query];{let _=[];return p&&(_=_.concat(tT(p).map(b=>b.query))),kt(y,(b,x)=>{_=_.concat(x)}),_}});for(let d=0;d<f.length;++d){const p=f[d];n.listenProvider_.stopListening(Dl(p),$l(n,p))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hy(t)}node(){return this.node_}}class fy{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=at(this.path_,e);return new fy(this.syncTree_,t)}node(){return mf(this.syncTree_,this.path_)}}const O3=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},sS=function(n,e,t){if(!n||typeof n!="object")return n;if(Y(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return A3(n[".sv"],e,t);if(typeof n[".sv"]=="object")return R3(n[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},A3=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Y(!1,"Unexpected server value: "+n)}},R3=function(n,e,t){n.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Y(!1,"Unexpected increment value: "+i);const r=e.node();if(Y(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return typeof c!="number"?i:c+i},lT=function(n,e,t,i){return my(e,new fy(t,n),i)},dy=function(n,e,t){return my(n,new hy(e),t)};function my(n,e,t){const i=n.getPriority().val(),r=sS(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,u=sS(c.getValue(),e,t);return u!==c.getValue()||r!==c.getPriority().val()?new Tt(u,mt(r)):n}else{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Tt(r))),c.forEachChild(et,(u,f)=>{const d=my(f,e.getImmediateChild(u),t);d!==f&&(o=o.updateImmediateChild(u,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function pf(n,e){let t=e instanceof je?e:new je(e),i=n,r=Se(t);for(;r!==null;){const o=yr(i.node.children,r)||{children:{},childCount:0};i=new gy(r,i,o),t=$e(t),r=Se(t)}return i}function Ar(n){return n.node.value}function py(n,e){n.node.value=e,np(n)}function cT(n){return n.node.childCount>0}function k3(n){return Ar(n)===void 0&&!cT(n)}function yf(n,e){kt(n.node.children,(t,i)=>{e(new gy(t,n,i))})}function uT(n,e,t,i){t&&e(n),yf(n,r=>{uT(r,e,!0)})}function D3(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function dc(n){return new je(n.parent===null?n.name:dc(n.parent)+"/"+n.name)}function np(n){n.parent!==null&&N3(n.parent,n.name,n)}function N3(n,e,t){const i=k3(t),r=Gn(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,np(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,np(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/[\[\].#$\/\u0000-\u001F\u007F]/,L3=/[\[\].#$\u0000-\u001F\u007F]/,fg=10*1024*1024,yy=function(n){return typeof n=="string"&&n.length!==0&&!I3.test(n)},hT=function(n){return typeof n=="string"&&n.length!==0&&!L3.test(n)},P3=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hT(n)},fT=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Vp(n)||n&&typeof n=="object"&&Gn(n,".sv")},z3=function(n,e,t,i){mc(rf(n,"value"),e,t)},mc=function(n,e,t){const i=t instanceof je?new e6(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+cr(i));if(typeof e=="function")throw new Error(n+"contains a function "+cr(i)+" with contents = "+e.toString());if(Vp(e))throw new Error(n+"contains "+e.toString()+" "+cr(i));if(typeof e=="string"&&e.length>fg/3&&af(e)>fg)throw new Error(n+"contains a string greater than "+fg+" utf8 bytes "+cr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(kt(e,(c,u)=>{if(c===".value")r=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!yy(c)))throw new Error(n+" contains an invalid key ("+c+") "+cr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);t6(i,c),mc(n,u,i),n6(i)}),r&&o)throw new Error(n+' contains ".value" child '+cr(i)+" in addition to actual children.")}},U3=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=Vl(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!yy(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(JI);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&An(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},H3=function(n,e,t,i){const r=rf(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];kt(e,(c,u)=>{const f=new je(c);if(mc(r,u,at(t,f)),$p(f)===".priority"&&!fT(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),U3(r,o)},dT=function(n,e,t,i){if(!hT(t))throw new Error(rf(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},B3=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dT(n,e,t)},mT=function(n,e){if(Se(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},F3=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!P3(t))throw new Error(rf(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _f(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();t!==null&&!Zp(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function gT(n,e,t){_f(n,t),pT(n,i=>Zp(i,e))}function gn(n,e,t){_f(n,t),pT(n,i=>An(i,e)||An(e,i))}function pT(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const o=r.path;e(o)?(V3(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function V3(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Ol&&Rt("event: "+t.toString()),Ja(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="repo_interrupt",q3=25;class Y3{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dh(),this.transactionQueueTree_=new gy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function G3(n,e,t){if(n.stats_=Yp(n.repoInfo_),n.forceRestClient_||EI())n.server_=new kh(n.repoInfo_,(i,r,o,c)=>{rS(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>aS(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Pi(n.repoInfo_,e,(i,r,o,c)=>{rS(n,i,r,o,c)},i=>{aS(n,i)},i=>{Z3(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=AI(n.repoInfo_,()=>new O6(n.stats_,n.server_)),n.infoData_=new w6,n.infoSyncTree_=new iS({startListening:(i,r,o,c)=>{let u=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(u=fc(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),_y(n,"connected",!1),n.serverSyncTree_=new iS({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(u,f)=>{const d=c(u,f);gn(n.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function $3(n){const t=n.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function gc(n){return O3({timestamp:$3(n)})}function rS(n,e,t,i,r){n.dataUpdateCount++;const o=new je(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=Sh(t,d=>mt(d));c=x3(n.serverSyncTree_,o,f,r)}else{const f=mt(t);c=sT(n.serverSyncTree_,o,f,r)}else if(i){const f=Sh(t,d=>mt(d));c=v3(n.serverSyncTree_,o,f)}else{const f=mt(t);c=fc(n.serverSyncTree_,o,f)}let u=o;c.length>0&&(u=Ba(n,o)),gn(n.eventQueue_,u,c)}function aS(n,e){_y(n,"connected",e),e===!1&&J3(n)}function Z3(n,e){kt(e,(t,i)=>{_y(n,t,i)})}function _y(n,e,t){const i=new je("/.info/"+e),r=mt(t);n.infoData_.updateSnapshot(i,r);const o=fc(n.infoSyncTree_,i,r);gn(n.eventQueue_,i,o)}function vf(n){return n.nextWriteId_++}function X3(n,e,t){const i=w3(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{const o=mt(r).withIndex(e._queryParams.getIndex());tp(n.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=fc(n.serverSyncTree_,e._path,o);else{const u=$l(n.serverSyncTree_,e);c=sT(n.serverSyncTree_,e._path,o,u)}return gn(n.eventQueue_,e._path,c),Bh(n.serverSyncTree_,e,t,null,!0),o},r=>(to(n,"get for query "+_t(e)+" failed: "+r),Promise.reject(new Error(r))))}function K3(n,e,t,i,r){to(n,"set",{path:e.toString(),value:t,priority:i});const o=gc(n),c=mt(t,i),u=mf(n.serverSyncTree_,e),f=dy(c,u,o),d=vf(n),p=oy(n.serverSyncTree_,e,f,d,!0);_f(n.eventQueue_,p),n.server_.put(e.toString(),c.val(!0),(_,b)=>{const x=_==="ok";x||jt("set at "+e+" failed: "+_);const w=Ss(n.serverSyncTree_,d,!x);gn(n.eventQueue_,e,w),ip(n,r,_,b)});const y=by(n,e);Ba(n,y),gn(n.eventQueue_,y,[])}function Q3(n,e,t,i){to(n,"update",{path:e.toString(),value:t});let r=!0;const o=gc(n),c={};if(kt(t,(u,f)=>{r=!1,c[u]=lT(at(e,u),mt(f),n.serverSyncTree_,o)}),r)Rt("update() called with empty data.  Don't do anything."),ip(n,i,"ok",void 0);else{const u=vf(n),f=_3(n.serverSyncTree_,e,c,u);_f(n.eventQueue_,f),n.server_.merge(e.toString(),t,(d,p)=>{const y=d==="ok";y||jt("update at "+e+" failed: "+d);const _=Ss(n.serverSyncTree_,u,!y),b=_.length>0?Ba(n,e):e;gn(n.eventQueue_,b,_),ip(n,i,d,p)}),kt(t,d=>{const p=by(n,at(e,d));Ba(n,p)}),gn(n.eventQueue_,e,[])}}function J3(n){to(n,"onDisconnectEvents");const e=gc(n),t=Dh();Zg(n.onDisconnect_,ke(),(r,o)=>{const c=lT(r,o,n.serverSyncTree_,e);VE(t,r,c)});let i=[];Zg(t,ke(),(r,o)=>{i=i.concat(fc(n.serverSyncTree_,r,o));const c=by(n,r);Ba(n,c)}),n.onDisconnect_=Dh(),gn(n.eventQueue_,ke(),i)}function e4(n,e,t){let i;Se(e._path)===".info"?i=tp(n.infoSyncTree_,e,t):i=tp(n.serverSyncTree_,e,t),gT(n.eventQueue_,e._path,i)}function t4(n,e,t){let i;Se(e._path)===".info"?i=Bh(n.infoSyncTree_,e,t):i=Bh(n.serverSyncTree_,e,t),gT(n.eventQueue_,e._path,i)}function n4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(W3)}function to(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Rt(t,...e)}function ip(n,e,t,i){e&&Ja(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,e(c)}})}function i4(n,e,t,i,r,o){to(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:dE(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=vy(n,e,void 0);c.currentInputSnapshot=u;const f=c.update(u.val());if(f===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{mc("transaction failed: Data returned ",f,c.path),c.status=0;const d=pf(n.transactionQueueTree_,e),p=Ar(d)||[];p.push(c),py(d,p);let y;typeof f=="object"&&f!==null&&Gn(f,".priority")?(y=yr(f,".priority"),Y(fT(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(mf(n.serverSyncTree_,e)||ue.EMPTY_NODE).getPriority().val();const _=gc(n),b=mt(f,y),x=dy(b,u,_);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=x,c.currentWriteId=vf(n);const w=oy(n.serverSyncTree_,e,x,c.currentWriteId,c.applyLocally);gn(n.eventQueue_,e,w),bf(n,n.transactionQueueTree_)}}function vy(n,e,t){return mf(n.serverSyncTree_,e,t)||ue.EMPTY_NODE}function bf(n,e=n.transactionQueueTree_){if(e||Sf(n,e),Ar(e)){const t=_T(n,e);Y(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&s4(n,dc(e),t)}else cT(e)&&yf(e,t=>{bf(n,t)})}function s4(n,e,t){const i=t.map(d=>d.currentWriteId),r=vy(n,e,i);let o=r;const c=r.hash();for(let d=0;d<t.length;d++){const p=t[d];Y(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=Bt(e,p.path);o=o.updateChild(y,p.currentOutputSnapshotRaw)}const u=o.val(!0),f=e;n.server_.put(f.toString(),u,d=>{to(n,"transaction put response",{path:f.toString(),status:d});let p=[];if(d==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(Ss(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();Sf(n,pf(n.transactionQueueTree_,e)),bf(n,n.transactionQueueTree_),gn(n.eventQueue_,e,p);for(let _=0;_<y.length;_++)Ja(y[_])}else{if(d==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{jt("transaction at "+f.toString()+" failed: "+d);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=d}Ba(n,e)}},c)}function Ba(n,e){const t=yT(n,e),i=dc(t),r=_T(n,t);return r4(n,r,i),i}function r4(n,e,t){if(e.length===0)return;const i=[];let r=[];const c=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const f=e[u],d=Bt(t,f.path);let p=!1,y;if(Y(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,y=f.abortReason,r=r.concat(Ss(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=q3)p=!0,y="maxretry",r=r.concat(Ss(n.serverSyncTree_,f.currentWriteId,!0));else{const _=vy(n,f.path,c);f.currentInputSnapshot=_;const b=e[u].update(_.val());if(b!==void 0){mc("transaction failed: Data returned ",b,f.path);let x=mt(b);typeof b=="object"&&b!=null&&Gn(b,".priority")||(x=x.updatePriority(_.getPriority()));const E=f.currentWriteId,M=gc(n),R=dy(x,_,M);f.currentOutputSnapshotRaw=x,f.currentOutputSnapshotResolved=R,f.currentWriteId=vf(n),c.splice(c.indexOf(E),1),r=r.concat(oy(n.serverSyncTree_,f.path,R,f.currentWriteId,f.applyLocally)),r=r.concat(Ss(n.serverSyncTree_,E,!0))}else p=!0,y="nodata",r=r.concat(Ss(n.serverSyncTree_,f.currentWriteId,!0))}gn(n.eventQueue_,t,r),r=[],p&&(e[u].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[u].unwatcher),e[u].onComplete&&(y==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(y),!1,null))))}Sf(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Ja(i[u]);bf(n,n.transactionQueueTree_)}function yT(n,e){let t,i=n.transactionQueueTree_;for(t=Se(e);t!==null&&Ar(i)===void 0;)i=pf(i,t),e=$e(e),t=Se(e);return i}function _T(n,e){const t=[];return vT(n,e,t),t.sort((i,r)=>i.order-r.order),t}function vT(n,e,t){const i=Ar(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);yf(e,r=>{vT(n,r,t)})}function Sf(n,e){const t=Ar(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,py(e,t.length>0?t:void 0)}yf(e,i=>{Sf(n,i)})}function by(n,e){const t=dc(yT(n,e)),i=pf(n.transactionQueueTree_,e);return D3(i,r=>{dg(n,r)}),dg(n,i),uT(i,r=>{dg(n,r)}),t}function dg(n,e){const t=Ar(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(Y(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):(Y(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Ss(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?py(e,void 0):t.length=o+1,gn(n.eventQueue_,dc(e),r);for(let c=0;c<i.length;c++)Ja(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function o4(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):jt(`Invalid query segment '${t}' in query '${n}'`)}return e}const oS=function(n,e){const t=l4(n),i=t.namespace;t.domain==="firebase.com"&&Bi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||gI();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new CE(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new je(t.pathString)}},l4=function(n){let e="",t="",i="",r="",o="",c=!0,u="https",f=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(u=n.substring(0,d-1),n=n.substring(d+2));let p=n.indexOf("/");p===-1&&(p=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(p,y)),p<y&&(r=a4(n.substring(p,y)));const _=o4(n.substring(Math.min(n.length,y)));d=e.indexOf(":"),d>=0?(c=u==="https"||u==="wss",f=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=i}"ns"in _&&(o=_.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())}}class u4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Te(this._path)?null:$p(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const e=G1(this._queryParams),t=Wp(e);return t==="{}"?"default":t}get _queryObject(){return G1(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof Sy))return!1;const t=this._repo===e._repo,i=Zp(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+QI(this._path)}}class li extends Sy{constructor(e,t){super(e,t,new Jp,!1)}get parent(){const e=LE(this._path);return e===null?null:new li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fa{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new je(e),i=sp(this.ref,e);return new Fa(this._node.getChild(t),i,et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Fa(r,sp(this.ref,i),et)))}hasChild(e){const t=new je(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jt(n,e){return n=Wt(n),n._checkNotDeleted("ref"),e!==void 0?sp(n._root,e):n._root}function sp(n,e){return n=Wt(n),Se(n._path)===null?B3("child","path",e):dT("child","path",e),new li(n._repo,at(n._path,e))}function ST(n,e){n=Wt(n),mT("set",n._path),z3("set",e,n._path);const t=new $a;return K3(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function xT(n,e){H3("update",e,n._path);const t=new $a;return Q3(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function dn(n){n=Wt(n);const e=new bT(()=>{}),t=new xf(e);return X3(n._repo,n,t).then(i=>new Fa(i,new li(n._repo,n._path),n._queryParams.getIndex()))}class xf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new c4("value",this,new Fa(e.snapshotNode,new li(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new u4(this,e,t):null}matches(e){return e instanceof xf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function h4(n,e,t,i,r){const o=new bT(t,void 0),c=new xf(o);return e4(n._repo,n,c),()=>t4(n._repo,n,c)}function f4(n,e,t,i){return h4(n,"value",e)}u3(li);g3(li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="FIREBASE_DATABASE_EMULATOR_HOST",rp={};let m4=!1;function g4(n,e,t,i){const r=e.lastIndexOf(":"),o=e.substring(0,r),c=Za(o);n.repoInfo_=new CE(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function p4(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=oS(o,r),u=c.repoInfo,f;typeof process<"u"&&A1&&(f=A1[d4]),f?(o=`http://${f}?ns=${u.namespace}`,c=oS(o,r),u=c.repoInfo):c.repoInfo.secure;const d=new CI(n.name,n.options,e);F3("Invalid Firebase Database URL",c),Te(c.path)||Bi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=_4(u,n,d,new TI(n,t));return new v4(p,n)}function y4(n,e){const t=rp[e];(!t||t[n.key]!==n)&&Bi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),n4(n),delete t[n.key]}function _4(n,e,t,i){let r=rp[e.name];r||(r={},rp[e.name]=r);let o=r[n.toURLString()];return o&&Bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Y3(n,m4,t,i),r[n.toURLString()]=o,o}class v4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(G3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(y4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bi("Cannot call "+e+" on a deleted database.")}}function b4(n=Aw(),e){const t=Np(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=DR("database");i&&S4(t,...i)}return t}function S4(n,e,t,i={}){n=Wt(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&_r(i,o.repoInfo_.emulatorOptions))return;Bi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new hh(hh.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:NR(i.mockUserToken,n.app.options.projectId);c=new hh(u)}Za(e)&&(xw(e),ww("Database",!0)),g4(o,r,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){uI(Ka),La(new vr("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return p4(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),Cs(R1,k1,n),Cs(R1,k1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function E4(n,e,t){if(n=Wt(n),mT("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=!0,r=new $a,o=(u,f,d)=>{let p=null;u?r.reject(u):(p=new Fa(d,new li(n._repo,n._path),et),r.resolve(new w4(f,p)))},c=f4(n,()=>{});return i4(n._repo,n._path,e,o,c,i),r.promise}Pi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Pi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};x4();const T4={apiKey:"AIzaSyBc0dGkBKXhK_0AcfXFo2aHvoWXQHu0VEY",authDomain:"english-master-5ca79.firebaseapp.com",databaseURL:"https://english-master-5ca79-default-rtdb.firebaseio.com",projectId:"english-master-5ca79",storageBucket:"english-master-5ca79.firebasestorage.app",messagingSenderId:"1003173994906",appId:"1:1003173994906:web:a85404f0c521270a8d1a23",measurementId:"G-S1T3737QG1"},C4=Ow(T4),ja=aI(),en=b4(C4),wT=new Ai,ET=I.createContext(),M4=({children:n})=>{const[e,t]=I.useState(null),[i,r]=I.useState(!0);I.useEffect(()=>{const c=XD(ja,u=>{t(u),r(!1)});return()=>c()},[]);const o={user:e,loading:i};return C.jsx(ET.Provider,{value:o,children:!i&&n})},no=()=>I.useContext(ET),O4=[{days:5,borderColor:"#FBBF24"},{days:10,borderColor:"#F59E0B"},{days:20,borderColor:"#FB923C"},{days:30,borderColor:"#EA580C"},{days:60,borderColor:"#2563EB"},{days:100,borderColor:"#9333EA"},{days:150,borderColor:"#D97706"},{days:200,borderColor:"#FBBF24"},{days:250,borderColor:"#F59E0B"},{days:300,borderColor:"#EAB308"},{days:365,borderColor:"#FFD700"}];function TT({streakCount:n,isGot:e,isNew:t=!1}){return C.jsx("div",{className:`flex items-center justify-center relative transform transition-all duration-500 ${e?"animate-pulse":"animate-none"} ${t?"w-28 h-28":"w-20 h-20"}`,children:C.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[C.jsxs("defs",{children:[C.jsx("clipPath",{id:"hexClip",children:C.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25"})}),C.jsxs("filter",{id:"glass",x:"0",y:"0",width:"100%",height:"100%",children:[C.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),C.jsx("feFlood",{floodColor:"#ffffff",floodOpacity:"0.3"}),C.jsx("feComposite",{in2:"blur",operator:"in"}),C.jsxs("feMerge",{children:[C.jsx("feMergeNode",{}),C.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),C.jsxs("radialGradient",{id:"sparkGrad",cx:"50%",cy:"50%",r:"50%",children:[C.jsx("stop",{offset:"0%",stopColor:"#FFD700",stopOpacity:"1"}),C.jsx("stop",{offset:"100%",stopColor:"#FFD700",stopOpacity:"0"})]})]}),C.jsx("rect",{width:"100",height:"100",rx:"12",ry:"12",fill:"rgba(255,255,255,0.4)",filter:"url(#glass)",clipPath:"url(#hexClip)"}),C.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25",fill:"none",stroke:e?O4.find(i=>i.days==n).borderColor:"#EEEEEE",strokeWidth:"4"}),C.jsx("text",{x:"50",y:"58",textAnchor:"middle",fontFamily:"'Montserrat', sans-serif",fontWeight:"100",fontSize:"22",fill:e?"#111111":"#CCCCCC",children:n}),e&&n===365&&[...Array(8)].map((i,r)=>{const o=r/8*2*Math.PI,c=40,u=50+c*Math.cos(o),f=50+c*Math.sin(o),d=1+Math.random();return C.jsxs("circle",{cx:u,cy:f,r:"2",fill:"url(#sparkGrad)",children:[C.jsx("animate",{attributeName:"r",values:"2;5;2",dur:`${d}s`,repeatCount:"indefinite"}),C.jsx("animate",{attributeName:"opacity",values:"1;0.2;1",dur:`${d}s`,repeatCount:"indefinite"})]},r)})]})})}const lS=[5,10,20,30,60,100,150,200,250,300,365];function A4({streakCount:n}){const e=I.useRef(null),t=I.useRef([]),i=lS.filter(r=>r<=n).length-1;return I.useEffect(()=>{if(e.current&&t.current[i]){const r=e.current,o=t.current[i],c=r.offsetWidth,u=o.offsetWidth,d=o.offsetLeft-c/2+u/2;r.scrollTo({left:d,behavior:"smooth"})}},[i]),C.jsx("div",{ref:e,className:"flex gap-4 overflow-x-auto px-4 py-6 w-full snap-x snap-mandatory scrollbar-hide",children:lS.map((r,o)=>C.jsx("div",{className:"snap-center flex-shrink-0 h-fit",ref:c=>t.current[o]=c,children:C.jsx(TT,{streakCount:r,isGot:r<=n})},o))})}function R4({streakCount:n,dailyActivity:e}){const t=[1,2,3,4,5,6,7];return C.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[C.jsxs("div",{className:"text-6xl font-extrabold text-[var(--color-accent)]",children:[n,n<=1?"Day":"Days"]}),C.jsx("div",{className:"text-gray-600 font-JP",children:""}),C.jsx("div",{className:"flex gap-2",children:e?C.jsx(C.Fragment,{children:Object.entries(e).map(([i,r])=>C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("div",{className:`w-8 h-8 rounded transition-colors duration-300 ${r?"bg-[var(--color-accent)]":"bg-gray-300"}`}),C.jsx("p",{className:"text-center text-xs h-4",children:new Date(i).toDateString().slice(0,3)})]},i))}):C.jsx(C.Fragment,{children:t.map((i,r)=>C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsx("div",{className:"w-8 h-8 rounded animation-pulse bg-gray-200"}),C.jsx("p",{className:"h-4 bg-gray-200 animation-pulse rounded-xl"})]},r))})}),C.jsx(A4,{streakCount:n})]})}class Rr extends Error{}class k4 extends Rr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class D4 extends Rr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class N4 extends Rr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ta extends Rr{}class CT extends Rr{constructor(e){super(`Invalid unit ${e}`)}}class Pt extends Rr{}class gs extends Rr{constructor(){super("Zone is an abstract class")}}const Z="numeric",Yn="short",mn="long",Fh={year:Z,month:Z,day:Z},MT={year:Z,month:Yn,day:Z},I4={year:Z,month:Yn,day:Z,weekday:Yn},OT={year:Z,month:mn,day:Z},AT={year:Z,month:mn,day:Z,weekday:mn},RT={hour:Z,minute:Z},kT={hour:Z,minute:Z,second:Z},DT={hour:Z,minute:Z,second:Z,timeZoneName:Yn},NT={hour:Z,minute:Z,second:Z,timeZoneName:mn},IT={hour:Z,minute:Z,hourCycle:"h23"},LT={hour:Z,minute:Z,second:Z,hourCycle:"h23"},PT={hour:Z,minute:Z,second:Z,hourCycle:"h23",timeZoneName:Yn},zT={hour:Z,minute:Z,second:Z,hourCycle:"h23",timeZoneName:mn},UT={year:Z,month:Z,day:Z,hour:Z,minute:Z},HT={year:Z,month:Z,day:Z,hour:Z,minute:Z,second:Z},BT={year:Z,month:Yn,day:Z,hour:Z,minute:Z},FT={year:Z,month:Yn,day:Z,hour:Z,minute:Z,second:Z},L4={year:Z,month:Yn,day:Z,weekday:Yn,hour:Z,minute:Z},jT={year:Z,month:mn,day:Z,hour:Z,minute:Z,timeZoneName:Yn},VT={year:Z,month:mn,day:Z,hour:Z,minute:Z,second:Z,timeZoneName:Yn},WT={year:Z,month:mn,day:Z,weekday:mn,hour:Z,minute:Z,timeZoneName:mn},qT={year:Z,month:mn,day:Z,weekday:mn,hour:Z,minute:Z,second:Z,timeZoneName:mn};class pc{get type(){throw new gs}get name(){throw new gs}get ianaName(){return this.name}get isUniversal(){throw new gs}offsetName(e,t){throw new gs}formatOffset(e,t){throw new gs}offset(e){throw new gs}equals(e){throw new gs}get isValid(){throw new gs}}let mg=null;class wf extends pc{static get instance(){return mg===null&&(mg=new wf),mg}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return n2(e,t,i)}formatOffset(e,t){return Nl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const ap=new Map;function P4(n){let e=ap.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),ap.set(n,e)),e}const z4={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function U4(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,o,c,u,f,d,p]=i;return[c,r,o,u,f,d,p]}function H4(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:o,value:c}=t[r],u=z4[o];o==="era"?i[u]=c:me(u)||(i[u]=parseInt(c,10))}return i}const gg=new Map;class Fi extends pc{static create(e){let t=gg.get(e);return t===void 0&&gg.set(e,t=new Fi(e)),t}static resetCache(){gg.clear(),ap.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Fi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return n2(e,t,i,this.name)}formatOffset(e,t){return Nl(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const i=P4(this.name);let[r,o,c,u,f,d,p]=i.formatToParts?H4(i,t):U4(i,t);u==="BC"&&(r=-Math.abs(r)+1);const _=Tf({year:r,month:o,day:c,hour:f===24?0:f,minute:d,second:p,millisecond:0});let b=+t;const x=b%1e3;return b-=x>=0?x:1e3+x,(_-b)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let cS={};function B4(n,e={}){const t=JSON.stringify([n,e]);let i=cS[t];return i||(i=new Intl.ListFormat(n,e),cS[t]=i),i}const op=new Map;function lp(n,e={}){const t=JSON.stringify([n,e]);let i=op.get(t);return i===void 0&&(i=new Intl.DateTimeFormat(n,e),op.set(t,i)),i}const cp=new Map;function F4(n,e={}){const t=JSON.stringify([n,e]);let i=cp.get(t);return i===void 0&&(i=new Intl.NumberFormat(n,e),cp.set(t,i)),i}const up=new Map;function j4(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let o=up.get(r);return o===void 0&&(o=new Intl.RelativeTimeFormat(n,e),up.set(r,o)),o}let bl=null;function V4(){return bl||(bl=new Intl.DateTimeFormat().resolvedOptions().locale,bl)}const hp=new Map;function YT(n){let e=hp.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),hp.set(n,e)),e}const fp=new Map;function W4(n){let e=fp.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...GT,...e}),fp.set(n,e)}return e}function q4(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=lp(n).resolvedOptions(),r=n}catch{const f=n.substring(0,t);i=lp(f).resolvedOptions(),r=f}const{numberingSystem:o,calendar:c}=i;return[r,o,c]}}function Y4(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function G4(n){const e=[];for(let t=1;t<=12;t++){const i=he.utc(2009,t,1);e.push(n(i))}return e}function $4(n){const e=[];for(let t=1;t<=7;t++){const i=he.utc(2016,11,13+t);e.push(n(i))}return e}function Fu(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function Z4(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||YT(n.locale).numberingSystem==="latn"}class X4{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:o,...c}=i;if(!t||Object.keys(c).length>0){const u={useGrouping:!1,...i};i.padTo>0&&(u.minimumIntegerDigits=i.padTo),this.inf=F4(e,u)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Cy(e,3);return dt(t,this.padTo)}}}class K4{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const c=-1*(e.offset/60),u=c>=0?`Etc/GMT+${c}`:`Etc/GMT${c}`;e.offset!==0&&Fi.create(u).valid?(r=u,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=lp(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Q4{constructor(e,t,i){this.opts={style:"long",...i},!t&&e2()&&(this.rtf=j4(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):b5(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const GT={firstDay:1,minimalDays:4,weekend:[6,7]};class Ie{static fromOpts(e){return Ie.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,o=!1){const c=e||rt.defaultLocale,u=c||(o?"en-US":V4()),f=t||rt.defaultNumberingSystem,d=i||rt.defaultOutputCalendar,p=mp(r)||rt.defaultWeekSettings;return new Ie(u,f,d,p,c)}static resetCache(){bl=null,op.clear(),cp.clear(),up.clear(),hp.clear(),fp.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return Ie.create(e,t,i,r)}constructor(e,t,i,r,o){const[c,u,f]=q4(e);this.locale=c,this.numberingSystem=t||u||null,this.outputCalendar=i||f||null,this.weekSettings=r,this.intl=Y4(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Z4(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ie.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,mp(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Fu(this,e,r2,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");t&=!i;const r=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";if(!this.monthsCache[o][e]){const c=i?u=>this.dtFormatter(u,r).format():u=>this.extract(u,r,"month");this.monthsCache[o][e]=G4(c)}return this.monthsCache[o][e]})}weekdays(e,t=!1){return Fu(this,e,l2,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=$4(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Fu(this,void 0,()=>c2,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Fu(this,e,u2,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),o=r.formatToParts(),c=o.find(u=>u.type.toLowerCase()===i);return c?c.value:null}numberFormatter(e={}){return new X4(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new K4(e,this.intl,t)}relFormatter(e={}){return new Q4(this.intl,this.isEnglish(),e)}listFormatter(e={}){return B4(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||YT(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:t2()?W4(this.locale):GT}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let pg=null;class Ft extends pc{static get utcInstance(){return pg===null&&(pg=new Ft(0)),pg}static instance(e){return e===0?Ft.utcInstance:new Ft(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ft(Cf(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Nl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Nl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Nl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class J4 extends pc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bs(n,e){if(me(n)||n===null)return e;if(n instanceof pc)return n;if(r5(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?wf.instance:t==="utc"||t==="gmt"?Ft.utcInstance:Ft.parseSpecifier(t)||Fi.create(n)}else return Rs(n)?Ft.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new J4(n)}const xy={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},uS={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},e5=xy.hanidec.replace(/[\[|\]]/g,"").split("");function t5(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(xy.hanidec)!==-1)e+=e5.indexOf(n[t]);else for(const r in uS){const[o,c]=uS[r];i>=o&&i<=c&&(e+=i-o)}}return parseInt(e,10)}else return e}const dp=new Map;function n5(){dp.clear()}function Un({numberingSystem:n},e=""){const t=n||"latn";let i=dp.get(t);i===void 0&&(i=new Map,dp.set(t,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${xy[t]}${e}`),i.set(e,r)),r}let hS=()=>Date.now(),fS="system",dS=null,mS=null,gS=null,pS=60,yS,_S=null;class rt{static get now(){return hS}static set now(e){hS=e}static set defaultZone(e){fS=e}static get defaultZone(){return bs(fS,wf.instance)}static get defaultLocale(){return dS}static set defaultLocale(e){dS=e}static get defaultNumberingSystem(){return mS}static set defaultNumberingSystem(e){mS=e}static get defaultOutputCalendar(){return gS}static set defaultOutputCalendar(e){gS=e}static get defaultWeekSettings(){return _S}static set defaultWeekSettings(e){_S=mp(e)}static get twoDigitCutoffYear(){return pS}static set twoDigitCutoffYear(e){pS=e%100}static get throwOnInvalid(){return yS}static set throwOnInvalid(e){yS=e}static resetCaches(){Ie.resetCache(),Fi.resetCache(),he.resetCache(),n5()}}class Vn{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const $T=[0,31,59,90,120,151,181,212,243,273,304,334],ZT=[0,31,60,91,121,152,182,213,244,274,305,335];function Rn(n,e){return new Vn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function wy(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function XT(n,e,t){return t+(yc(n)?ZT:$T)[e-1]}function KT(n,e){const t=yc(n)?ZT:$T,i=t.findIndex(o=>o<e),r=e-t[i];return{month:i+1,day:r}}function Ey(n,e){return(n-e+7)%7+1}function jh(n,e=4,t=1){const{year:i,month:r,day:o}=n,c=XT(i,r,o),u=Ey(wy(i,r,o),t);let f=Math.floor((c-u+14-e)/7),d;return f<1?(d=i-1,f=Zl(d,e,t)):f>Zl(i,e,t)?(d=i+1,f=1):d=i,{weekYear:d,weekNumber:f,weekday:u,...Mf(n)}}function vS(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:o}=n,c=Ey(wy(i,1,e),t),u=ka(i);let f=r*7+o-c-7+e,d;f<1?(d=i-1,f+=ka(d)):f>u?(d=i+1,f-=ka(i)):d=i;const{month:p,day:y}=KT(d,f);return{year:d,month:p,day:y,...Mf(n)}}function yg(n){const{year:e,month:t,day:i}=n,r=XT(e,t,i);return{year:e,ordinal:r,...Mf(n)}}function bS(n){const{year:e,ordinal:t}=n,{month:i,day:r}=KT(e,t);return{year:e,month:i,day:r,...Mf(n)}}function SS(n,e){if(!me(n.localWeekday)||!me(n.localWeekNumber)||!me(n.localWeekYear)){if(!me(n.weekday)||!me(n.weekNumber)||!me(n.weekYear))throw new Ta("Cannot mix locale-based week fields with ISO-based week fields");return me(n.localWeekday)||(n.weekday=n.localWeekday),me(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),me(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function i5(n,e=4,t=1){const i=Ef(n.weekYear),r=kn(n.weekNumber,1,Zl(n.weekYear,e,t)),o=kn(n.weekday,1,7);return i?r?o?!1:Rn("weekday",n.weekday):Rn("week",n.weekNumber):Rn("weekYear",n.weekYear)}function s5(n){const e=Ef(n.year),t=kn(n.ordinal,1,ka(n.year));return e?t?!1:Rn("ordinal",n.ordinal):Rn("year",n.year)}function QT(n){const e=Ef(n.year),t=kn(n.month,1,12),i=kn(n.day,1,Vh(n.year,n.month));return e?t?i?!1:Rn("day",n.day):Rn("month",n.month):Rn("year",n.year)}function JT(n){const{hour:e,minute:t,second:i,millisecond:r}=n,o=kn(e,0,23)||e===24&&t===0&&i===0&&r===0,c=kn(t,0,59),u=kn(i,0,59),f=kn(r,0,999);return o?c?u?f?!1:Rn("millisecond",r):Rn("second",i):Rn("minute",t):Rn("hour",e)}function me(n){return typeof n>"u"}function Rs(n){return typeof n=="number"}function Ef(n){return typeof n=="number"&&n%1===0}function r5(n){return typeof n=="string"}function a5(n){return Object.prototype.toString.call(n)==="[object Date]"}function e2(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function t2(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function o5(n){return Array.isArray(n)?n:[n]}function xS(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const o=[e(r),r];return i&&t(i[0],o[0])===i[0]?i:o},null)[1]}function l5(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function Va(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function mp(n){if(n==null)return null;if(typeof n!="object")throw new Pt("Week settings must be an object");if(!kn(n.firstDay,1,7)||!kn(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!kn(e,1,7)))throw new Pt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function kn(n,e,t){return Ef(n)&&n>=e&&n<=t}function c5(n,e){return n-e*Math.floor(n/e)}function dt(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function ps(n){if(!(me(n)||n===null||n===""))return parseInt(n,10)}function ir(n){if(!(me(n)||n===null||n===""))return parseFloat(n)}function Ty(n){if(!(me(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Cy(n,e,t="round"){const i=10**e;switch(t){case"expand":return n>0?Math.ceil(n*i)/i:Math.floor(n*i)/i;case"trunc":return Math.trunc(n*i)/i;case"round":return Math.round(n*i)/i;case"floor":return Math.floor(n*i)/i;case"ceil":return Math.ceil(n*i)/i;default:throw new RangeError(`Value rounding ${t} is out of range`)}}function yc(n){return n%4===0&&(n%100!==0||n%400===0)}function ka(n){return yc(n)?366:365}function Vh(n,e){const t=c5(e-1,12)+1,i=n+(e-t)/12;return t===2?yc(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Tf(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function wS(n,e,t){return-Ey(wy(n,1,e),t)+e-1}function Zl(n,e=4,t=1){const i=wS(n,e,t),r=wS(n+1,e,t);return(ka(n)-i+r)/7}function gp(n){return n>99?n:n>rt.twoDigitCutoffYear?1900+n:2e3+n}function n2(n,e,t,i=null){const r=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);const c={timeZoneName:e,...o},u=new Intl.DateTimeFormat(t,c).formatToParts(r).find(f=>f.type.toLowerCase()==="timezonename");return u?u.value:null}function Cf(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function i2(n){const e=Number(n);if(typeof n=="boolean"||n===""||!Number.isFinite(e))throw new Pt(`Invalid unit value ${n}`);return e}function Wh(n,e){const t={};for(const i in n)if(Va(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=i2(r)}return t}function Nl(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${dt(t,2)}:${dt(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${dt(t,2)}${dt(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Mf(n){return l5(n,["hour","minute","second","millisecond"])}const u5=["January","February","March","April","May","June","July","August","September","October","November","December"],s2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h5=["J","F","M","A","M","J","J","A","S","O","N","D"];function r2(n){switch(n){case"narrow":return[...h5];case"short":return[...s2];case"long":return[...u5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const a2=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o2=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f5=["M","T","W","T","F","S","S"];function l2(n){switch(n){case"narrow":return[...f5];case"short":return[...o2];case"long":return[...a2];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const c2=["AM","PM"],d5=["Before Christ","Anno Domini"],m5=["BC","AD"],g5=["B","A"];function u2(n){switch(n){case"narrow":return[...g5];case"short":return[...m5];case"long":return[...d5];default:return null}}function p5(n){return c2[n.hour<12?0:1]}function y5(n,e){return l2(e)[n.weekday-1]}function _5(n,e){return r2(e)[n.month-1]}function v5(n,e){return u2(e)[n.year<0?0:1]}function b5(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&o){const y=n==="days";switch(e){case 1:return y?"tomorrow":`next ${r[n][0]}`;case-1:return y?"yesterday":`last ${r[n][0]}`;case 0:return y?"today":`this ${r[n][0]}`}}const c=Object.is(e,-0)||e<0,u=Math.abs(e),f=u===1,d=r[n],p=i?f?d[1]:d[2]||d[1]:f?r[n][0]:n;return c?`${u} ${p} ago`:`in ${u} ${p}`}function ES(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const S5={D:Fh,DD:MT,DDD:OT,DDDD:AT,t:RT,tt:kT,ttt:DT,tttt:NT,T:IT,TT:LT,TTT:PT,TTTT:zT,f:UT,ff:BT,fff:jT,ffff:WT,F:HT,FF:FT,FFF:VT,FFFF:qT};class zt{static create(e,t={}){return new zt(e,t)}static parseFormat(e){let t=null,i="",r=!1;const o=[];for(let c=0;c<e.length;c++){const u=e.charAt(c);u==="'"?((i.length>0||r)&&o.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),t=null,i="",r=!r):r||u===t?i+=u:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=u,t=u)}return i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(e){return S5[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,i=void 0){if(this.opts.forceSimple)return dt(e,t);const r={...this.opts};return t>0&&(r.padTo=t),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(b,x)=>this.loc.extract(e,b,x),c=b=>e.isOffsetFixed&&e.offset===0&&b.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,b.format):"",u=()=>i?p5(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(b,x)=>i?_5(e,b):o(x?{month:b}:{month:b,day:"numeric"},"month"),d=(b,x)=>i?y5(e,b):o(x?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),p=b=>{const x=zt.macroTokenToFormatOpts(b);return x?this.formatWithSystemDefault(e,x):b},y=b=>i?v5(e,b):o({era:b},"era"),_=b=>{switch(b){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return c({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return c({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return c({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(b)}};return ES(zt.parseFormat(t),_)}formatDurationFromString(e,t){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=(p,y)=>_=>{const b=r(_);if(b){const x=y.isNegativeDuration&&b!==y.largestUnit?i:1;let w;return this.opts.signMode==="negativeLargestOnly"&&b!==y.largestUnit?w="never":this.opts.signMode==="all"?w="always":w="auto",this.num(p.get(b)*x,_.length,w)}else return _},c=zt.parseFormat(t),u=c.reduce((p,{literal:y,val:_})=>y?p:p.concat(_),[]),f=e.shiftTo(...u.map(r).filter(p=>p)),d={isNegativeDuration:f<0,largestUnit:Object.keys(f.values)[0]};return ES(c,o(f,d))}}const h2=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function io(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function so(...n){return e=>n.reduce(([t,i,r],o)=>{const[c,u,f]=o(e,r);return[{...t,...c},u||i,f]},[{},null,1]).slice(0,2)}function ro(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function f2(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=ps(e[t+r]);return[i,null,t+r]}}const d2=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,x5=`(?:${d2.source}?(?:\\[(${h2.source})\\])?)?`,My=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,m2=RegExp(`${My.source}${x5}`),Oy=RegExp(`(?:[Tt]${m2.source})?`),w5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,E5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,T5=/(\d{4})-?(\d{3})/,C5=f2("weekYear","weekNumber","weekDay"),M5=f2("year","ordinal"),O5=/(\d{4})-(\d\d)-(\d\d)/,g2=RegExp(`${My.source} ?(?:${d2.source}|(${h2.source}))?`),A5=RegExp(`(?: ${g2.source})?`);function Da(n,e,t){const i=n[e];return me(i)?t:ps(i)}function R5(n,e){return[{year:Da(n,e),month:Da(n,e+1,1),day:Da(n,e+2,1)},null,e+3]}function ao(n,e){return[{hours:Da(n,e,0),minutes:Da(n,e+1,0),seconds:Da(n,e+2,0),milliseconds:Ty(n[e+3])},null,e+4]}function _c(n,e){const t=!n[e]&&!n[e+1],i=Cf(n[e+1],n[e+2]),r=t?null:Ft.instance(i);return[{},r,e+3]}function vc(n,e){const t=n[e]?Fi.create(n[e]):null;return[{},t,e+1]}const k5=RegExp(`^T?${My.source}$`),D5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function N5(n){const[e,t,i,r,o,c,u,f,d]=n,p=e[0]==="-",y=f&&f[0]==="-",_=(b,x=!1)=>b!==void 0&&(x||b&&p)?-b:b;return[{years:_(ir(t)),months:_(ir(i)),weeks:_(ir(r)),days:_(ir(o)),hours:_(ir(c)),minutes:_(ir(u)),seconds:_(ir(f),f==="-0"),milliseconds:_(Ty(d),y)}]}const I5={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ay(n,e,t,i,r,o,c){const u={year:e.length===2?gp(ps(e)):ps(e),month:s2.indexOf(t)+1,day:ps(i),hour:ps(r),minute:ps(o)};return c&&(u.second=ps(c)),n&&(u.weekday=n.length>3?a2.indexOf(n)+1:o2.indexOf(n)+1),u}const L5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function P5(n){const[,e,t,i,r,o,c,u,f,d,p,y]=n,_=Ay(e,r,i,t,o,c,u);let b;return f?b=I5[f]:d?b=0:b=Cf(p,y),[_,new Ft(b)]}function z5(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const U5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,H5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,B5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function TS(n){const[,e,t,i,r,o,c,u]=n;return[Ay(e,r,i,t,o,c,u),Ft.utcInstance]}function F5(n){const[,e,t,i,r,o,c,u]=n;return[Ay(e,u,t,i,r,o,c),Ft.utcInstance]}const j5=io(w5,Oy),V5=io(E5,Oy),W5=io(T5,Oy),q5=io(m2),p2=so(R5,ao,_c,vc),Y5=so(C5,ao,_c,vc),G5=so(M5,ao,_c,vc),$5=so(ao,_c,vc);function Z5(n){return ro(n,[j5,p2],[V5,Y5],[W5,G5],[q5,$5])}function X5(n){return ro(z5(n),[L5,P5])}function K5(n){return ro(n,[U5,TS],[H5,TS],[B5,F5])}function Q5(n){return ro(n,[D5,N5])}const J5=so(ao);function eL(n){return ro(n,[k5,J5])}const tL=io(O5,A5),nL=io(g2),iL=so(ao,_c,vc);function sL(n){return ro(n,[tL,p2],[nL,iL])}const CS="Invalid Duration",y2={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...y2},Cn=146097/400,_a=146097/4800,aL={years:{quarters:4,months:12,weeks:Cn/7,days:Cn,hours:Cn*24,minutes:Cn*24*60,seconds:Cn*24*60*60,milliseconds:Cn*24*60*60*1e3},quarters:{months:3,weeks:Cn/28,days:Cn/4,hours:Cn*24/4,minutes:Cn*24*60/4,seconds:Cn*24*60*60/4,milliseconds:Cn*24*60*60*1e3/4},months:{weeks:_a/7,days:_a,hours:_a*24,minutes:_a*24*60,seconds:_a*24*60*60,milliseconds:_a*24*60*60*1e3},...y2},mr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],oL=mr.slice(0).reverse();function Ei(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Me(i)}function _2(n,e){let t=e.milliseconds??0;for(const i of oL.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function MS(n,e){const t=_2(n,e)<0?-1:1;mr.reduceRight((i,r)=>{if(me(e[r]))return i;if(i){const o=e[i]*t,c=n[r][i],u=Math.floor(o/c);e[r]+=u*t,e[i]-=u*c*t}return r},null),mr.reduce((i,r)=>{if(me(e[r]))return i;if(i){const o=e[i]%1;e[i]-=o,e[r]+=o*n[i][r]}return r},null)}function OS(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Me{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?aL:rL;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Ie.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Me.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Pt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Me({values:Wh(e,Me.normalizeUnit),loc:Ie.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Rs(e))return Me.fromMillis(e);if(Me.isDuration(e))return e;if(typeof e=="object")return Me.fromObject(e);throw new Pt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Q5(e);return i?Me.fromObject(i,t):Me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=eL(e);return i?Me.fromObject(i,t):Me.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the Duration is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new N4(i);return new Me({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new CT(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?zt.create(this.loc,i).formatDurationFromString(this,e):CS}toHuman(e={}){if(!this.isValid)return CS;const t=e.showZeros!==!1,i=mr.map(r=>{const o=this.values[r];return me(o)||o===0&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(o)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Cy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},he.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?_2(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e),i={};for(const r of mr)(Va(t.values,r)||Va(this.values,r))&&(i[r]=t.get(r)+this.get(r));return Ei(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=i2(e(this.values[i],i));return Ei(this,{values:t},!0)}get(e){return this[Me.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Wh(e,Me.normalizeUnit)};return Ei(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const c={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return Ei(this,c)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return MS(this.matrix,e),Ei(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=OS(this.normalize().shiftToAll().toObject());return Ei(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(c=>Me.normalizeUnit(c));const t={},i={},r=this.toObject();let o;for(const c of mr)if(e.indexOf(c)>=0){o=c;let u=0;for(const d in i)u+=this.matrix[d][c]*i[d],i[d]=0;Rs(r[c])&&(u+=r[c]);const f=Math.trunc(u);t[c]=f,i[c]=(u*1e3-f*1e3)/1e3}else Rs(r[c])&&(i[c]=r[c]);for(const c in i)i[c]!==0&&(t[o]+=c===o?i[c]:i[c]/this.matrix[o][c]);return MS(this.matrix,t),Ei(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ei(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=OS(this.values);return Ei(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of mr)if(!t(this.values[i],e.values[i]))return!1;return!0}}const va="Invalid Interval";function lL(n,e){return!n||!n.isValid?st.invalid("missing or invalid start"):!e||!e.isValid?st.invalid("missing or invalid end"):e<n?st.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class st{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the Interval is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new D4(i);return new st({invalid:i})}static fromDateTimes(e,t){const i=ml(e),r=ml(t),o=lL(i,r);return o??new st({start:i,end:r})}static after(e,t){const i=Me.fromDurationLike(t),r=ml(e);return st.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Me.fromDurationLike(t),r=ml(e);return st.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let o,c;try{o=he.fromISO(i,t),c=o.isValid}catch{c=!1}let u,f;try{u=he.fromISO(r,t),f=u.isValid}catch{f=!1}if(c&&f)return st.fromDateTimes(o,u);if(c){const d=Me.fromISO(r,t);if(d.isValid)return st.after(o,d)}else if(f){const d=Me.fromISO(i,t);if(d.isValid)return st.before(u,d)}}return st.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?st.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(ml).filter(c=>this.contains(c)).sort((c,u)=>c.toMillis()-u.toMillis()),i=[];let{s:r}=this,o=0;for(;r<this.e;){const c=t[o]||this.e,u=+c>+this.e?this.e:c;i.push(st.fromDateTimes(r,u)),r=u,o+=1}return i}splitBy(e){const t=Me.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,o;const c=[];for(;i<this.e;){const u=this.start.plus(t.mapUnits(f=>f*r));o=+u>+this.e?this.e:u,c.push(st.fromDateTimes(i,o)),i=o,r+=1}return c}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:st.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return st.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,o)=>r.s-o.s).reduce(([r,o],c)=>o?o.overlaps(c)||o.abutsStart(c)?[r,o.union(c)]:[r.concat([o]),c]:[r,c],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],o=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),c=Array.prototype.concat(...o),u=c.sort((f,d)=>f.time-d.time);for(const f of u)i+=f.type==="s"?1:-1,i===1?t=f.time:(t&&+t!=+f.time&&r.push(st.fromDateTimes(t,f.time)),t=null);return st.merge(r)}difference(...e){return st.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:va}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Fh,t={}){return this.isValid?zt.create(this.s.loc.clone(t),e).formatInterval(this):va}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:va}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:va}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:va}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:va}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Me.invalid(this.invalidReason)}mapEndpoints(e){return st.fromDateTimes(e(this.s),e(this.e))}}class ju{static hasDST(e=rt.defaultZone){const t=he.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Fi.isValidZone(e)}static normalizeZone(e){return bs(e,rt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Ie.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Ie.create(t,i,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Ie.create(t,i,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ie.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ie.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ie.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Ie.create(t,null,"gregory").eras(e)}static features(){return{relative:e2(),localeWeek:t2()}}}function AS(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Me.fromMillis(i).as("days"))}function cL(n,e,t){const i=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter+(d.year-f.year)*4],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{const p=AS(f,d);return(p-p%7)/7}],["days",AS]],r={},o=n;let c,u;for(const[f,d]of i)t.indexOf(f)>=0&&(c=f,r[f]=d(n,e),u=o.plus(r),u>e?(r[f]--,n=o.plus(r),n>e&&(u=n,r[f]--,n=o.plus(r))):n=u);return[n,r,u,c]}function uL(n,e,t,i){let[r,o,c,u]=cL(n,e,t);const f=e-r,d=t.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);d.length===0&&(c<e&&(c=r.plus({[u]:1})),c!==r&&(o[u]=(o[u]||0)+f/(c-r)));const p=Me.fromObject(o,i);return d.length>0?Me.fromMillis(f,i).shiftTo(...d).plus(p):p}const hL="missing Intl.DateTimeFormat.formatToParts support";function Ne(n,e=t=>t){return{regex:n,deser:([t])=>e(t5(t))}}const fL="",v2=`[ ${fL}]`,b2=new RegExp(v2,"g");function dL(n){return n.replace(/\./g,"\\.?").replace(b2,v2)}function RS(n){return n.replace(/\./g,"").replace(b2," ").toLowerCase()}function Hn(n,e){return n===null?null:{regex:RegExp(n.map(dL).join("|")),deser:([t])=>n.findIndex(i=>RS(t)===RS(i))+e}}function kS(n,e){return{regex:n,deser:([,t,i])=>Cf(t,i),groups:e}}function Vu(n){return{regex:n,deser:([e])=>e}}function mL(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gL(n,e){const t=Un(e),i=Un(e,"{2}"),r=Un(e,"{3}"),o=Un(e,"{4}"),c=Un(e,"{6}"),u=Un(e,"{1,2}"),f=Un(e,"{1,3}"),d=Un(e,"{1,6}"),p=Un(e,"{1,9}"),y=Un(e,"{2,4}"),_=Un(e,"{4,6}"),b=E=>({regex:RegExp(mL(E.val)),deser:([M])=>M,literal:!0}),w=(E=>{if(n.literal)return b(E);switch(E.val){case"G":return Hn(e.eras("short"),0);case"GG":return Hn(e.eras("long"),0);case"y":return Ne(d);case"yy":return Ne(y,gp);case"yyyy":return Ne(o);case"yyyyy":return Ne(_);case"yyyyyy":return Ne(c);case"M":return Ne(u);case"MM":return Ne(i);case"MMM":return Hn(e.months("short",!0),1);case"MMMM":return Hn(e.months("long",!0),1);case"L":return Ne(u);case"LL":return Ne(i);case"LLL":return Hn(e.months("short",!1),1);case"LLLL":return Hn(e.months("long",!1),1);case"d":return Ne(u);case"dd":return Ne(i);case"o":return Ne(f);case"ooo":return Ne(r);case"HH":return Ne(i);case"H":return Ne(u);case"hh":return Ne(i);case"h":return Ne(u);case"mm":return Ne(i);case"m":return Ne(u);case"q":return Ne(u);case"qq":return Ne(i);case"s":return Ne(u);case"ss":return Ne(i);case"S":return Ne(f);case"SSS":return Ne(r);case"u":return Vu(p);case"uu":return Vu(u);case"uuu":return Ne(t);case"a":return Hn(e.meridiems(),0);case"kkkk":return Ne(o);case"kk":return Ne(y,gp);case"W":return Ne(u);case"WW":return Ne(i);case"E":case"c":return Ne(t);case"EEE":return Hn(e.weekdays("short",!1),1);case"EEEE":return Hn(e.weekdays("long",!1),1);case"ccc":return Hn(e.weekdays("short",!0),1);case"cccc":return Hn(e.weekdays("long",!0),1);case"Z":case"ZZ":return kS(new RegExp(`([+-]${u.source})(?::(${i.source}))?`),2);case"ZZZ":return kS(new RegExp(`([+-]${u.source})(${i.source})?`),2);case"z":return Vu(/[a-z_+-/]{1,256}?/i);case" ":return Vu(/[^\S\n\r]/);default:return b(E)}})(n)||{invalidReason:hL};return w.token=n,w}const pL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function yL(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const f=/^\s+$/.test(r);return{literal:!f,val:f?" ":r}}const o=e[i];let c=i;i==="hour"&&(e.hour12!=null?c=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?c="hour12":c="hour24":c=t.hour12?"hour12":"hour24");let u=pL[c];if(typeof u=="object"&&(u=u[o]),u)return{literal:!1,val:u}}function _L(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function vL(n,e,t){const i=n.match(e);if(i){const r={};let o=1;for(const c in t)if(Va(t,c)){const u=t[c],f=u.groups?u.groups+1:1;!u.literal&&u.token&&(r[u.token.val[0]]=u.deser(i.slice(o,o+f))),o+=f}return[i,r]}else return[i,{}]}function bL(n){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return me(n.z)||(t=Fi.create(n.z)),me(n.Z)||(t||(t=new Ft(n.Z)),i=n.Z),me(n.q)||(n.M=(n.q-1)*3+1),me(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),me(n.u)||(n.S=Ty(n.u)),[Object.keys(n).reduce((o,c)=>{const u=e(c);return u&&(o[u]=n[c]),o},{}),t,i]}let _g=null;function SL(){return _g||(_g=he.fromMillis(1555555555555)),_g}function xL(n,e){if(n.literal)return n;const t=zt.macroTokenToFormatOpts(n.val),i=E2(t,e);return i==null||i.includes(void 0)?n:i}function S2(n,e){return Array.prototype.concat(...n.map(t=>xL(t,e)))}class x2{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=S2(zt.parseFormat(t),e),this.units=this.tokens.map(i=>gL(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=_L(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[t,i]=vL(e,this.regex,this.handlers),[r,o,c]=i?bL(i):[null,null,void 0];if(Va(i,"a")&&Va(i,"H"))throw new Ta("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:r,zone:o,specificOffset:c}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function w2(n,e,t){return new x2(n,t).explainFromTokens(e)}function wL(n,e,t){const{result:i,zone:r,specificOffset:o,invalidReason:c}=w2(n,e,t);return[i,r,o,c]}function E2(n,e){if(!n)return null;const i=zt.create(e,n).dtFormatter(SL()),r=i.formatToParts(),o=i.resolvedOptions();return r.map(c=>yL(c,n,o))}const vg="Invalid DateTime",DS=864e13;function Sl(n){return new Vn("unsupported zone",`the zone "${n.name}" is not supported`)}function bg(n){return n.weekData===null&&(n.weekData=jh(n.c)),n.weekData}function Sg(n){return n.localWeekData===null&&(n.localWeekData=jh(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function sr(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new he({...t,...e,old:t})}function T2(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const o=t.offset(i);return r===o?[i,r]:[n-Math.min(r,o)*60*1e3,Math.max(r,o)]}function Wu(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function fh(n,e,t){return T2(Tf(n),e,t)}function NS(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...n.c,year:i,month:r,day:Math.min(n.c.day,Vh(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},c=Me.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=Tf(o);let[f,d]=T2(u,t,n.zone);return c!==0&&(f+=c,d=n.zone.offset(f)),{ts:f,o:d}}function ba(n,e,t,i,r,o){const{setZone:c,zone:u}=t;if(n&&Object.keys(n).length!==0||e){const f=e||u,d=he.fromObject(n,{...t,zone:f,specificOffset:o});return c?d:d.setZone(u)}else return he.invalid(new Vn("unparsable",`the input "${r}" can't be parsed as ${i}`))}function qu(n,e,t=!0){return n.isValid?zt.create(Ie.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function xg(n,e,t){const i=n.c.year>9999||n.c.year<0;let r="";if(i&&n.c.year>=0&&(r+="+"),r+=dt(n.c.year,i?6:4),t==="year")return r;if(e){if(r+="-",r+=dt(n.c.month),t==="month")return r;r+="-"}else if(r+=dt(n.c.month),t==="month")return r;return r+=dt(n.c.day),r}function IS(n,e,t,i,r,o,c){let u=!t||n.c.millisecond!==0||n.c.second!==0,f="";switch(c){case"day":case"month":case"year":break;default:if(f+=dt(n.c.hour),c==="hour")break;if(e){if(f+=":",f+=dt(n.c.minute),c==="minute")break;u&&(f+=":",f+=dt(n.c.second))}else{if(f+=dt(n.c.minute),c==="minute")break;u&&(f+=dt(n.c.second))}if(c==="second")break;u&&(!i||n.c.millisecond!==0)&&(f+=".",f+=dt(n.c.millisecond,3))}return r&&(n.isOffsetFixed&&n.offset===0&&!o?f+="Z":n.o<0?(f+="-",f+=dt(Math.trunc(-n.o/60)),f+=":",f+=dt(Math.trunc(-n.o%60))):(f+="+",f+=dt(Math.trunc(n.o/60)),f+=":",f+=dt(Math.trunc(n.o%60)))),o&&(f+="["+n.zone.ianaName+"]"),f}const C2={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},EL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},TL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},dh=["year","month","day","hour","minute","second","millisecond"],CL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ML=["year","ordinal","hour","minute","second","millisecond"];function mh(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new CT(n);return e}function LS(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return mh(n)}}function OL(n){if(xl===void 0&&(xl=rt.now()),n.type!=="iana")return n.offset(xl);const e=n.name;let t=pp.get(e);return t===void 0&&(t=n.offset(xl),pp.set(e,t)),t}function PS(n,e){const t=bs(e.zone,rt.defaultZone);if(!t.isValid)return he.invalid(Sl(t));const i=Ie.fromObject(e);let r,o;if(me(n.year))r=rt.now();else{for(const f of dh)me(n[f])&&(n[f]=C2[f]);const c=QT(n)||JT(n);if(c)return he.invalid(c);const u=OL(t);[r,o]=fh(n,u,t)}return new he({ts:r,zone:t,loc:i,o})}function zS(n,e,t){const i=me(t.round)?!0:t.round,r=me(t.rounding)?"trunc":t.rounding,o=(u,f)=>(u=Cy(u,i||t.calendary?0:2,t.calendary?"round":r),e.loc.clone(t).relFormatter(t).format(u,f)),c=u=>t.calendary?e.hasSame(n,u)?0:e.startOf(u).diff(n.startOf(u),u).get(u):e.diff(n,u).get(u);if(t.unit)return o(c(t.unit),t.unit);for(const u of t.units){const f=c(u);if(Math.abs(f)>=1)return o(f,u)}return o(n>e?-0:0,t.units[t.units.length-1])}function US(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let xl;const pp=new Map;class he{constructor(e){const t=e.zone||rt.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Vn("invalid input"):null)||(t.isValid?null:Sl(t));this.ts=me(e.ts)?rt.now():e.ts;let r=null,o=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const u=Rs(e.o)&&!e.old?e.o:t.offset(this.ts);r=Wu(this.ts,u),i=Number.isNaN(r.year)?new Vn("invalid input"):null,r=i?null:r,o=i?null:u}this._zone=t,this.loc=e.loc||Ie.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new he({})}static local(){const[e,t]=US(arguments),[i,r,o,c,u,f,d]=t;return PS({year:i,month:r,day:o,hour:c,minute:u,second:f,millisecond:d},e)}static utc(){const[e,t]=US(arguments),[i,r,o,c,u,f,d]=t;return e.zone=Ft.utcInstance,PS({year:i,month:r,day:o,hour:c,minute:u,second:f,millisecond:d},e)}static fromJSDate(e,t={}){const i=a5(e)?e.valueOf():NaN;if(Number.isNaN(i))return he.invalid("invalid input");const r=bs(t.zone,rt.defaultZone);return r.isValid?new he({ts:i,zone:r,loc:Ie.fromObject(t)}):he.invalid(Sl(r))}static fromMillis(e,t={}){if(Rs(e))return e<-DS||e>DS?he.invalid("Timestamp out of range"):new he({ts:e,zone:bs(t.zone,rt.defaultZone),loc:Ie.fromObject(t)});throw new Pt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Rs(e))return new he({ts:e*1e3,zone:bs(t.zone,rt.defaultZone),loc:Ie.fromObject(t)});throw new Pt("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=bs(t.zone,rt.defaultZone);if(!i.isValid)return he.invalid(Sl(i));const r=Ie.fromObject(t),o=Wh(e,LS),{minDaysInFirstWeek:c,startOfWeek:u}=SS(o,r),f=rt.now(),d=me(t.specificOffset)?i.offset(f):t.specificOffset,p=!me(o.ordinal),y=!me(o.year),_=!me(o.month)||!me(o.day),b=y||_,x=o.weekYear||o.weekNumber;if((b||p)&&x)throw new Ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&p)throw new Ta("Can't mix ordinal dates with month/day");const w=x||o.weekday&&!b;let E,M,R=Wu(f,d);w?(E=CL,M=EL,R=jh(R,c,u)):p?(E=ML,M=TL,R=yg(R)):(E=dh,M=C2);let U=!1;for(const se of E){const re=o[se];me(re)?U?o[se]=M[se]:o[se]=R[se]:U=!0}const V=w?i5(o,c,u):p?s5(o):QT(o),H=V||JT(o);if(H)return he.invalid(H);const $=w?vS(o,c,u):p?bS(o):o,[K,Q]=fh($,d,i),J=new he({ts:K,zone:i,o:Q,loc:r});return o.weekday&&b&&e.weekday!==J.weekday?he.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${J.toISO()}`):J.isValid?J:he.invalid(J.invalid)}static fromISO(e,t={}){const[i,r]=Z5(e);return ba(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=X5(e);return ba(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=K5(e);return ba(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(me(e)||me(t))throw new Pt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[u,f,d,p]=wL(c,e,t);return p?he.invalid(p):ba(u,f,i,`format ${t}`,e,d)}static fromString(e,t,i={}){return he.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=sL(e);return ba(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Pt("need to specify a reason the DateTime is invalid");const i=e instanceof Vn?e:new Vn(e,t);if(rt.throwOnInvalid)throw new k4(i);return new he({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=E2(e,Ie.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return S2(zt.parseFormat(e),Ie.fromObject(t)).map(r=>r.val).join("")}static resetCache(){xl=void 0,pp.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?bg(this).weekYear:NaN}get weekNumber(){return this.isValid?bg(this).weekNumber:NaN}get weekday(){return this.isValid?bg(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Sg(this).weekday:NaN}get localWeekNumber(){return this.isValid?Sg(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Sg(this).weekYear:NaN}get ordinal(){return this.isValid?yg(this.c).ordinal:NaN}get monthShort(){return this.isValid?ju.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ju.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ju.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ju.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Tf(this.c),r=this.zone.offset(i-e),o=this.zone.offset(i+e),c=this.zone.offset(i-r*t),u=this.zone.offset(i-o*t);if(c===u)return[this];const f=i-c*t,d=i-u*t,p=Wu(f,c),y=Wu(d,u);return p.hour===y.hour&&p.minute===y.minute&&p.second===y.second&&p.millisecond===y.millisecond?[sr(this,{ts:f}),sr(this,{ts:d})]:[this]}get isInLeapYear(){return yc(this.year)}get daysInMonth(){return Vh(this.year,this.month)}get daysInYear(){return this.isValid?ka(this.year):NaN}get weeksInWeekYear(){return this.isValid?Zl(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Zl(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=zt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Ft.instance(e),t)}toLocal(){return this.setZone(rt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=bs(e,rt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const o=e.offset(this.ts),c=this.toObject();[r]=fh(c,o,e)}return sr(this,{ts:r,zone:e})}else return he.invalid(Sl(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return sr(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Wh(e,LS),{minDaysInFirstWeek:i,startOfWeek:r}=SS(t,this.loc),o=!me(t.weekYear)||!me(t.weekNumber)||!me(t.weekday),c=!me(t.ordinal),u=!me(t.year),f=!me(t.month)||!me(t.day),d=u||f,p=t.weekYear||t.weekNumber;if((d||c)&&p)throw new Ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Ta("Can't mix ordinal dates with month/day");let y;o?y=vS({...jh(this.c,i,r),...t},i,r):me(t.ordinal)?(y={...this.toObject(),...t},me(t.day)&&(y.day=Math.min(Vh(y.year,y.month),y.day))):y=bS({...yg(this.c),...t});const[_,b]=fh(y,this.o,this.zone);return sr(this,{ts:_,o:b})}plus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e);return sr(this,NS(this,t))}minus(e){if(!this.isValid)return this;const t=Me.fromDurationLike(e).negate();return sr(this,NS(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Me.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const o=this.loc.getStartOfWeek(),{weekday:c}=this;c<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(r==="quarters"){const o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?zt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):vg}toLocaleString(e=Fh,t={}){return this.isValid?zt.create(this.loc.clone(t),e).formatDateTime(this):vg}toLocaleParts(e={}){return this.isValid?zt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:o=!1,precision:c="milliseconds"}={}){if(!this.isValid)return null;c=mh(c);const u=e==="extended";let f=xg(this,u,c);return dh.indexOf(c)>=3&&(f+="T"),f+=IS(this,u,t,i,r,o,c),f}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?xg(this,e==="extended",mh(t)):null}toISOWeekDate(){return qu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:o=!1,format:c="extended",precision:u="milliseconds"}={}){return this.isValid?(u=mh(u),(r&&dh.indexOf(u)>=3?"T":"")+IS(this,c==="extended",t,e,i,o,u)):null}toRFC2822(){return qu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return qu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xg(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),qu(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():vg}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Me.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=o5(t).map(Me.normalizeUnit),c=e.valueOf()>this.valueOf(),u=c?this:e,f=c?e:this,d=uL(u,f,o,r);return c?d.negate():d}diffNow(e="milliseconds",t={}){return this.diff(he.now(),e,t)}until(e){return this.isValid?st.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,i)<=r&&r<=o.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||he.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),zS(t,this.plus(i),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(e={}){return this.isValid?zS(e.base||he.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(he.isDateTime))throw new Pt("min requires all arguments be DateTimes");return xS(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(he.isDateTime))throw new Pt("max requires all arguments be DateTimes");return xS(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});return w2(c,e,t)}static fromStringExplain(e,t,i={}){return he.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:r=null}=t,o=Ie.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new x2(o,e)}static fromFormatParser(e,t,i={}){if(me(e)||me(t))throw new Pt("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:o=null}=i,c=Ie.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!c.equals(t.locale))throw new Pt(`fromFormatParser called with a locale of ${c}, but the format parser was created for ${t.locale}`);const{result:u,zone:f,specificOffset:d,invalidReason:p}=t.explainFromTokens(e);return p?he.invalid(p):ba(u,f,i,`format ${t.format}`,e,d)}static get DATE_SHORT(){return Fh}static get DATE_MED(){return MT}static get DATE_MED_WITH_WEEKDAY(){return I4}static get DATE_FULL(){return OT}static get DATE_HUGE(){return AT}static get TIME_SIMPLE(){return RT}static get TIME_WITH_SECONDS(){return kT}static get TIME_WITH_SHORT_OFFSET(){return DT}static get TIME_WITH_LONG_OFFSET(){return NT}static get TIME_24_SIMPLE(){return IT}static get TIME_24_WITH_SECONDS(){return LT}static get TIME_24_WITH_SHORT_OFFSET(){return PT}static get TIME_24_WITH_LONG_OFFSET(){return zT}static get DATETIME_SHORT(){return UT}static get DATETIME_SHORT_WITH_SECONDS(){return HT}static get DATETIME_MED(){return BT}static get DATETIME_MED_WITH_SECONDS(){return FT}static get DATETIME_MED_WITH_WEEKDAY(){return L4}static get DATETIME_FULL(){return jT}static get DATETIME_FULL_WITH_SECONDS(){return VT}static get DATETIME_HUGE(){return WT}static get DATETIME_HUGE_WITH_SECONDS(){return qT}}function ml(n){if(he.isDateTime(n))return n;if(n&&n.valueOf&&Rs(n.valueOf()))return he.fromJSDate(n);if(n&&typeof n=="object")return he.fromObject(n);throw new Pt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}async function AL(n,e){const t=he.now().setZone("Asia/Tokyo").toFormat("yyyy-MM-dd"),i=Jt(en,`emr-users/${n}/progress`);await E4(i,r=>{if(r===null)return{currentIndex:0,repeat:0,streak:1,lastStudiedDate:t,dailyActivity:{[t]:!0}};if(r.currentIndex=e,r.dailyActivity||(r.dailyActivity={}),r.dailyActivity[t])return{...r,dailyActivity:{...r.dailyActivity,[t]:!0}};const c=he.now().setZone("Asia/Tokyo").minus({days:1}).toFormat("yyyy-MM-dd");let u=1;return r.lastStudiedDate===c?u=(r.streak||0)+1:u=1,{...r,streak:u,lastStudiedDate:t,dailyActivity:{...r.dailyActivity,[t]:!0}}})}async function RL(n){const e=Jt(en,`emr-users/${n}/progress/dailyActivity`),i=(await dn(e)).val()||{},r={};for(let o=6;o>=0;o--){const u=he.now().setZone("Asia/Tokyo").minus({days:o}).toFormat("yyyy-MM-dd");r[u]=i[u]===!0}return r}var M2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HS=Ii.createContext&&Ii.createContext(M2),kL=["attr","size","title"];function DL(n,e){if(n==null)return{};var t=NL(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function NL(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function qh(){return qh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qh.apply(this,arguments)}function BS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(t),!0).forEach(function(i){IL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IL(n,e,t){return e=LL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LL(n){var e=PL(n,"string");return typeof e=="symbol"?e:e+""}function PL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O2(n){return n&&n.map((e,t)=>Ii.createElement(e.tag,Yh({key:t},e.attr),O2(e.child)))}function pn(n){return e=>Ii.createElement(zL,qh({attr:Yh({},n.attr)},e),O2(n.child))}function zL(n){var e=t=>{var{attr:i,size:r,title:o}=n,c=DL(n,kL),u=r||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ii.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:f,style:Yh(Yh({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Ii.createElement("title",null,o),n.children)};return HS!==void 0?Ii.createElement(HS.Consumer,null,t=>e(t)):e(M2)}function UL(n){return pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(n)}function HL(n){return pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m93.19 329.38 47.45-304.07c1.64-10.37 15.55-12.82 20.46-3.55l51 95.45zM432 400l-46.74-276.79a11 11 0 0 0-18.54-6L80 400l159.36 91.91a33.18 33.18 0 0 0 31.91 0zM302.36 158.93l-36.54-69.54a10.86 10.86 0 0 0-19.36 0L85.83 375.74z"},child:[]}]})(n)}const BL=({children:n,isShow:e,setIsShow:t})=>C.jsx(C.Fragment,{children:C.jsx("div",{className:`fixed top-0 left-0 h-dvh w-full p-4 flex justify-center items-center transition-opacity duration-300 ease-out bg-gray-300/50 ${e?"opacity-100 z-50":"z-0 opacity-0 pointer-events-none"}`,children:C.jsxs("div",{className:`rounded shadow-xl p-4 flex flex-col gap-2 bg-[var(--color-bg)] transition-transform duration-300 delay-50 ease-out min-w-60 min-h-40 ${e?"scale-100":"scale-75 pointer-events-none"}`,children:[C.jsx("button",{className:"bg-none shadow-none w-fit h-fit self-end",onClick:()=>t(!1),children:C.jsx(UL,{className:"size-6"})}),n]})})});function FL(){return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"confetti-container",children:[...Array(10)].map((n,e)=>C.jsx("div",{className:`confetti confetti${e+1}`},e))}),C.jsx("style",{jsx:!0,children:`
        .confetti-container {
          position: relative;
          width: 100%;
          height: 100%;
          overflow: visible;
          pointer-events: none;
        }
        /*  */
        .confetti {
          position: absolute;
          width: 0;
          height: 0;
          border-left: 7px solid transparent;
          border-right: 7px solid transparent;
          border-bottom: 12px solid #f94144; /*  */
          opacity: 0;
          animation-timing-function: ease-in-out;
          animation-iteration-count: infinite;
          animation-duration: 5s;
          animation-fill-mode: forwards;
        }
        /*  */
        .confetti1 {
          top: -20px;
          left: 10%;
          border-bottom-color: #f94144;
          animation-delay: 0s;
          animation-name: fall1;
        }
        .confetti2 {
          top: -30px;
          left: 25%;
          border-bottom-color: #f3722c;
          animation-delay: 0.5s;
          animation-name: fall2;
        }
        .confetti3 {
          top: -25px;
          left: 40%;
          border-bottom-color: #f9c74f;
          animation-delay: 1s;
          animation-name: fall3;
        }
        .confetti4 {
          top: -20px;
          left: 60%;
          border-bottom-color: #90be6d;
          animation-delay: 1.5s;
          animation-name: fall4;
        }
        .confetti5 {
          top: -15px;
          left: 75%;
          border-bottom-color: #577590;
          animation-delay: 2s;
          animation-name: fall5;
        }
        .confetti6 {
          top: -30px;
          left: 15%;
          border-bottom-color: #f94144;
          animation-delay: 2.5s;
          animation-name: fall1;
        }
        .confetti7 {
          top: -20px;
          left: 35%;
          border-bottom-color: #f3722c;
          animation-delay: 3s;
          animation-name: fall2;
        }
        .confetti8 {
          top: -25px;
          left: 50%;
          border-bottom-color: #f9c74f;
          animation-delay: 3.5s;
          animation-name: fall3;
        }
        .confetti9 {
          top: -20px;
          left: 70%;
          border-bottom-color: #90be6d;
          animation-delay: 4s;
          animation-name: fall4;
        }
        .confetti10 {
          top: -15px;
          left: 85%;
          border-bottom-color: #577590;
          animation-delay: 4.5s;
          animation-name: fall5;
        }
        /*  */
        @keyframes fall1 {
          0% {
            opacity: 0;
            transform: translate(0, 0) rotate(0deg) scale(1);
          }
          10% {
            opacity: 1;
          }
          50% {
            transform: translate(10px, 100px) rotate(45deg) scale(1.1);
            opacity: 1;
          }
          90% {
            opacity: 0;
            transform: translate(15px, 180px) rotate(90deg) scale(0.8);
          }
          100% {
            opacity: 0;
            transform: translate(15px, 180px) rotate(90deg) scale(0.8);
          }
        }
        @keyframes fall2 {
          0% {
            opacity: 0;
            transform: translate(0, 0) rotate(0deg) scale(1);
          }
          10% {
            opacity: 1;
          }
          50% {
            transform: translate(-10px, 110px) rotate(-30deg) scale(1);
            opacity: 1;
          }
          90% {
            opacity: 0;
            transform: translate(-15px, 190px) rotate(-60deg) scale(0.7);
          }
          100% {
            opacity: 0;
            transform: translate(-15px, 190px) rotate(-60deg) scale(0.7);
          }
        }
        @keyframes fall3 {
          0% {
            opacity: 0;
            transform: translate(0, 0) rotate(0deg) scale(1);
          }
          10% {
            opacity: 1;
          }
          50% {
            transform: translate(5px, 90px) rotate(20deg) scale(1.2);
            opacity: 1;
          }
          90% {
            opacity: 0;
            transform: translate(10px, 170px) rotate(40deg) scale(0.9);
          }
          100% {
            opacity: 0;
            transform: translate(10px, 170px) rotate(40deg) scale(0.9);
          }
        }
        @keyframes fall4 {
          0% {
            opacity: 0;
            transform: translate(0, 0) rotate(0deg) scale(1);
          }
          10% {
            opacity: 1;
          }
          50% {
            transform: translate(-5px, 95px) rotate(-25deg) scale(1.1);
            opacity: 1;
          }
          90% {
            opacity: 0;
            transform: translate(-10px, 185px) rotate(-50deg) scale(0.8);
          }
          100% {
            opacity: 0;
            transform: translate(-10px, 185px) rotate(-50deg) scale(0.8);
          }
        }
        @keyframes fall5 {
          0% {
            opacity: 0;
            transform: translate(0, 0) rotate(0deg) scale(1);
          }
          10% {
            opacity: 1;
          }
          50% {
            transform: translate(0, 100px) rotate(30deg) scale(1);
            opacity: 1;
          }
          90% {
            opacity: 0;
            transform: translate(5px, 180px) rotate(60deg) scale(0.7);
          }
          100% {
            opacity: 0;
            transform: translate(5px, 180px) rotate(60deg) scale(0.7);
          }
        }
      `})]})}const jL=()=>{const{user:n,loading:e}=no(),[t,i]=I.useState(null),[r,o]=I.useState(null),[c,u]=I.useState(!1),f=[5,10,20,30,60,100,150,200,250,300,365];return I.useEffect(()=>{const d=async()=>{if(n){const y=Jt(en,`emr-users/${n.uid}/progress/streak`),b=(await dn(y)).val()||0;i(b)}};(async()=>{if(n){const y=await RL(n.uid);o(y)}})(),d()},[n]),I.useEffect(()=>{(async()=>{if(n&&t&&(f.includes(t)||t==1)){const p=Jt(en,`emr-users/${n.uid}/progress/badges`),_=(await dn(p)).val()||{};if(!Object.entries(_).map(([w,E])=>({day:w,isGot:E})).find(w=>w.day==t)&&t!=1){u(!0);const w={[t]:!0};await xT(p,w)}else t==1&&await ST(p,null)}})()},[t]),C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[C.jsxs("h1",{className:"font-bold text-xl",children:["Welcome back, ",n?.displayName,"!"]}),C.jsx("div",{className:"flex gap-2 p-2 flex-1 items-center w-full overflow-x-hidden",children:C.jsx(R4,{streakCount:t,dailyActivity:r})})]}),C.jsx(BL,{isShow:c,setIsShow:u,children:f.includes(t)&&C.jsxs("div",{className:"flex flex-col gap-8 items-center justify-center relative",children:[C.jsxs("p",{className:"text-2xl font-bold text-center text-amber-500",children:[C.jsx("p",{children:"Congratulations!"}),C.jsxs("p",{children:["You got a new ",C.jsx("strong",{className:"font-extrabold",children:"Badge"}),"!"]})]}),C.jsx("div",{className:"animate-bounce",children:C.jsx(TT,{streakCount:t,isGot:!0,isNew:!0})}),C.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:C.jsx(FL,{})})]})})]})},VL=()=>C.jsx(C.Fragment,{children:C.jsx("div",{className:"p-4",children:"Oh, not found your page."})});function WL(n){return pn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 18.71875 6.78125 L 17.28125 8.21875 L 24.0625 15 L 4 15 L 4 17 L 24.0625 17 L 17.28125 23.78125 L 18.71875 25.21875 L 27.21875 16.71875 L 27.90625 16 L 27.21875 15.28125 Z"},child:[]}]})(n)}function qL(n){return pn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"},child:[]}]})(n)}function YL(n){return pn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 4 C 10.421875 4 5.742188 7.832031 4.40625 13 L 6.46875 13 C 7.746094 8.945313 11.53125 6 16 6 C 21.515625 6 26 10.484375 26 16 C 26 21.515625 21.515625 26 16 26 C 11.53125 26 7.746094 23.054688 6.46875 19 L 4.40625 19 C 5.742188 24.167969 10.421875 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 15.34375 11.28125 L 13.90625 12.71875 L 16.1875 15 L 4 15 L 4 17 L 16.1875 17 L 13.90625 19.28125 L 15.34375 20.71875 L 19.34375 16.71875 L 20.03125 16 L 19.34375 15.28125 Z"},child:[]}]})(n)}function GL(n){return pn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"},child:[]}]})(n)}const $L=({word:n,isMeaning:e})=>{const t=()=>{if(!n)return"-";const i=n.Word.length,r="_".repeat(i);return n.ExampleSentence.replace(n.Word,r)};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"border-2 border-[var(--color-accent)] rounded-md shadow-xl bg-gray-100 flex flex-col justify-center items-center w-full p-4 gap-4 h-72 overflow-auto",children:n?e?C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),C.jsx("p",{className:"font-JP",children:n.Meaning}),C.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),C.jsx("p",{children:n.ExampleSentence}),C.jsx("p",{className:"font-JP",children:n.ExampleTranslation})]}):C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),C.jsx("p",{children:n.PartOfSpeech}),C.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),C.jsx("p",{children:t()})]}):C.jsxs(C.Fragment,{children:[C.jsx("p",{className:"animate-pulse h-12 bg-gray-200 rounded-full w-44"}),C.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-24"}),C.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),C.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"}),C.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"})]})})})},A2=I.createContext(),ZL=({children:n})=>{const[e,t]=I.useState("level1");return C.jsx(A2.Provider,{value:{theme:e,setTheme:t},children:C.jsx("div",{"data-theme":e,className:"h-dvh",children:n})})},Ry=()=>{const n=I.useContext(A2);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n},R2=n=>{let e="level1";return n>3?e="level3":n>0?e="level2":e="level1",e},XL=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(null),[r,o]=I.useState(-1),[c,u]=I.useState(!1),{user:f,loading:d}=no(),{theme:p,setTheme:y}=Ry(),_=E=>{const M=R2(E);y(M),localStorage.setItem("level",M)};I.useEffect(()=>{if(!f)return;(async()=>{const M=Jt(en,`emr-users/${f.uid}/progress/currentIndex`),R=await dn(M);R.val()?o(R.val()):o(0),i(n[r])})()},[n]),I.useEffect(()=>{(async()=>{const M=Jt(en,"words");try{const U=(await dn(M)).val();e(Object.entries(U).map(([V,H])=>({id:V,...H})).sort(V=>V.id))}catch(R){console.error(R)}})()},[]);const b=async()=>{try{const E=f.uid,M=Jt(en,`emr-users/${E}/progress/repeat`),V=((await dn(M)).val()||0)+1;await ST(M,V),_(V)}catch(E){console.error(E)}},x=async E=>{if(!t)return;const M=f.uid;let R=r+1;R>=n.length&&(b(),R=0),u(!1),i(n[R]),o(R);const U=Jt(en,`emr-users/${M}/wordHistories/${t.id}`);try{const H=(await dn(U)).val()||{correctCount:0,incorrectCount:0,difficulty:"new"},$={correctCount:E?H.correctCount+1:H.correctCount,incorrectCount:E?H.incorrectCount:H.incorrectCount+1,lastReviewed:he.now().setZone("Asia/Tokyo"),difficulty:w(H,E)};await xT(U,$)}catch(V){console.error(V)}await AL(M,R)},w=(E,M)=>{const R=M?E.correctCount+1:E.correctCount,U=M?E.incorrectCount:E.incorrectCount+1,V=["easy","normal","hard"],H=R/(R+U);return H>=.8?V[0]:H<=.3?V[2]:V[1]};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"h-full flex justify-around items-center p-4 flex-col",children:[t?C.jsxs("p",{className:"h-6",children:[r+1,"/",n.length]}):C.jsx("p",{className:"h-6 w-24 animate-pulse bg-gray-200 rounded-full"}),C.jsx($L,{word:t,isMeaning:c},t?.id),C.jsx("div",{children:C.jsx("div",{className:"flex gap-12 justify-center",children:c?C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>x(!0),className:"btn-icon bg-green-500 text-white",children:C.jsx(qL,{className:"size-12"})}),C.jsx("button",{onClick:()=>x(!1),className:"btn-icon bg-red-500 text-white",children:C.jsx(GL,{className:"size-12"})})]}):C.jsx("button",{className:"btn-icon bg-[var(--color-accent)] text-white",onClick:()=>u(!0),children:C.jsx(WL,{className:"size-12"})})})})]})})},KL=()=>{const[n,e]=I.useState([]),[t,i]=I.useState("");I.useEffect(()=>{try{(async()=>{const u=Jt(en,"words");try{const d=(await dn(u)).val();e(Object.entries(d).map(([p,y])=>({id:p,...y})))}catch(f){console.error(f)}})()}catch(c){console.error(c)}},[]);const r=c=>i(c.target.value),o=n.filter(c=>c.Word.toLowerCase().includes(t.toLowerCase())).sort(c=>c.Word);return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"h-full px-2 pt-2 flex flex-col overflow-hidden",children:[C.jsx("input",{onChange:r,value:t,className:"rounded-full p-2 border border-[var(--color-accent)] shadow"}),n.length==0?C.jsx("div",{className:"flex-1 flex items-center justify-center",children:C.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):C.jsx("div",{className:"overflow-y-auto flex-1",children:C.jsx("ul",{children:o.map(c=>C.jsxs("li",{id:c.id,className:"p-2 border-b",children:[C.jsx("p",{className:"text-xl font-semibold",children:c.Word}),C.jsx("p",{className:"text-base font-JP",children:c.Meaning})]},c.id))})})]})})};function QL(n){return pn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function JL(n){return pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function e8(n){return pn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function t8(n){return pn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function n8(n){return pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function i8(n){return pn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(n)}const s8=()=>C.jsx(C.Fragment,{children:C.jsx("nav",{className:"border-t border-[var(--color-accent)]",children:C.jsxs("ul",{className:"flex justify-around",children:[C.jsx("li",{children:C.jsxs(hr,{to:"/",className:"flex flex-col items-center justify-center p-2 gap-2",children:[C.jsx(t8,{className:"size-6"}),C.jsx("p",{className:"text-xs",children:"Home"})]})}),C.jsx("li",{children:C.jsxs(hr,{to:"/study",className:"flex flex-col items-center justify-center p-2 gap-2",children:[C.jsx(i8,{className:"size-6"}),C.jsx("p",{className:"text-xs",children:"Study"})]})}),C.jsx("li",{children:C.jsxs(hr,{to:"/words",className:"flex flex-col items-center justify-center p-2 gap-2",children:[C.jsx(n8,{className:"size-6"}),C.jsx("p",{className:"text-xs",children:"Words"})]})}),C.jsx("li",{children:C.jsxs(hr,{to:"/charts",className:"flex flex-col items-center justify-center p-2 gap-2",children:[C.jsx(e8,{className:"size-6"}),C.jsx("p",{className:"text-xs",children:"Charts"})]})})]})})});function r8(n){return pn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(n)}const a8=async()=>{try{const n=await cE(ja,wT);GD(ja.currentUser,n)}catch(n){console.error(n)}},o8=async()=>{try{await cE(ja,wT)}catch(n){console.error(n)}},l8=async()=>{try{await jD(ja)}catch(n){console.error(n)}},c8=()=>{try{ja.signOut()}catch(n){console.error(n)}},u8=()=>C.jsx(C.Fragment,{children:C.jsx("div",{className:"bg-gray-400/50 fixed top-0 left-0 w-full h-dvh flex items-center justify-center z-50",children:C.jsxs("div",{className:"shadow-xl rounded-xl p-4 bg-gray-50 flex items-center jusitfy-center flex-col max-w-72",children:[C.jsxs("h1",{className:"text-2xl font-bold text-center",children:[C.jsx("p",{children:"Welcome to"}),C.jsx("p",{children:"New"}),C.jsx("p",{children:"English Master!"})]}),C.jsx("p",{className:"pt-2 text-base text-center font-thin",children:"Weve been developing English Master with Blazor, and now were excited to start creating it with React. Enjoy the new, evolved English Master!"}),C.jsxs("div",{className:"p-4 w-full",children:[C.jsx("button",{onClick:o8,className:"btn-primary",children:"Sign in with Google"}),C.jsx("p",{className:"text-center font-thin",children:"or"}),C.jsx("button",{className:"btn-secondary",onClick:l8,children:"Start as Guest"})]}),C.jsx("p",{className:"text-base font-thin p-2",children:"Powered by"}),C.jsxs("div",{className:"flex justify-center gap-2",children:[C.jsx(JL,{className:"size-6"}),C.jsx(HL,{className:"size-6"}),C.jsx(r8,{className:"size-6"})]}),C.jsx("p",{className:"text-base font-thin p-2",children:"Developed by"}),C.jsxs("a",{href:"https://github.com/fukicycle",className:"flex justify-center items-center gap-2",children:["Fuki Sato",C.jsx(QL,{})]})]})})});function h8(){const{theme:n}=Ry();return I.useEffect(()=>{const e=document.querySelector('meta[name="theme-color"]');e&&(n==="level1"?e.setAttribute("content","#10b981"):n==="level2"?e.setAttribute("content","#0ea5e9"):n==="level3"&&e.setAttribute("content","#a855f7"))},[n]),null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bc(n){return n+.5|0}const xs=(n,e,t)=>Math.max(Math.min(n,t),e);function wl(n){return xs(bc(n*2.55),0,255)}function ks(n){return xs(bc(n*255),0,255)}function Oi(n){return xs(bc(n/2.55)/100,0,1)}function FS(n){return xs(bc(n*100),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yp=[..."0123456789ABCDEF"],f8=n=>yp[n&15],d8=n=>yp[(n&240)>>4]+yp[n&15],Yu=n=>(n&240)>>4===(n&15),m8=n=>Yu(n.r)&&Yu(n.g)&&Yu(n.b)&&Yu(n.a);function g8(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Mn[n[1]]*17,g:255&Mn[n[2]]*17,b:255&Mn[n[3]]*17,a:e===5?Mn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Mn[n[1]]<<4|Mn[n[2]],g:Mn[n[3]]<<4|Mn[n[4]],b:Mn[n[5]]<<4|Mn[n[6]],a:e===9?Mn[n[7]]<<4|Mn[n[8]]:255})),t}const p8=(n,e)=>n<255?e(n):"";function y8(n){var e=m8(n)?f8:d8;return n?"#"+e(n.r)+e(n.g)+e(n.b)+p8(n.a,e):void 0}const _8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function k2(n,e,t){const i=e*Math.min(t,1-t),r=(o,c=(o+n/30)%12)=>t-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function v8(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function b8(n,e,t){const i=k2(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function S8(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function ky(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),c=Math.min(t,i,r),u=(o+c)/2;let f,d,p;return o!==c&&(p=o-c,d=u>.5?p/(2-o-c):p/(o+c),f=S8(t,i,r,p,o),f=f*60+.5),[f|0,d||0,u]}function Dy(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ks)}function Ny(n,e,t){return Dy(k2,n,e,t)}function x8(n,e,t){return Dy(b8,n,e,t)}function w8(n,e,t){return Dy(v8,n,e,t)}function D2(n){return(n%360+360)%360}function E8(n){const e=_8.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?wl(+e[5]):ks(+e[5]));const r=D2(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=x8(r,o,c):e[1]==="hsv"?i=w8(r,o,c):i=Ny(r,o,c),{r:i[0],g:i[1],b:i[2],a:t}}function T8(n,e){var t=ky(n);t[0]=D2(t[0]+e),t=Ny(t),n.r=t[0],n.g=t[1],n.b=t[2]}function C8(n){if(!n)return;const e=ky(n),t=e[0],i=FS(e[1]),r=FS(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Oi(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const jS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M8(){const n={},e=Object.keys(VS),t=Object.keys(jS);let i,r,o,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],r=0;r<t.length;r++)o=t[r],u=u.replace(o,jS[o]);o=parseInt(VS[c],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Gu;function O8(n){Gu||(Gu=M8(),Gu.transparent=[0,0,0,0]);const e=Gu[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const A8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function R8(n){const e=A8.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const c=+e[7];t=e[8]?wl(c):xs(c*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?wl(i):xs(i,0,255)),r=255&(e[4]?wl(r):xs(r,0,255)),o=255&(e[6]?wl(o):xs(o,0,255)),{r:i,g:r,b:o,a:t}}}function k8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Oi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const wg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Sa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D8(n,e,t){const i=Sa(Oi(n.r)),r=Sa(Oi(n.g)),o=Sa(Oi(n.b));return{r:ks(wg(i+t*(Sa(Oi(e.r))-i))),g:ks(wg(r+t*(Sa(Oi(e.g))-r))),b:ks(wg(o+t*(Sa(Oi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function $u(n,e,t){if(n){let i=ky(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Ny(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function N2(n,e){return n&&Object.assign(e||{},n)}function WS(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ks(n[3]))):(e=N2(n,{r:0,g:0,b:0,a:1}),e.a=ks(e.a)),e}function N8(n){return n.charAt(0)==="r"?R8(n):E8(n)}class Xl{constructor(e){if(e instanceof Xl)return e;const t=typeof e;let i;t==="object"?i=WS(e):t==="string"&&(i=g8(e)||O8(e)||N8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=N2(this._rgb);return e&&(e.a=Oi(e.a)),e}set rgb(e){this._rgb=WS(e)}rgbString(){return this._valid?k8(this._rgb):void 0}hexString(){return this._valid?y8(this._rgb):void 0}hslString(){return this._valid?C8(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,u=2*c-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=D8(this._rgb,e._rgb,t)),this}clone(){return new Xl(this.rgb)}alpha(e){return this._rgb.a=ks(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=bc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $u(this._rgb,2,e),this}darken(e){return $u(this._rgb,2,-e),this}saturate(e){return $u(this._rgb,1,e),this}desaturate(e){return $u(this._rgb,1,-e),this}rotate(e){return T8(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ti(){}const I8=(()=>{let n=0;return()=>n++})();function qe(n){return n==null}function vt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ae(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ei(n,e){return Nn(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const L8=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,I2=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Xe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ze(n,e,t,i){let r,o,c;if(vt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Ae(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)e.call(t,n[c[r]],c[r])}function Gh(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function $h(n){if(vt(n))return n.map($h);if(Ae(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=$h(n[t[r]]);return e}return n}function L2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function P8(n,e,t,i){if(!L2(n))return;const r=e[n],o=t[n];Ae(r)&&Ae(o)?Kl(r,o,i):e[n]=$h(o)}function Kl(n,e,t){const i=vt(e)?e:[e],r=i.length;if(!Ae(n))return n;t=t||{};const o=t.merger||P8;let c;for(let u=0;u<r;++u){if(c=i[u],!Ae(c))continue;const f=Object.keys(c);for(let d=0,p=f.length;d<p;++d)o(f[d],n,c,t)}return n}function Il(n,e){return Kl(n,e,{merger:z8})}function z8(n,e,t){if(!L2(n))return;const i=e[n],r=t[n];Ae(i)&&Ae(r)?Il(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=$h(r))}const qS={"":n=>n,x:n=>n.x,y:n=>n.y};function U8(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function H8(n){const e=U8(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Er(n,e){return(qS[e]||(qS[e]=H8(e)))(n)}function Iy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ql=n=>typeof n<"u",zs=n=>typeof n=="function",YS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function B8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const We=Math.PI,gt=2*We,Zh=Number.POSITIVE_INFINITY,F8=We/180,bt=We/2,rr=We/4,GS=We*2/3,P2=Math.log10,Ds=Math.sign;function gh(n,e,t){return Math.abs(n-e)<t}function $S(n){const e=Math.round(n);n=gh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(P2(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function j8(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function V8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Xh(n){return!V8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function W8(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function q8(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ni(n){return n*(We/180)}function Y8(n){return n*(180/We)}function ZS(n){if(!Nn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function z2(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*We&&(o+=gt),{angle:o,distance:r}}function G8(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ii(n){return(n%gt+gt)%gt}function Kh(n,e,t,i){const r=ii(n),o=ii(e),c=ii(t),u=ii(o-r),f=ii(c-r),d=ii(r-o),p=ii(r-c);return r===o||r===c||i&&o===c||u>f&&d<p}function tn(n,e,t){return Math.max(e,Math.min(t,n))}function $8(n){return tn(n,-32768,32767)}function gr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ly(n,e,t){t=t||(c=>n[c]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const _p=(n,e,t,i)=>Ly(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),Z8=(n,e,t)=>Ly(n,t,i=>n[i][e]>=t);function X8(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const U2=["push","pop","shift","splice","unshift"];function K8(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),U2.forEach(t=>{const i="_onData"+Iy(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function XS(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(U2.forEach(o=>{delete n[o]}),delete n._chartjs)}function H2(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const B2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function F2(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,B2.call(window,()=>{i=!1,n.apply(e,t)}))}}function Q8(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Py=n=>n==="start"?"left":n==="end"?"right":"center",Lt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,J8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Zu=n=>n===0||n===1,KS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*gt/t)),QS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*gt/t)+1,Ll={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*bt)+1,easeOutSine:n=>Math.sin(n*bt),easeInOutSine:n=>-.5*(Math.cos(We*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zu(n)?n:KS(n,.075,.3),easeOutElastic:n=>Zu(n)?n:QS(n,.075,.3),easeInOutElastic(n){return Zu(n)?n:n<.5?.5*KS(n*2,.1125,.45):.5+.5*QS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ll.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ll.easeInBounce(n*2)*.5:Ll.easeOutBounce(n*2-1)*.5+.5};function j2(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function JS(n){return j2(n)?n:new Xl(n)}function Eg(n){return j2(n)?n:new Xl(n).saturate(.5).darken(.1).hexString()}const eP=["x","y","borderWidth","radius","tension"],tP=["color","borderColor","backgroundColor"];function nP(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:tP},numbers:{type:"number",properties:eP}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iP(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ex=new Map;function sP(n,e){e=e||{};const t=n+JSON.stringify(e);let i=ex.get(t);return i||(i=new Intl.NumberFormat(n,e),ex.set(t,i)),i}function zy(n,e,t){return sP(e,t).format(n)}const rP={values(n){return vt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=aP(n,t)}const c=P2(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),zy(n,i,f)}};function aP(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var V2={formatters:rP};function oP(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:V2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Tr=Object.create(null),vp=Object.create(null);function Pl(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Tg(n,e,t){return typeof e=="string"?Kl(Pl(n,e),t):Kl(Pl(n,""),e)}class lP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Eg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Eg(r.borderColor),this.hoverColor=(i,r)=>Eg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Tg(this,e,t)}get(e){return Pl(this,e)}describe(e,t){return Tg(vp,e,t)}override(e,t){return Tg(Tr,e,t)}route(e,t,i,r){const o=Pl(this,e),c=Pl(this,i),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[u],d=c[r];return Ae(f)?Object.assign({},d,f):Oe(f,d)},set(f){this[u]=f}}})}apply(e){e.forEach(t=>t(this))}}var ut=new lP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nP,iP,oP]);function cP(n){return!n||qe(n.size)||qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function tx(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function ar(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function nx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ix(n,e,t,i){W2(n,e,t,i,null)}function W2(n,e,t,i,r){let o,c,u,f,d,p,y,_;const b=e.pointStyle,x=e.rotation,w=e.radius;let E=(x||0)*F8;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(E),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,w,0,0,gt):n.arc(t,i,w,0,gt),n.closePath();break;case"triangle":p=r?r/2:w,n.moveTo(t+Math.sin(E)*p,i-Math.cos(E)*w),E+=GS,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*w),E+=GS,n.lineTo(t+Math.sin(E)*p,i-Math.cos(E)*w),n.closePath();break;case"rectRounded":d=w*.516,f=w-d,c=Math.cos(E+rr)*f,y=Math.cos(E+rr)*(r?r/2-d:f),u=Math.sin(E+rr)*f,_=Math.sin(E+rr)*(r?r/2-d:f),n.arc(t-y,i-u,d,E-We,E-bt),n.arc(t+_,i-c,d,E-bt,E),n.arc(t+y,i+u,d,E,E+bt),n.arc(t-_,i+c,d,E+bt,E+We),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*w,p=r?r/2:f,n.rect(t-p,i-f,2*p,2*f);break}E+=rr;case"rectRot":y=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,u=Math.sin(E)*w,_=Math.sin(E)*(r?r/2:w),n.moveTo(t-y,i-u),n.lineTo(t+_,i-c),n.lineTo(t+y,i+u),n.lineTo(t-_,i+c),n.closePath();break;case"crossRot":E+=rr;case"cross":y=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,u=Math.sin(E)*w,_=Math.sin(E)*(r?r/2:w),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c);break;case"star":y=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,u=Math.sin(E)*w,_=Math.sin(E)*(r?r/2:w),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c),E+=rr,y=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,u=Math.sin(E)*w,_=Math.sin(E)*(r?r/2:w),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+_,i-c),n.lineTo(t-_,i+c);break;case"line":c=r?r/2:Math.cos(E)*w,u=Math.sin(E)*w,n.moveTo(t-c,i-u),n.lineTo(t+c,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(E)*(r?r/2:w),i+Math.sin(E)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function q2(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Uy(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Hy(n){n.restore()}function uP(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function hP(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,p),n.lineTo(u,p),n.stroke()}}function fP(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Jl(n,e,t,i,r,o={}){const c=vt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,uP(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&fP(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,t,i,o.maxWidth)),n.fillText(d,t,i,o.maxWidth),hP(n,t,i,d,o),i+=Number(r.lineHeight);n.restore()}function Qh(n,e){const{x:t,y:i,w:r,h:o,radius:c}=e;n.arc(t+c.topLeft,i+c.topLeft,c.topLeft,1.5*We,We,!0),n.lineTo(t,i+o-c.bottomLeft),n.arc(t+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,We,bt,!0),n.lineTo(t+r-c.bottomRight,i+o),n.arc(t+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,bt,0,!0),n.lineTo(t+r,i+c.topRight),n.arc(t+r-c.topRight,i+c.topRight,c.topRight,0,-bt,!0),n.lineTo(t+c.topLeft,i)}const dP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gP(n,e){const t=(""+n).match(dP);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const pP=n=>+n||0;function By(n,e){const t={},i=Ae(e),r=i?Object.keys(e):e,o=Ae(n)?i?c=>Oe(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of r)t[c]=pP(o(c));return t}function Y2(n){return By(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Na(n){return By(n,["topLeft","topRight","bottomLeft","bottomRight"])}function In(n){const e=Y2(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ut(n,e){n=n||{},e=e||ut.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Oe(n.style,e.style);i&&!(""+i).match(mP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Oe(n.family,e.family),lineHeight:gP(Oe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Oe(n.weight,e.weight),string:""};return r.string=cP(r),r}function Xu(n,e,t,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function yP(n,e,t){const{min:i,max:r}=n,o=I2(e,(r-i)/2),c=(u,f)=>t&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function oo(n,e){return Object.assign(Object.create(n),e)}function Fy(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=X2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>Fy([u,...n],e,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return $2(u,f,()=>TP(f,e,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return rx(u).includes(f)},ownKeys(u){return rx(u)},set(u,f,d){const p=u._storage||(u._storage=r());return u[f]=p[f]=d,delete u._keys,!0}})}function Wa(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:G2(n,i),setContext:o=>Wa(n,o,t,i),override:o=>Wa(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,u){return $2(o,c,()=>vP(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,u){return n[c]=u,delete o[c],!0}})}function G2(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:zs(t)?t:()=>t,isIndexable:zs(i)?i:()=>i}}const _P=(n,e)=>n?n+Iy(e):e,jy=(n,e)=>Ae(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function vP(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let u=i[e];return zs(u)&&c.isScriptable(e)&&(u=bP(e,u,n,t)),vt(u)&&u.length&&(u=SP(e,u,n,c.isIndexable)),jy(e,u)&&(u=Wa(u,r,o&&o[e],c)),u}function bP(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=e(o,c||i);return u.delete(n),jy(n,f)&&(f=Vy(r._scopes,r,n,f)),f}function SP(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:u}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Ae(e[0])){const f=e,d=r._scopes.filter(p=>p!==f);e=[];for(const p of f){const y=Vy(d,r,n,p);e.push(Wa(y,o,c&&c[n],u))}}return e}function Z2(n,e,t){return zs(n)?n(e,t):n}const xP=(n,e)=>n===!0?e:typeof n=="string"?Er(e,n):void 0;function wP(n,e,t,i,r){for(const o of e){const c=xP(t,o);if(c){n.add(c);const u=Z2(c._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(c===!1&&typeof i<"u"&&t!==i)return null}return!1}function Vy(n,e,t,i){const r=e._rootScopes,o=Z2(e._fallback,t,i),c=[...n,...r],u=new Set;u.add(i);let f=sx(u,c,t,o||t,i);return f===null||typeof o<"u"&&o!==t&&(f=sx(u,c,o,f,i),f===null)?!1:Fy(Array.from(u),[""],r,o,()=>EP(e,t,i))}function sx(n,e,t,i,r){for(;t;)t=wP(n,e,t,i,r);return t}function EP(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return vt(r)&&Ae(t)?t:r||{}}function TP(n,e,t,i){let r;for(const o of e)if(r=X2(_P(o,n),t),typeof r<"u")return jy(n,r)?Vy(t,i,n,r):r}function X2(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function rx(n){let e=n._keys;return e||(e=n._keys=CP(n._scopes)),e}function CP(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Wy(){return typeof window<"u"&&typeof document<"u"}function qy(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Of=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function MP(n,e){return Of(n).getPropertyValue(e)}const OP=["top","right","bottom","left"];function pr(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=OP[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const AP=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function RP(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,u,f;if(AP(r,o,n.target))u=r,f=o;else{const d=e.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:u,y:f,box:c}}function ur(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Of(t),o=r.boxSizing==="border-box",c=pr(r,"padding"),u=pr(r,"border","width"),{x:f,y:d,box:p}=RP(n,t),y=c.left+(p&&u.left),_=c.top+(p&&u.top);let{width:b,height:x}=e;return o&&(b-=c.width+u.width,x-=c.height+u.height),{x:Math.round((f-y)/b*t.width/i),y:Math.round((d-_)/x*t.height/i)}}function kP(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&qy(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),u=Of(o),f=pr(u,"border","width"),d=pr(u,"padding");e=c.width-d.width-f.width,t=c.height-d.height-f.height,i=Jh(u.maxWidth,o,"clientWidth"),r=Jh(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Zh,maxHeight:r||Zh}}const Ku=n=>Math.round(n*10)/10;function DP(n,e,t,i){const r=Of(n),o=pr(r,"margin"),c=Jh(r.maxWidth,n,"clientWidth")||Zh,u=Jh(r.maxHeight,n,"clientHeight")||Zh,f=kP(n,e,t);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const _=pr(r,"border","width"),b=pr(r,"padding");d-=b.width+_.width,p-=b.height+_.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Ku(Math.min(d,c,f.maxWidth)),p=Ku(Math.min(p,u,f.maxHeight)),d&&!p&&(p=Ku(d/2)),(e!==void 0||t!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=Ku(Math.floor(p*i))),{width:d,height:p}}function ax(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const NP=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Wy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function ox(n,e){const t=MP(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const IP=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},LP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ia(n,e,t){return n?IP(e,t):LP()}function K2(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Q2(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Qu(n,e,t){return n.options.clip?n[t]:e[t]}function PP(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Qu(t,e,"left"),right:Qu(t,e,"right"),top:Qu(i,e,"top"),bottom:Qu(i,e,"bottom")}:e}function zP(n,e){const t=e._clip;if(t.disabled)return!1;const i=PP(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class UP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],c=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(i-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=B2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ci=new UP;const lx="transparent",HP={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=JS(n||lx),r=i.valid&&JS(e||lx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class BP{constructor(e,t,i,r){const o=t[i];r=Xu([e.to,r,o,e.from]);const c=Xu([e.from,o,r]);this._active=!0,this._fn=e.fn||HP[e.type||typeof c],this._easing=Ll[e.easing]||Ll.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Xu([e.to,t,r,e.from]),this._from=Xu([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=o;return}f=t/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class J2{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ae(e))return;const t=Object.keys(ut.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Ae(o))return;const c={};for(const u of t)c[u]=o[u];(vt(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,t){const i=t.options,r=jP(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&FP(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let y=o[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,u);continue}else y.cancel();if(!_||!_.duration){e[d]=p;continue}o[d]=y=new BP(_,e,d,p),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ci.add(this._chart,i),!0}}function FP(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function jP(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function cx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function VP(n,e,t){if(t===!1)return!1;const i=cx(n,t),r=cx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function WP(n){let e,t,i,r;return Ae(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function eC(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function ux(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let c,u,f,d;if(e===null)return;let p=!1;for(c=0,u=r.length;c<u;++c){if(f=+r[c],f===t){if(p=!0,i.all)continue;break}d=n.values[f],Nn(d)&&(o||e===0||Ds(e)===Ds(d))&&(e+=d)}return!p&&!i.all?0:e}function qP(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let f,d,p;for(f=0,d=c.length;f<d;++f)p=c[f],u[f]={[r]:p,[o]:n[p]};return u}function Cg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function YP(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function GP(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function $P(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function hx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function fx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,d=c.axis,p=YP(o,c,i),y=e.length;let _;for(let b=0;b<y;++b){const x=e[b],{[f]:w,[d]:E}=x,M=x._stacks||(x._stacks={});_=M[d]=$P(r,p,w),_[u]=E,_._top=hx(_,c,!0,i.type),_._bottom=hx(_,c,!1,i.type);const R=_._visualValues||(_._visualValues={});R[u]=E}}function Mg(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function ZP(n,e){return oo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function XP(n,e,t){return oo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function gl(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Og=n=>n==="reset"||n==="none",dx=(n,e)=>e?n:Object.assign({},n),KP=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:eC(t,!0),values:null};class Yy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,_,b,x)=>y==="x"?_:y==="r"?x:b,o=t.xAxisID=Oe(i.xAxisID,Mg(e,"x")),c=t.yAxisID=Oe(i.yAxisID,Mg(e,"y")),u=t.rAxisID=Oe(i.rAxisID,Mg(e,"r")),f=t.indexAxis,d=t.iAxisID=r(f,o,c,u),p=t.vAxisID=r(f,c,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&XS(this._data,this),e._stacked&&gl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ae(t)){const r=this._cachedMeta;this._data=qP(t,r)}else if(i!==t){if(i){XS(i,this);const r=this._cachedMeta;gl(r),r._parsed=[]}t&&Object.isExtensible(t)&&K8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Cg(t.vScale,t),t.stack!==i.stack&&(r=!0,gl(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(fx(this,t._parsed),t._stacked=Cg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{vt(r[e])?_=this.parseArrayData(i,r,e,t):Ae(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>y[u]===null||d&&y[u]<d[u];for(p=0;p<t;++p)i._parsed[p+e]=y=_[p],f&&(b()&&(f=!1),d=y);i._sorted=f}c&&fx(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,d=o.getLabels(),p=o===c,y=new Array(r);let _,b,x;for(_=0,b=r;_<b;++_)x=_+i,y[_]={[u]:p||o.parse(d[x],x),[f]:c.parse(t[x],x)};return y}parseArrayData(e,t,i,r){const{xScale:o,yScale:c}=e,u=new Array(r);let f,d,p,y;for(f=0,d=r;f<d;++f)p=f+i,y=t[p],u[f]={x:o.parse(y[0],p),y:c.parse(y[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,y,_,b;for(p=0,y=r;p<y;++p)_=p+i,b=t[_],d[p]={x:o.parse(Er(b,u),_),y:c.parse(Er(b,f),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,c=t[e.axis],u={keys:eC(r,!0),values:t._stacks[e.axis]._visualValues};return ux(u,c,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let c=o===null?NaN:o;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,c=ux(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,c=r.length,u=this._getOtherScale(e),f=KP(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=GP(u);let _,b;function x(){b=r[_];const w=b[u.axis];return!Nn(b[e.axis])||p>w||y<w}for(_=0;_<c&&!(!x()&&(this.updateRangeFromParsed(d,e,b,f),o));++_);if(o){for(_=c-1;_>=0;--_)if(!x()){this.updateRangeFromParsed(d,e,b,f);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],Nn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=WP(Oe(this.options.clip,VP(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,f),p=u;p<u+f;++p){const y=r[p];y.hidden||(y.active&&d?c.push(y):y.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=XP(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=ZP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,u=o[c],f=this.enableOptionSharing&&Ql(i);if(u)return dx(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),p),b=Object.keys(ut.elements[e]),x=()=>this.getContext(i,r,t),w=d.resolveNamedOptions(_,b,x,y);return w.$shared&&(w.$shared=f,o[c]=Object.freeze(dx(w,f))),w}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,u=o[c];if(u)return u;let f;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),y);f=p.createResolver(_,this.getContext(e,i,t))}const d=new J2(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Og(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:c}}updateElement(e,t,i,r){Og(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Og(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,c=e+t;let u;const f=d=>{for(d.length+=t,u=d.length-1;u>=c;u--)d[u]=d[u-t]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&gl(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function QP(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=H2(i.sort((r,o)=>r-o))}return n._cache.$bar}function JP(n){const e=n.iScale,t=QP(e,n.type);let i=e._length,r,o,c,u;const f=()=>{c===32767||c===-32768||(Ql(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),f();for(u=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),f();return i}function ez(n,e,t,i){const r=t.barThickness;let o,c;return qe(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[n]-o/2}}function tz(n,e,t,i){const r=e.pixels,o=r[n];let c=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=t.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const d=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:t.barPercentage,start:d}}function nz(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),c=Math.min(r,o),u=Math.max(r,o);let f=c,d=u;Math.abs(c)>Math.abs(u)&&(f=u,d=c),e[t.axis]=d,e._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:u}}function tC(n,e,t,i){return vt(n)?nz(n,e,t,i):e[t.axis]=t.parse(n,i),e}function mx(n,e,t,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),u=r===o,f=[];let d,p,y,_;for(d=t,p=t+i;d<p;++d)_=e[d],y={},y[r.axis]=u||r.parse(c[d],d),f.push(tC(_,y,o,d));return f}function Ag(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function iz(n,e,t){return n!==0?Ds(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function sz(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function rz(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:d,bottom:p}=sz(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=d:(t._bottom||0)===i?r=p:(o[gx(p,c,u,f)]=!0,r=d)),o[gx(r,c,u,f)]=!0,n.borderSkipped=o}function gx(n,e,t,i){return i?(n=az(n,e,t),n=px(n,t,e)):n=px(n,e,t),n}function az(n,e,t){return n===e?t:n===t?e:n}function px(n,e,t){return n==="start"?e:n==="end"?t:n}function oz(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class lz extends Yy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return mx(e,t,i,r)}parseArrayData(e,t,i,r){return mx(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,p=c.axis==="x"?u:f,y=[];let _,b,x,w;for(_=i,b=i+r;_<b;++_)w=t[_],x={},x[o.axis]=o.parse(Er(w,d),_),y.push(tC(Er(w,p),x,c,_));return y}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),c=o._custom,u=Ag(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(t,r);for(let b=t;b<t+i;b++){const x=this.getParsed(b),w=o||qe(x[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),E=this._calculateBarIndexPixels(b,p),M=(x._stacks||{})[u.axis],R={horizontal:d,base:w.base,enableBorderRadius:!M||Ag(x._custom)||c===M._top||c===M._bottom,x:d?w.head:E.center,y:d?E.center:w.head,height:d?E.size:Math.abs(w.size),width:d?Math.abs(w.size):E.size};_&&(R.options=y||this.resolveDataElementOptions(b,e[b].active?"active":r));const U=R.options||e[b].options;rz(R,U,M,c),oz(R,U,p.ratio),this.updateElement(e[b],b,R,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(t),f=u&&u[i.axis],d=p=>{const y=p._parsed.find(b=>b[i.axis]===f),_=y&&y[p.vScale.axis];if(qe(_)||isNaN(_))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||JP(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),d=f._custom,p=Ag(d);let y=f[t.axis],_=0,b=i?this.applyStack(t,f,i):y,x,w;b!==y&&(_=b-y,b=y),p&&(y=d.barStart,b=d.barEnd-d.barStart,y!==0&&Ds(y)!==Ds(d.barEnd)&&(_=0),_+=y);const E=!qe(o)&&!p?o:_;let M=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?x=t.getPixelForValue(_+b):x=M,w=x-M,Math.abs(w)<c){w=iz(w,t,u)*c,y===u&&(M-=w/2);const R=t.getPixelForDecimal(0),U=t.getPixelForDecimal(1),V=Math.min(R,U),H=Math.max(R,U);M=Math.max(Math.min(M,H),V),x=M+w,i&&!p&&(f._stacks[t.axis]._visualValues[r]=t.getValueForPixel(x)-t.getValueForPixel(M))}if(M===t.getPixelForValue(u)){const R=Ds(w)*t.getLineWidthForValue(u)/2;M+=R,w-=R}return{size:w,base:M,head:x,center:x+w/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,c=Oe(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,y=r.barThickness==="flex"?tz(e,t,r,p*d):ez(e,t,r,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Oe(_,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+b;u=y.start+y.chunk*x+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(c,t.min*t.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function cz(n,e,t){let i=1,r=1,o=0,c=0;if(e<gt){const u=n,f=u+e,d=Math.cos(u),p=Math.sin(u),y=Math.cos(f),_=Math.sin(f),b=(U,V,H)=>Kh(U,u,f,!0)?1:Math.max(V,V*t,H,H*t),x=(U,V,H)=>Kh(U,u,f,!0)?-1:Math.min(V,V*t,H,H*t),w=b(0,d,y),E=b(bt,p,_),M=x(We,d,y),R=x(We+bt,p,_);i=(w-M)/2,r=(E-R)/2,o=-(w+M)/2,c=-(E+R)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class uz extends Yy{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ae(i[e])){const{key:f="value"}=this._parsing;o=d=>+Er(i[d],f)}let c,u;for(c=e,u=e+t;c<u;++c)r._parsed[c]=o(c)}}_getRotation(){return Ni(this.options.rotation-90)}_getCircumference(){return Ni(this.options.circumference)}_getRotationExtents(){let e=gt,t=-gt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(L8(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:x,offsetY:w}=cz(y,p,f),E=(i.width-c)/_,M=(i.height-c)/b,R=Math.max(Math.min(E,M)/2,0),U=I2(this.options.radius,R),V=Math.max(U*f,0),H=(U-V)/this._getVisibleDatasetWeightTotal();this.offsetX=x*U,this.offsetY=w*U,r.total=this.calculateTotal(),this.outerRadius=U-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/gt)}updateElements(e,t,i,r){const o=r==="reset",c=this.chart,u=c.chartArea,d=c.options.animation,p=(u.left+u.right)/2,y=(u.top+u.bottom)/2,_=o&&d.animateScale,b=_?0:this.innerRadius,x=_?0:this.outerRadius,{sharedOptions:w,includeOptions:E}=this._getSharedOptions(t,r);let M=this._getRotation(),R;for(R=0;R<t;++R)M+=this._circumference(R,o);for(R=t;R<t+i;++R){const U=this._circumference(R,o),V=e[R],H={x:p+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+U,circumference:U,outerRadius:x,innerRadius:b};E&&(H.options=w||this.resolveDataElementOptions(R,V.active?"active":r)),M+=U,this.updateElement(V,R,H,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?gt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=zy(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,c,u,f;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),e=c.data,u=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(t=Math.max(t,f.borderWidth||0,f.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function or(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gy{static override(e){Object.assign(Gy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return or()}parse(){return or()}format(){return or()}add(){return or()}diff(){return or()}startOf(){return or()}endOf(){return or()}}var hz={_date:Gy};function fz(n,e,t,i){const{controller:r,data:o,_sorted:c}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const d=u._reversePixels?Z8:_p;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const _=d(o,e,t-y),b=d(o,e,t+y);return{lo:_.lo,hi:b.hi}}}}else{const p=d(o,e,t);if(f){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(w=>!qe(w[y.axis]));p.lo-=Math.max(0,b);const x=_.slice(p.hi).findIndex(w=>!qe(w[y.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:o.length-1}}function Af(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let u=0,f=o.length;u<f;++u){const{index:d,data:p}=o[u],{lo:y,hi:_}=fz(o[u],e,c,r);for(let b=y;b<=_;++b){const x=p[b];x.skip||i(x,d,b)}}}function dz(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,c=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Rg(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||Af(n,t,e,function(u,f,d){!r&&!q2(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function mz(n,e,t,i){let r=[];function o(c,u,f){const{startAngle:d,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:y}=z2(c,{x:e.x,y:e.y});Kh(y,d,p)&&r.push({element:c,datasetIndex:u,index:f})}return Af(n,t,e,o),r}function gz(n,e,t,i,r,o){let c=[];const u=dz(t);let f=Number.POSITIVE_INFINITY;function d(p,y,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const x=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!b)return;const E=u(e,x);E<f?(c=[{element:p,datasetIndex:y,index:_}],f=E):E===f&&c.push({element:p,datasetIndex:y,index:_})}return Af(n,t,e,d),c}function kg(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?mz(n,e,t,r):gz(n,e,t,i,r,o)}function yx(n,e,t,i,r){const o=[],c=t==="x"?"inXRange":"inYRange";let u=!1;return Af(n,t,e,(f,d,p)=>{f[c]&&f[c](e[t],r)&&(o.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(e.x,e.y,r))}),i&&!u?[]:o}var pz={modes:{index(n,e,t,i){const r=ur(e,n),o=t.axis||"x",c=t.includeInvisible||!1,u=t.intersect?Rg(n,r,o,i,c):kg(n,r,o,!1,i,c),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,y=d.data[p];y&&!y.skip&&f.push({element:y,datasetIndex:d.index,index:p})}),f):[]},dataset(n,e,t,i){const r=ur(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let u=t.intersect?Rg(n,r,o,i,c):kg(n,r,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(n,e,t,i){const r=ur(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return Rg(n,r,o,i,c)},nearest(n,e,t,i){const r=ur(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return kg(n,r,o,t.intersect,i,c)},x(n,e,t,i){const r=ur(e,n);return yx(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=ur(e,n);return yx(n,r,"y",t.intersect,i)}}};const nC=["left","top","right","bottom"];function pl(n,e){return n.filter(t=>t.pos===e)}function _x(n,e){return n.filter(t=>nC.indexOf(t.pos)===-1&&t.box.axis===e)}function yl(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function yz(n){const e=[];let t,i,r,o,c,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:c,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:u});return e}function _z(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!nC.includes(r))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function vz(n,e){const t=_z(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:f}=u.box,d=t[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:f&&e.availableHeight)}return t}function bz(n){const e=yz(n),t=yl(e.filter(d=>d.box.fullSize),!0),i=yl(pl(e,"left"),!0),r=yl(pl(e,"right")),o=yl(pl(e,"top"),!0),c=yl(pl(e,"bottom")),u=_x(e,"x"),f=_x(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(u),chartArea:pl(e,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(u)}}function vx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function iC(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Sz(n,e,t,i){const{pos:r,box:o}=t,c=n.maxPadding;if(!Ae(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[r]+=t.size}o.getPadding&&iC(c,o.getPadding());const u=Math.max(0,e.outerWidth-vx(c,n,"left","right")),f=Math.max(0,e.outerHeight-vx(c,n,"top","bottom")),d=u!==n.w,p=f!==n.h;return n.w=u,n.h=f,t.horizontal?{same:d,other:p}:{same:p,other:d}}function xz(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function wz(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return i(n?["left","right"]:["top","bottom"])}function El(n,e,t,i){const r=[];let o,c,u,f,d,p;for(o=0,c=n.length,d=0;o<c;++o){u=n[o],f=u.box,f.update(u.width||e.w,u.height||e.h,wz(u.horizontal,e));const{same:y,other:_}=Sz(e,t,u,i);d|=y&&r.length,p=p||_,f.fullSize||r.push(u)}return d&&El(r,e,t,i)||p}function Ju(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function bx(n,e,t,i){const r=t.padding;let{x:o,y:c}=e;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const y=e.w*p,_=d.size||f.height;Ql(d.start)&&(c=d.start),f.fullSize?Ju(f,r.left,c,t.outerWidth-r.right-r.left,_):Ju(f,e.left+d.placed,c,y,_),d.start=c,d.placed+=y,c=f.bottom}else{const y=e.h*p,_=d.size||f.width;Ql(d.start)&&(o=d.start),f.fullSize?Ju(f,o,r.top,_,t.outerHeight-r.bottom-r.top):Ju(f,o,e.top+d.placed,_,y),d.start=o,d.placed+=y,o=f.right}}e.x=o,e.y=c}var Dn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=In(n.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),u=bz(n.boxes),f=u.vertical,d=u.horizontal;ze(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,E)=>E.box.options&&E.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),_=Object.assign({},r);iC(_,In(i));const b=Object.assign({maxPadding:_,w:o,h:c,x:r.left,y:r.top},r),x=vz(f.concat(d),y);El(u.fullSize,b,y,x),El(f,b,y,x),El(d,b,y,x)&&El(f,b,y,x),xz(b),bx(u.leftAndTop,b,y,x),b.x+=b.w,b.y+=b.h,bx(u.rightAndBottom,b,y,x),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ze(u.chartArea,w=>{const E=w.box;Object.assign(E,n.chartArea),E.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class sC{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Ez extends sC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ph="$chartjs",Tz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sx=n=>n===null||n==="";function Cz(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[ph]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Sx(r)){const o=ox(n,"width");o!==void 0&&(n.width=o)}if(Sx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=ox(n,"height");o!==void 0&&(n.height=o)}return n}const rC=NP?{passive:!0}:!1;function Mz(n,e,t){n&&n.addEventListener(e,t,rC)}function Oz(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,rC)}function Az(n,e){const t=Tz[n.type]||n.type,{x:i,y:r}=ur(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ef(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Rz(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||ef(u.addedNodes,i),c=c&&!ef(u.removedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function kz(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||ef(u.removedNodes,i),c=c&&!ef(u.addedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const ec=new Map;let xx=0;function aC(){const n=window.devicePixelRatio;n!==xx&&(xx=n,ec.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Dz(n,e){ec.size||window.addEventListener("resize",aC),ec.set(n,e)}function Nz(n){ec.delete(n),ec.size||window.removeEventListener("resize",aC)}function Iz(n,e,t){const i=n.canvas,r=i&&qy(i);if(!r)return;const o=F2((u,f)=>{const d=r.clientWidth;t(u,f),d<r.clientWidth&&t()},window),c=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return c.observe(r),Dz(n,o),c}function Dg(n,e,t){t&&t.disconnect(),e==="resize"&&Nz(n)}function Lz(n,e,t){const i=n.canvas,r=F2(o=>{n.ctx!==null&&t(Az(o,n))},n);return Mz(i,e,r),r}class Pz extends sC{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Cz(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[ph])return!1;const i=t[ph].initial;["height","width"].forEach(o=>{const c=i[o];qe(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[ph],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:Rz,detach:kz,resize:Iz}[t]||Lz;r[t]=c(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Dg,detach:Dg,resize:Dg}[t]||Oz)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return DP(e,t,i,r)}isAttached(e){const t=e&&qy(e);return!!(t&&t.isConnected)}}function zz(n){return!Wy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ez:Pz}class kr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Xh(this.x)&&Xh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function Uz(n,e){const t=n.options.ticks,i=Hz(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Fz(e):[],c=o.length,u=o[0],f=o[c-1],d=[];if(c>r)return jz(e,d,o,c/r),d;const p=Bz(o,e,r);if(c>0){let y,_;const b=c>1?Math.round((f-u)/(c-1)):null;for(eh(e,d,p,qe(b)?0:u-b,u),y=0,_=c-1;y<_;y++)eh(e,d,p,o[y],o[y+1]);return eh(e,d,p,f,qe(b)?e.length:f+b),d}return eh(e,d,p),d}function Hz(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Bz(n,e,t){const i=Vz(n),r=e.length/t;if(!i)return Math.max(r,1);const o=j8(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function Fz(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function jz(n,e,t,i){let r=0,o=t[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(e.push(n[c]),r++,o=t[r*i])}function eh(n,e,t,i,r){const o=Oe(i,0),c=Math.min(Oe(r,n.length),n.length);let u=0,f,d,p;for(t=Math.ceil(t),r&&(f=r-i,t=f/Math.floor(f/t)),p=o;p<0;)u++,p=Math.round(o+u*t);for(d=Math.max(o,0);d<c;d++)d===p&&(e.push(n[d]),u++,p=Math.round(o+u*t))}function Vz(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Wz=n=>n==="left"?"right":n==="right"?"left":n,wx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Ex=(n,e)=>Math.min(e||n,n);function Tx(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function qz(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,c=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(f-o,c-f):e===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<e?d:-d,f<o-u||f>c+u)))return f}function Yz(n,e){ze(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function _l(n){return n.drawTicks?n.tickLength:0}function Cx(n,e){if(!n.display)return 0;const t=Ut(n.font,e),i=In(n.padding);return(vt(n.text)?n.text.length:1)*t.lineHeight+i.height}function Gz(n,e){return oo(n,{scale:e,type:"scale"})}function $z(n,e,t){return oo(n,{tick:t,index:e,type:"tick"})}function Zz(n,e,t){let i=Py(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Wz(i)),i}function Xz(n,e,t,i){const{top:r,left:o,bottom:c,right:u,chart:f}=n,{chartArea:d,scales:p}=f;let y=0,_,b,x;const w=c-r,E=u-o;if(n.isHorizontal()){if(b=Lt(i,o,u),Ae(t)){const M=Object.keys(t)[0],R=t[M];x=p[M].getPixelForValue(R)+w-e}else t==="center"?x=(d.bottom+d.top)/2+w-e:x=wx(n,t,e);_=u-o}else{if(Ae(t)){const M=Object.keys(t)[0],R=t[M];b=p[M].getPixelForValue(R)-E+e}else t==="center"?b=(d.left+d.right)/2-E+e:b=wx(n,t,e);x=Lt(i,c,r),y=t==="left"?-bt:bt}return{titleX:b,titleY:x,maxWidth:_,rotation:y}}class lo extends kr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=ei(e,Number.POSITIVE_INFINITY),t=ei(t,Number.NEGATIVE_INFINITY),i=ei(i,Number.POSITIVE_INFINITY),r=ei(r,Number.NEGATIVE_INFINITY),{min:ei(e,i),max:ei(t,r),minDefined:Nn(e),maxDefined:Nn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)c=u[f].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(i=Math.max(i,c.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:ei(t,ei(i,t)),max:ei(i,ei(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xe(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yP(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?Tx(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Uz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xe(this.options.afterUpdate,[this])}beforeSetDimensions(){Xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Xe(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Ex(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,u,f,d;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=tn(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),y+6>u&&(u=b/(i-(e.offset?.5:1)),f=this.maxHeight-_l(e.grid)-t.padding-Cx(e.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),c=Y8(Math.min(Math.asin(tn((p.highest.height+6)/u,-1,1)),Math.asin(tn(f/d,-1,1))-Math.asin(tn(_/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=Cx(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=_l(o)+f):(e.height=this.maxHeight,e.width=_l(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,x=Ni(this.labelRotation),w=Math.cos(x),E=Math.sin(x);if(u){const M=i.mirror?0:E*y.width+w*_.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=i.mirror?0:w*y.width+E*_.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(d,p,E,w)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;f?d?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):o==="start"?b=t.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+c)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;o==="start"?(p=0,y=e.height):o==="end"&&(p=t.height,y=0),this.paddingTop=p+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)qe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Tx(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(t/Ex(t,i));let d=0,p=0,y,_,b,x,w,E,M,R,U,V,H;for(y=0;y<t;y+=f){if(x=e[y].label,w=this._resolveTickFontOptions(y),r.font=E=w.string,M=o[E]=o[E]||{data:{},gc:[]},R=w.lineHeight,U=V=0,!qe(x)&&!vt(x))U=tx(r,M.data,M.gc,U,x),V=R;else if(vt(x))for(_=0,b=x.length;_<b;++_)H=x[_],!qe(H)&&!vt(H)&&(U=tx(r,M.data,M.gc,U,H),V+=R);c.push(U),u.push(V),d=Math.max(U,d),p=Math.max(V,p)}Yz(o,t);const $=c.indexOf(d),K=u.indexOf(p),Q=J=>({width:c[J]||0,height:u[J]||0});return{first:Q(0),last:Q(t-1),widest:Q($),highest:Q(K),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $8(this._alignToPixels?ar(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=$z(this.getContext(),e,i))}return this.$context||(this.$context=Gz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ni(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:u}=r,f=o.offset,d=this.isHorizontal(),y=this.ticks.length+(f?1:0),_=_l(o),b=[],x=u.setContext(this.getContext()),w=x.display?x.width:0,E=w/2,M=function(z){return ar(i,z,w)};let R,U,V,H,$,K,Q,J,se,re,oe,Ze;if(c==="top")R=M(this.bottom),K=this.bottom-_,J=R-E,re=M(e.top)+E,Ze=e.bottom;else if(c==="bottom")R=M(this.top),re=e.top,Ze=M(e.bottom)-E,K=R+E,J=this.top+_;else if(c==="left")R=M(this.right),$=this.right-_,Q=R-E,se=M(e.left)+E,oe=e.right;else if(c==="right")R=M(this.left),se=e.left,oe=M(e.right)-E,$=R+E,Q=this.left+_;else if(t==="x"){if(c==="center")R=M((e.top+e.bottom)/2+.5);else if(Ae(c)){const z=Object.keys(c)[0],q=c[z];R=M(this.chart.scales[z].getPixelForValue(q))}re=e.top,Ze=e.bottom,K=R+E,J=K+_}else if(t==="y"){if(c==="center")R=M((e.left+e.right)/2);else if(Ae(c)){const z=Object.keys(c)[0],q=c[z];R=M(this.chart.scales[z].getPixelForValue(q))}$=R-E,Q=$-_,se=e.left,oe=e.right}const ot=Oe(r.ticks.maxTicksLimit,y),ge=Math.max(1,Math.ceil(y/ot));for(U=0;U<y;U+=ge){const z=this.getContext(U),q=o.setContext(z),te=u.setContext(z),pe=q.lineWidth,O=q.color,W=te.dash||[],X=te.dashOffset,G=q.tickWidth,ne=q.tickColor,ve=q.tickBorderDash||[],ae=q.tickBorderDashOffset;V=qz(this,U,f),V!==void 0&&(H=ar(i,V,pe),d?$=Q=se=oe=H:K=J=re=Ze=H,b.push({tx1:$,ty1:K,tx2:Q,ty2:J,x1:se,y1:re,x2:oe,y2:Ze,width:pe,color:O,borderDash:W,borderDashOffset:X,tickWidth:G,tickColor:ne,tickBorderDash:ve,tickBorderDashOffset:ae}))}return this._ticksLength=y,this._borderValue=R,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:y}=o,_=_l(i.grid),b=_+p,x=y?-p:b,w=-Ni(this.labelRotation),E=[];let M,R,U,V,H,$,K,Q,J,se,re,oe,Ze="middle";if(r==="top")$=this.bottom-x,K=this._getXAxisLabelAlignment();else if(r==="bottom")$=this.top+x,K=this._getXAxisLabelAlignment();else if(r==="left"){const ge=this._getYAxisLabelAlignment(_);K=ge.textAlign,H=ge.x}else if(r==="right"){const ge=this._getYAxisLabelAlignment(_);K=ge.textAlign,H=ge.x}else if(t==="x"){if(r==="center")$=(e.top+e.bottom)/2+b;else if(Ae(r)){const ge=Object.keys(r)[0],z=r[ge];$=this.chart.scales[ge].getPixelForValue(z)+b}K=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-b;else if(Ae(r)){const ge=Object.keys(r)[0],z=r[ge];H=this.chart.scales[ge].getPixelForValue(z)}K=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(f==="start"?Ze="top":f==="end"&&(Ze="bottom"));const ot=this._getLabelSizes();for(M=0,R=u.length;M<R;++M){U=u[M],V=U.label;const ge=o.setContext(this.getContext(M));Q=this.getPixelForTick(M)+o.labelOffset,J=this._resolveTickFontOptions(M),se=J.lineHeight,re=vt(V)?V.length:1;const z=re/2,q=ge.color,te=ge.textStrokeColor,pe=ge.textStrokeWidth;let O=K;c?(H=Q,K==="inner"&&(M===R-1?O=this.options.reverse?"left":"right":M===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?d==="near"||w!==0?oe=-re*se+se/2:d==="center"?oe=-ot.highest.height/2-z*se+se:oe=-ot.highest.height+se/2:d==="near"||w!==0?oe=se/2:d==="center"?oe=ot.highest.height/2-z*se:oe=ot.highest.height-re*se,y&&(oe*=-1),w!==0&&!ge.showLabelBackdrop&&(H+=se/2*Math.sin(w))):($=Q,oe=(1-re)*se/2);let W;if(ge.showLabelBackdrop){const X=In(ge.backdropPadding),G=ot.heights[M],ne=ot.widths[M];let ve=oe-X.top,ae=0-X.left;switch(Ze){case"middle":ve-=G/2;break;case"bottom":ve-=G;break}switch(K){case"center":ae-=ne/2;break;case"right":ae-=ne;break;case"inner":M===R-1?ae-=ne:M>0&&(ae-=ne/2);break}W={left:ae,top:ve,width:ne+X.width,height:G+X.height,color:ge.backdropColor}}E.push({label:V,font:J,textOffset:oe,options:{rotation:w,color:q,strokeColor:te,strokeWidth:pe,textAlign:O,textBaseline:Ze,translation:[H,$],backdrop:W}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ni(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let d,p;return t==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const f=r[o];t.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=ar(e,this.left,c)-c/2,p=ar(e,this.right,u)+u/2,y=_=f):(y=ar(e,this.top,c)-c/2,_=ar(e,this.bottom,u)+u/2,d=p=f),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,y),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Uy(i,r);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,d=c.label,p=c.textOffset;Jl(i,d,0,p,f,u)}r&&Hy(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=Ut(i.font),c=In(i.padding),u=i.align;let f=o.lineHeight/2;t==="bottom"||t==="center"||Ae(t)?(f+=c.bottom,vt(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=Xz(this,f,t,u);Jl(e,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:Zz(u,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Oe(e.grid&&e.grid.z,-1),r=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lo.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const u=t[o];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ut(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class th{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;Jz(t)&&(i=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,Kz(e,c,i),this.override&&ut.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in ut[r]&&(delete ut[r][i],this.override&&delete Tr[i])}}function Kz(n,e,t){const i=Kl(Object.create(null),[t?ut.get(t):{},ut.get(e),n.defaults]);ut.set(e,i),n.defaultRoutes&&Qz(e,n.defaultRoutes),n.descriptors&&ut.describe(e,n.descriptors)}function Qz(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),c=e[t].split("."),u=c.pop(),f=c.join(".");ut.route(o,r,f,u)})}function Jz(n){return"id"in n&&"defaults"in n}class e7{constructor(){this.controllers=new th(Yy,"datasets",!0),this.elements=new th(kr,"elements"),this.plugins=new th(Object,"plugins"),this.scales=new th(lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):ze(r,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,t,i){const r=Iy(e);Xe(i["before"+r],[],i),t[e](i),Xe(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ni=new e7;class t7{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,i,r){r=r||{};for(const o of e){const c=o.plugin,u=c[i],f=[t,r,o.options];if(Xe(u,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Oe(i.options&&i.options.plugins,{}),o=n7(i);return r===!1&&!t?[]:s7(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function n7(n){const e={},t=[],i=Object.keys(ni.plugins.items);for(let o=0;o<i.length;o++)t.push(ni.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function i7(n,e){return!e&&n===!1?null:n===!0?{}:n}function s7(n,{plugins:e,localIds:t},i,r){const o=[],c=n.getContext();for(const u of e){const f=u.id,d=i7(i[f],r);d!==null&&o.push({plugin:u,options:r7(n.config,{plugin:u,local:t[f]},d,c)})}return o}function r7(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(i,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bp(n,e){const t=ut.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function a7(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function o7(n,e){return n===e?"_index_":"_value_"}function Mx(n){if(n==="x"||n==="y"||n==="r")return n}function l7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sp(n,...e){if(Mx(n))return n;for(const t of e){const i=t.axis||l7(t.position)||n.length>1&&Mx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ox(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function c7(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Ox(n,"x",t[0])||Ox(n,"y",t[0])}return{}}function u7(n,e){const t=Tr[n.type]||{scales:{}},i=e.scales||{},r=bp(n.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!Ae(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Sp(c,u,c7(c,n),ut.scales[u.type]),d=o7(f,r),p=t.scales||{};o[c]=Il(Object.create(null),[{axis:f},u,p[f],p[d]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,f=c.indexAxis||bp(u,e),p=(Tr[u]||{}).scales||{};Object.keys(p).forEach(y=>{const _=a7(y,f),b=c[_+"AxisID"]||_;o[b]=o[b]||Object.create(null),Il(o[b],[{axis:_},i[b],p[y]])})}),Object.keys(o).forEach(c=>{const u=o[c];Il(u,[ut.scales[u.type],ut.scale])}),o}function oC(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=u7(n,e)}function lC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function h7(n){return n=n||{},n.data=lC(n.data),oC(n),n}const Ax=new Map,cC=new Set;function nh(n,e){let t=Ax.get(n);return t||(t=e(),Ax.set(n,t),cC.add(t)),t}const vl=(n,e,t)=>{const i=Er(e,t);i!==void 0&&n.add(i)};class f7{constructor(e){this._config=h7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return nh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return nh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return nh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,c=this._cachedScopes(e,i),u=c.get(t);if(u)return u;const f=new Set;t.forEach(p=>{e&&(f.add(e),p.forEach(y=>vl(f,e,y))),p.forEach(y=>vl(f,r,y)),p.forEach(y=>vl(f,Tr[o]||{},y)),p.forEach(y=>vl(f,ut,y)),p.forEach(y=>vl(f,vp,y))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),cC.has(t)&&c.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Tr[t]||{},ut.datasets[t]||{},{type:t},ut,vp]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=Rx(this._resolverCache,e,r);let f=c;if(m7(c,t)){o.$shared=!1,i=zs(i)?i():i;const d=this.createResolver(e,i,u);f=Wa(c,i,d)}for(const d of t)o[d]=f[d];return o}createResolver(e,t,i=[""],r){const{resolver:o}=Rx(this._resolverCache,e,i);return Ae(t)?Wa(o,t,void 0,r):o}}function Rx(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Fy(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const d7=n=>Ae(n)&&Object.getOwnPropertyNames(n).some(e=>zs(n[e]));function m7(n,e){const{isScriptable:t,isIndexable:i}=G2(n);for(const r of e){const o=t(r),c=i(r),u=(c||o)&&n[r];if(o&&(zs(u)||d7(u))||c&&vt(u))return!0}return!1}var g7="4.5.0";const p7=["top","bottom","left","right","chartArea"];function kx(n,e){return n==="top"||n==="bottom"||p7.indexOf(n)===-1&&e==="x"}function Dx(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Nx(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Xe(t&&t.onComplete,[n],e)}function y7(n){const e=n.chart,t=e.options.animation;Xe(t&&t.onProgress,[n],e)}function uC(n){return Wy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yh={},Ix=n=>{const e=uC(n);return Object.values(yh).filter(t=>t.canvas===e).pop()};function _7(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const c=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=c)}}}function v7(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Sc=class{static defaults=ut;static instances=yh;static overrides=Tr;static registry=ni;static version=g7;static getChart=Ix;static register(...e){ni.add(...e),Lx()}static unregister(...e){ni.remove(...e),Lx()}constructor(e,t){const i=this.config=new f7(t),r=uC(e),o=Ix(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||zz(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=I8(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new t7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q8(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],yh[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",Nx),Ci.listen(this,"progress",y7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return qe(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ni}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ax(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nx(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(e,t){Ci.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,ax(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Xe(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ze(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const u=t[c],f=Sp(c,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ze(o,c=>{const u=c.options,f=u.id,d=Sp(f,u),p=Oe(u.type,c.dtype);(u.position===void 0||kx(u.position,d)!==kx(c.dposition))&&(u.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===p)y=i[f];else{const _=ni.getScale(p);y=new _({id:f,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,e)}),ze(r,(c,u)=>{c||delete i[u]}),ze(i,c=>{Dn.configure(this,c,c.options),Dn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Dx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||bp(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=ni.getController(u),{datasetElementType:d,dataElementType:p}=ut.datasets[u];Object.assign(f,{dataElementType:ni.getElement(p),datasetElementType:d&&ni.getElement(d)}),c.controller=new f(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){ze(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ze(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dx("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ze(this.scales,e=>{Dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!YS(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const c=i==="_removeElements"?-o:o;_7(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!YS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ze(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,zs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),Nx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=zP(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Uy(t,r),e.controller.draw(),r&&Hy(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return q2(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=pz.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=oo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);Ql(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ci.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete yh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};ze(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(f,d)=>{t.addEventListener(this,f,d),e[f]=d},r=(f,d)=>{e[f]&&(t.removeEventListener(this,f,d),delete e[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():c()}unbindEvents(){ze(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ze(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,c,u,f;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Gh(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),c=o(t,e),u=i?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,c=t,u=this._getActiveElements(e,r,i,c),f=B8(e),d=v7(e,this._lastEvent,i,f);i&&(this._lastEvent=null,Xe(o.onHover,[e,u,this],this),f&&Xe(o.onClick,[e,u,this],this));const p=!Gh(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function Lx(){return ze(Sc.instances,n=>n._plugins.invalidate())}function b7(n,e,t){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:u,options:f}=e,{borderWidth:d,borderJoinStyle:p}=f,y=Math.min(d/c,ii(i-t));if(n.beginPath(),n.arc(r,o,c-d/2,i+y/2,t-y/2),u>0){const _=Math.min(d/u,ii(i-t));n.arc(r,o,u+d/2,t-_/2,i+_/2,!0)}else{const _=Math.min(d/2,c*ii(i-t));if(p==="round")n.arc(r,o,_,t-We/2,i+We/2,!0);else if(p==="bevel"){const b=2*_*_,x=-b*Math.cos(t+We/2)+r,w=-b*Math.sin(t+We/2)+o,E=b*Math.cos(i+We/2)+r,M=b*Math.sin(i+We/2)+o;n.lineTo(x,w),n.lineTo(E,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function S7(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:u,innerRadius:f}=e;let d=r/u;n.beginPath(),n.arc(o,c,u,i-d,t+d),f>r?(d=r/f,n.arc(o,c,f,t+d,i-d,!0)):n.arc(o,c,r,t+bt,i-bt),n.closePath(),n.clip()}function x7(n){return By(n,["outerStart","outerEnd","innerStart","innerEnd"])}function w7(n,e,t,i){const r=x7(n.options.borderRadius),o=(t-e)/2,c=Math.min(o,i*e/2),u=f=>{const d=(t-Math.min(o,f))*i/2;return tn(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:tn(r.innerStart,0,c),innerEnd:tn(r.innerEnd,0,c)}}function xa(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function tf(n,e,t,i,r,o){const{x:c,y:u,startAngle:f,pixelMargin:d,innerRadius:p}=e,y=Math.max(e.outerRadius+i+t-d,0),_=p>0?p+i+t+d:0;let b=0;const x=r-f;if(i){const ge=p>0?p-i:0,z=y>0?y-i:0,q=(ge+z)/2,te=q!==0?x*q/(q+i):x;b=(x-te)/2}const w=Math.max(.001,x*y-t/We)/y,E=(x-w)/2,M=f+E+b,R=r-E-b,{outerStart:U,outerEnd:V,innerStart:H,innerEnd:$}=w7(e,_,y,R-M),K=y-U,Q=y-V,J=M+U/K,se=R-V/Q,re=_+H,oe=_+$,Ze=M+H/re,ot=R-$/oe;if(n.beginPath(),o){const ge=(J+se)/2;if(n.arc(c,u,y,J,ge),n.arc(c,u,y,ge,se),V>0){const pe=xa(Q,se,c,u);n.arc(pe.x,pe.y,V,se,R+bt)}const z=xa(oe,R,c,u);if(n.lineTo(z.x,z.y),$>0){const pe=xa(oe,ot,c,u);n.arc(pe.x,pe.y,$,R+bt,ot+Math.PI)}const q=(R-$/_+(M+H/_))/2;if(n.arc(c,u,_,R-$/_,q,!0),n.arc(c,u,_,q,M+H/_,!0),H>0){const pe=xa(re,Ze,c,u);n.arc(pe.x,pe.y,H,Ze+Math.PI,M-bt)}const te=xa(K,M,c,u);if(n.lineTo(te.x,te.y),U>0){const pe=xa(K,J,c,u);n.arc(pe.x,pe.y,U,M-bt,J)}}else{n.moveTo(c,u);const ge=Math.cos(J)*y+c,z=Math.sin(J)*y+u;n.lineTo(ge,z);const q=Math.cos(se)*y+c,te=Math.sin(se)*y+u;n.lineTo(q,te)}n.closePath()}function E7(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){tf(n,e,t,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=c+(u%gt||gt))}return tf(n,e,t,i,f,r),n.fill(),f}function T7(n,e,t,i,r){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:b}=f,x=f.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=_,x?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let w=e.endAngle;if(o){tf(n,e,t,i,w,r);for(let E=0;E<o;++E)n.stroke();isNaN(u)||(w=c+(u%gt||gt))}x&&S7(n,e,w),f.selfJoin&&w-c>=We&&b===0&&p!=="miter"&&b7(n,e,w),o||(tf(n,e,t,i,w,r),n.stroke())}class C7 extends kr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=z2(r,{x:e,y:t}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:p,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,b=Oe(y,f-u),x=Kh(o,u,f)&&u!==f,w=b>=gt||x,E=gr(c,d+_,p+_);return w&&E}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:d}=this.options,p=(r+o)/2,y=(c+u+d+f)/2;return{x:t+Math.cos(p)*y,y:i+Math.sin(p)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>gt?Math.floor(i/gt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(We,i||0)),d=r*f;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,E7(e,this,d,o,c),T7(e,this,d,o,c),e.restore()}}function hC(n,e){const{x:t,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let u,f,d,p,y;return n.horizontal?(y=c/2,u=Math.min(t,r),f=Math.max(t,r),d=i-y,p=i+y):(y=o/2,u=t-y,f=t+y,d=Math.min(i,r),p=Math.max(i,r)),{left:u,top:d,right:f,bottom:p}}function ws(n,e,t,i){return n?0:tn(e,t,i)}function M7(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=Y2(i);return{t:ws(r.top,o.top,0,t),r:ws(r.right,o.right,0,e),b:ws(r.bottom,o.bottom,0,t),l:ws(r.left,o.left,0,e)}}function O7(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Na(r),c=Math.min(e,t),u=n.borderSkipped,f=i||Ae(r);return{topLeft:ws(!f||u.top||u.left,o.topLeft,0,c),topRight:ws(!f||u.top||u.right,o.topRight,0,c),bottomLeft:ws(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:ws(!f||u.bottom||u.right,o.bottomRight,0,c)}}function A7(n){const e=hC(n),t=e.right-e.left,i=e.bottom-e.top,r=M7(n,t/2,i/2),o=O7(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Ng(n,e,t,i){const r=e===null,o=t===null,u=n&&!(r&&o)&&hC(n,i);return u&&(r||gr(e,u.left,u.right))&&(o||gr(t,u.top,u.bottom))}function R7(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function k7(n,e){n.rect(e.x,e.y,e.w,e.h)}function Ig(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,c=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class D7 extends kr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=A7(this),u=R7(c.radius)?Qh:k7;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,Ig(c,t,o)),e.clip(),u(e,Ig(o,-t,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Ig(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Ng(this,e,t,i)}inXRange(e,t){return Ng(this,e,null,t)}inYRange(e,t){return Ng(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Px=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},N7=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class zx extends kr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Xe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ut(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Px(i,o);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(c,o,u,f)+10):(p=this.maxHeight,d=this._fitCols(c,r,u,f)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let y=e;o.textAlign="left",o.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((x,w)=>{const E=i+t/2+o.measureText(x.text).width;(w===0||d[d.length-1]+E+2*u>c)&&(y+=p,d[d.length-(w>0?0:1)]=0,b+=p,_++),f[w]={left:0,top:b,row:_,width:E,height:r},d[d.length-1]+=E+u}),y}_fitCols(e,t,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=c-e;let y=u,_=0,b=0,x=0,w=0;return this.legendItems.forEach((E,M)=>{const{itemWidth:R,itemHeight:U}=I7(i,t,o,E,r);M>0&&b+U+2*u>p&&(y+=_+u,d.push({width:_,height:b}),x+=_+u,w++,_=b=0),f[M]={left:x,top:b,col:w,width:R,height:U},_=Math.max(_,R),b+=U+u}),y+=_,d.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Ia(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Lt(i,this.left+r,this.right-this.lineWidths[u]);for(const d of t)u!==d.row&&(u=d.row,f=Lt(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+e+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let u=0,f=Lt(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const d of t)d.col!==u&&(u=d.col,f=Lt(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Uy(e,this),this._draw(),Hy(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:c}=e,u=ut.color,f=Ia(e.rtl,this.left,this.width),d=Ut(c.font),{padding:p}=c,y=d.size,_=y/2;let b;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:w,itemHeight:E}=Px(c,y),M=function($,K,Q){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;r.save();const J=Oe(Q.lineWidth,1);if(r.fillStyle=Oe(Q.fillStyle,u),r.lineCap=Oe(Q.lineCap,"butt"),r.lineDashOffset=Oe(Q.lineDashOffset,0),r.lineJoin=Oe(Q.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=Oe(Q.strokeStyle,u),r.setLineDash(Oe(Q.lineDash,[])),c.usePointStyle){const se={radius:w*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:J},re=f.xPlus($,x/2),oe=K+_;W2(r,se,re,oe,c.pointStyleWidth&&x)}else{const se=K+Math.max((y-w)/2,0),re=f.leftForLtr($,x),oe=Na(Q.borderRadius);r.beginPath(),Object.values(oe).some(Ze=>Ze!==0)?Qh(r,{x:re,y:se,w:x,h:w,radius:oe}):r.rect(re,se,x,w),r.fill(),J!==0&&r.stroke()}r.restore()},R=function($,K,Q){Jl(r,Q.text,$,K+E/2,d,{strikethrough:Q.hidden,textAlign:f.textAlign(Q.textAlign)})},U=this.isHorizontal(),V=this._computeTitleHeight();U?b={x:Lt(o,this.left+p,this.right-i[0]),y:this.top+p+V,line:0}:b={x:this.left+p,y:Lt(o,this.top+V+p,this.bottom-t[0].height),line:0},K2(this.ctx,e.textDirection);const H=E+p;this.legendItems.forEach(($,K)=>{r.strokeStyle=$.fontColor,r.fillStyle=$.fontColor;const Q=r.measureText($.text).width,J=f.textAlign($.textAlign||($.textAlign=c.textAlign)),se=x+_+Q;let re=b.x,oe=b.y;f.setWidth(this.width),U?K>0&&re+se+p>this.right&&(oe=b.y+=H,b.line++,re=b.x=Lt(o,this.left+p,this.right-i[b.line])):K>0&&oe+H>this.bottom&&(re=b.x=re+t[b.line].width+p,b.line++,oe=b.y=Lt(o,this.top+V+p,this.bottom-t[b.line].height));const Ze=f.x(re);if(M(Ze,oe,$),re=J8(J,re+x+_,U?re+se:this.right,e.rtl),R(f.x(re),oe,$),U)b.x+=se+p;else if(typeof $.text!="string"){const ot=d.lineHeight;b.y+=fC($,ot)+p}else b.y+=H}),Q2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ut(t.font),r=In(t.padding);if(!t.display)return;const o=Ia(e.rtl,this.left,this.width),c=this.ctx,u=t.position,f=i.size/2,d=r.top+f;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=Lt(e.align,y,this.right-_);else{const x=this.columnSizes.reduce((w,E)=>Math.max(w,E.height),0);p=d+Lt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const b=Lt(u,y,y+_);c.textAlign=o.textAlign(Py(u)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=i.string,Jl(c,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Ut(e.font),i=In(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(gr(e,this.left,this.right)&&gr(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],gr(e,r.left,r.left+r.width)&&gr(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!z7(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=N7(r,i);r&&!o&&Xe(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Xe(t.onHover,[e,i,this],this)}else i&&Xe(t.onClick,[e,i,this],this)}}function I7(n,e,t,i,r){const o=L7(i,n,e,t),c=P7(r,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function L7(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+i.measureText(r).width}function P7(n,e,t){let i=n;return typeof e.text!="string"&&(i=fC(e,t)),i}function fC(n,e){const t=n.text?n.text.length:0;return e*t}function z7(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var dC={id:"legend",_element:zx,start(n,e,t){const i=n.legend=new zx({ctx:n.ctx,options:t,chart:n});Dn.configure(n,i,t),Dn.addBox(n,i)},stop(n){Dn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Dn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(t?0:void 0),p=In(d.borderWidth);return{text:e[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class mC extends kr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=vt(i.text)?i.text.length:1;this._padding=In(i.padding);const o=r*Ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:c}=this,u=c.align;let f=0,d,p,y;return this.isHorizontal()?(p=Lt(u,i,o),y=t+e,d=o-i):(c.position==="left"?(p=i+e,y=Lt(u,r,t),f=We*-.5):(p=o-e,y=Lt(u,t,r),f=We*.5),d=r-t),{titleX:p,titleY:y,maxWidth:d,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ut(t.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Jl(e,t.text,0,0,i,{color:t.color,maxWidth:f,rotation:d,textAlign:Py(t.align),textBaseline:"middle",translation:[c,u]})}}function U7(n,e){const t=new mC({ctx:n.ctx,options:e,chart:n});Dn.configure(n,t,e),Dn.addBox(n,t),n.titleBlock=t}var H7={id:"title",_element:mC,start(n,e,t){U7(n,t)},stop(n){const e=n.titleBlock;Dn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Dn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tl={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=G8(e,d);p<r&&(r=p,u=f)}}if(u){const f=u.tooltipPosition();t=f.x,i=f.y}return{x:t,y:i}}};function ti(n,e){return e&&(vt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Mi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function B7(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Ux(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:u}=e,f=Ut(e.bodyFont),d=Ut(e.titleFont),p=Ut(e.footerFont),y=o.length,_=r.length,b=i.length,x=In(e.padding);let w=x.height,E=0,M=i.reduce((V,H)=>V+H.before.length+H.lines.length+H.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),M){const V=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;w+=b*V+(M-b)*f.lineHeight+(M-1)*e.bodySpacing}_&&(w+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let R=0;const U=function(V){E=Math.max(E,t.measureText(V).width+R)};return t.save(),t.font=d.string,ze(n.title,U),t.font=f.string,ze(n.beforeBody.concat(n.afterBody),U),R=e.displayColors?c+2+e.boxPadding:0,ze(i,V=>{ze(V.before,U),ze(V.lines,U),ze(V.after,U)}),R=0,t.font=p.string,ze(n.footer,U),t.restore(),E+=x.width,{width:E,height:w}}function F7(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function j7(n,e,t,i){const{x:r,width:o}=i,c=t.caretSize+t.caretPadding;if(n==="left"&&r+o+c>e.width||n==="right"&&r-o-c<0)return!0}function V7(n,e,t,i){const{x:r,width:o}=t,{width:c,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),j7(d,n,e,t)&&(d="center"),d}function Hx(n,e,t){const i=t.yAlign||e.yAlign||F7(n,t);return{xAlign:t.xAlign||e.xAlign||V7(n,e,t,i),yAlign:i}}function W7(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function q7(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Bx(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:f}=t,d=r+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=Na(c);let x=W7(e,u);const w=q7(e,f,d);return f==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(p,_)+r:u==="right"&&(x+=Math.max(y,b)+r),{x:tn(x,0,i.width-e.width),y:tn(w,0,i.height-e.height)}}function ih(n,e,t){const i=In(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Fx(n){return ti([],Mi(n))}function Y7(n,e,t){return oo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jx(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const gC={beforeTitle:Ti,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ti,beforeBody:Ti,beforeLabel:Ti,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return qe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ti,afterBody:Ti,beforeFooter:Ti,footer:Ti,afterFooter:Ti};function Xt(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?gC[e].call(t,i):r}class Vx extends kr{static positioners=Tl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new J2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Y7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Xt(i,"beforeTitle",this,e),o=Xt(i,"title",this,e),c=Xt(i,"afterTitle",this,e);let u=[];return u=ti(u,Mi(r)),u=ti(u,Mi(o)),u=ti(u,Mi(c)),u}getBeforeBody(e,t){return Fx(Xt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return ze(e,o=>{const c={before:[],lines:[],after:[]},u=jx(i,o);ti(c.before,Mi(Xt(u,"beforeLabel",this,o))),ti(c.lines,Xt(u,"label",this,o)),ti(c.after,Mi(Xt(u,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return Fx(Xt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Xt(i,"beforeFooter",this,e),o=Xt(i,"footer",this,e),c=Xt(i,"afterFooter",this,e);let u=[];return u=ti(u,Mi(r)),u=ti(u,Mi(o)),u=ti(u,Mi(c)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],c=[];let u=[],f,d;for(f=0,d=t.length;f<d;++f)u.push(B7(this.chart,t[f]));return e.filter&&(u=u.filter((p,y,_)=>e.filter(p,y,_,i))),e.itemSort&&(u=u.sort((p,y)=>e.itemSort(p,y,i))),ze(u,p=>{const y=jx(e.callbacks,p);r.push(Xt(y,"labelColor",this,p)),o.push(Xt(y,"labelPointStyle",this,p)),c.push(Xt(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=Tl[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=Ux(this,i),d=Object.assign({},u,f),p=Hx(this.chart,i,d),y=Bx(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:y}=Na(u),{x:_,y:b}=e,{width:x,height:w}=t;let E,M,R,U,V,H;return o==="center"?(V=b+w/2,r==="left"?(E=_,M=E-c,U=V+c,H=V-c):(E=_+x,M=E+c,U=V-c,H=V+c),R=E):(r==="left"?M=_+Math.max(f,p)+c:r==="right"?M=_+x-Math.max(d,y)-c:M=this.caretX,o==="top"?(U=b,V=U-c,E=M-c,R=M+c):(U=b+w,V=U+c,E=M+c,R=M-c),H=U),{x1:E,x2:M,x3:R,y1:U,y2:V,y3:H}}drawTitle(e,t,i){const r=this.title,o=r.length;let c,u,f;if(o){const d=Ia(i.rtl,this.x,this.width);for(e.x=ih(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",c=Ut(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=c.string,f=0;f<o;++f)t.fillText(r[f],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=Ut(o.bodyFont),y=ih(this,"left",o),_=r.x(y),b=f<p.lineHeight?(p.lineHeight-f)/2:0,x=t.y+b;if(o.usePointStyle){const w={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=r.leftForLtr(_,d)+d/2,M=x+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ix(e,w,E,M),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,ix(e,w,E,M)}else{e.lineWidth=Ae(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const w=r.leftForLtr(_,d),E=r.leftForLtr(r.xPlus(_,1),d-2),M=Na(c.borderRadius);Object.values(M).some(R=>R!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Qh(e,{x:w,y:x,w:d,h:f,radius:M}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Qh(e,{x:E,y:x+1,w:d-2,h:f-2,radius:M}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,x,d,f),e.strokeRect(w,x,d,f),e.fillStyle=c.backgroundColor,e.fillRect(E,x+1,d-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,y=Ut(i.bodyFont);let _=y.lineHeight,b=0;const x=Ia(i.rtl,this.x,this.width),w=function(Q){t.fillText(Q,x.x(e.x+b),e.y+_/2),e.y+=_+o},E=x.textAlign(c);let M,R,U,V,H,$,K;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=ih(this,E,i),t.fillStyle=i.bodyColor,ze(this.beforeBody,w),b=u&&E!=="right"?c==="center"?d/2+p:d+2+p:0,V=0,$=r.length;V<$;++V){for(M=r[V],R=this.labelTextColors[V],t.fillStyle=R,ze(M.before,w),U=M.lines,u&&U.length&&(this._drawColorBox(t,e,V,x,i),_=Math.max(y.lineHeight,f)),H=0,K=U.length;H<K;++H)w(U[H]),_=y.lineHeight;ze(M.after,w)}b=0,_=y.lineHeight,ze(this.afterBody,w),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let c,u;if(o){const f=Ia(i.rtl,this.x,this.width);for(e.x=ih(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=f.textAlign(i.footerAlign),t.textBaseline="middle",c=Ut(i.footerFont),t.fillStyle=i.footerColor,t.font=c.string,u=0;u<o;++u)t.fillText(r[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:x}=Na(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+y,f),c==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+d-_,f),t.quadraticCurveTo(u+d,f,u+d,f+_),c==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+d,f+p-x),t.quadraticCurveTo(u+d,f+p,u+d-x,f+p),c==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,f+p),t.quadraticCurveTo(u,f+p,u,f+p-b),c==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,f+y),t.quadraticCurveTo(u,f,u+y,f),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Tl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Ux(this,e),f=Object.assign({},c,this._size),d=Hx(t,e,f),p=Bx(e,f,d,t);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=In(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),K2(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Q2(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Gh(i,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,i),u=this._positionChanged(c,e),f=t||!Gh(c,o)||u;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,c=Tl[o.position].call(this,e,t);return c!==!1&&(i!==c.x||r!==c.y)}}var pC={id:"tooltip",_element:Vx,positioners:Tl,afterInit(n,e,t){t&&(n.tooltip=new Vx({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const G7=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function $7(n,e,t,i){const r=n.indexOf(e);if(r===-1)return G7(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const Z7=(n,e)=>n===null?null:tn(Math.round(n),0,e);function Wx(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class X7 extends lo{static id="category";static defaults={ticks:{callback:Wx}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:$7(i,e,Oe(t,e),this._addedLabels),Z7(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return Wx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function K7(n,e){const t=[],{bounds:r,step:o,min:c,max:u,precision:f,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=n,b=o||1,x=p-1,{min:w,max:E}=e,M=!qe(c),R=!qe(u),U=!qe(d),V=(E-w)/(y+1);let H=$S((E-w)/x/b)*b,$,K,Q,J;if(H<1e-14&&!M&&!R)return[{value:w},{value:E}];J=Math.ceil(E/H)-Math.floor(w/H),J>x&&(H=$S(J*H/x/b)*b),qe(f)||($=Math.pow(10,f),H=Math.ceil(H*$)/$),r==="ticks"?(K=Math.floor(w/H)*H,Q=Math.ceil(E/H)*H):(K=w,Q=E),M&&R&&o&&W8((u-c)/o,H/1e3)?(J=Math.round(Math.min((u-c)/H,p)),H=(u-c)/J,K=c,Q=u):U?(K=M?c:K,Q=R?u:Q,J=d-1,H=(Q-K)/J):(J=(Q-K)/H,gh(J,Math.round(J),H/1e3)?J=Math.round(J):J=Math.ceil(J));const se=Math.max(ZS(H),ZS(K));$=Math.pow(10,qe(f)?se:f),K=Math.round(K*$)/$,Q=Math.round(Q*$)/$;let re=0;for(M&&(_&&K!==c?(t.push({value:c}),K<c&&re++,gh(Math.round((K+re*H)*$)/$,c,qx(c,V,n))&&re++):K<c&&re++);re<J;++re){const oe=Math.round((K+re*H)*$)/$;if(R&&oe>u)break;t.push({value:oe})}return R&&_&&Q!==u?t.length&&gh(t[t.length-1].value,u,qx(u,V,n))?t[t.length-1].value=u:t.push({value:u}):(!R||Q===u)&&t.push({value:Q}),t}function qx(n,e,{horizontal:t,minRotation:i}){const r=Ni(i),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class Q7 extends lo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=t?r:f,u=f=>o=i?o:f;if(e){const f=Ds(r),d=Ds(o);f<0&&d<0?u(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(r-f)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=K7(r,o);return e.bounds==="ticks"&&q8(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return zy(e,this.chart.options.locale,this.options.ticks.format)}}class J7 extends Q7{static id="linear";static defaults={ticks:{callback:V2.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nn(e)?e:0,this.max=Nn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ni(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Rf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(Rf);function Yx(n,e){return n-e}function Gx(n,e){if(qe(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),Nn(c)||(c=typeof i=="string"?t.parse(c,i):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(Xh(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function $x(n,e,t,i){const r=Kt.length;for(let o=Kt.indexOf(n);o<r-1;++o){const c=Rf[Kt[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(u*c.size))<=i)return Kt[o]}return Kt[r-1]}function e9(n,e,t,i,r){for(let o=Kt.length-1;o>=Kt.indexOf(t);o--){const c=Kt[o];if(Rf[c].common&&n._adapter.diff(r,i,c)>=e-1)return c}return Kt[t?Kt.indexOf(t):0]}function t9(n){for(let e=Kt.indexOf(n)+1,t=Kt.length;e<t;++e)if(Rf[Kt[e]].common)return Kt[e]}function Zx(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Ly(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function n9(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+r.add(u,1,i))f=t[u],f>=0&&(e[f].major=!0);return e}function Xx(n,e,t){const i=[],r={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],r[u]=c,i.push({value:u,major:!1});return o===0||!t?i:n9(n,i,r,t)}class Kx extends lo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new hz._date(e.adapters.date);r.init(t),Il(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Gx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Nn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=Nn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,u=X8(r,o,c);return this._unit=t.unit||(i.autoSkip?$x(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):e9(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:t9(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),Xx(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=tn(t,0,c),i=tn(i,0,c),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||$x(o.minUnit,t,i,this._getLabelCapacity(t)),u=Oe(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=Xh(f)||f===!0,p={};let y=t,_,b;if(d&&(y=+e.startOf(y,"isoWeek",f)),y=+e.startOf(y,d?"day":c),e.diff(i,t,c)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+c);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+e.add(_,u,c),b++)Zx(p,_,x);return(_===i||r.bounds==="ticks"||b===1)&&Zx(p,_,x),Object.keys(p).sort(Yx).map(w=>+w)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,i,r){const o=this.options,c=o.ticks.callback;if(c)return Xe(c,[e,t,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],y=d&&u[d],_=i[t],b=d&&y&&_&&_.major;return this._adapter.format(e,r||(b?y:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Ni(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Xx(this,[e],this._majorUnit),r),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Gx(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return H2(e.sort(Yx))}}function sh(n,e,t){let i=0,r=n.length-1,o,c,u,f;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=_p(n,"pos",e)),{pos:o,time:u}=n[i],{pos:c,time:f}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=_p(n,"time",e)),{time:o,pos:u}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?u+(f-u)*(e-o)/d:u}class m9 extends Kx{static id="timeseries";static defaults=Kx.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=sh(t,this.min),this._tableRange=sh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let c,u,f,d,p;for(c=0,u=e.length;c<u;++c)d=e[c],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)p=r[c+1],f=r[c-1],d=r[c],Math.round((p+f)/2)!==d&&o.push({time:d,pos:c/(u-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return sh(this._table,i*this._tableRange+this._minPos,!0)}}const yC="label";function Qx(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function i9(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function _C(n,e){n.labels=e}function vC(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yC;const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(c=>c[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function s9(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yC;const t={labels:[],datasets:[]};return _C(t,n.labels),vC(t,n.datasets,e),t}function r9(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:d=[],fallbackContent:p,updateMode:y,..._}=n,b=I.useRef(null),x=I.useRef(null),w=()=>{b.current&&(x.current=new Sc(b.current,{type:c,data:s9(u,o),options:f&&{...f},plugins:d}),Qx(e,x.current))},E=()=>{Qx(e,null),x.current&&(x.current.destroy(),x.current=null)};return I.useEffect(()=>{!r&&x.current&&f&&i9(x.current,f)},[r,f]),I.useEffect(()=>{!r&&x.current&&_C(x.current.config.data,u.labels)},[r,u.labels]),I.useEffect(()=>{!r&&x.current&&u.datasets&&vC(x.current.config.data,u.datasets,o)},[r,u.datasets]),I.useEffect(()=>{x.current&&(r?(E(),setTimeout(w)):x.current.update(y))},[r,f,u.labels,u.datasets,y]),I.useEffect(()=>{x.current&&(E(),setTimeout(w))},[c]),I.useEffect(()=>(w(),()=>E()),[]),Ii.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const a9=I.forwardRef(r9);function bC(n,e){return Sc.register(e),I.forwardRef((t,i)=>Ii.createElement(a9,{...t,ref:i,type:n}))}const o9=bC("bar",lz),l9=bC("doughnut",uz);Sc.register(C7,pC,dC);const c9=()=>{const{user:n,loading:e}=no(),[t,i]=I.useState(null),[r,o]=I.useState(0),c=async d=>{if(!d){o(0),setCalculating(!1);return}try{const p=Jt(en,`emr-users/${d.uid}/progress`),_=(await dn(p)).val(),b=Jt(en,"words"),w=(await dn(b)).size,E=Jt(en,`emr-users/${d.uid}/wordHistories`),M=await dn(E);if(!M.val()){o(0);return}const R=M.val(),U={easy:0,normal:0,hard:0,default:0};for(const H in R)switch(R[H].difficulty){case"easy":U.easy++;break;case"normal":U.normal++;break;case"hard":U.hard++;break;default:U.default++;break}const V=w-M.size;if(i([U.easy,U.normal,U.hard,V]),_&&w>0){const H=Math.round((_.currentIndex+1)/w*100);o(H)}else o(0)}catch(p){console.error("Error calculating progress:",p),o(0)}};I.useEffect(()=>{n&&c(n)},[n,e]);const u=["#14B8A6","#3B82F6","#F59E0B","#E5E7EB"],f={datasets:[{data:t,backgroundColor:u.map(d=>`${d}7F`),borderColor:u,borderWidth:1}]};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"relative w-full h-full flex-1 min-h-40",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:C.jsx(l9,{data:f})}),C.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:n?C.jsxs("p",{className:"text-6xl font-black",children:[r,"%"]}):C.jsx("p",{className:"text-6xl font-black",children:"-%"})})]}),C.jsxs("div",{className:"flex w-full justify-center gap-4",children:[C.jsx("p",{className:"bg-teal-400/50 px-2 rounded border border-teal-400",children:"easy"}),C.jsx("p",{className:"bg-blue-400/50 px-2 rounded border border-blue-400",children:"normal"}),C.jsx("p",{className:"bg-amber-400/50 px-2 rounded border border-amber-400",children:"hard"}),C.jsx("p",{className:"bg-gray-200/50 px-2 rounded border border-gray-200",children:"not study"})]})]})};Sc.register(X7,J7,D7,H7,pC,dC);const u9=()=>{const{user:n,loading:e}=no(),[t,i]=I.useState({labels:[],datasets:[]});if(I.useEffect(()=>{n&&(async()=>{const c=Jt(en,`emr-users/${n.uid}/wordHistories`);try{const u=await dn(c);if(u.exists()){const f=u.val(),d=new Date;d.setHours(0,0,0,0);const p=new Date(d);p.setDate(d.getDate()-6);const y={},_=[];for(let b=0;b<7;b++){const x=new Date(p);x.setDate(p.getDate()+b);const w=x.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});y[w]=0,_.push(w)}for(const b in f){const x=f[b];if(x.lastReviewed){const w=new Date(x.lastReviewed);if(w>=p){const E=w.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});y.hasOwnProperty(E)&&y[E]++}}}i({labels:_,datasets:[{data:_.map(b=>y[b]),backgroundColor:"#FB923C7F",borderColor:"#FB923C",borderWidth:1}]})}}catch(u){console.error(":",u)}})()},[n]),e)return C.jsx("div",{children:"Loading..."});const r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Words"},ticks:{stepSize:1}},x:{title:{display:!0,text:"Date"}}}};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-full h-full flex-1",children:C.jsx(o9,{data:t,options:r})}),C.jsx("div",{className:"flex w-full justify-center gap-4",children:C.jsx("p",{className:"bg-orange-400/50 px-2 rounded border border-orange-400",children:"Study words"})})]})},h9=()=>{const{user:n,loading:e}=no();return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[C.jsxs("h1",{className:"font-bold text-xl",children:["Study chart of ",n?.displayName]}),C.jsxs("div",{className:"flex flex-col gap-2 p-2 flex-1 overflow-auto w-full",children:[C.jsx(c9,{}),C.jsx(u9,{})]})]})})};function f9(){const{user:n,loading:e}=no(),{theme:t,setTheme:i}=Ry(),r=async()=>{try{const o=n.uid,c=Jt(en,`emr-users/${o}/progress/repeat`),f=(await dn(c)).val()||0,d=R2(f);i(d),localStorage.setItem("level",d)}catch(o){console.error(o)}};return I.useEffect(()=>{const o=localStorage.getItem("level");o?i(o):r()}),C.jsxs(C.Fragment,{children:[C.jsx(h8,{}),e?C.jsx("div",{className:"fixed top-0 left-0 w-full h-dvh flex justify-center items-center bg-gray-400/50",children:C.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):!n&&C.jsx(u8,{}),C.jsxs("div",{className:"h-full bg-[var(--color-bg)] text-[var(--color-text)] font-Montserrat flex flex-col pb-safe",children:[C.jsxs("div",{className:"bg-[var(--color-accent)] shadow-xl p-2 flex items-center justify-between h-16",children:[C.jsx(hr,{to:"/",className:" text-white text-xl text-bold",children:"English Master"}),n&&!n.isAnonymous?C.jsx("img",{src:n.photoURL,className:"rounded-full h-full shadow-md",onClick:c8}):C.jsx("button",{className:"btn-icon",onClick:a8,children:C.jsx(YL,{className:"size-8"})})]}),C.jsx("div",{className:"flex-1 overflow-hidden",children:C.jsxs(WA,{children:[C.jsx(wa,{path:"/",element:C.jsx(jL,{})}),C.jsx(wa,{path:"/study",element:C.jsx(XL,{})}),C.jsx(wa,{path:"/words",element:C.jsx(KL,{})}),C.jsx(wa,{path:"*",element:C.jsx(VL,{})}),C.jsx(wa,{path:"/charts",element:C.jsx(h9,{})})]})}),C.jsx(s8,{})]})]})}JO.createRoot(document.getElementById("root")).render(C.jsx(I.StrictMode,{children:C.jsx(M4,{children:C.jsx(ZL,{children:C.jsx(dR,{basename:"/english-master-react/",children:C.jsx(f9,{})})})})}));
