(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function xC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Md={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function EC(){if(Kv)return yo;Kv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return yo.Fragment=t,yo.jsx=e,yo.jsxs=e,yo}var Qv;function wC(){return Qv||(Qv=1,Md.exports=EC()),Md.exports}var M=wC(),Od={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function TC(){if($v)return gt;$v=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function w(C,W,K){this.props=C,this.context=W,this.refs=E,this.updater=K||b}w.prototype.isReactComponent={},w.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},w.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=w.prototype;function O(C,W,K){this.props=C,this.context=W,this.refs=E,this.updater=K||b}var U=O.prototype=new A;U.constructor=O,x(U,w.prototype),U.isPureReactComponent=!0;var V=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Q(C,W,K,G,et,mt){return K=mt.ref,{$$typeof:n,type:C,key:W,ref:K!==void 0?K:null,props:mt}}function $(C,W){return Q(C.type,W,void 0,void 0,void 0,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ct(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return W[K]})}var at=/\/+/g;function st(C,W){return typeof C=="object"&&C!==null&&C.key!=null?ct(""+C.key):W.toString(36)}function Vt(){}function Jt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Vt,Vt):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ft(C,W,K,G,et){var mt=typeof C;(mt==="undefined"||mt==="boolean")&&(C=null);var it=!1;if(C===null)it=!0;else switch(mt){case"bigint":case"string":case"number":it=!0;break;case"object":switch(C.$$typeof){case n:case t:it=!0;break;case m:return it=C._init,ft(it(C._payload),W,K,G,et)}}if(it)return et=et(C),it=G===""?"."+st(C,0):G,V(et)?(K="",it!=null&&(K=it.replace(at,"$&/")+"/"),ft(et,W,K,"",function(Si){return Si})):et!=null&&(Z(et)&&(et=$(et,K+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(at,"$&/")+"/")+it)),W.push(et)),1;it=0;var Fe=G===""?".":G+":";if(V(C))for(var qt=0;qt<C.length;qt++)G=C[qt],mt=Fe+st(G,qt),it+=ft(G,W,K,mt,et);else if(qt=y(C),typeof qt=="function")for(C=qt.call(C),qt=0;!(G=C.next()).done;)G=G.value,mt=Fe+st(G,qt++),it+=ft(G,W,K,mt,et);else if(mt==="object"){if(typeof C.then=="function")return ft(Jt(C),W,K,G,et);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return it}function z(C,W,K){if(C==null)return C;var G=[],et=0;return ft(C,G,"","",function(mt){return W.call(K,mt,et++)}),G}function q(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var tt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function dt(){}return gt.Children={map:z,forEach:function(C,W,K){z(C,function(){W.apply(this,arguments)},K)},count:function(C){var W=0;return z(C,function(){W++}),W},toArray:function(C){return z(C,function(W){return W})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},gt.Component=w,gt.Fragment=e,gt.Profiler=a,gt.PureComponent=O,gt.StrictMode=i,gt.Suspense=f,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,gt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return B.H.useMemoCache(C)}},gt.cache=function(C){return function(){return C.apply(null,arguments)}},gt.cloneElement=function(C,W,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=x({},C.props),et=C.key,mt=void 0;if(W!=null)for(it in W.ref!==void 0&&(mt=void 0),W.key!==void 0&&(et=""+W.key),W)!X.call(W,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&W.ref===void 0||(G[it]=W[it]);var it=arguments.length-2;if(it===1)G.children=K;else if(1<it){for(var Fe=Array(it),qt=0;qt<it;qt++)Fe[qt]=arguments[qt+2];G.children=Fe}return Q(C.type,et,void 0,void 0,mt,G)},gt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},gt.createElement=function(C,W,K){var G,et={},mt=null;if(W!=null)for(G in W.key!==void 0&&(mt=""+W.key),W)X.call(W,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(et[G]=W[G]);var it=arguments.length-2;if(it===1)et.children=K;else if(1<it){for(var Fe=Array(it),qt=0;qt<it;qt++)Fe[qt]=arguments[qt+2];et.children=Fe}if(C&&C.defaultProps)for(G in it=C.defaultProps,it)et[G]===void 0&&(et[G]=it[G]);return Q(C,mt,void 0,void 0,null,et)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(C){return{$$typeof:h,render:C}},gt.isValidElement=Z,gt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:q}},gt.memo=function(C,W){return{$$typeof:g,type:C,compare:W===void 0?null:W}},gt.startTransition=function(C){var W=B.T,K={};B.T=K;try{var G=C(),et=B.S;et!==null&&et(K,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(dt,tt)}catch(mt){tt(mt)}finally{B.T=W}},gt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},gt.use=function(C){return B.H.use(C)},gt.useActionState=function(C,W,K){return B.H.useActionState(C,W,K)},gt.useCallback=function(C,W){return B.H.useCallback(C,W)},gt.useContext=function(C){return B.H.useContext(C)},gt.useDebugValue=function(){},gt.useDeferredValue=function(C,W){return B.H.useDeferredValue(C,W)},gt.useEffect=function(C,W,K){var G=B.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(C,W)},gt.useId=function(){return B.H.useId()},gt.useImperativeHandle=function(C,W,K){return B.H.useImperativeHandle(C,W,K)},gt.useInsertionEffect=function(C,W){return B.H.useInsertionEffect(C,W)},gt.useLayoutEffect=function(C,W){return B.H.useLayoutEffect(C,W)},gt.useMemo=function(C,W){return B.H.useMemo(C,W)},gt.useOptimistic=function(C,W){return B.H.useOptimistic(C,W)},gt.useReducer=function(C,W,K){return B.H.useReducer(C,W,K)},gt.useRef=function(C){return B.H.useRef(C)},gt.useState=function(C){return B.H.useState(C)},gt.useSyncExternalStore=function(C,W,K){return B.H.useSyncExternalStore(C,W,K)},gt.useTransition=function(){return B.H.useTransition()},gt.version="19.1.1",gt}var Zv;function Ug(){return Zv||(Zv=1,Od.exports=TC()),Od.exports}var L=Ug();const di=xC(L);var Dd={exports:{}},vo={},Nd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function CC(){return Jv||(Jv=1,(function(n){function t(z,q){var tt=z.length;z.push(q);t:for(;0<tt;){var dt=tt-1>>>1,C=z[dt];if(0<a(C,q))z[dt]=q,z[tt]=C,tt=dt;else break t}}function e(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],tt=z.pop();if(tt!==q){z[0]=tt;t:for(var dt=0,C=z.length,W=C>>>1;dt<W;){var K=2*(dt+1)-1,G=z[K],et=K+1,mt=z[et];if(0>a(G,tt))et<C&&0>a(mt,G)?(z[dt]=mt,z[et]=tt,dt=et):(z[dt]=G,z[K]=tt,dt=K);else if(et<C&&0>a(mt,tt))z[dt]=mt,z[et]=tt,dt=et;else break t}}return q}function a(z,q){var tt=z.sortIndex-q.sortIndex;return tt!==0?tt:z.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,_=null,y=3,b=!1,x=!1,E=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(z){for(var q=e(g);q!==null;){if(q.callback===null)i(g);else if(q.startTime<=z)i(g),q.sortIndex=q.expirationTime,t(f,q);else break;q=e(g)}}function B(z){if(E=!1,V(z),!x)if(e(f)!==null)x=!0,X||(X=!0,st());else{var q=e(g);q!==null&&ft(B,q.startTime-z)}}var X=!1,Q=-1,$=5,Z=-1;function ct(){return w?!0:!(n.unstable_now()-Z<$)}function at(){if(w=!1,X){var z=n.unstable_now();Z=z;var q=!0;try{t:{x=!1,E&&(E=!1,O(Q),Q=-1),b=!0;var tt=y;try{e:{for(V(z),_=e(f);_!==null&&!(_.expirationTime>z&&ct());){var dt=_.callback;if(typeof dt=="function"){_.callback=null,y=_.priorityLevel;var C=dt(_.expirationTime<=z);if(z=n.unstable_now(),typeof C=="function"){_.callback=C,V(z),q=!0;break e}_===e(f)&&i(f),V(z)}else i(f);_=e(f)}if(_!==null)q=!0;else{var W=e(g);W!==null&&ft(B,W.startTime-z),q=!1}}break t}finally{_=null,y=tt,b=!1}q=void 0}}finally{q?st():X=!1}}}var st;if(typeof U=="function")st=function(){U(at)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Jt=Vt.port2;Vt.port1.onmessage=at,st=function(){Jt.postMessage(null)}}else st=function(){A(at,0)};function ft(z,q){Q=A(function(){z(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var tt=y;y=q;try{return z()}finally{y=tt}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var tt=y;y=z;try{return q()}finally{y=tt}},n.unstable_scheduleCallback=function(z,q,tt){var dt=n.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?dt+tt:dt):tt=dt,z){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=tt+C,z={id:m++,callback:q,priorityLevel:z,startTime:tt,expirationTime:C,sortIndex:-1},tt>dt?(z.sortIndex=tt,t(g,z),e(f)===null&&z===e(g)&&(E?(O(Q),Q=-1):E=!0,ft(B,tt-dt))):(z.sortIndex=C,t(f,z),x||b||(x=!0,X||(X=!0,st()))),z},n.unstable_shouldYield=ct,n.unstable_wrapCallback=function(z){var q=y;return function(){var tt=y;y=q;try{return z.apply(this,arguments)}finally{y=tt}}}})(kd)),kd}var t0;function AC(){return t0||(t0=1,Nd.exports=CC()),Nd.exports}var Id={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function RC(){if(e0)return Te;e0=1;var n=Ug();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:g,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Te.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,m)},Te.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},Te.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Te.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Te.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:y,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Te.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Te.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Te.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Te.requestFormReset=function(f){i.d.r(f)},Te.unstable_batchedUpdates=function(f,g){return f(g)},Te.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},Te.useFormStatus=function(){return c.H.useHostTransitionStatus()},Te.version="19.1.1",Te}var n0;function MC(){if(n0)return Id.exports;n0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Id.exports=RC(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function OC(){if(i0)return vo;i0=1;var n=AC(),t=Ug(),e=MC();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return h(d),s;if(p===u)return h(d),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=p;else{for(var v=!1,S=d.child;S;){if(S===l){v=!0,l=d,u=p;break}if(S===u){v=!0,u=d,l=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===l){v=!0,l=p,u=d;break}if(S===u){v=!0,u=p,l=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function st(s){return s===null||typeof s!="object"?null:(s=at&&s[at]||s["@@iterator"],typeof s=="function"?s:null)}var Vt=Symbol.for("react.client.reference");function Jt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Vt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case Z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case U:return(s.displayName||"Context")+".Provider";case O:return(s._context.displayName||"Context")+".Consumer";case V:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Q:return r=s.displayName||null,r!==null?r:Jt(s.type)||"Memo";case $:r=s._payload,s=s._init;try{return Jt(s(r))}catch{}}return null}var ft=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},dt=[],C=-1;function W(s){return{current:s}}function K(s){0>C||(s.current=dt[C],dt[C]=null,C--)}function G(s,r){C++,dt[C]=s.current,s.current=r}var et=W(null),mt=W(null),it=W(null),Fe=W(null);function qt(s,r){switch(G(it,r),G(mt,s),G(et,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ev(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ev(r),s=wv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(et),G(et,s)}function Si(){K(et),K(mt),K(it)}function dh(s){s.memoizedState!==null&&G(Fe,s);var r=et.current,l=wv(r,s.type);r!==l&&(G(mt,s),G(et,l))}function wl(s){mt.current===s&&(K(et),K(mt)),Fe.current===s&&(K(Fe),fo._currentValue=tt)}var gh=Object.prototype.hasOwnProperty,ph=n.unstable_scheduleCallback,mh=n.unstable_cancelCallback,tw=n.unstable_shouldYield,ew=n.unstable_requestPaint,Rn=n.unstable_now,nw=n.unstable_getCurrentPriorityLevel,im=n.unstable_ImmediatePriority,sm=n.unstable_UserBlockingPriority,Tl=n.unstable_NormalPriority,iw=n.unstable_LowPriority,rm=n.unstable_IdlePriority,sw=n.log,rw=n.unstable_setDisableYieldValue,ba=null,Ve=null;function xi(s){if(typeof sw=="function"&&rw(s),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(ba,s)}catch{}}var We=Math.clz32?Math.clz32:lw,aw=Math.log,ow=Math.LN2;function lw(s){return s>>>=0,s===0?32:31-(aw(s)/ow|0)|0}var Cl=256,Al=4194304;function fs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Rl(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var d=0,p=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?d=fs(u):(v&=S,v!==0?d=fs(v):l||(l=S&~s,l!==0&&(d=fs(l))))):(S=u&~p,S!==0?d=fs(S):v!==0?d=fs(v):l||(l=u&~s,l!==0&&(d=fs(l)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:d}function Sa(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function cw(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function am(){var s=Cl;return Cl<<=1,(Cl&4194048)===0&&(Cl=256),s}function om(){var s=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),s}function _h(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function xa(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function uw(s,r,l,u,d,p){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,T=s.expirationTimes,k=s.hiddenUpdates;for(l=v&~l;0<l;){var H=31-We(l),F=1<<H;S[H]=0,T[H]=-1;var I=k[H];if(I!==null)for(k[H]=null,H=0;H<I.length;H++){var P=I[H];P!==null&&(P.lane&=-536870913)}l&=~F}u!==0&&lm(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(v&~r))}function lm(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-We(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function cm(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-We(l),d=1<<u;d&r|s[u]&r&&(s[u]|=r),l&=~d}}function yh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function um(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:Vv(s.type))}function hw(s,r){var l=q.p;try{return q.p=s,r()}finally{q.p=l}}var Ei=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Ei,De="__reactProps$"+Ei,nr="__reactContainer$"+Ei,bh="__reactEvents$"+Ei,fw="__reactListeners$"+Ei,dw="__reactHandles$"+Ei,hm="__reactResources$"+Ei,Ea="__reactMarker$"+Ei;function Sh(s){delete s[Ee],delete s[De],delete s[bh],delete s[fw],delete s[dw]}function ir(s){var r=s[Ee];if(r)return r;for(var l=s.parentNode;l;){if(r=l[nr]||l[Ee]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=Rv(s);s!==null;){if(l=s[Ee])return l;s=Rv(s)}return r}s=l,l=s.parentNode}return null}function sr(s){if(s=s[Ee]||s[nr]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function wa(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function rr(s){var r=s[hm];return r||(r=s[hm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function fe(s){s[Ea]=!0}var fm=new Set,dm={};function ds(s,r){ar(s,r),ar(s+"Capture",r)}function ar(s,r){for(dm[s]=r,s=0;s<r.length;s++)fm.add(r[s])}var gw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gm={},pm={};function pw(s){return gh.call(pm,s)?!0:gh.call(gm,s)?!1:gw.test(s)?pm[s]=!0:(gm[s]=!0,!1)}function Ml(s,r,l){if(pw(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Ol(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Vn(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}var xh,mm;function or(s){if(xh===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);xh=r&&r[1]||"",mm=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xh+s+mm}var Eh=!1;function wh(s,r){if(!s||Eh)return"";Eh=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var I=P}Reflect.construct(s,[],F)}else{try{F.call()}catch(P){I=P}s.call(F.prototype)}}else{try{throw Error()}catch(P){I=P}(F=s())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&I&&typeof P.stack=="string")return[P.stack,I.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],S=p[1];if(v&&S){var T=v.split(`
`),k=S.split(`
`);for(d=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;d<k.length&&!k[d].includes("DetermineComponentFrameRoot");)d++;if(u===T.length||d===k.length)for(u=T.length-1,d=k.length-1;1<=u&&0<=d&&T[u]!==k[d];)d--;for(;1<=u&&0<=d;u--,d--)if(T[u]!==k[d]){if(u!==1||d!==1)do if(u--,d--,0>d||T[u]!==k[d]){var H=`
`+T[u].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=u&&0<=d);break}}}finally{Eh=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?or(l):""}function mw(s){switch(s.tag){case 26:case 27:case 5:return or(s.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return wh(s.type,!1);case 11:return wh(s.type.render,!1);case 1:return wh(s.type,!0);case 31:return or("Activity");default:return""}}function _m(s){try{var r="";do r+=mw(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ym(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _w(s){var r=ym(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),u=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Dl(s){s._valueTracker||(s._valueTracker=_w(s))}function vm(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=ym(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Nl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var yw=/[\n"\\]/g;function en(s){return s.replace(yw,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Th(s,r,l,u,d,p,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),r!=null?v==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+tn(r)):s.value!==""+tn(r)&&(s.value=""+tn(r)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),r!=null?Ch(s,v,tn(r)):l!=null?Ch(s,v,tn(l)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+tn(S):s.removeAttribute("name")}function bm(s,r,l,u,d,p,v,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;l=l!=null?""+tn(l):"",r=r!=null?""+tn(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v)}function Ch(s,r,l){r==="number"&&Nl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function lr(s,r,l,u){if(s=s.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<s.length;l++)d=r.hasOwnProperty("$"+s[l].value),s[l].selected!==d&&(s[l].selected=d),d&&u&&(s[l].defaultSelected=!0)}else{for(l=""+tn(l),r=null,d=0;d<s.length;d++){if(s[d].value===l){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function Sm(s,r,l){if(r!=null&&(r=""+tn(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+tn(l):""}function xm(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ft(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=tn(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function cr(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var vw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Em(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||vw.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function wm(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&l[d]!==u&&Em(s,d,u)}else for(var p in r)r.hasOwnProperty(p)&&Em(s,p,r[p])}function Ah(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(s){return Sw.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Rh=null;function Mh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ur=null,hr=null;function Tm(s){var r=sr(s);if(r&&(s=r.stateNode)){var l=s[De]||null;t:switch(s=r.stateNode,r.type){case"input":if(Th(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var d=u[De]||null;if(!d)throw Error(i(90));Th(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&vm(u)}break t;case"textarea":Sm(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&lr(s,!!l.multiple,r,!1)}}}var Oh=!1;function Cm(s,r,l){if(Oh)return s(r,l);Oh=!0;try{var u=s(r);return u}finally{if(Oh=!1,(ur!==null||hr!==null)&&(yc(),ur&&(r=ur,s=hr,hr=ur=null,Tm(r),s)))for(r=0;r<s.length;r++)Tm(s[r])}}function Ta(s,r){var l=s.stateNode;if(l===null)return null;var u=l[De]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=!1;if(Wn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Dh=!1}var wi=null,Nh=null,Il=null;function Am(){if(Il)return Il;var s,r=Nh,l=r.length,u,d="value"in wi?wi.value:wi.textContent,p=d.length;for(s=0;s<l&&r[s]===d[s];s++);var v=l-s;for(u=1;u<=v&&r[l-u]===d[p-u];u++);return Il=d.slice(s,1<u?1-u:void 0)}function Ll(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Pl(){return!0}function Rm(){return!1}function Ne(s){function r(l,u,d,p,v){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pl:Rm,this.isPropagationStopped=Rm,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),r}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Ne(gs),Aa=m({},gs,{view:0,detail:0}),xw=Ne(Aa),kh,Ih,Ra,Ul=m({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ra&&(Ra&&s.type==="mousemove"?(kh=s.screenX-Ra.screenX,Ih=s.screenY-Ra.screenY):Ih=kh=0,Ra=s),kh)},movementY:function(s){return"movementY"in s?s.movementY:Ih}}),Mm=Ne(Ul),Ew=m({},Ul,{dataTransfer:0}),ww=Ne(Ew),Tw=m({},Aa,{relatedTarget:0}),Lh=Ne(Tw),Cw=m({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Aw=Ne(Cw),Rw=m({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mw=Ne(Rw),Ow=m({},gs,{data:0}),Om=Ne(Ow),Dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iw(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=kw[s])?!!r[s]:!1}function Ph(){return Iw}var Lw=m({},Aa,{key:function(s){if(s.key){var r=Dw[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(s){return s.type==="keypress"?Ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Pw=Ne(Lw),zw=m({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=Ne(zw),Uw=m({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),Bw=Ne(Uw),Hw=m({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jw=Ne(Hw),Fw=m({},Ul,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vw=Ne(Fw),Ww=m({},gs,{newState:0,oldState:0}),qw=Ne(Ww),Yw=[9,13,27,32],zh=Wn&&"CompositionEvent"in window,Ma=null;Wn&&"documentMode"in document&&(Ma=document.documentMode);var Gw=Wn&&"TextEvent"in window&&!Ma,Nm=Wn&&(!zh||Ma&&8<Ma&&11>=Ma),km=" ",Im=!1;function Lm(s,r){switch(s){case"keyup":return Yw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fr=!1;function Xw(s,r){switch(s){case"compositionend":return Pm(r);case"keypress":return r.which!==32?null:(Im=!0,km);case"textInput":return s=r.data,s===km&&Im?null:s;default:return null}}function Kw(s,r){if(fr)return s==="compositionend"||!zh&&Lm(s,r)?(s=Am(),Il=Nh=wi=null,fr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Nm&&r.locale!=="ko"?null:r.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Qw[s.type]:r==="textarea"}function Um(s,r,l,u){ur?hr?hr.push(u):hr=[u]:ur=u,r=wc(r,"onChange"),0<r.length&&(l=new zl("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Oa=null,Da=null;function $w(s){yv(s,0)}function Bl(s){var r=wa(s);if(vm(r))return s}function Bm(s,r){if(s==="change")return r}var Hm=!1;if(Wn){var Uh;if(Wn){var Bh="oninput"in document;if(!Bh){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Bh=typeof jm.oninput=="function"}Uh=Bh}else Uh=!1;Hm=Uh&&(!document.documentMode||9<document.documentMode)}function Fm(){Oa&&(Oa.detachEvent("onpropertychange",Vm),Da=Oa=null)}function Vm(s){if(s.propertyName==="value"&&Bl(Da)){var r=[];Um(r,Da,s,Mh(s)),Cm($w,r)}}function Zw(s,r,l){s==="focusin"?(Fm(),Oa=r,Da=l,Oa.attachEvent("onpropertychange",Vm)):s==="focusout"&&Fm()}function Jw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bl(Da)}function tT(s,r){if(s==="click")return Bl(r)}function eT(s,r){if(s==="input"||s==="change")return Bl(r)}function nT(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qe=typeof Object.is=="function"?Object.is:nT;function Na(s,r){if(qe(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!gh.call(r,d)||!qe(s[d],r[d]))return!1}return!0}function Wm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qm(s,r){var l=Wm(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Wm(l)}}function Ym(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Ym(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Gm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Nl(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Nl(s.document)}return r}function Hh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var iT=Wn&&"documentMode"in document&&11>=document.documentMode,dr=null,jh=null,ka=null,Fh=!1;function Xm(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fh||dr==null||dr!==Nl(u)||(u=dr,"selectionStart"in u&&Hh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ka&&Na(ka,u)||(ka=u,u=wc(jh,"onSelect"),0<u.length&&(r=new zl("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=dr)))}function ps(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var gr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Vh={},Km={};Wn&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function ms(s){if(Vh[s])return Vh[s];if(!gr[s])return s;var r=gr[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Km)return Vh[s]=r[l];return s}var Qm=ms("animationend"),$m=ms("animationiteration"),Zm=ms("animationstart"),sT=ms("transitionrun"),rT=ms("transitionstart"),aT=ms("transitioncancel"),Jm=ms("transitionend"),t_=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function yn(s,r){t_.set(s,r),ds(r,[s])}var e_=new WeakMap;function nn(s,r){if(typeof s=="object"&&s!==null){var l=e_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:_m(r)},e_.set(s,r),r)}return{value:s,source:r,stack:_m(r)}}var sn=[],pr=0,qh=0;function Hl(){for(var s=pr,r=qh=pr=0;r<s;){var l=sn[r];sn[r++]=null;var u=sn[r];sn[r++]=null;var d=sn[r];sn[r++]=null;var p=sn[r];if(sn[r++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}p!==0&&n_(l,d,p)}}function jl(s,r,l,u){sn[pr++]=s,sn[pr++]=r,sn[pr++]=l,sn[pr++]=u,qh|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Yh(s,r,l,u){return jl(s,r,l,u),Fl(s)}function mr(s,r){return jl(s,null,null,r),Fl(s)}function n_(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var d=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-We(l),s=p.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=l|536870912),p):null}function Fl(s){if(50<so)throw so=0,Jf=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var _r={};function oT(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(s,r,l,u){return new oT(s,r,l,u)}function Gh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qn(s,r){var l=s.alternate;return l===null?(l=Ye(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function i_(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Vl(s,r,l,u,d,p){var v=0;if(u=s,typeof s=="function")Gh(s)&&(v=1);else if(typeof s=="string")v=cC(s,l,et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case Z:return s=Ye(31,l,r,d),s.elementType=Z,s.lanes=p,s;case x:return _s(l.children,d,p,r);case E:v=8,d|=24;break;case w:return s=Ye(12,l,r,d|2),s.elementType=w,s.lanes=p,s;case B:return s=Ye(13,l,r,d),s.elementType=B,s.lanes=p,s;case X:return s=Ye(19,l,r,d),s.elementType=X,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case U:v=10;break t;case O:v=9;break t;case V:v=11;break t;case Q:v=14;break t;case $:v=16,u=null;break t}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ye(v,l,r,d),r.elementType=s,r.type=u,r.lanes=p,r}function _s(s,r,l,u){return s=Ye(7,s,u,r),s.lanes=l,s}function Xh(s,r,l){return s=Ye(6,s,null,r),s.lanes=l,s}function Kh(s,r,l){return r=Ye(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var yr=[],vr=0,Wl=null,ql=0,rn=[],an=0,ys=null,Yn=1,Gn="";function vs(s,r){yr[vr++]=ql,yr[vr++]=Wl,Wl=s,ql=r}function s_(s,r,l){rn[an++]=Yn,rn[an++]=Gn,rn[an++]=ys,ys=s;var u=Yn;s=Gn;var d=32-We(u)-1;u&=~(1<<d),l+=1;var p=32-We(r)+d;if(30<p){var v=d-d%5;p=(u&(1<<v)-1).toString(32),u>>=v,d-=v,Yn=1<<32-We(r)+d|l<<d|u,Gn=p+s}else Yn=1<<p|l<<d|u,Gn=s}function Qh(s){s.return!==null&&(vs(s,1),s_(s,1,0))}function $h(s){for(;s===Wl;)Wl=yr[--vr],yr[vr]=null,ql=yr[--vr],yr[vr]=null;for(;s===ys;)ys=rn[--an],rn[an]=null,Gn=rn[--an],rn[an]=null,Yn=rn[--an],rn[an]=null}var Re=null,Qt=null,Rt=!1,bs=null,Mn=!1,Zh=Error(i(519));function Ss(s){var r=Error(i(418,""));throw Pa(nn(r,s)),Zh}function r_(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Ee]=s,r[De]=u,l){case"dialog":St("cancel",r),St("close",r);break;case"iframe":case"object":case"embed":St("load",r);break;case"video":case"audio":for(l=0;l<ao.length;l++)St(ao[l],r);break;case"source":St("error",r);break;case"img":case"image":case"link":St("error",r),St("load",r);break;case"details":St("toggle",r);break;case"input":St("invalid",r),bm(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Dl(r);break;case"select":St("invalid",r);break;case"textarea":St("invalid",r),xm(r,u.value,u.defaultValue,u.children),Dl(r)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||xv(r.textContent,l)?(u.popover!=null&&(St("beforetoggle",r),St("toggle",r)),u.onScroll!=null&&St("scroll",r),u.onScrollEnd!=null&&St("scrollend",r),u.onClick!=null&&(r.onclick=Tc),r=!0):r=!1,r||Ss(s)}function a_(s){for(Re=s.return;Re;)switch(Re.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Re=Re.return}}function Ia(s){if(s!==Re)return!1;if(!Rt)return a_(s),Rt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||pd(s.type,s.memoizedProps)),l=!l),l&&Qt&&Ss(s),a_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Qt=bn(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Qt=null}}else r===27?(r=Qt,Hi(s.type)?(s=vd,vd=null,Qt=s):Qt=r):Qt=Re?bn(s.stateNode.nextSibling):null;return!0}function La(){Qt=Re=null,Rt=!1}function o_(){var s=bs;return s!==null&&(Le===null?Le=s:Le.push.apply(Le,s),bs=null),s}function Pa(s){bs===null?bs=[s]:bs.push(s)}var Jh=W(null),xs=null,Xn=null;function Ti(s,r,l){G(Jh,r._currentValue),r._currentValue=l}function Kn(s){s._currentValue=Jh.current,K(Jh)}function tf(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function ef(s,r,l,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=d;for(var T=0;T<r.length;T++)if(S.context===r[T]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),tf(p.return,l,s),u||(v=null);break t}p=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),tf(v,l,s),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===s){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function za(s,r,l,u){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;qe(d.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(d===Fe.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(fo):s=[fo])}d=d.return}s!==null&&ef(r,s,l,u),r.flags|=262144}function Yl(s){for(s=s.firstContext;s!==null;){if(!qe(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Es(s){xs=s,Xn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function we(s){return l_(xs,s)}function Gl(s,r){return xs===null&&Es(s),l_(s,r)}function l_(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Xn===null){if(s===null)throw Error(i(308));Xn=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Xn=Xn.next=r;return l}var lT=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},cT=n.unstable_scheduleCallback,uT=n.unstable_NormalPriority,ae={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new lT,data:new Map,refCount:0}}function Ua(s){s.refCount--,s.refCount===0&&cT(uT,function(){s.controller.abort()})}var Ba=null,sf=0,br=0,Sr=null;function hT(s,r){if(Ba===null){var l=Ba=[];sf=0,br=ad(),Sr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return sf++,r.then(c_,c_),r}function c_(){if(--sf===0&&Ba!==null){Sr!==null&&(Sr.status="fulfilled");var s=Ba;Ba=null,br=0,Sr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function fT(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var u_=z.S;z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hT(s,r),u_!==null&&u_(s,r)};var ws=W(null);function rf(){var s=ws.current;return s!==null?s:Ht.pooledCache}function Xl(s,r){r===null?G(ws,ws.current):G(ws,r.pool)}function h_(){var s=rf();return s===null?null:{parent:ae._currentValue,pool:s}}var Ha=Error(i(460)),f_=Error(i(474)),Kl=Error(i(542)),af={then:function(){}};function d_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ql(){}function g_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Ql,Ql),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,m_(s),s;default:if(typeof r.status=="string")r.then(Ql,Ql);else{if(s=Ht,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,m_(s),s}throw ja=r,Ha}}var ja=null;function p_(){if(ja===null)throw Error(i(459));var s=ja;return ja=null,s}function m_(s){if(s===Ha||s===Kl)throw Error(i(483))}var Ci=!1;function of(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ai(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Mt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Fl(s),n_(s,null,l),r}return jl(s,u,r,l),Fl(s)}function Fa(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,cm(s,l)}}function cf(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?d=p=r:p=p.next=r}else d=p=r;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var uf=!1;function Va(){if(uf){var s=Sr;if(s!==null)throw s}}function Wa(s,r,l,u){uf=!1;var d=s.updateQueue;Ci=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var T=S,k=T.next;T.next=null,v===null?p=k:v.next=k,v=T;var H=s.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==v&&(S===null?H.firstBaseUpdate=k:S.next=k,H.lastBaseUpdate=T))}if(p!==null){var F=d.baseState;v=0,H=k=T=null,S=p;do{var I=S.lane&-536870913,P=I!==S.lane;if(P?(Et&I)===I:(u&I)===I){I!==0&&I===br&&(uf=!0),H!==null&&(H=H.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ut=s,rt=S;I=r;var It=l;switch(rt.tag){case 1:if(ut=rt.payload,typeof ut=="function"){F=ut.call(It,F,I);break t}F=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=rt.payload,I=typeof ut=="function"?ut.call(It,F,I):ut,I==null)break t;F=m({},F,I);break t;case 2:Ci=!0}}I=S.callback,I!==null&&(s.flags|=64,P&&(s.flags|=8192),P=d.callbacks,P===null?d.callbacks=[I]:P.push(I))}else P={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(k=H=P,T=F):H=H.next=P,v|=I;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;P=S,S=P.next,P.next=null,d.lastBaseUpdate=P,d.shared.pending=null}}while(!0);H===null&&(T=F),d.baseState=T,d.firstBaseUpdate=k,d.lastBaseUpdate=H,p===null&&(d.shared.lanes=0),Pi|=v,s.lanes=v,s.memoizedState=F}}function __(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function y_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)__(l[s],r)}var xr=W(null),$l=W(0);function v_(s,r){s=ni,G($l,s),G(xr,r),ni=s|r.baseLanes}function hf(){G($l,ni),G(xr,xr.current)}function ff(){ni=$l.current,K(xr),K($l)}var Mi=0,pt=null,Nt=null,ie=null,Zl=!1,Er=!1,Ts=!1,Jl=0,qa=0,wr=null,dT=0;function te(){throw Error(i(321))}function df(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!qe(s[l],r[l]))return!1;return!0}function gf(s,r,l,u,d,p){return Mi=p,pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?ny:iy,Ts=!1,p=l(u,d),Ts=!1,Er&&(p=S_(r,l,u,d)),b_(s),p}function b_(s){z.H=rc;var r=Nt!==null&&Nt.next!==null;if(Mi=0,ie=Nt=pt=null,Zl=!1,qa=0,wr=null,r)throw Error(i(300));s===null||de||(s=s.dependencies,s!==null&&Yl(s)&&(de=!0))}function S_(s,r,l,u){pt=s;var d=0;do{if(Er&&(wr=null),qa=0,Er=!1,25<=d)throw Error(i(301));if(d+=1,ie=Nt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}z.H=bT,p=r(l,u)}while(Er);return p}function gT(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?Ya(r):r,s=s.useState()[0],(Nt!==null?Nt.memoizedState:null)!==s&&(pt.flags|=1024),r}function pf(){var s=Jl!==0;return Jl=0,s}function mf(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function _f(s){if(Zl){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Zl=!1}Mi=0,ie=Nt=pt=null,Er=!1,qa=Jl=0,wr=null}function ke(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?pt.memoizedState=ie=s:ie=ie.next=s,ie}function se(){if(Nt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var r=ie===null?pt.memoizedState:ie.next;if(r!==null)ie=r,Nt=s;else{if(s===null)throw pt.alternate===null?Error(i(467)):Error(i(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ie===null?pt.memoizedState=ie=s:ie=ie.next=s}return ie}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(s){var r=qa;return qa+=1,wr===null&&(wr=[]),s=g_(wr,s,r),r=pt,(ie===null?r.memoizedState:ie.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?ny:iy),s}function tc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ya(s);if(s.$$typeof===U)return we(s)}throw Error(i(438,String(s)))}function vf(s){var r=null,l=pt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=yf(),pt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=ct;return r.index++,l}function Qn(s,r){return typeof r=="function"?r(s):r}function ec(s){var r=se();return bf(r,Nt,s)}function bf(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}r.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var S=v=null,T=null,k=r,H=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Et&F)===F:(Mi&F)===F){var I=k.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===br&&(H=!0);else if((Mi&I)===I){k=k.next,I===br&&(H=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(S=T=F,v=p):T=T.next=F,pt.lanes|=I,Pi|=I;F=k.action,Ts&&l(p,F),p=k.hasEagerState?k.eagerState:l(p,F)}else I={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(S=T=I,v=p):T=T.next=I,pt.lanes|=F,Pi|=F;k=k.next}while(k!==null&&k!==r);if(T===null?v=p:T.next=S,!qe(p,s.memoizedState)&&(de=!0,H&&(l=Sr,l!==null)))throw l;s.memoizedState=p,s.baseState=v,s.baseQueue=T,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Sf(s){var r=se(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,d=l.pending,p=r.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do p=s(p,v.action),v=v.next;while(v!==d);qe(p,r.memoizedState)||(de=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function x_(s,r,l){var u=pt,d=se(),p=Rt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!qe((Nt||d).memoizedState,l);v&&(d.memoizedState=l,de=!0),d=d.queue;var S=T_.bind(null,u,d,s);if(Ga(2048,8,S,[s]),d.getSnapshot!==r||v||ie!==null&&ie.memoizedState.tag&1){if(u.flags|=2048,Tr(9,nc(),w_.bind(null,u,d,l,r),null),Ht===null)throw Error(i(349));p||(Mi&124)!==0||E_(u,r,l)}return l}function E_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=pt.updateQueue,r===null?(r=yf(),pt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function w_(s,r,l,u){r.value=l,r.getSnapshot=u,C_(r)&&A_(s)}function T_(s,r,l){return l(function(){C_(r)&&A_(s)})}function C_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!qe(s,l)}catch{return!0}}function A_(s){var r=mr(s,2);r!==null&&$e(r,s,2)}function xf(s){var r=ke();if(typeof s=="function"){var l=s;if(s=l(),Ts){xi(!0);try{l()}finally{xi(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:s},r}function R_(s,r,l,u){return s.baseState=l,bf(s,Nt,typeof u=="function"?u:Qn)}function pT(s,r,l,u,d){if(sc(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};z.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,M_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function M_(s,r){var l=r.action,u=r.payload,d=s.state;if(r.isTransition){var p=z.T,v={};z.T=v;try{var S=l(d,u),T=z.S;T!==null&&T(v,S),O_(s,r,S)}catch(k){Ef(s,r,k)}finally{z.T=p}}else try{p=l(d,u),O_(s,r,p)}catch(k){Ef(s,r,k)}}function O_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){D_(s,r,u)},function(u){return Ef(s,r,u)}):D_(s,r,l)}function D_(s,r,l){r.status="fulfilled",r.value=l,N_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,M_(s,l)))}function Ef(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,N_(r),r=r.next;while(r!==u)}s.action=null}function N_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function k_(s,r){return r}function I_(s,r){if(Rt){var l=Ht.formState;if(l!==null){t:{var u=pt;if(Rt){if(Qt){e:{for(var d=Qt,p=Mn;d.nodeType!==8;){if(!p){d=null;break e}if(d=bn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Qt=bn(d.nextSibling),u=d.data==="F!";break t}}Ss(u)}u=!1}u&&(r=l[0])}}return l=ke(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:r},l.queue=u,l=J_.bind(null,pt,u),u.dispatch=l,u=xf(!1),p=Rf.bind(null,pt,!1,u.queue),u=ke(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,l=pT.bind(null,pt,d,p,l),d.dispatch=l,u.memoizedState=s,[r,l,!1]}function L_(s){var r=se();return P_(r,Nt,s)}function P_(s,r,l){if(r=bf(s,r,k_)[0],s=ec(Qn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ya(r)}catch(v){throw v===Ha?Kl:v}else u=r;r=se();var d=r.queue,p=d.dispatch;return l!==r.memoizedState&&(pt.flags|=2048,Tr(9,nc(),mT.bind(null,d,l),null)),[u,p,s]}function mT(s,r){s.action=r}function z_(s){var r=se(),l=Nt;if(l!==null)return P_(r,l,s);se(),r=r.memoizedState,l=se();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function Tr(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=pt.updateQueue,r===null&&(r=yf(),pt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function nc(){return{destroy:void 0,resource:void 0}}function U_(){return se().memoizedState}function ic(s,r,l,u){var d=ke();u=u===void 0?null:u,pt.flags|=s,d.memoizedState=Tr(1|r,nc(),l,u)}function Ga(s,r,l,u){var d=se();u=u===void 0?null:u;var p=d.memoizedState.inst;Nt!==null&&u!==null&&df(u,Nt.memoizedState.deps)?d.memoizedState=Tr(r,p,l,u):(pt.flags|=s,d.memoizedState=Tr(1|r,p,l,u))}function B_(s,r){ic(8390656,8,s,r)}function H_(s,r){Ga(2048,8,s,r)}function j_(s,r){return Ga(4,2,s,r)}function F_(s,r){return Ga(4,4,s,r)}function V_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function W_(s,r,l){l=l!=null?l.concat([s]):null,Ga(4,4,V_.bind(null,r,s),l)}function wf(){}function q_(s,r){var l=se();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&df(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function Y_(s,r){var l=se();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&df(r,u[1]))return u[0];if(u=s(),Ts){xi(!0);try{s()}finally{xi(!1)}}return l.memoizedState=[u,r],u}function Tf(s,r,l){return l===void 0||(Mi&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=Ky(),pt.lanes|=s,Pi|=s,l)}function G_(s,r,l,u){return qe(l,r)?l:xr.current!==null?(s=Tf(s,l,u),qe(s,r)||(de=!0),s):(Mi&42)===0?(de=!0,s.memoizedState=l):(s=Ky(),pt.lanes|=s,Pi|=s,r)}function X_(s,r,l,u,d){var p=q.p;q.p=p!==0&&8>p?p:8;var v=z.T,S={};z.T=S,Rf(s,!1,r,l);try{var T=d(),k=z.S;if(k!==null&&k(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=fT(T,u);Xa(s,r,H,Qe(s))}else Xa(s,r,u,Qe(s))}catch(F){Xa(s,r,{then:function(){},status:"rejected",reason:F},Qe())}finally{q.p=p,z.T=v}}function _T(){}function Cf(s,r,l,u){if(s.tag!==5)throw Error(i(476));var d=K_(s).queue;X_(s,d,r,tt,l===null?_T:function(){return Q_(s),l(u)})}function K_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:tt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Q_(s){var r=K_(s).next.queue;Xa(s,r,{},Qe())}function Af(){return we(fo)}function $_(){return se().memoizedState}function Z_(){return se().memoizedState}function yT(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Qe();s=Ai(l);var u=Ri(r,s,l);u!==null&&($e(u,r,l),Fa(u,r,l)),r={cache:nf()},s.payload=r;return}r=r.return}}function vT(s,r,l){var u=Qe();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},sc(s)?ty(r,l):(l=Yh(s,r,l,u),l!==null&&($e(l,s,u),ey(l,r,u)))}function J_(s,r,l){var u=Qe();Xa(s,r,l,u)}function Xa(s,r,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(sc(s))ty(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,l);if(d.hasEagerState=!0,d.eagerState=S,qe(S,v))return jl(s,r,d,0),Ht===null&&Hl(),!1}catch{}finally{}if(l=Yh(s,r,d,u),l!==null)return $e(l,s,u),ey(l,r,u),!0}return!1}function Rf(s,r,l,u){if(u={lane:2,revertLane:ad(),action:u,hasEagerState:!1,eagerState:null,next:null},sc(s)){if(r)throw Error(i(479))}else r=Yh(s,l,u,2),r!==null&&$e(r,s,2)}function sc(s){var r=s.alternate;return s===pt||r!==null&&r===pt}function ty(s,r){Er=Zl=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function ey(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,cm(s,l)}}var rc={readContext:we,use:tc,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},ny={readContext:we,use:tc,useCallback:function(s,r){return ke().memoizedState=[s,r===void 0?null:r],s},useContext:we,useEffect:B_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,ic(4194308,4,V_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return ic(4194308,4,s,r)},useInsertionEffect:function(s,r){ic(4,2,s,r)},useMemo:function(s,r){var l=ke();r=r===void 0?null:r;var u=s();if(Ts){xi(!0);try{s()}finally{xi(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=ke();if(l!==void 0){var d=l(r);if(Ts){xi(!0);try{l(r)}finally{xi(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=vT.bind(null,pt,s),[u.memoizedState,s]},useRef:function(s){var r=ke();return s={current:s},r.memoizedState=s},useState:function(s){s=xf(s);var r=s.queue,l=J_.bind(null,pt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:wf,useDeferredValue:function(s,r){var l=ke();return Tf(l,s,r)},useTransition:function(){var s=xf(!1);return s=X_.bind(null,pt,s.queue,!0,!1),ke().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=pt,d=ke();if(Rt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Ht===null)throw Error(i(349));(Et&124)!==0||E_(u,r,l)}d.memoizedState=l;var p={value:l,getSnapshot:r};return d.queue=p,B_(T_.bind(null,u,p,s),[s]),u.flags|=2048,Tr(9,nc(),w_.bind(null,u,p,l,r),null),l},useId:function(){var s=ke(),r=Ht.identifierPrefix;if(Rt){var l=Gn,u=Yn;l=(u&~(1<<32-We(u)-1)).toString(32)+l,r="«"+r+"R"+l,l=Jl++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=dT++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Af,useFormState:I_,useActionState:I_,useOptimistic:function(s){var r=ke();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Rf.bind(null,pt,!0,l),l.dispatch=r,[s,r]},useMemoCache:vf,useCacheRefresh:function(){return ke().memoizedState=yT.bind(null,pt)}},iy={readContext:we,use:tc,useCallback:q_,useContext:we,useEffect:H_,useImperativeHandle:W_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:Y_,useReducer:ec,useRef:U_,useState:function(){return ec(Qn)},useDebugValue:wf,useDeferredValue:function(s,r){var l=se();return G_(l,Nt.memoizedState,s,r)},useTransition:function(){var s=ec(Qn)[0],r=se().memoizedState;return[typeof s=="boolean"?s:Ya(s),r]},useSyncExternalStore:x_,useId:$_,useHostTransitionStatus:Af,useFormState:L_,useActionState:L_,useOptimistic:function(s,r){var l=se();return R_(l,Nt,s,r)},useMemoCache:vf,useCacheRefresh:Z_},bT={readContext:we,use:tc,useCallback:q_,useContext:we,useEffect:H_,useImperativeHandle:W_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:Y_,useReducer:Sf,useRef:U_,useState:function(){return Sf(Qn)},useDebugValue:wf,useDeferredValue:function(s,r){var l=se();return Nt===null?Tf(l,s,r):G_(l,Nt.memoizedState,s,r)},useTransition:function(){var s=Sf(Qn)[0],r=se().memoizedState;return[typeof s=="boolean"?s:Ya(s),r]},useSyncExternalStore:x_,useId:$_,useHostTransitionStatus:Af,useFormState:z_,useActionState:z_,useOptimistic:function(s,r){var l=se();return Nt!==null?R_(l,Nt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Z_},Cr=null,Ka=0;function ac(s){var r=Ka;return Ka+=1,Cr===null&&(Cr=[]),g_(Cr,s,r)}function Qa(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function oc(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function sy(s){var r=s._init;return r(s._payload)}function ry(s){function r(D,R){if(s){var N=D.deletions;N===null?(D.deletions=[R],D.flags|=16):N.push(R)}}function l(D,R){if(!s)return null;for(;R!==null;)r(D,R),R=R.sibling;return null}function u(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function d(D,R){return D=qn(D,R),D.index=0,D.sibling=null,D}function p(D,R,N){return D.index=N,s?(N=D.alternate,N!==null?(N=N.index,N<R?(D.flags|=67108866,R):N):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function v(D){return s&&D.alternate===null&&(D.flags|=67108866),D}function S(D,R,N,j){return R===null||R.tag!==6?(R=Xh(N,D.mode,j),R.return=D,R):(R=d(R,N),R.return=D,R)}function T(D,R,N,j){var J=N.type;return J===x?H(D,R,N.props.children,j,N.key):R!==null&&(R.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&sy(J)===R.type)?(R=d(R,N.props),Qa(R,N),R.return=D,R):(R=Vl(N.type,N.key,N.props,null,D.mode,j),Qa(R,N),R.return=D,R)}function k(D,R,N,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=Kh(N,D.mode,j),R.return=D,R):(R=d(R,N.children||[]),R.return=D,R)}function H(D,R,N,j,J){return R===null||R.tag!==7?(R=_s(N,D.mode,j,J),R.return=D,R):(R=d(R,N),R.return=D,R)}function F(D,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Xh(""+R,D.mode,N),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case y:return N=Vl(R.type,R.key,R.props,null,D.mode,N),Qa(N,R),N.return=D,N;case b:return R=Kh(R,D.mode,N),R.return=D,R;case $:var j=R._init;return R=j(R._payload),F(D,R,N)}if(ft(R)||st(R))return R=_s(R,D.mode,N,null),R.return=D,R;if(typeof R.then=="function")return F(D,ac(R),N);if(R.$$typeof===U)return F(D,Gl(D,R),N);oc(D,R)}return null}function I(D,R,N,j){var J=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return J!==null?null:S(D,R,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case y:return N.key===J?T(D,R,N,j):null;case b:return N.key===J?k(D,R,N,j):null;case $:return J=N._init,N=J(N._payload),I(D,R,N,j)}if(ft(N)||st(N))return J!==null?null:H(D,R,N,j,null);if(typeof N.then=="function")return I(D,R,ac(N),j);if(N.$$typeof===U)return I(D,R,Gl(D,N),j);oc(D,N)}return null}function P(D,R,N,j,J){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return D=D.get(N)||null,S(R,D,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return D=D.get(j.key===null?N:j.key)||null,T(R,D,j,J);case b:return D=D.get(j.key===null?N:j.key)||null,k(R,D,j,J);case $:var _t=j._init;return j=_t(j._payload),P(D,R,N,j,J)}if(ft(j)||st(j))return D=D.get(N)||null,H(R,D,j,J,null);if(typeof j.then=="function")return P(D,R,N,ac(j),J);if(j.$$typeof===U)return P(D,R,N,Gl(R,j),J);oc(R,j)}return null}function ut(D,R,N,j){for(var J=null,_t=null,nt=R,ot=R=0,pe=null;nt!==null&&ot<N.length;ot++){nt.index>ot?(pe=nt,nt=null):pe=nt.sibling;var Ct=I(D,nt,N[ot],j);if(Ct===null){nt===null&&(nt=pe);break}s&&nt&&Ct.alternate===null&&r(D,nt),R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct,nt=pe}if(ot===N.length)return l(D,nt),Rt&&vs(D,ot),J;if(nt===null){for(;ot<N.length;ot++)nt=F(D,N[ot],j),nt!==null&&(R=p(nt,R,ot),_t===null?J=nt:_t.sibling=nt,_t=nt);return Rt&&vs(D,ot),J}for(nt=u(nt);ot<N.length;ot++)pe=P(nt,D,ot,N[ot],j),pe!==null&&(s&&pe.alternate!==null&&nt.delete(pe.key===null?ot:pe.key),R=p(pe,R,ot),_t===null?J=pe:_t.sibling=pe,_t=pe);return s&&nt.forEach(function(qi){return r(D,qi)}),Rt&&vs(D,ot),J}function rt(D,R,N,j){if(N==null)throw Error(i(151));for(var J=null,_t=null,nt=R,ot=R=0,pe=null,Ct=N.next();nt!==null&&!Ct.done;ot++,Ct=N.next()){nt.index>ot?(pe=nt,nt=null):pe=nt.sibling;var qi=I(D,nt,Ct.value,j);if(qi===null){nt===null&&(nt=pe);break}s&&nt&&qi.alternate===null&&r(D,nt),R=p(qi,R,ot),_t===null?J=qi:_t.sibling=qi,_t=qi,nt=pe}if(Ct.done)return l(D,nt),Rt&&vs(D,ot),J;if(nt===null){for(;!Ct.done;ot++,Ct=N.next())Ct=F(D,Ct.value,j),Ct!==null&&(R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct);return Rt&&vs(D,ot),J}for(nt=u(nt);!Ct.done;ot++,Ct=N.next())Ct=P(nt,D,ot,Ct.value,j),Ct!==null&&(s&&Ct.alternate!==null&&nt.delete(Ct.key===null?ot:Ct.key),R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct);return s&&nt.forEach(function(SC){return r(D,SC)}),Rt&&vs(D,ot),J}function It(D,R,N,j){if(typeof N=="object"&&N!==null&&N.type===x&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case y:t:{for(var J=N.key;R!==null;){if(R.key===J){if(J=N.type,J===x){if(R.tag===7){l(D,R.sibling),j=d(R,N.props.children),j.return=D,D=j;break t}}else if(R.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&sy(J)===R.type){l(D,R.sibling),j=d(R,N.props),Qa(j,N),j.return=D,D=j;break t}l(D,R);break}else r(D,R);R=R.sibling}N.type===x?(j=_s(N.props.children,D.mode,j,N.key),j.return=D,D=j):(j=Vl(N.type,N.key,N.props,null,D.mode,j),Qa(j,N),j.return=D,D=j)}return v(D);case b:t:{for(J=N.key;R!==null;){if(R.key===J)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){l(D,R.sibling),j=d(R,N.children||[]),j.return=D,D=j;break t}else{l(D,R);break}else r(D,R);R=R.sibling}j=Kh(N,D.mode,j),j.return=D,D=j}return v(D);case $:return J=N._init,N=J(N._payload),It(D,R,N,j)}if(ft(N))return ut(D,R,N,j);if(st(N)){if(J=st(N),typeof J!="function")throw Error(i(150));return N=J.call(N),rt(D,R,N,j)}if(typeof N.then=="function")return It(D,R,ac(N),j);if(N.$$typeof===U)return It(D,R,Gl(D,N),j);oc(D,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(l(D,R.sibling),j=d(R,N),j.return=D,D=j):(l(D,R),j=Xh(N,D.mode,j),j.return=D,D=j),v(D)):l(D,R)}return function(D,R,N,j){try{Ka=0;var J=It(D,R,N,j);return Cr=null,J}catch(nt){if(nt===Ha||nt===Kl)throw nt;var _t=Ye(29,nt,null,D.mode);return _t.lanes=j,_t.return=D,_t}finally{}}}var Ar=ry(!0),ay=ry(!1),on=W(null),On=null;function Oi(s){var r=s.alternate;G(oe,oe.current&1),G(on,s),On===null&&(r===null||xr.current!==null||r.memoizedState!==null)&&(On=s)}function oy(s){if(s.tag===22){if(G(oe,oe.current),G(on,s),On===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(On=s)}}else Di()}function Di(){G(oe,oe.current),G(on,on.current)}function $n(s){K(on),On===s&&(On=null),K(oe)}var oe=W(0);function lc(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Mf(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:m({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Of={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Qe(),d=Ai(u);d.payload=r,l!=null&&(d.callback=l),r=Ri(s,d,u),r!==null&&($e(r,s,u),Fa(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Qe(),d=Ai(u);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=Ri(s,d,u),r!==null&&($e(r,s,u),Fa(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Qe(),u=Ai(l);u.tag=2,r!=null&&(u.callback=r),r=Ri(s,u,l),r!==null&&($e(r,s,l),Fa(r,s,l))}};function ly(s,r,l,u,d,p,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Na(l,u)||!Na(d,p):!0}function cy(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Of.enqueueReplaceState(r,r.state,null)}function Cs(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=m({},l));for(var d in s)l[d]===void 0&&(l[d]=s[d])}return l}var cc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function uy(s){cc(s)}function hy(s){console.error(s)}function fy(s){cc(s)}function uc(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function dy(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Df(s,r,l){return l=Ai(l),l.tag=3,l.payload={element:null},l.callback=function(){uc(s,r)},l}function gy(s){return s=Ai(s),s.tag=3,s}function py(s,r,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){dy(r,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){dy(r,l,u),typeof d!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function ST(s,r,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&za(r,l,d,!0),l=on.current,l!==null){switch(l.tag){case 13:return On===null?ed():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===af?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),id(s,u,d)),!1;case 22:return l.flags|=65536,u===af?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),id(s,u,d)),!1}throw Error(i(435,l.tag))}return id(s,u,d),ed(),!1}if(Rt)return r=on.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Zh&&(s=Error(i(422),{cause:u}),Pa(nn(s,l)))):(u!==Zh&&(r=Error(i(423),{cause:u}),Pa(nn(r,l))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=nn(u,l),d=Df(s.stateNode,u,d),cf(s,d),$t!==4&&($t=2)),!1;var p=Error(i(520),{cause:u});if(p=nn(p,l),io===null?io=[p]:io.push(p),$t!==4&&($t=2),r===null)return!0;u=nn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=d&-d,l.lanes|=s,s=Df(l.stateNode,u,s),cf(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zi===null||!zi.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=gy(d),py(d,s,l,u),cf(l,d),!1}l=l.return}while(l!==null);return!1}var my=Error(i(461)),de=!1;function ye(s,r,l,u){r.child=s===null?ay(r,null,l,u):Ar(r,s.child,l,u)}function _y(s,r,l,u,d){l=l.render;var p=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Es(r),u=gf(s,r,l,v,p,d),S=pf(),s!==null&&!de?(mf(s,r,d),Zn(s,r,d)):(Rt&&S&&Qh(r),r.flags|=1,ye(s,r,u,d),r.child)}function yy(s,r,l,u,d){if(s===null){var p=l.type;return typeof p=="function"&&!Gh(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,vy(s,r,p,u,d)):(s=Vl(l.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Bf(s,d)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(v,u)&&s.ref===r.ref)return Zn(s,r,d)}return r.flags|=1,s=qn(p,u),s.ref=r.ref,s.return=r,r.child=s}function vy(s,r,l,u,d){if(s!==null){var p=s.memoizedProps;if(Na(p,u)&&s.ref===r.ref)if(de=!1,r.pendingProps=u=p,Bf(s,d))(s.flags&131072)!==0&&(de=!0);else return r.lanes=s.lanes,Zn(s,r,d)}return Nf(s,r,l,u,d)}function by(s,r,l){var u=r.pendingProps,d=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(d=r.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return Sy(s,r,u,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xl(r,p!==null?p.cachePool:null),p!==null?v_(r,p):hf(),oy(r);else return r.lanes=r.childLanes=536870912,Sy(s,r,p!==null?p.baseLanes|l:l,l)}else p!==null?(Xl(r,p.cachePool),v_(r,p),Di(),r.memoizedState=null):(s!==null&&Xl(r,null),hf(),Di());return ye(s,r,d,l),r.child}function Sy(s,r,l,u){var d=rf();return d=d===null?null:{parent:ae._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},s!==null&&Xl(r,null),hf(),oy(r),s!==null&&za(s,r,u,!0),null}function hc(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Nf(s,r,l,u,d){return Es(r),l=gf(s,r,l,u,void 0,d),u=pf(),s!==null&&!de?(mf(s,r,d),Zn(s,r,d)):(Rt&&u&&Qh(r),r.flags|=1,ye(s,r,l,d),r.child)}function xy(s,r,l,u,d,p){return Es(r),r.updateQueue=null,l=S_(r,u,l,d),b_(s),u=pf(),s!==null&&!de?(mf(s,r,p),Zn(s,r,p)):(Rt&&u&&Qh(r),r.flags|=1,ye(s,r,l,p),r.child)}function Ey(s,r,l,u,d){if(Es(r),r.stateNode===null){var p=_r,v=l.contextType;typeof v=="object"&&v!==null&&(p=we(v)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Of,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},of(r),v=l.contextType,p.context=typeof v=="object"&&v!==null?we(v):_r,p.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Mf(r,l,v,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Of.enqueueReplaceState(p,p.state,null),Wa(r,u,p,d),Va(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,T=Cs(l,S);p.props=T;var k=p.context,H=l.contextType;v=_r,typeof H=="object"&&H!==null&&(v=we(H));var F=l.getDerivedStateFromProps;H=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||k!==v)&&cy(r,p,u,v),Ci=!1;var I=r.memoizedState;p.state=I,Wa(r,u,p,d),Va(),k=r.memoizedState,S||I!==k||Ci?(typeof F=="function"&&(Mf(r,l,F,u),k=r.memoizedState),(T=Ci||ly(r,l,T,u,I,k,v))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),p.props=u,p.state=k,p.context=v,u=T):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,lf(s,r),v=r.memoizedProps,H=Cs(l,v),p.props=H,F=r.pendingProps,I=p.context,k=l.contextType,T=_r,typeof k=="object"&&k!==null&&(T=we(k)),S=l.getDerivedStateFromProps,(k=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==F||I!==T)&&cy(r,p,u,T),Ci=!1,I=r.memoizedState,p.state=I,Wa(r,u,p,d),Va();var P=r.memoizedState;v!==F||I!==P||Ci||s!==null&&s.dependencies!==null&&Yl(s.dependencies)?(typeof S=="function"&&(Mf(r,l,S,u),P=r.memoizedState),(H=Ci||ly(r,l,H,u,I,P,T)||s!==null&&s.dependencies!==null&&Yl(s.dependencies))?(k||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,P,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,P,T)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=P),p.props=u,p.state=P,p.context=T,u=H):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&I===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,hc(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=Ar(r,s.child,null,d),r.child=Ar(r,null,l,d)):ye(s,r,l,d),r.memoizedState=p.state,s=r.child):s=Zn(s,r,d),s}function wy(s,r,l,u){return La(),r.flags|=256,ye(s,r,l,u),r.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(s){return{baseLanes:s,cachePool:h_()}}function Lf(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=ln),s}function Ty(s,r,l){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=s!==null&&s.memoizedState===null?!1:(oe.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,s===null){if(Rt){if(d?Oi(r):Di(),Rt){var S=Qt,T;if(T=S){t:{for(T=S,S=Mn;T.nodeType!==8;){if(!S){S=null;break t}if(T=bn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:ys!==null?{id:Yn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},T=Ye(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,Re=r,Qt=null,T=!0):T=!1}T||Ss(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return yd(S)?r.lanes=32:r.lanes=536870912,null;$n(r)}return S=u.children,u=u.fallback,d?(Di(),d=r.mode,S=fc({mode:"hidden",children:S},d),u=_s(u,d,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,d=r.child,d.memoizedState=If(l),d.childLanes=Lf(s,v,l),r.memoizedState=kf,u):(Oi(r),Pf(r,S))}if(T=s.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(p)r.flags&256?(Oi(r),r.flags&=-257,r=zf(s,r,l)):r.memoizedState!==null?(Di(),r.child=s.child,r.flags|=128,r=null):(Di(),d=u.fallback,S=r.mode,u=fc({mode:"visible",children:u.children},S),d=_s(d,S,l,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,Ar(r,s.child,null,l),u=r.child,u.memoizedState=If(l),u.childLanes=Lf(s,v,l),r.memoizedState=kf,r=d);else if(Oi(r),yd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var k=v.dgst;v=k,u=Error(i(419)),u.stack="",u.digest=v,Pa({value:u,source:null,stack:null}),r=zf(s,r,l)}else if(de||za(s,r,l,!1),v=(l&s.childLanes)!==0,de||v){if(v=Ht,v!==null&&(u=l&-l,u=(u&42)!==0?1:yh(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==T.retryLane))throw T.retryLane=u,mr(s,u),$e(v,s,u),my;S.data==="$?"||ed(),r=zf(s,r,l)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=T.treeContext,Qt=bn(S.nextSibling),Re=r,Rt=!0,bs=null,Mn=!1,s!==null&&(rn[an++]=Yn,rn[an++]=Gn,rn[an++]=ys,Yn=s.id,Gn=s.overflow,ys=r),r=Pf(r,u.children),r.flags|=4096);return r}return d?(Di(),d=u.fallback,S=r.mode,T=s.child,k=T.sibling,u=qn(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,k!==null?d=qn(k,d):(d=_s(d,S,l,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,S=s.child.memoizedState,S===null?S=If(l):(T=S.cachePool,T!==null?(k=ae._currentValue,T=T.parent!==k?{parent:k,pool:k}:T):T=h_(),S={baseLanes:S.baseLanes|l,cachePool:T}),d.memoizedState=S,d.childLanes=Lf(s,v,l),r.memoizedState=kf,u):(Oi(r),l=s.child,s=l.sibling,l=qn(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(v=r.deletions,v===null?(r.deletions=[s],r.flags|=16):v.push(s)),r.child=l,r.memoizedState=null,l)}function Pf(s,r){return r=fc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function fc(s,r){return s=Ye(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zf(s,r,l){return Ar(r,s.child,null,l),s=Pf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Cy(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),tf(s.return,r,l)}function Uf(s,r,l,u,d){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=d)}function Ay(s,r,l){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(ye(s,r,u.children,l),u=oe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cy(s,l,r);else if(s.tag===19)Cy(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(G(oe,u),d){case"forwards":for(l=r.child,d=null;l!==null;)s=l.alternate,s!==null&&lc(s)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),Uf(r,!1,d,l,p);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&lc(s)===null){r.child=d;break}s=d.sibling,d.sibling=l,l=d,d=s}Uf(r,!0,l,null,p);break;case"together":Uf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zn(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Pi|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(za(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=qn(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=qn(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Bf(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Yl(s)))}function xT(s,r,l){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),Ti(r,ae,s.memoizedState.cache),La();break;case 27:case 5:dh(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:Ti(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Oi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Ty(s,r,l):(Oi(r),s=Zn(s,r,l),s!==null?s.sibling:null);Oi(r);break;case 19:var d=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(za(s,r,l,!1),u=(l&r.childLanes)!==0),d){if(u)return Ay(s,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(oe,oe.current),u)break;return null;case 22:case 23:return r.lanes=0,by(s,r,l);case 24:Ti(r,ae,s.memoizedState.cache)}return Zn(s,r,l)}function Ry(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)de=!0;else{if(!Bf(s,l)&&(r.flags&128)===0)return de=!1,xT(s,r,l);de=(s.flags&131072)!==0}else de=!1,Rt&&(r.flags&1048576)!==0&&s_(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")Gh(u)?(s=Cs(u,s),r.tag=1,r=Ey(null,r,u,s,l)):(r.tag=0,r=Nf(null,r,u,s,l));else{if(u!=null){if(d=u.$$typeof,d===V){r.tag=11,r=_y(null,r,u,s,l);break t}else if(d===Q){r.tag=14,r=yy(null,r,u,s,l);break t}}throw r=Jt(u)||u,Error(i(306,r,""))}}return r;case 0:return Nf(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,d=Cs(u,r.pendingProps),Ey(s,r,u,d,l);case 3:t:{if(qt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,lf(s,r),Wa(r,u,null,l);var v=r.memoizedState;if(u=v.cache,Ti(r,ae,u),u!==p.cache&&ef(r,[ae],l,!0),Va(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=wy(s,r,u,l);break t}else if(u!==d){d=nn(Error(i(424)),r),Pa(d),r=wy(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Qt=bn(s.firstChild),Re=r,Rt=!0,bs=null,Mn=!0,l=ay(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(La(),u===d){r=Zn(s,r,l);break t}ye(s,r,u,l)}r=r.child}return r;case 26:return hc(s,r),s===null?(l=Nv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Rt||(l=r.type,s=r.pendingProps,u=Cc(it.current).createElement(l),u[Ee]=r,u[De]=s,be(u,l,s),fe(u),r.stateNode=u):r.memoizedState=Nv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return dh(r),s===null&&Rt&&(u=r.stateNode=Mv(r.type,r.pendingProps,it.current),Re=r,Mn=!0,d=Qt,Hi(r.type)?(vd=d,Qt=bn(u.firstChild)):Qt=d),ye(s,r,r.pendingProps.children,l),hc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Rt&&((d=u=Qt)&&(u=QT(u,r.type,r.pendingProps,Mn),u!==null?(r.stateNode=u,Re=r,Qt=bn(u.firstChild),Mn=!1,d=!0):d=!1),d||Ss(r)),dh(r),d=r.type,p=r.pendingProps,v=s!==null?s.memoizedProps:null,u=p.children,pd(d,p)?u=null:v!==null&&pd(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=gf(s,r,gT,null,null,l),fo._currentValue=d),hc(s,r),ye(s,r,u,l),r.child;case 6:return s===null&&Rt&&((s=l=Qt)&&(l=$T(l,r.pendingProps,Mn),l!==null?(r.stateNode=l,Re=r,Qt=null,s=!0):s=!1),s||Ss(r)),null;case 13:return Ty(s,r,l);case 4:return qt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ar(r,null,u,l):ye(s,r,u,l),r.child;case 11:return _y(s,r,r.type,r.pendingProps,l);case 7:return ye(s,r,r.pendingProps,l),r.child;case 8:return ye(s,r,r.pendingProps.children,l),r.child;case 12:return ye(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Ti(r,r.type,u.value),ye(s,r,u.children,l),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Es(r),d=we(d),u=u(d),r.flags|=1,ye(s,r,u,l),r.child;case 14:return yy(s,r,r.type,r.pendingProps,l);case 15:return vy(s,r,r.type,r.pendingProps,l);case 19:return Ay(s,r,l);case 31:return u=r.pendingProps,l=r.mode,u={mode:u.mode,children:u.children},s===null?(l=fc(u,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=qn(s.child,u),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return by(s,r,l);case 24:return Es(r),u=we(ae),s===null?(d=rf(),d===null&&(d=Ht,p=nf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),r.memoizedState={parent:u,cache:d},of(r),Ti(r,ae,d)):((s.lanes&l)!==0&&(lf(s,r),Wa(r,null,null,l),Va()),d=s.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ti(r,ae,u)):(u=p.cache,Ti(r,ae,u),u!==d.cache&&ef(r,[ae],l,!0))),ye(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Jn(s){s.flags|=4}function My(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zv(r)){if(r=on.current,r!==null&&((Et&4194048)===Et?On!==null:(Et&62914560)!==Et&&(Et&536870912)===0||r!==On))throw ja=af,f_;s.flags|=8192}}function dc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?om():536870912,s.lanes|=r,Dr|=r)}function $a(s,r){if(!Rt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function ET(s,r,l){var u=r.pendingProps;switch($h(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return Gt(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Kn(ae),Si(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ia(r)?Jn(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,o_())),Gt(r),null;case 26:return l=r.memoizedState,s===null?(Jn(r),l!==null?(Gt(r),My(r,l)):(Gt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(Jn(r),Gt(r),My(r,l)):(Gt(r),r.flags&=-16777217):(s.memoizedProps!==u&&Jn(r),Gt(r),r.flags&=-16777217),null;case 27:wl(r),l=it.current;var d=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}s=et.current,Ia(r)?r_(r):(s=Mv(d,u,l),r.stateNode=s,Jn(r))}return Gt(r),null;case 5:if(wl(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}if(s=et.current,Ia(r))r_(r);else{switch(d=Cc(it.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}s[Ee]=r,s[De]=u;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=s;t:switch(be(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Jn(r)}}return Gt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=it.current,Ia(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,d=Re,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Ee]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||xv(s.nodeValue,l)),s||Ss(r)}else s=Cc(s).createTextNode(u),s[Ee]=r,r.stateNode=s}return Gt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Ia(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ee]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),d=!1}else d=o_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?($n(r),r):($n(r),null)}if($n(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),dc(r,r.updateQueue),Gt(r),null;case 4:return Si(),s===null&&ud(r.stateNode.containerInfo),Gt(r),null;case 10:return Kn(r.type),Gt(r),null;case 19:if(K(oe),d=r.memoizedState,d===null)return Gt(r),null;if(u=(r.flags&128)!==0,p=d.rendering,p===null)if(u)$a(d,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=lc(s),p!==null){for(r.flags|=128,$a(d,!1),s=p.updateQueue,r.updateQueue=s,dc(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)i_(l,s),l=l.sibling;return G(oe,oe.current&1|2),r.child}s=s.sibling}d.tail!==null&&Rn()>mc&&(r.flags|=128,u=!0,$a(d,!1),r.lanes=4194304)}else{if(!u)if(s=lc(p),s!==null){if(r.flags|=128,u=!0,s=s.updateQueue,r.updateQueue=s,dc(r,s),$a(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Rt)return Gt(r),null}else 2*Rn()-d.renderingStartTime>mc&&l!==536870912&&(r.flags|=128,u=!0,$a(d,!1),r.lanes=4194304);d.isBackwards?(p.sibling=r.child,r.child=p):(s=d.last,s!==null?s.sibling=p:r.child=p,d.last=p)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Rn(),r.sibling=null,s=oe.current,G(oe,u?s&1|2:s&1),r):(Gt(r),null);case 22:case 23:return $n(r),ff(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),l=r.updateQueue,l!==null&&dc(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&K(ws),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kn(ae),Gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function wT(s,r){switch($h(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Kn(ae),Si(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return wl(r),null;case 13:if($n(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));La()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return K(oe),null;case 4:return Si(),null;case 10:return Kn(r.type),null;case 22:case 23:return $n(r),ff(),s!==null&&K(ws),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Kn(ae),null;case 25:return null;default:return null}}function Oy(s,r){switch($h(r),r.tag){case 3:Kn(ae),Si();break;case 26:case 27:case 5:wl(r);break;case 4:Si();break;case 13:$n(r);break;case 19:K(oe);break;case 10:Kn(r.type);break;case 22:case 23:$n(r),ff(),s!==null&&K(ws);break;case 24:Kn(ae)}}function Za(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&s)===s){u=void 0;var p=l.create,v=l.inst;u=p(),v.destroy=u}l=l.next}while(l!==d)}}catch(S){zt(r,r.return,S)}}function Ni(s,r,l){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=r;var T=l,k=S;try{k()}catch(H){zt(d,T,H)}}}u=u.next}while(u!==p)}}catch(H){zt(r,r.return,H)}}function Dy(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{y_(r,l)}catch(u){zt(s,s.return,u)}}}function Ny(s,r,l){l.props=Cs(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){zt(s,r,u)}}function Ja(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(d){zt(s,r,d)}}function Dn(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){zt(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){zt(s,r,d)}else l.current=null}function ky(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){zt(s,s.return,d)}}function Hf(s,r,l){try{var u=s.stateNode;qT(u,s.type,l,r),u[De]=r}catch(d){zt(s,s.return,d)}}function Iy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Hi(s.type)||s.tag===4}function jf(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Iy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Hi(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ff(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Tc));else if(u!==4&&(u===27&&Hi(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Ff(s,r,l),s=s.sibling;s!==null;)Ff(s,r,l),s=s.sibling}function gc(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&Hi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(gc(s,r,l),s=s.sibling;s!==null;)gc(s,r,l),s=s.sibling}function Ly(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);be(r,u,l),r[Ee]=s,r[De]=l}catch(p){zt(s,s.return,p)}}var ti=!1,ee=!1,Vf=!1,Py=typeof WeakSet=="function"?WeakSet:Set,ge=null;function TT(s,r){if(s=s.containerInfo,dd=Nc,s=Gm(s),Hh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var v=0,S=-1,T=-1,k=0,H=0,F=s,I=null;e:for(;;){for(var P;F!==l||d!==0&&F.nodeType!==3||(S=v+d),F!==p||u!==0&&F.nodeType!==3||(T=v+u),F.nodeType===3&&(v+=F.nodeValue.length),(P=F.firstChild)!==null;)I=F,F=P;for(;;){if(F===s)break e;if(I===l&&++k===d&&(S=v),I===p&&++H===u&&(T=v),(P=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=P}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(gd={focusedElem:s,selectionRange:l},Nc=!1,ge=r;ge!==null;)if(r=ge,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,ge=s;else for(;ge!==null;){switch(r=ge,p=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,d=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ut=Cs(l.type,d,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(ut,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(rt){zt(l,l.return,rt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)_d(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_d(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,ge=s;break}ge=r.return}}function zy(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ki(s,l),u&4&&Za(5,l);break;case 1:if(ki(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(v){zt(l,l.return,v)}else{var d=Cs(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(v){zt(l,l.return,v)}}u&64&&Dy(l),u&512&&Ja(l,l.return);break;case 3:if(ki(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{y_(s,r)}catch(v){zt(l,l.return,v)}}break;case 27:r===null&&u&4&&Ly(l);case 26:case 5:ki(s,l),r===null&&u&4&&ky(l),u&512&&Ja(l,l.return);break;case 12:ki(s,l);break;case 13:ki(s,l),u&4&&Hy(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=IT.bind(null,l),ZT(s,l))));break;case 22:if(u=l.memoizedState!==null||ti,!u){r=r!==null&&r.memoizedState!==null||ee,d=ti;var p=ee;ti=u,(ee=r)&&!p?Ii(s,l,(l.subtreeFlags&8772)!==0):ki(s,l),ti=d,ee=p}break;case 30:break;default:ki(s,l)}}function Uy(s){var r=s.alternate;r!==null&&(s.alternate=null,Uy(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Sh(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Ie=!1;function ei(s,r,l){for(l=l.child;l!==null;)By(s,r,l),l=l.sibling}function By(s,r,l){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(ba,l)}catch{}switch(l.tag){case 26:ee||Dn(l,r),ei(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ee||Dn(l,r);var u=Yt,d=Ie;Hi(l.type)&&(Yt=l.stateNode,Ie=!1),ei(s,r,l),lo(l.stateNode),Yt=u,Ie=d;break;case 5:ee||Dn(l,r);case 6:if(u=Yt,d=Ie,Yt=null,ei(s,r,l),Yt=u,Ie=d,Yt!==null)if(Ie)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(p){zt(l,r,p)}else try{Yt.removeChild(l.stateNode)}catch(p){zt(l,r,p)}break;case 18:Yt!==null&&(Ie?(s=Yt,Av(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),_o(s)):Av(Yt,l.stateNode));break;case 4:u=Yt,d=Ie,Yt=l.stateNode.containerInfo,Ie=!0,ei(s,r,l),Yt=u,Ie=d;break;case 0:case 11:case 14:case 15:ee||Ni(2,l,r),ee||Ni(4,l,r),ei(s,r,l);break;case 1:ee||(Dn(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ny(l,r,u)),ei(s,r,l);break;case 21:ei(s,r,l);break;case 22:ee=(u=ee)||l.memoizedState!==null,ei(s,r,l),ee=u;break;default:ei(s,r,l)}}function Hy(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_o(s)}catch(l){zt(r,r.return,l)}}function CT(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Py),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Py),r;default:throw Error(i(435,s.tag))}}function Wf(s,r){var l=CT(s);r.forEach(function(u){var d=LT.bind(null,s,u);l.has(u)||(l.add(u),u.then(d,d))})}function Ge(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],p=s,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(Hi(S.type)){Yt=S.stateNode,Ie=!1;break t}break;case 5:Yt=S.stateNode,Ie=!1;break t;case 3:case 4:Yt=S.stateNode.containerInfo,Ie=!0;break t}S=S.return}if(Yt===null)throw Error(i(160));By(p,v,d),Yt=null,Ie=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)jy(r,s),r=r.sibling}var vn=null;function jy(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ge(r,s),Xe(s),u&4&&(Ni(3,s,s.return),Za(3,s),Ni(5,s,s.return));break;case 1:Ge(r,s),Xe(s),u&512&&(ee||l===null||Dn(l,l.return)),u&64&&ti&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=vn;if(Ge(r,s),Xe(s),u&512&&(ee||l===null||Dn(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ea]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),be(p,u,l),p[Ee]=s,fe(p),u=p;break t;case"link":var v=Lv("link","href",d).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(p=v[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}p=d.createElement(u),be(p,u,l),d.head.appendChild(p);break;case"meta":if(v=Lv("meta","content",d).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(p=v[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}p=d.createElement(u),be(p,u,l),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ee]=s,fe(p),u=p}s.stateNode=u}else Pv(d,s.type,s.stateNode);else s.stateNode=Iv(d,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Pv(d,s.type,s.stateNode):Iv(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Hf(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ge(r,s),Xe(s),u&512&&(ee||l===null||Dn(l,l.return)),l!==null&&u&4&&Hf(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ge(r,s),Xe(s),u&512&&(ee||l===null||Dn(l,l.return)),s.flags&32){d=s.stateNode;try{cr(d,"")}catch(P){zt(s,s.return,P)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,Hf(s,d,l!==null?l.memoizedProps:d)),u&1024&&(Vf=!0);break;case 6:if(Ge(r,s),Xe(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(P){zt(s,s.return,P)}}break;case 3:if(Mc=null,d=vn,vn=Ac(r.containerInfo),Ge(r,s),vn=d,Xe(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{_o(r.containerInfo)}catch(P){zt(s,s.return,P)}Vf&&(Vf=!1,Fy(s));break;case 4:u=vn,vn=Ac(s.stateNode.containerInfo),Ge(r,s),Xe(s),vn=u;break;case 12:Ge(r,s),Xe(s);break;case 13:Ge(r,s),Xe(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qf=Rn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Wf(s,u)));break;case 22:d=s.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,k=ti,H=ee;if(ti=k||d,ee=H||T,Ge(r,s),ee=H,ti=k,Xe(s),u&8192)t:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||T||ti||ee||As(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){T=l=r;try{if(p=T.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=T.stateNode;var F=T.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(P){zt(T,T.return,P)}}}else if(r.tag===6){if(l===null){T=r;try{T.stateNode.nodeValue=d?"":T.memoizedProps}catch(P){zt(T,T.return,P)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Wf(s,l))));break;case 19:Ge(r,s),Xe(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Wf(s,u)));break;case 30:break;case 21:break;default:Ge(r,s),Xe(s)}}function Xe(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(Iy(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,p=jf(s);gc(s,p,d);break;case 5:var v=l.stateNode;l.flags&32&&(cr(v,""),l.flags&=-33);var S=jf(s);gc(s,S,v);break;case 3:case 4:var T=l.stateNode.containerInfo,k=jf(s);Ff(s,k,T);break;default:throw Error(i(161))}}catch(H){zt(s,s.return,H)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Fy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Fy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ki(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(s,r.alternate,r),r=r.sibling}function As(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ni(4,r,r.return),As(r);break;case 1:Dn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ny(r,r.return,l),As(r);break;case 27:lo(r.stateNode);case 26:case 5:Dn(r,r.return),As(r);break;case 22:r.memoizedState===null&&As(r);break;case 30:As(r);break;default:As(r)}s=s.sibling}}function Ii(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ii(d,p,l),Za(4,p);break;case 1:if(Ii(d,p,l),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(k){zt(u,u.return,k)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var T=d.shared.hiddenCallbacks;if(T!==null)for(d.shared.hiddenCallbacks=null,d=0;d<T.length;d++)__(T[d],S)}catch(k){zt(u,u.return,k)}}l&&v&64&&Dy(p),Ja(p,p.return);break;case 27:Ly(p);case 26:case 5:Ii(d,p,l),l&&u===null&&v&4&&ky(p),Ja(p,p.return);break;case 12:Ii(d,p,l);break;case 13:Ii(d,p,l),l&&v&4&&Hy(d,p);break;case 22:p.memoizedState===null&&Ii(d,p,l),Ja(p,p.return);break;case 30:break;default:Ii(d,p,l)}r=r.sibling}}function qf(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ua(l))}function Yf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ua(s))}function Nn(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vy(s,r,l,u),r=r.sibling}function Vy(s,r,l,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Nn(s,r,l,u),d&2048&&Za(9,r);break;case 1:Nn(s,r,l,u);break;case 3:Nn(s,r,l,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ua(s)));break;case 12:if(d&2048){Nn(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,v=p.id,S=p.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){zt(r,r.return,T)}}else Nn(s,r,l,u);break;case 13:Nn(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,v=r.alternate,r.memoizedState!==null?p._visibility&2?Nn(s,r,l,u):to(s,r):p._visibility&2?Nn(s,r,l,u):(p._visibility|=2,Rr(s,r,l,u,(r.subtreeFlags&10256)!==0)),d&2048&&qf(v,r);break;case 24:Nn(s,r,l,u),d&2048&&Yf(r.alternate,r);break;default:Nn(s,r,l,u)}}function Rr(s,r,l,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=s,v=r,S=l,T=u,k=v.flags;switch(v.tag){case 0:case 11:case 15:Rr(p,v,S,T,d),Za(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?Rr(p,v,S,T,d):to(p,v):(H._visibility|=2,Rr(p,v,S,T,d)),d&&k&2048&&qf(v.alternate,v);break;case 24:Rr(p,v,S,T,d),d&&k&2048&&Yf(v.alternate,v);break;default:Rr(p,v,S,T,d)}r=r.sibling}}function to(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,d=u.flags;switch(u.tag){case 22:to(l,u),d&2048&&qf(u.alternate,u);break;case 24:to(l,u),d&2048&&Yf(u.alternate,u);break;default:to(l,u)}r=r.sibling}}var eo=8192;function Mr(s){if(s.subtreeFlags&eo)for(s=s.child;s!==null;)Wy(s),s=s.sibling}function Wy(s){switch(s.tag){case 26:Mr(s),s.flags&eo&&s.memoizedState!==null&&hC(vn,s.memoizedState,s.memoizedProps);break;case 5:Mr(s);break;case 3:case 4:var r=vn;vn=Ac(s.stateNode.containerInfo),Mr(s),vn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=eo,eo=16777216,Mr(s),eo=r):Mr(s));break;default:Mr(s)}}function qy(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function no(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];ge=u,Gy(u,s)}qy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yy(s),s=s.sibling}function Yy(s){switch(s.tag){case 0:case 11:case 15:no(s),s.flags&2048&&Ni(9,s,s.return);break;case 3:no(s);break;case 12:no(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,pc(s)):no(s);break;default:no(s)}}function pc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];ge=u,Gy(u,s)}qy(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ni(8,r,r.return),pc(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,pc(r));break;default:pc(r)}s=s.sibling}}function Gy(s,r){for(;ge!==null;){var l=ge;switch(l.tag){case 0:case 11:case 15:Ni(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ua(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ge=u;else t:for(l=s;ge!==null;){u=ge;var d=u.sibling,p=u.return;if(Uy(u),u===l){ge=null;break t}if(d!==null){d.return=p,ge=d;break t}ge=p}}}var AT={getCacheForType:function(s){var r=we(ae),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},RT=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Ht=null,bt=null,Et=0,Ot=0,Ke=null,Li=!1,Or=!1,Gf=!1,ni=0,$t=0,Pi=0,Rs=0,Xf=0,ln=0,Dr=0,io=null,Le=null,Kf=!1,Qf=0,mc=1/0,_c=null,zi=null,ve=0,Ui=null,Nr=null,kr=0,$f=0,Zf=null,Xy=null,so=0,Jf=null;function Qe(){if((Mt&2)!==0&&Et!==0)return Et&-Et;if(z.T!==null){var s=br;return s!==0?s:ad()}return um()}function Ky(){ln===0&&(ln=(Et&536870912)===0||Rt?am():536870912);var s=on.current;return s!==null&&(s.flags|=32),ln}function $e(s,r,l){(s===Ht&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)&&(Ir(s,0),Bi(s,Et,ln,!1)),xa(s,l),((Mt&2)===0||s!==Ht)&&(s===Ht&&((Mt&2)===0&&(Rs|=l),$t===4&&Bi(s,Et,ln,!1)),kn(s))}function Qy(s,r,l){if((Mt&6)!==0)throw Error(i(327));var u=!l&&(r&124)===0&&(r&s.expiredLanes)===0||Sa(s,r),d=u?DT(s,r):nd(s,r,!0),p=u;do{if(d===0){Or&&!u&&Bi(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!MT(l)){d=nd(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=s;d=io;var T=S.current.memoizedState.isDehydrated;if(T&&(Ir(S,v).flags|=256),v=nd(S,v,!1),v!==2){if(Gf&&!T){S.errorRecoveryDisabledLanes|=p,Rs|=p,d=4;break t}p=Le,Le=d,p!==null&&(Le===null?Le=p:Le.push.apply(Le,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){Ir(s,0),Bi(s,r,0,!0);break}t:{switch(u=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Bi(u,r,ln,!Li);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Qf+300-Rn(),10<d)){if(Bi(u,r,ln,!Li),Rl(u,0,!0)!==0)break t;u.timeoutHandle=Tv($y.bind(null,u,l,Le,_c,Kf,r,ln,Rs,Dr,Li,p,2,-0,0),d);break t}$y(u,l,Le,_c,Kf,r,ln,Rs,Dr,Li,p,0,-0,0)}}break}while(!0);kn(s)}function $y(s,r,l,u,d,p,v,S,T,k,H,F,I,P){if(s.timeoutHandle=-1,F=r.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:uC},Wy(r),F=fC(),F!==null)){s.cancelPendingCommit=F(sv.bind(null,s,r,p,l,u,d,v,S,T,H,1,I,P)),Bi(s,p,v,!k);return}sv(s,r,p,l,u,d,v,S,T)}function MT(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],p=d.getSnapshot;d=d.value;try{if(!qe(p(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bi(s,r,l,u){r&=~Xf,r&=~Rs,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var p=31-We(d),v=1<<p;u[p]=-1,d&=~v}l!==0&&lm(s,l,r)}function yc(){return(Mt&6)===0?(ro(0),!1):!0}function td(){if(bt!==null){if(Ot===0)var s=bt.return;else s=bt,Xn=xs=null,_f(s),Cr=null,Ka=0,s=bt;for(;s!==null;)Oy(s.alternate,s),s=s.return;bt=null}}function Ir(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,GT(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),td(),Ht=s,bt=l=qn(s.current,null),Et=r,Ot=0,Ke=null,Li=!1,Or=Sa(s,r),Gf=!1,Dr=ln=Xf=Rs=Pi=$t=0,Le=io=null,Kf=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-We(u),p=1<<d;r|=s[d],u&=~p}return ni=r,Hl(),l}function Zy(s,r){pt=null,z.H=rc,r===Ha||r===Kl?(r=p_(),Ot=3):r===f_?(r=p_(),Ot=4):Ot=r===my?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ke=r,bt===null&&($t=1,uc(s,nn(r,s.current)))}function Jy(){var s=z.H;return z.H=rc,s===null?rc:s}function tv(){var s=z.A;return z.A=AT,s}function ed(){$t=4,Li||(Et&4194048)!==Et&&on.current!==null||(Or=!0),(Pi&134217727)===0&&(Rs&134217727)===0||Ht===null||Bi(Ht,Et,ln,!1)}function nd(s,r,l){var u=Mt;Mt|=2;var d=Jy(),p=tv();(Ht!==s||Et!==r)&&(_c=null,Ir(s,r)),r=!1;var v=$t;t:do try{if(Ot!==0&&bt!==null){var S=bt,T=Ke;switch(Ot){case 8:td(),v=6;break t;case 3:case 2:case 9:case 6:on.current===null&&(r=!0);var k=Ot;if(Ot=0,Ke=null,Lr(s,S,T,k),l&&Or){v=0;break t}break;default:k=Ot,Ot=0,Ke=null,Lr(s,S,T,k)}}OT(),v=$t;break}catch(H){Zy(s,H)}while(!0);return r&&s.shellSuspendCounter++,Xn=xs=null,Mt=u,z.H=d,z.A=p,bt===null&&(Ht=null,Et=0,Hl()),v}function OT(){for(;bt!==null;)ev(bt)}function DT(s,r){var l=Mt;Mt|=2;var u=Jy(),d=tv();Ht!==s||Et!==r?(_c=null,mc=Rn()+500,Ir(s,r)):Or=Sa(s,r);t:do try{if(Ot!==0&&bt!==null){r=bt;var p=Ke;e:switch(Ot){case 1:Ot=0,Ke=null,Lr(s,r,p,1);break;case 2:case 9:if(d_(p)){Ot=0,Ke=null,nv(r);break}r=function(){Ot!==2&&Ot!==9||Ht!==s||(Ot=7),kn(s)},p.then(r,r);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:d_(p)?(Ot=0,Ke=null,nv(r)):(Ot=0,Ke=null,Lr(s,r,p,7));break;case 5:var v=null;switch(bt.tag){case 26:v=bt.memoizedState;case 5:case 27:var S=bt;if(!v||zv(v)){Ot=0,Ke=null;var T=S.sibling;if(T!==null)bt=T;else{var k=S.return;k!==null?(bt=k,vc(k)):bt=null}break e}}Ot=0,Ke=null,Lr(s,r,p,5);break;case 6:Ot=0,Ke=null,Lr(s,r,p,6);break;case 8:td(),$t=6;break t;default:throw Error(i(462))}}NT();break}catch(H){Zy(s,H)}while(!0);return Xn=xs=null,z.H=u,z.A=d,Mt=l,bt!==null?0:(Ht=null,Et=0,Hl(),$t)}function NT(){for(;bt!==null&&!tw();)ev(bt)}function ev(s){var r=Ry(s.alternate,s,ni);s.memoizedProps=s.pendingProps,r===null?vc(s):bt=r}function nv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=xy(l,r,r.pendingProps,r.type,void 0,Et);break;case 11:r=xy(l,r,r.pendingProps,r.type.render,r.ref,Et);break;case 5:_f(r);default:Oy(l,r),r=bt=i_(r,ni),r=Ry(l,r,ni)}s.memoizedProps=s.pendingProps,r===null?vc(s):bt=r}function Lr(s,r,l,u){Xn=xs=null,_f(r),Cr=null,Ka=0;var d=r.return;try{if(ST(s,d,r,l,Et)){$t=1,uc(s,nn(l,s.current)),bt=null;return}}catch(p){if(d!==null)throw bt=d,p;$t=1,uc(s,nn(l,s.current)),bt=null;return}r.flags&32768?(Rt||u===1?s=!0:Or||(Et&536870912)!==0?s=!1:(Li=s=!0,(u===2||u===9||u===3||u===6)&&(u=on.current,u!==null&&u.tag===13&&(u.flags|=16384))),iv(r,s)):vc(r)}function vc(s){var r=s;do{if((r.flags&32768)!==0){iv(r,Li);return}s=r.return;var l=ET(r.alternate,r,ni);if(l!==null){bt=l;return}if(r=r.sibling,r!==null){bt=r;return}bt=r=s}while(r!==null);$t===0&&($t=5)}function iv(s,r){do{var l=wT(s.alternate,s);if(l!==null){l.flags&=32767,bt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){bt=s;return}bt=s=l}while(s!==null);$t=6,bt=null}function sv(s,r,l,u,d,p,v,S,T){s.cancelPendingCommit=null;do bc();while(ve!==0);if((Mt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=qh,uw(s,l,p,v,S,T),s===Ht&&(bt=Ht=null,Et=0),Nr=r,Ui=s,kr=l,$f=p,Zf=d,Xy=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,PT(Tl,function(){return cv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=q.p,q.p=2,v=Mt,Mt|=4;try{TT(s,r,l)}finally{Mt=v,q.p=d,z.T=u}}ve=1,rv(),av(),ov()}}function rv(){if(ve===1){ve=0;var s=Ui,r=Nr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=q.p;q.p=2;var d=Mt;Mt|=4;try{jy(r,s);var p=gd,v=Gm(s.containerInfo),S=p.focusedElem,T=p.selectionRange;if(v!==S&&S&&S.ownerDocument&&Ym(S.ownerDocument.documentElement,S)){if(T!==null&&Hh(S)){var k=T.start,H=T.end;if(H===void 0&&(H=k),"selectionStart"in S)S.selectionStart=k,S.selectionEnd=Math.min(H,S.value.length);else{var F=S.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var P=I.getSelection(),ut=S.textContent.length,rt=Math.min(T.start,ut),It=T.end===void 0?rt:Math.min(T.end,ut);!P.extend&&rt>It&&(v=It,It=rt,rt=v);var D=qm(S,rt),R=qm(S,It);if(D&&R&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var N=F.createRange();N.setStart(D.node,D.offset),P.removeAllRanges(),rt>It?(P.addRange(N),P.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),P.addRange(N))}}}}for(F=[],P=S;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var j=F[S];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Nc=!!dd,gd=dd=null}finally{Mt=d,q.p=u,z.T=l}}s.current=r,ve=2}}function av(){if(ve===2){ve=0;var s=Ui,r=Nr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=q.p;q.p=2;var d=Mt;Mt|=4;try{zy(s,r.alternate,r)}finally{Mt=d,q.p=u,z.T=l}}ve=3}}function ov(){if(ve===4||ve===3){ve=0,ew();var s=Ui,r=Nr,l=kr,u=Xy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ve=5:(ve=0,Nr=Ui=null,lv(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(zi=null),vh(l),r=r.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(ba,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=z.T,d=q.p,q.p=2,z.T=null;try{for(var p=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];p(S.value,{componentStack:S.stack})}}finally{z.T=r,q.p=d}}(kr&3)!==0&&bc(),kn(s),d=s.pendingLanes,(l&4194090)!==0&&(d&42)!==0?s===Jf?so++:(so=0,Jf=s):so=0,ro(0)}}function lv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ua(r)))}function bc(s){return rv(),av(),ov(),cv()}function cv(){if(ve!==5)return!1;var s=Ui,r=$f;$f=0;var l=vh(kr),u=z.T,d=q.p;try{q.p=32>l?32:l,z.T=null,l=Zf,Zf=null;var p=Ui,v=kr;if(ve=0,Nr=Ui=null,kr=0,(Mt&6)!==0)throw Error(i(331));var S=Mt;if(Mt|=4,Yy(p.current),Vy(p,p.current,v,l),Mt=S,ro(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(ba,p)}catch{}return!0}finally{q.p=d,z.T=u,lv(s,r)}}function uv(s,r,l){r=nn(l,r),r=Df(s.stateNode,r,2),s=Ri(s,r,2),s!==null&&(xa(s,2),kn(s))}function zt(s,r,l){if(s.tag===3)uv(s,s,l);else for(;r!==null;){if(r.tag===3){uv(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zi===null||!zi.has(u))){s=nn(l,s),l=gy(2),u=Ri(r,l,2),u!==null&&(py(l,u,r,s),xa(u,2),kn(u));break}}r=r.return}}function id(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new RT;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(l)||(Gf=!0,d.add(l),s=kT.bind(null,s,r,l),r.then(s,s))}function kT(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ht===s&&(Et&l)===l&&($t===4||$t===3&&(Et&62914560)===Et&&300>Rn()-Qf?(Mt&2)===0&&Ir(s,0):Xf|=l,Dr===Et&&(Dr=0)),kn(s)}function hv(s,r){r===0&&(r=om()),s=mr(s,r),s!==null&&(xa(s,r),kn(s))}function IT(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),hv(s,l)}function LT(s,r){var l=0;switch(s.tag){case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),hv(s,l)}function PT(s,r){return ph(s,r)}var Sc=null,Pr=null,sd=!1,xc=!1,rd=!1,Ms=0;function kn(s){s!==Pr&&s.next===null&&(Pr===null?Sc=Pr=s:Pr=Pr.next=s),xc=!0,sd||(sd=!0,UT())}function ro(s,r){if(!rd&&xc){rd=!0;do for(var l=!1,u=Sc;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var v=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-We(42|s)+1)-1,p&=d&~(v&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,pv(u,p))}else p=Et,p=Rl(u,u===Ht?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Sa(u,p)||(l=!0,pv(u,p));u=u.next}while(l);rd=!1}}function zT(){fv()}function fv(){xc=sd=!1;var s=0;Ms!==0&&(YT()&&(s=Ms),Ms=0);for(var r=Rn(),l=null,u=Sc;u!==null;){var d=u.next,p=dv(u,r);p===0?(u.next=null,l===null?Sc=d:l.next=d,d===null&&(Pr=l)):(l=u,(s!==0||(p&3)!==0)&&(xc=!0)),u=d}ro(s)}function dv(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var v=31-We(p),S=1<<v,T=d[v];T===-1?((S&l)===0||(S&u)!==0)&&(d[v]=cw(S,r)):T<=r&&(s.expiredLanes|=S),p&=~S}if(r=Ht,l=Et,l=Rl(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&mh(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Sa(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&mh(u),vh(l)){case 2:case 8:l=sm;break;case 32:l=Tl;break;case 268435456:l=rm;break;default:l=Tl}return u=gv.bind(null,s),l=ph(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&mh(u),s.callbackPriority=2,s.callbackNode=null,2}function gv(s,r){if(ve!==0&&ve!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(bc()&&s.callbackNode!==l)return null;var u=Et;return u=Rl(s,s===Ht?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Qy(s,u,r),dv(s,Rn()),s.callbackNode!=null&&s.callbackNode===l?gv.bind(null,s):null)}function pv(s,r){if(bc())return null;Qy(s,r,!0)}function UT(){XT(function(){(Mt&6)!==0?ph(im,zT):fv()})}function ad(){return Ms===0&&(Ms=am()),Ms}function mv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:kl(""+s)}function _v(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function BT(s,r,l,u,d){if(r==="submit"&&l&&l.stateNode===d){var p=mv((d[De]||null).action),v=u.submitter;v&&(r=(r=v[De]||null)?mv(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var S=new zl("action","action",null,u,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ms!==0){var T=v?_v(d,v):new FormData(d);Cf(l,{pending:!0,data:T,method:d.method,action:p},null,T)}}else typeof p=="function"&&(S.preventDefault(),T=v?_v(d,v):new FormData(d),Cf(l,{pending:!0,data:T,method:d.method,action:p},p,T))},currentTarget:d}]})}}for(var od=0;od<Wh.length;od++){var ld=Wh[od],HT=ld.toLowerCase(),jT=ld[0].toUpperCase()+ld.slice(1);yn(HT,"on"+jT)}yn(Qm,"onAnimationEnd"),yn($m,"onAnimationIteration"),yn(Zm,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(sT,"onTransitionRun"),yn(rT,"onTransitionStart"),yn(aT,"onTransitionCancel"),yn(Jm,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function yv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],d=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],T=S.instance,k=S.currentTarget;if(S=S.listener,T!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=k;try{p(d)}catch(H){cc(H)}d.currentTarget=null,p=T}else for(v=0;v<u.length;v++){if(S=u[v],T=S.instance,k=S.currentTarget,S=S.listener,T!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=k;try{p(d)}catch(H){cc(H)}d.currentTarget=null,p=T}}}}function St(s,r){var l=r[bh];l===void 0&&(l=r[bh]=new Set);var u=s+"__bubble";l.has(u)||(vv(r,s,2,!1),l.add(u))}function cd(s,r,l){var u=0;r&&(u|=4),vv(l,s,u,r)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function ud(s){if(!s[Ec]){s[Ec]=!0,fm.forEach(function(l){l!=="selectionchange"&&(FT.has(l)||cd(l,!1,s),cd(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ec]||(r[Ec]=!0,cd("selectionchange",!1,r))}}function vv(s,r,l,u){switch(Vv(r)){case 2:var d=pC;break;case 8:d=mC;break;default:d=wd}l=d.bind(null,r,l,s),d=void 0,!Dh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,l,{capture:!0,passive:d}):s.addEventListener(r,l,!0):d!==void 0?s.addEventListener(r,l,{passive:d}):s.addEventListener(r,l,!1)}function hd(s,r,l,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=u.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=ir(S),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){u=p=v;continue t}S=S.parentNode}}u=u.return}Cm(function(){var k=p,H=Mh(l),F=[];t:{var I=t_.get(s);if(I!==void 0){var P=zl,ut=s;switch(s){case"keypress":if(Ll(l)===0)break t;case"keydown":case"keyup":P=Pw;break;case"focusin":ut="focus",P=Lh;break;case"focusout":ut="blur",P=Lh;break;case"beforeblur":case"afterblur":P=Lh;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Bw;break;case Qm:case $m:case Zm:P=Aw;break;case Jm:P=jw;break;case"scroll":case"scrollend":P=xw;break;case"wheel":P=Vw;break;case"copy":case"cut":case"paste":P=Mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Dm;break;case"toggle":case"beforetoggle":P=qw}var rt=(r&4)!==0,It=!rt&&(s==="scroll"||s==="scrollend"),D=rt?I!==null?I+"Capture":null:I;rt=[];for(var R=k,N;R!==null;){var j=R;if(N=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||N===null||D===null||(j=Ta(R,D),j!=null&&rt.push(oo(R,j,N))),It)break;R=R.return}0<rt.length&&(I=new P(I,ut,null,l,H),F.push({event:I,listeners:rt}))}}if((r&7)===0){t:{if(I=s==="mouseover"||s==="pointerover",P=s==="mouseout"||s==="pointerout",I&&l!==Rh&&(ut=l.relatedTarget||l.fromElement)&&(ir(ut)||ut[nr]))break t;if((P||I)&&(I=H.window===H?H:(I=H.ownerDocument)?I.defaultView||I.parentWindow:window,P?(ut=l.relatedTarget||l.toElement,P=k,ut=ut?ir(ut):null,ut!==null&&(It=o(ut),rt=ut.tag,ut!==It||rt!==5&&rt!==27&&rt!==6)&&(ut=null)):(P=null,ut=k),P!==ut)){if(rt=Mm,j="onMouseLeave",D="onMouseEnter",R="mouse",(s==="pointerout"||s==="pointerover")&&(rt=Dm,j="onPointerLeave",D="onPointerEnter",R="pointer"),It=P==null?I:wa(P),N=ut==null?I:wa(ut),I=new rt(j,R+"leave",P,l,H),I.target=It,I.relatedTarget=N,j=null,ir(H)===k&&(rt=new rt(D,R+"enter",ut,l,H),rt.target=N,rt.relatedTarget=It,j=rt),It=j,P&&ut)e:{for(rt=P,D=ut,R=0,N=rt;N;N=zr(N))R++;for(N=0,j=D;j;j=zr(j))N++;for(;0<R-N;)rt=zr(rt),R--;for(;0<N-R;)D=zr(D),N--;for(;R--;){if(rt===D||D!==null&&rt===D.alternate)break e;rt=zr(rt),D=zr(D)}rt=null}else rt=null;P!==null&&bv(F,I,P,rt,!1),ut!==null&&It!==null&&bv(F,It,ut,rt,!0)}}t:{if(I=k?wa(k):window,P=I.nodeName&&I.nodeName.toLowerCase(),P==="select"||P==="input"&&I.type==="file")var J=Bm;else if(zm(I))if(Hm)J=eT;else{J=Jw;var _t=Zw}else P=I.nodeName,!P||P.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?k&&Ah(k.elementType)&&(J=Bm):J=tT;if(J&&(J=J(s,k))){Um(F,J,l,H);break t}_t&&_t(s,I,k),s==="focusout"&&k&&I.type==="number"&&k.memoizedProps.value!=null&&Ch(I,"number",I.value)}switch(_t=k?wa(k):window,s){case"focusin":(zm(_t)||_t.contentEditable==="true")&&(dr=_t,jh=k,ka=null);break;case"focusout":ka=jh=dr=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Xm(F,l,H);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Xm(F,l,H)}var nt;if(zh)t:{switch(s){case"compositionstart":var ot="onCompositionStart";break t;case"compositionend":ot="onCompositionEnd";break t;case"compositionupdate":ot="onCompositionUpdate";break t}ot=void 0}else fr?Lm(s,l)&&(ot="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(Nm&&l.locale!=="ko"&&(fr||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&fr&&(nt=Am()):(wi=H,Nh="value"in wi?wi.value:wi.textContent,fr=!0)),_t=wc(k,ot),0<_t.length&&(ot=new Om(ot,s,null,l,H),F.push({event:ot,listeners:_t}),nt?ot.data=nt:(nt=Pm(l),nt!==null&&(ot.data=nt)))),(nt=Gw?Xw(s,l):Kw(s,l))&&(ot=wc(k,"onBeforeInput"),0<ot.length&&(_t=new Om("onBeforeInput","beforeinput",null,l,H),F.push({event:_t,listeners:ot}),_t.data=nt)),BT(F,s,k,l,H)}yv(F,r)})}function oo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function wc(s,r){for(var l=r+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ta(s,l),d!=null&&u.unshift(oo(s,d,p)),d=Ta(s,r),d!=null&&u.push(oo(s,d,p))),s.tag===3)return u;s=s.return}return[]}function zr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function bv(s,r,l,u,d){for(var p=r._reactName,v=[];l!==null&&l!==u;){var S=l,T=S.alternate,k=S.stateNode;if(S=S.tag,T!==null&&T===u)break;S!==5&&S!==26&&S!==27||k===null||(T=k,d?(k=Ta(l,p),k!=null&&v.unshift(oo(l,k,T))):d||(k=Ta(l,p),k!=null&&v.push(oo(l,k,T)))),l=l.return}v.length!==0&&s.push({event:r,listeners:v})}var VT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function Sv(s){return(typeof s=="string"?s:""+s).replace(VT,`
`).replace(WT,"")}function xv(s,r){return r=Sv(r),Sv(s)===r}function Tc(){}function kt(s,r,l,u,d,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||cr(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&cr(s,""+u);break;case"className":Ol(s,"class",u);break;case"tabIndex":Ol(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(s,l,u);break;case"style":wm(s,u,p);break;case"data":if(r!=="object"){Ol(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=kl(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&kt(s,r,"name",d.name,d,null),kt(s,r,"formEncType",d.formEncType,d,null),kt(s,r,"formMethod",d.formMethod,d,null),kt(s,r,"formTarget",d.formTarget,d,null)):(kt(s,r,"encType",d.encType,d,null),kt(s,r,"method",d.method,d,null),kt(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=kl(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Tc);break;case"onScroll":u!=null&&St("scroll",s);break;case"onScrollEnd":u!=null&&St("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=kl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":St("beforetoggle",s),St("toggle",s),Ml(s,"popover",u);break;case"xlinkActuate":Vn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ml(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bw.get(l)||l,Ml(s,l,u))}}function fd(s,r,l,u,d,p){switch(l){case"style":wm(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?cr(s,u):(typeof u=="number"||typeof u=="bigint")&&cr(s,""+u);break;case"onScroll":u!=null&&St("scroll",s);break;case"onScrollEnd":u!=null&&St("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dm.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),p=s[De]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,d);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ml(s,l,u)}}}function be(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",s),St("load",s);var u=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(s,r,p,v,l,null)}}d&&kt(s,r,"srcSet",l.srcSet,l,null),u&&kt(s,r,"src",l.src,l,null);return;case"input":St("invalid",s);var S=p=v=d=null,T=null,k=null;for(u in l)if(l.hasOwnProperty(u)){var H=l[u];if(H!=null)switch(u){case"name":d=H;break;case"type":v=H;break;case"checked":T=H;break;case"defaultChecked":k=H;break;case"value":p=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:kt(s,r,u,H,l,null)}}bm(s,p,S,T,k,v,d,!1),Dl(s);return;case"select":St("invalid",s),u=v=p=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:kt(s,r,d,S,l,null)}r=p,l=v,s.multiple=!!u,r!=null?lr(s,!!u,r,!1):l!=null&&lr(s,!!u,l,!0);return;case"textarea":St("invalid",s),p=d=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:kt(s,r,v,S,l,null)}xm(s,u,d,p),Dl(s);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(u=l[T],u!=null))switch(T){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:kt(s,r,T,u,l,null)}return;case"dialog":St("beforetoggle",s),St("toggle",s),St("cancel",s),St("close",s);break;case"iframe":case"object":St("load",s);break;case"video":case"audio":for(u=0;u<ao.length;u++)St(ao[u],s);break;case"image":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"embed":case"source":case"link":St("error",s),St("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(s,r,k,u,l,null)}return;default:if(Ah(r)){for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!==void 0&&fd(s,r,H,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&kt(s,r,S,u,l,null))}function qT(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,S=null,T=null,k=null,H=null;for(P in l){var F=l[P];if(l.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=F;default:u.hasOwnProperty(P)||kt(s,r,P,null,u,F)}}for(var I in u){var P=u[I];if(F=l[I],u.hasOwnProperty(I)&&(P!=null||F!=null))switch(I){case"type":p=P;break;case"name":d=P;break;case"checked":k=P;break;case"defaultChecked":H=P;break;case"value":v=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,r));break;default:P!==F&&kt(s,r,I,P,u,F)}}Th(s,v,S,T,k,H,p,d);return;case"select":P=v=S=I=null;for(p in l)if(T=l[p],l.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":P=T;default:u.hasOwnProperty(p)||kt(s,r,p,null,u,T)}for(d in u)if(p=u[d],T=l[d],u.hasOwnProperty(d)&&(p!=null||T!=null))switch(d){case"value":I=p;break;case"defaultValue":S=p;break;case"multiple":v=p;default:p!==T&&kt(s,r,d,p,u,T)}r=S,l=v,u=P,I!=null?lr(s,!!l,I,!1):!!u!=!!l&&(r!=null?lr(s,!!l,r,!0):lr(s,!!l,l?[]:"",!1));return;case"textarea":P=I=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:kt(s,r,S,null,u,d)}for(v in u)if(d=u[v],p=l[v],u.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":I=d;break;case"defaultValue":P=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&kt(s,r,v,d,u,p)}Sm(s,I,P);return;case"option":for(var ut in l)if(I=l[ut],l.hasOwnProperty(ut)&&I!=null&&!u.hasOwnProperty(ut))switch(ut){case"selected":s.selected=!1;break;default:kt(s,r,ut,null,u,I)}for(T in u)if(I=u[T],P=l[T],u.hasOwnProperty(T)&&I!==P&&(I!=null||P!=null))switch(T){case"selected":s.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:kt(s,r,T,I,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in l)I=l[rt],l.hasOwnProperty(rt)&&I!=null&&!u.hasOwnProperty(rt)&&kt(s,r,rt,null,u,I);for(k in u)if(I=u[k],P=l[k],u.hasOwnProperty(k)&&I!==P&&(I!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:kt(s,r,k,I,u,P)}return;default:if(Ah(r)){for(var It in l)I=l[It],l.hasOwnProperty(It)&&I!==void 0&&!u.hasOwnProperty(It)&&fd(s,r,It,void 0,u,I);for(H in u)I=u[H],P=l[H],!u.hasOwnProperty(H)||I===P||I===void 0&&P===void 0||fd(s,r,H,I,u,P);return}}for(var D in l)I=l[D],l.hasOwnProperty(D)&&I!=null&&!u.hasOwnProperty(D)&&kt(s,r,D,null,u,I);for(F in u)I=u[F],P=l[F],!u.hasOwnProperty(F)||I===P||I==null&&P==null||kt(s,r,F,I,u,P)}var dd=null,gd=null;function Cc(s){return s.nodeType===9?s:s.ownerDocument}function Ev(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function pd(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var md=null;function YT(){var s=window.event;return s&&s.type==="popstate"?s===md?!1:(md=s,!0):(md=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(s){return Cv.resolve(null).then(s).catch(KT)}:Tv;function KT(s){setTimeout(function(){throw s})}function Hi(s){return s==="head"}function Av(s,r){var l=r,u=0,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var v=s.ownerDocument;if(l&1&&lo(v.documentElement),l&2&&lo(v.body),l&4)for(l=v.head,lo(l),v=l.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[Ea]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}if(d===0){s.removeChild(p),_o(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);_o(r)}function _d(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_d(l),Sh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function QT(s,r,l,u){for(;s.nodeType===1;){var d=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ea])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=bn(s.nextSibling),s===null)break}return null}function $T(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=bn(s.nextSibling),s===null))return null;return s}function yd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ZT(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function bn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var vd=null;function Rv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function Mv(s,r,l){switch(r=Cc(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Sh(s)}var cn=new Map,Ov=new Set;function Ac(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ii=q.d;q.d={f:JT,r:tC,D:eC,C:nC,L:iC,m:sC,X:aC,S:rC,M:oC};function JT(){var s=ii.f(),r=yc();return s||r}function tC(s){var r=sr(s);r!==null&&r.tag===5&&r.type==="form"?Q_(r):ii.r(s)}var Ur=typeof document>"u"?null:document;function Dv(s,r,l){var u=Ur;if(u&&typeof r=="string"&&r){var d=en(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Ov.has(d)||(Ov.add(d),s={rel:s,crossOrigin:l,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),be(r,"link",s),fe(r),u.head.appendChild(r)))}}function eC(s){ii.D(s),Dv("dns-prefetch",s,null)}function nC(s,r){ii.C(s,r),Dv("preconnect",s,r)}function iC(s,r,l){ii.L(s,r,l);var u=Ur;if(u&&s&&r){var d='link[rel="preload"][as="'+en(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+en(l.imageSizes)+'"]')):d+='[href="'+en(s)+'"]';var p=d;switch(r){case"style":p=Br(s);break;case"script":p=Hr(s)}cn.has(p)||(s=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),cn.set(p,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(co(p))||r==="script"&&u.querySelector(uo(p))||(r=u.createElement("link"),be(r,"link",s),fe(r),u.head.appendChild(r)))}}function sC(s,r){ii.m(s,r);var l=Ur;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Hr(s)}if(!cn.has(p)&&(s=m({rel:"modulepreload",href:s},r),cn.set(p,s),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uo(p)))return}u=l.createElement("link"),be(u,"link",s),fe(u),l.head.appendChild(u)}}}function rC(s,r,l){ii.S(s,r,l);var u=Ur;if(u&&s){var d=rr(u).hoistableStyles,p=Br(s);r=r||"default";var v=d.get(p);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(co(p)))S.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":r},l),(l=cn.get(p))&&bd(s,l);var T=v=u.createElement("link");fe(T),be(T,"link",s),T._p=new Promise(function(k,H){T.onload=k,T.onerror=H}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rc(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(p,v)}}}function aC(s,r){ii.X(s,r);var l=Ur;if(l&&s){var u=rr(l).hoistableScripts,d=Hr(s),p=u.get(d);p||(p=l.querySelector(uo(d)),p||(s=m({src:s,async:!0},r),(r=cn.get(d))&&Sd(s,r),p=l.createElement("script"),fe(p),be(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function oC(s,r){ii.M(s,r);var l=Ur;if(l&&s){var u=rr(l).hoistableScripts,d=Hr(s),p=u.get(d);p||(p=l.querySelector(uo(d)),p||(s=m({src:s,async:!0,type:"module"},r),(r=cn.get(d))&&Sd(s,r),p=l.createElement("script"),fe(p),be(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function Nv(s,r,l,u){var d=(d=it.current)?Ac(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Br(l.href),l=rr(d).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Br(l.href);var p=rr(d).hoistableStyles,v=p.get(s);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,v),(p=d.querySelector(co(s)))&&!p._p&&(v.instance=p,v.state.loading=5),cn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cn.set(s,l),p||lC(d,s,l,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hr(l),l=rr(d).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Br(s){return'href="'+en(s)+'"'}function co(s){return'link[rel="stylesheet"]['+s+"]"}function kv(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function lC(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),be(r,"link",l),fe(r),s.head.appendChild(r))}function Hr(s){return'[src="'+en(s)+'"]'}function uo(s){return"script[async]"+s}function Iv(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+en(l.href)+'"]');if(u)return r.instance=u,fe(u),u;var d=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),fe(u),be(u,"style",d),Rc(u,l.precedence,s),r.instance=u;case"stylesheet":d=Br(l.href);var p=s.querySelector(co(d));if(p)return r.state.loading|=4,r.instance=p,fe(p),p;u=kv(l),(d=cn.get(d))&&bd(u,d),p=(s.ownerDocument||s).createElement("link"),fe(p);var v=p;return v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),be(p,"link",u),r.state.loading|=4,Rc(p,l.precedence,s),r.instance=p;case"script":return p=Hr(l.src),(d=s.querySelector(uo(p)))?(r.instance=d,fe(d),d):(u=l,(d=cn.get(p))&&(u=m({},l),Sd(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),fe(d),be(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rc(u,l.precedence,s));return r.instance}function Rc(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function bd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Sd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Mc=null;function Lv(s,r,l){if(Mc===null){var u=new Map,d=Mc=new Map;d.set(l,u)}else d=Mc,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),d=0;d<l.length;d++){var p=l[d];if(!(p[Ea]||p[Ee]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=s+v;var S=u.get(v);S?S.push(p):u.set(v,[p])}}return u}function Pv(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function cC(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ho=null;function uC(){}function hC(s,r,l){if(ho===null)throw Error(i(475));var u=ho;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Br(l.href),p=s.querySelector(co(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Oc.bind(u),s.then(u,u)),r.state.loading|=4,r.instance=p,fe(p);return}p=s.ownerDocument||s,l=kv(l),(d=cn.get(d))&&bd(l,d),p=p.createElement("link"),fe(p);var v=p;v._p=new Promise(function(S,T){v.onload=S,v.onerror=T}),be(p,"link",l),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Oc.bind(u),s.addEventListener("load",r),s.addEventListener("error",r))}}function fC(){if(ho===null)throw Error(i(475));var s=ho;return s.stylesheets&&s.count===0&&xd(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&xd(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Dc=null;function xd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Dc=new Map,r.forEach(dC,s),Dc=null,Oc.call(s))}function dC(s,r){if(!(r.state.loading&4)){var l=Dc.get(s);if(l)var u=l.get(null);else{l=new Map,Dc.set(s,l);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}d=r.instance,v=d.getAttribute("data-precedence"),p=l.get(v)||u,p===u&&l.set(null,d),l.set(v,d),this.count++,u=Oc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var fo={$$typeof:U,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function gC(s,r,l,u,d,p,v,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_h(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.hiddenUpdates=_h(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Uv(s,r,l,u,d,p,v,S,T,k,H,F){return s=new gC(s,r,l,v,S,T,k,F),r=1,p===!0&&(r|=24),p=Ye(3,null,null,r),s.current=p,p.stateNode=s,r=nf(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},of(p),s}function Bv(s){return s?(s=_r,s):_r}function Hv(s,r,l,u,d,p){d=Bv(d),u.context===null?u.context=d:u.pendingContext=d,u=Ai(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Ri(s,u,r),l!==null&&($e(l,s,r),Fa(l,s,r))}function jv(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Ed(s,r){jv(s,r),(s=s.alternate)&&jv(s,r)}function Fv(s){if(s.tag===13){var r=mr(s,67108864);r!==null&&$e(r,s,67108864),Ed(s,67108864)}}var Nc=!0;function pC(s,r,l,u){var d=z.T;z.T=null;var p=q.p;try{q.p=2,wd(s,r,l,u)}finally{q.p=p,z.T=d}}function mC(s,r,l,u){var d=z.T;z.T=null;var p=q.p;try{q.p=8,wd(s,r,l,u)}finally{q.p=p,z.T=d}}function wd(s,r,l,u){if(Nc){var d=Td(u);if(d===null)hd(s,r,u,kc,l),Wv(s,u);else if(yC(d,s,r,l,u))u.stopPropagation();else if(Wv(s,u),r&4&&-1<_C.indexOf(s)){for(;d!==null;){var p=sr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=fs(p.pendingLanes);if(v!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var T=1<<31-We(v);S.entanglements[1]|=T,v&=~T}kn(p),(Mt&6)===0&&(mc=Rn()+500,ro(0))}}break;case 13:S=mr(p,2),S!==null&&$e(S,p,2),yc(),Ed(p,2)}if(p=Td(u),p===null&&hd(s,r,u,kc,l),p===d)break;d=p}d!==null&&u.stopPropagation()}else hd(s,r,u,null,l)}}function Td(s){return s=Mh(s),Cd(s)}var kc=null;function Cd(s){if(kc=null,s=ir(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return kc=s,null}function Vv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nw()){case im:return 2;case sm:return 8;case Tl:case iw:return 32;case rm:return 268435456;default:return 32}default:return 32}}var Ad=!1,ji=null,Fi=null,Vi=null,go=new Map,po=new Map,Wi=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(s,r){switch(s){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":go.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(r.pointerId)}}function mo(s,r,l,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=sr(r),r!==null&&Fv(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function yC(s,r,l,u,d){switch(r){case"focusin":return ji=mo(ji,s,r,l,u,d),!0;case"dragenter":return Fi=mo(Fi,s,r,l,u,d),!0;case"mouseover":return Vi=mo(Vi,s,r,l,u,d),!0;case"pointerover":var p=d.pointerId;return go.set(p,mo(go.get(p)||null,s,r,l,u,d)),!0;case"gotpointercapture":return p=d.pointerId,po.set(p,mo(po.get(p)||null,s,r,l,u,d)),!0}return!1}function qv(s){var r=ir(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,hw(s.priority,function(){if(l.tag===13){var u=Qe();u=yh(u);var d=mr(l,u);d!==null&&$e(d,l,u),Ed(l,u)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ic(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Td(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Rh=u,l.target.dispatchEvent(u),Rh=null}else return r=sr(l),r!==null&&Fv(r),s.blockedOn=l,!1;r.shift()}return!0}function Yv(s,r,l){Ic(s)&&l.delete(r)}function vC(){Ad=!1,ji!==null&&Ic(ji)&&(ji=null),Fi!==null&&Ic(Fi)&&(Fi=null),Vi!==null&&Ic(Vi)&&(Vi=null),go.forEach(Yv),po.forEach(Yv)}function Lc(s,r){s.blockedOn===r&&(s.blockedOn=null,Ad||(Ad=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vC)))}var Pc=null;function Gv(s){Pc!==s&&(Pc=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pc===s&&(Pc=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(Cd(u||l)===null)continue;break}var p=sr(l);p!==null&&(s.splice(r,3),r-=3,Cf(p,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function _o(s){function r(T){return Lc(T,s)}ji!==null&&Lc(ji,s),Fi!==null&&Lc(Fi,s),Vi!==null&&Lc(Vi,s),go.forEach(r),po.forEach(r);for(var l=0;l<Wi.length;l++){var u=Wi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Wi.length&&(l=Wi[0],l.blockedOn===null);)qv(l),l.blockedOn===null&&Wi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],p=l[u+1],v=d[De]||null;if(typeof p=="function")v||Gv(l);else if(v){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[De]||null)S=v.formAction;else if(Cd(d)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Gv(l)}}}function Rd(s){this._internalRoot=s}zc.prototype.render=Rd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Qe();Hv(l,u,s,r,null,null)},zc.prototype.unmount=Rd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Hv(s.current,2,null,s,null,null),yc(),r[nr]=null}};function zc(s){this._internalRoot=s}zc.prototype.unstable_scheduleHydration=function(s){if(s){var r=um();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Wi.length&&r!==0&&r<Wi[l].priority;l++);Wi.splice(l,0,s),l===0&&qv(s)}};var Xv=t.version;if(Xv!=="19.1.1")throw Error(i(527,Xv,"19.1.1"));q.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var bC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ba=Uc.inject(bC),Ve=Uc}catch{}}return vo.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",d=uy,p=hy,v=fy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Uv(s,1,!1,null,null,l,u,d,p,v,S,null),s[nr]=r.current,ud(s),new Rd(r)},vo.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,d="",p=uy,v=hy,S=fy,T=null,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(k=l.formState)),r=Uv(s,1,!0,r,l??null,u,d,p,v,S,T,k),r.context=Bv(null),l=r.current,u=Qe(),u=yh(u),d=Ai(u),d.callback=null,Ri(l,d,u),l=u,r.current.lanes=l,xa(r,l),kn(r),s[nr]=r.current,ud(s),new zc(r)},vo.version="19.1.1",vo}var s0;function DC(){if(s0)return Dd.exports;s0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dd.exports=OC(),Dd.exports}var NC=DC();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function kC(n={}){function t(i,a){let{pathname:o,search:c,hash:h}=i.location;return cg("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:Vo(a)}return LC(t,e,null,n)}function Kt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Bn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IC(){return Math.random().toString(36).substring(2,10)}function a0(n,t){return{usr:n.state,key:n.key,idx:t}}function cg(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?la(t):t,state:e,key:t&&t.key||i||IC()}}function Vo({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function la(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function LC(n,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function _(){h="POP";let w=m(),A=w==null?null:w-g;g=w,f&&f({action:h,location:E.location,delta:A})}function y(w,A){h="PUSH";let O=cg(E.location,w,A);g=m()+1;let U=a0(O,g),V=E.createHref(O);try{c.pushState(U,"",V)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(V)}o&&f&&f({action:h,location:E.location,delta:1})}function b(w,A){h="REPLACE";let O=cg(E.location,w,A);g=m();let U=a0(O,g),V=E.createHref(O);c.replaceState(U,"",V),o&&f&&f({action:h,location:E.location,delta:0})}function x(w){return PC(w)}let E={get action(){return h},get location(){return n(a,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(r0,_),f=w,()=>{a.removeEventListener(r0,_),f=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let A=x(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(w){return c.go(w)}};return E}function PC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vo(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function I1(n,t,e="/"){return zC(n,t,e,!1)}function zC(n,t,e,i){let a=typeof t=="string"?la(t):t,o=mi(a.pathname||"/",e);if(o==null)return null;let c=L1(n);UC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=KC(o);h=GC(c[f],g,i)}return h}function L1(n,t=[],e=[],i="",a=!1){let o=(c,h,f=a,g)=>{let m={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Kt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let _=gi([i,m.relativePath]),y=e.concat(m);c.children&&c.children.length>0&&(Kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),L1(c.children,t,y,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:qC(_,c.index),routesMeta:y})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of P1(c.path))o(c,h,!0,f)}),t}function P1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=P1(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function UC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:YC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var BC=/^:[\w-]+$/,HC=3,jC=2,FC=1,VC=10,WC=-2,o0=n=>n==="*";function qC(n,t){let e=n.split("/"),i=e.length;return e.some(o0)&&(i+=WC),t&&(i+=jC),e.filter(a=>!o0(a)).reduce((a,o)=>a+(BC.test(o)?HC:o===""?FC:VC),i)}function YC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,a)=>i===t[a])?n[n.length-1]-t[t.length-1]:0}function GC(n,t,e=!1){let{routesMeta:i}=n,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=fu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),y=f.route;if(!_&&g&&e&&!i[i.length-1].route.index&&(_=fu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:gi([o,_.pathname]),pathnameBase:JC(gi([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=gi([o,_.pathnameBase]))}return c}function fu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=XC(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:_},y)=>{if(m==="*"){let x=h[y]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=h[y];return _&&!b?g[m]=void 0:g[m]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function XC(n,t=!1,e=!0){Bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function KC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function mi(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function QC(n,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof n=="string"?la(n):n;return{pathname:e?e.startsWith("/")?e:$C(e,t):t,search:t2(i),hash:e2(a)}}function $C(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Ld(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function z1(n){let t=ZC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function U1(n,t,e,i=!1){let a;typeof n=="string"?a=la(n):(a={...n},Kt(!a.pathname||!a.pathname.includes("?"),Ld("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),Ld("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),Ld("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),_-=1;a.pathname=y.join("/")}h=_>=0?t[_]:"/"}let f=QC(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var gi=n=>n.join("/").replace(/\/\/+/g,"/"),JC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,e2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function n2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var B1=["POST","PUT","PATCH","DELETE"];new Set(B1);var i2=["GET",...B1];new Set(i2);var ca=L.createContext(null);ca.displayName="DataRouter";var Yu=L.createContext(null);Yu.displayName="DataRouterState";L.createContext(!1);var H1=L.createContext({isTransitioning:!1});H1.displayName="ViewTransition";var s2=L.createContext(new Map);s2.displayName="Fetchers";var r2=L.createContext(null);r2.displayName="Await";var jn=L.createContext(null);jn.displayName="Navigation";var ol=L.createContext(null);ol.displayName="Location";var bi=L.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Bg=L.createContext(null);Bg.displayName="RouteError";function a2(n,{relative:t}={}){Kt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=L.useContext(jn),{hash:a,pathname:o,search:c}=cl(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:gi([e,o])),i.createHref({pathname:h,search:c,hash:a})}function ll(){return L.useContext(ol)!=null}function $s(){return Kt(ll(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ol).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(n){L.useContext(jn).static||L.useLayoutEffect(n)}function o2(){let{isDataRoute:n}=L.useContext(bi);return n?b2():l2()}function l2(){Kt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(ca),{basename:t,navigator:e}=L.useContext(jn),{matches:i}=L.useContext(bi),{pathname:a}=$s(),o=JSON.stringify(z1(i)),c=L.useRef(!1);return F1(()=>{c.current=!0}),L.useCallback((f,g={})=>{if(Bn(c.current,j1),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=U1(f,JSON.parse(o),a,g.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:gi([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,o,a,n])}L.createContext(null);function cl(n,{relative:t}={}){let{matches:e}=L.useContext(bi),{pathname:i}=$s(),a=JSON.stringify(z1(e));return L.useMemo(()=>U1(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function c2(n,t){return V1(n,t)}function V1(n,t,e,i,a){Kt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(jn),{matches:c}=L.useContext(bi),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",_=h&&h.route;{let O=_&&_.path||"";W1(g,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=$s(),b;if(t){let O=typeof t=="string"?la(t):t;Kt(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let x=b.pathname||"/",E=x;if(m!=="/"){let O=m.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=I1(n,{pathname:E});Bn(_||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Bn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=g2(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:gi([m,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:gi([m,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),c,e,i,a);return t&&A?L.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function u2(){let n=v2(),t=n2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),e?L.createElement("pre",{style:a},e):null,c)}var h2=L.createElement(u2,null),f2=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(bi.Provider,{value:this.props.routeContext},L.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d2({routeContext:n,match:t,children:e}){let i=L.useContext(ca);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(bi.Provider,{value:n},e)}function g2(n,t=[],e=null,i=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let g=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Kt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(e)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:_,errors:y}=e,b=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,m,_)=>{let y,b=!1,x=null,E=null;e&&(y=c&&m.route.id?c[m.route.id]:void 0,x=m.route.errorElement||h2,h&&(f<0&&_===0?(W1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===_&&(b=!0,E=m.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,_+1)),A=()=>{let O;return y?O=x:b?O=E:m.route.Component?O=L.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=g,L.createElement(d2,{match:m,routeContext:{outlet:g,matches:w,isDataRoute:e!=null},children:O})};return e&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?L.createElement(f2,{location:e.location,revalidation:e.revalidation,component:x,error:y,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:i}):A()},null)}function Hg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(n){let t=L.useContext(ca);return Kt(t,Hg(n)),t}function m2(n){let t=L.useContext(Yu);return Kt(t,Hg(n)),t}function _2(n){let t=L.useContext(bi);return Kt(t,Hg(n)),t}function jg(n){let t=_2(n),e=t.matches[t.matches.length-1];return Kt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function y2(){return jg("useRouteId")}function v2(){let n=L.useContext(Bg),t=m2("useRouteError"),e=jg("useRouteError");return n!==void 0?n:t.errors?.[e]}function b2(){let{router:n}=p2("useNavigate"),t=jg("useNavigate"),e=L.useRef(!1);return F1(()=>{e.current=!0}),L.useCallback(async(a,o={})=>{Bn(e.current,j1),e.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:t,...o}))},[n,t])}var l0={};function W1(n,t,e){!t&&!l0[n]&&(l0[n]=!0,Bn(!1,e))}L.memo(S2);function S2({routes:n,future:t,state:e,unstable_onError:i}){return V1(n,void 0,e,i,t)}function qr(n){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1}){Kt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof e=="string"&&(e=la(e));let{pathname:f="/",search:g="",hash:m="",state:_=null,key:y="default"}=e,b=L.useMemo(()=>{let x=mi(f,c);return x==null?null:{location:{pathname:x,search:g,hash:m,state:_,key:y},navigationType:i}},[c,f,g,m,_,y,i]);return Bn(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(jn.Provider,{value:h},L.createElement(ol.Provider,{children:t,value:b}))}function E2({children:n,location:t}){return c2(ug(n),t)}function ug(n,t=[]){let e=[];return L.Children.forEach(n,(i,a)=>{if(!L.isValidElement(i))return;let o=[...t,a];if(i.type===L.Fragment){e.push.apply(e,ug(i.props.children,o));return}Kt(i.type===qr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ug(i.props.children,o)),e.push(c)}),e}var nu="get",iu="application/x-www-form-urlencoded";function Gu(n){return n!=null&&typeof n.tagName=="string"}function w2(n){return Gu(n)&&n.tagName.toLowerCase()==="button"}function T2(n){return Gu(n)&&n.tagName.toLowerCase()==="form"}function C2(n){return Gu(n)&&n.tagName.toLowerCase()==="input"}function A2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R2(n,t){return n.button===0&&(!t||t==="_self")&&!A2(n)}var Bc=null;function M2(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var O2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(n){return n!=null&&!O2.has(n)?(Bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):n}function D2(n,t){let e,i,a,o,c;if(T2(n)){let h=n.getAttribute("action");i=h?mi(h,t):null,e=n.getAttribute("method")||nu,a=Pd(n.getAttribute("enctype"))||iu,o=new FormData(n)}else if(w2(n)||C2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?mi(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||nu,a=Pd(n.getAttribute("formenctype"))||Pd(h.getAttribute("enctype"))||iu,o=new FormData(h,n),!M2()){let{name:g,type:m,value:_}=n;if(m==="image"){let y=g?`${g}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else g&&o.append(g,_)}}else{if(Gu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nu,i=null,a=iu,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function N2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&mi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function k2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function L2(n,t,e){let i=await Promise.all(n.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await k2(o,e);return c.links?c.links():[]}return[]}));return B2(i.flat(1).filter(I2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function c0(n,t,e,i,a,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function P2(n,t,{includeHydrateFallback:e}={}){return z2(n.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function z2(n){return[...new Set(n)]}function U2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function B2(n,t){let e=new Set;return new Set(t),n.reduce((i,a)=>{let o=JSON.stringify(U2(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function q1(){let n=L.useContext(ca);return Fg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function H2(){let n=L.useContext(Yu);return Fg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vg=L.createContext(void 0);Vg.displayName="FrameworkContext";function Y1(){let n=L.useContext(Vg);return Fg(n,"You must render this element inside a <HydratedRouter> element"),n}function j2(n,t){let e=L.useContext(Vg),[i,a]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:_}=t,y=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=A=>{A.forEach(O=>{c(O.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[n]),L.useEffect(()=>{if(i){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{a(!0)},x=()=>{a(!1),c(!1)};return e?n!=="intent"?[o,y,{}]:[o,y,{onFocus:bo(h,b),onBlur:bo(f,x),onMouseEnter:bo(g,b),onMouseLeave:bo(m,x),onTouchStart:bo(_,b)}]:[!1,y,{}]}function bo(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function F2({page:n,...t}){let{router:e}=q1(),i=L.useMemo(()=>I1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?L.createElement(W2,{page:n,matches:i,...t}):null}function V2(n){let{manifest:t,routeModules:e}=Y1(),[i,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return L2(n,t,e).then(c=>{o||a(c)}),()=>{o=!0}},[n,t,e]),i}function W2({page:n,matches:t,...e}){let i=$s(),{manifest:a,routeModules:o}=Y1(),{basename:c}=q1(),{loaderData:h,matches:f}=H2(),g=L.useMemo(()=>c0(n,t,f,a,i,"data"),[n,t,f,a,i]),m=L.useMemo(()=>c0(n,t,f,a,i,"assets"),[n,t,f,a,i]),_=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,E=!1;if(t.forEach(A=>{let O=a.routes[A.route.id];!O||!O.hasLoader||(!g.some(U=>U.route.id===A.route.id)&&A.route.id in h&&o[A.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:x.add(A.route.id))}),x.size===0)return[];let w=N2(n,c,"data");return E&&x.size>0&&w.searchParams.set("_routes",t.filter(A=>x.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[c,h,i,a,g,t,n,o]),y=L.useMemo(()=>P2(m,a),[m,a]),b=V2(m);return L.createElement(L.Fragment,null,_.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),y.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:E})=>L.createElement("link",{key:x,nonce:e.nonce,...E})))}function q2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.8.2")}catch{}function Y2({basename:n,children:t,window:e}){let i=L.useRef();i.current==null&&(i.current=kC({window:e,v5Compat:!0}));let a=i.current,[o,c]=L.useState({action:a.action,location:a.location}),h=L.useCallback(f=>{L.startTransition(()=>c(f))},[c]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(x2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:a})}var X1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ps=L.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:m,viewTransition:_,...y},b){let{basename:x}=L.useContext(jn),E=typeof g=="string"&&X1.test(g),w,A=!1;if(typeof g=="string"&&E&&(w=g,G1))try{let Z=new URL(window.location.href),ct=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),at=mi(ct.pathname,x);ct.origin===Z.origin&&at!=null?g=at+ct.search+ct.hash:A=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=a2(g,{relative:a}),[U,V,B]=j2(i,y),X=Q2(g,{replace:c,state:h,target:f,preventScrollReset:m,relative:a,viewTransition:_});function Q(Z){t&&t(Z),Z.defaultPrevented||X(Z)}let $=L.createElement("a",{...y,...B,href:w||O,onClick:A||o?t:Q,ref:q2(b,V),target:f,"data-discover":!E&&e==="render"?"true":void 0});return U&&!E?L.createElement(L.Fragment,null,$,L.createElement(F2,{page:O})):$});Ps.displayName="Link";var G2=L.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},m){let _=cl(c,{relative:g.relative}),y=$s(),b=L.useContext(Yu),{navigator:x,basename:E}=L.useContext(jn),w=b!=null&&eA(_)&&h===!0,A=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,O=y.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(O=O.toLowerCase(),U=U?U.toLowerCase():null,A=A.toLowerCase()),U&&E&&(U=mi(U,E)||U);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let B=O===A||!a&&O.startsWith(A)&&O.charAt(V)==="/",X=U!=null&&(U===A||!a&&U.startsWith(A)&&U.charAt(A.length)==="/"),Q={isActive:B,isPending:X,isTransitioning:w},$=B?t:void 0,Z;typeof i=="function"?Z=i(Q):Z=[i,B?"active":null,X?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ct=typeof o=="function"?o(Q):o;return L.createElement(Ps,{...g,"aria-current":$,className:Z,ref:m,style:ct,to:c,viewTransition:h},typeof f=="function"?f(Q):f)});G2.displayName="NavLink";var X2=L.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:c=nu,action:h,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:_,...y},b)=>{let x=J2(),E=tA(h,{relative:g}),w=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&X1.test(h),O=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let V=U.nativeEvent.submitter,B=V?.getAttribute("formmethod")||c;x(V||U.currentTarget,{fetcherKey:t,method:B,navigate:e,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:_})};return L.createElement("form",{ref:b,method:w,action:E,onSubmit:i?f:O,...y,"data-discover":!A&&n==="render"?"true":void 0})});X2.displayName="Form";function K2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K1(n){let t=L.useContext(ca);return Kt(t,K2(n)),t}function Q2(n,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=o2(),f=$s(),g=cl(n,{relative:o});return L.useCallback(m=>{if(R2(m,t)){m.preventDefault();let _=e!==void 0?e:Vo(f)===Vo(g);h(n,{replace:_,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,g,e,i,t,n,a,o,c])}var $2=0,Z2=()=>`__${String(++$2)}__`;function J2(){let{router:n}=K1("useSubmit"),{basename:t}=L.useContext(jn),e=y2();return L.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=D2(i,t);if(a.navigate===!1){let m=a.fetcherKey||Z2();await n.fetch(m,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,t,e])}function tA(n,{relative:t}={}){let{basename:e}=L.useContext(jn),i=L.useContext(bi);Kt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...cl(n||".",{relative:t})},c=$s();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let m=h.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:gi([e,o.pathname])),Vo(o)}function eA(n,{relative:t}={}){let e=L.useContext(H1);Kt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=K1("useViewTransitionState"),a=cl(n,{relative:t});if(!e.isTransitioning)return!1;let o=mi(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=mi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return fu(a.pathname,c)!=null||fu(a.pathname,o)!=null}const nA=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(n,t){if(!n)throw ua(t)},ua=function(n){return new Error("Firebase Database ("+Q1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},iA=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},Wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,m=o>>2,_=(o&3)<<4|h>>4;let y=(h&15)<<2|g>>6,b=g&63;f||(b=64,c||(y=64)),i.push(e[m],e[_],e[y],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray($1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):iA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new sA;const y=o<<2|h>>4;if(i.push(y),g!==64){const b=h<<4&240|g>>2;if(i.push(b),_!==64){const x=g<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(n){const t=$1(n);return Wg.encodeByteArray(t,!0)},du=function(n){return Z1(n).replace(/\./g,"")},gu=function(n){try{return Wg.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){return J1(void 0,n)}function J1(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!aA(e)||(n[e]=J1(n[e],t[e]));return n}function aA(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>oA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof u0>"u")return;const n=u0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&gu(n[1]);return t&&JSON.parse(t)},qg=()=>{try{return nA()||lA()||cA()||uA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tS=n=>qg()?.emulatorHosts?.[n],hA=n=>{const t=tS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},eS=()=>qg()?.config,nS=n=>qg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[du(JSON.stringify(e)),du(JSON.stringify(c)),""].join(".")}const ko={};function dA(){const n={prod:[],emulator:[]};for(const t of Object.keys(ko))ko[t]?n.emulator.push(t):n.prod.push(t);return n}function gA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let h0=!1;function sS(n,t){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||ko[n]===t||ko[n]||h0)return;ko[n]=t;function e(y){return`__firebase__banner__${y}`}const i="__firebase__banner",o=dA().prod.length>0;function c(){const y=document.getElementById(i);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function g(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{h0=!0,c()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=gA(i),b=e("text"),x=document.getElementById(b)||document.createElement("span"),E=e("learnmore"),w=document.getElementById(E)||document.createElement("a"),A=e("preprendIcon"),O=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const U=y.element;h(U),m(w,E);const V=g();f(O,A),U.append(O,x,w,V),document.body.appendChild(U)}o?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function pA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){const n=Oe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yA(){return Q1.NODE_ADMIN===!0}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function bA(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="FirebaseError";class hs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=SA,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?xA(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new hs(a,h,i)}}function xA(n,t){return n.replace(EA,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const EA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){return JSON.parse(n)}function ce(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(n){let t={},e={},i={},a="";try{const o=n.split(".");t=Wo(gu(o[0])||""),e=Wo(gu(o[1])||""),a=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:a}},wA=function(n){const t=aS(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},TA=function(n){const t=aS(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Fs(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function hg(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function pu(n,t,e){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=t.call(e,n[a],a,n));return i}function Vs(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(f0(o)&&f0(c)){if(!Vs(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function f0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)i[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)i[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const y=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(y<<1|y>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^o&(c^h),m=1518500249):(g=o^c^h,m=1859775393):_<60?(g=o&c|h&(o|c),m=2400959708):(g=o^c^h,m=3395469782);const y=(a<<5|a>>>27)+g+f+m+i[_]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=a,a=y}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let a=0;const o=this.buf_;let c=this.inbuf_;for(;a<e;){if(c===0)for(;a<=i;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(o[c]=t.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}else for(;a<e;)if(o[c]=t[a],++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[a]>>o&255,++i;return t}}function AA(n,t){const e=new RA(n,t);return e.subscribe.bind(e)}class RA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");MA(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=zd),a.error===void 0&&(a.error=zd),a.complete===void 0&&(a.complete=zd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function zd(){}function Gg(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const o=a-55296;i++,Y(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;a=65536+(o<<10)+c}a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):a<65536?(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Xu=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n){return n&&n._delegate?n._delegate:n}class Ws{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new ul;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NA(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(n){return n===ks?void 0:n}function kA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new DA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const LA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},PA=Lt.INFO,zA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},UA=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=zA[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xg{constructor(t){this.name=t,this._logLevel=PA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const BA=(n,t)=>t.some(e=>n instanceof e);let d0,g0;function HA(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,fg=new WeakMap,lS=new WeakMap,Ud=new WeakMap,Kg=new WeakMap;function FA(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Zi(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&oS.set(e,n)}).catch(()=>{}),Kg.set(t,n),t}function VA(n){if(fg.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});fg.set(n,t)}let dg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return fg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||lS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Zi(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function WA(n){dg=n(dg)}function qA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Bd(this),t,...e);return lS.set(i,t.sort?t.sort():[t]),Zi(i)}:jA().includes(n)?function(...t){return n.apply(Bd(this),t),Zi(oS.get(this))}:function(...t){return Zi(n.apply(Bd(this),t))}}function YA(n){return typeof n=="function"?qA(n):(n instanceof IDBTransaction&&VA(n),BA(n,HA())?new Proxy(n,dg):n)}function Zi(n){if(n instanceof IDBRequest)return FA(n);if(Ud.has(n))return Ud.get(n);const t=YA(n);return t!==n&&(Ud.set(n,t),Kg.set(t,n)),t}const Bd=n=>Kg.get(n);function GA(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Zi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Zi(c.result),f.oldVersion,f.newVersion,Zi(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const XA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],Hd=new Map;function p0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=KA.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||XA.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return Hd.set(t,o),o}WA(n=>({...n,get:(t,e,i)=>p0(t,e)||n.get(t,e,i),has:(t,e)=>!!p0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($A(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function $A(n){return n.getComponent()?.type==="VERSION"}const gg="@firebase/app",m0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Xg("@firebase/app"),ZA="@firebase/app-compat",JA="@firebase/analytics-compat",tR="@firebase/analytics",eR="@firebase/app-check-compat",nR="@firebase/app-check",iR="@firebase/auth",sR="@firebase/auth-compat",rR="@firebase/database",aR="@firebase/data-connect",oR="@firebase/database-compat",lR="@firebase/functions",cR="@firebase/functions-compat",uR="@firebase/installations",hR="@firebase/installations-compat",fR="@firebase/messaging",dR="@firebase/messaging-compat",gR="@firebase/performance",pR="@firebase/performance-compat",mR="@firebase/remote-config",_R="@firebase/remote-config-compat",yR="@firebase/storage",vR="@firebase/storage-compat",bR="@firebase/firestore",SR="@firebase/ai",xR="@firebase/firestore-compat",ER="firebase",wR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",TR={[gg]:"fire-core",[ZA]:"fire-core-compat",[tR]:"fire-analytics",[JA]:"fire-analytics-compat",[nR]:"fire-app-check",[eR]:"fire-app-check-compat",[iR]:"fire-auth",[sR]:"fire-auth-compat",[rR]:"fire-rtdb",[aR]:"fire-data-connect",[oR]:"fire-rtdb-compat",[lR]:"fire-fn",[cR]:"fire-fn-compat",[uR]:"fire-iid",[hR]:"fire-iid-compat",[fR]:"fire-fcm",[dR]:"fire-fcm-compat",[gR]:"fire-perf",[pR]:"fire-perf-compat",[mR]:"fire-rc",[_R]:"fire-rc-compat",[yR]:"fire-gcs",[vR]:"fire-gcs-compat",[bR]:"fire-fst",[xR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,CR=new Map,mg=new Map;function _0(n,t){try{n.container.addComponent(t)}catch(e){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ta(n){const t=n.name;if(mg.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;mg.set(t,n);for(const e of mu.values())_0(e,n);for(const e of CR.values())_0(e,n);return!0}function Qg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new hl("app","Firebase",AR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=wR;function cS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:pg,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(e||(e=eS()),!e)throw Ji.create("no-options");const o=mu.get(a);if(o){if(Vs(e,o.options)&&Vs(i,o.config))return o;throw Ji.create("duplicate-app",{appName:a})}const c=new IA(a);for(const f of mg.values())c.addComponent(f);const h=new RR(e,i,c);return mu.set(a,h),h}function uS(n=pg){const t=mu.get(n);if(!t&&n===pg&&eS())return cS();if(!t)throw Ji.create("no-app",{appName:n});return t}function ts(n,t,e){let i=TR[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}ta(new Ws(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-heartbeat-database",OR=1,qo="firebase-heartbeat-store";let jd=null;function hS(){return jd||(jd=GA(MR,OR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(qo)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),jd}async function DR(n){try{const e=(await hS()).transaction(qo),i=await e.objectStore(qo).get(fS(n));return await e.done,i}catch(t){if(t instanceof hs)_i.warn(t.message);else{const e=Ji.create("idb-get",{originalErrorMessage:t?.message});_i.warn(e.message)}}}async function y0(n,t){try{const i=(await hS()).transaction(qo,"readwrite");await i.objectStore(qo).put(t,fS(n)),await i.done}catch(e){if(e instanceof hs)_i.warn(e.message);else{const i=Ji.create("idb-set",{originalErrorMessage:e?.message});_i.warn(i.message)}}}function fS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,kR=30;class IR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new PR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=v0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>kR){const a=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v0(),{heartbeatsToSend:e,unsentEntries:i}=LR(this._heartbeatsCache.heartbeats),a=du(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return _i.warn(t),""}}}function v0(){return new Date().toISOString().substring(0,10)}function LR(n,t=NR){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),b0(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),b0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class PR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?bA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return y0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return y0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function b0(n){return du(JSON.stringify({version:2,heartbeats:n})).length}function zR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){ta(new Ws("platform-logger",t=>new QA(t),"PRIVATE")),ta(new Ws("heartbeat",t=>new IR(t),"PRIVATE")),ts(gg,m0,n),ts(gg,m0,"esm2020"),ts("fire-js","")}UR("");function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=dS,gS=new hl("auth","Firebase",dS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Xg("@firebase/auth");function HR(n,...t){_u.logLevel<=Lt.WARN&&_u.warn(`Auth (${da}): ${n}`,...t)}function su(n,...t){_u.logLevel<=Lt.ERROR&&_u.error(`Auth (${da}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...t){throw Zg(n,...t)}function wn(n,...t){return Zg(n,...t)}function $g(n,t,e){const i={...BR(),[t]:e};return new hl("auth","Firebase",i).create(t,{appName:n.name})}function es(n){return $g(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jR(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Hn(n,"argument-error"),$g(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zg(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return gS.create(n,...t)}function ht(n,t,...e){if(!n)throw Zg(t,...e)}function ci(n){const t="INTERNAL ASSERTION FAILED: "+n;throw su(t),new Error(t)}function yi(n,t){n||ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function FR(){return S0()==="http:"||S0()==="https:"}function S0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||mA()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,e){this.shortDelay=t,this.longDelay=e,yi(e>t,"Short delay should be less than long delay!"),this.isMobile=Yg()||rS()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n,t){yi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GR=new fl(3e4,6e4);function Ku(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ga(n,t,e,i,a={}){return mS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=fa({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return pA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ha(n.emulatorConfig.host)&&(g.credentials="include"),pS.fetch()(await yS(n,n.config.apiHost,e,h),g)})}async function mS(n,t,e){n._canInitEmulator=!1;const i={...qR,...t};try{const a=new XR(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Hc(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Hc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Hc(n,"user-disabled",c);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $g(n,m,g);Hn(n,m)}}catch(a){if(a instanceof hs)throw a;Hn(n,"network-request-failed",{message:String(a)})}}async function _S(n,t,e,i,a={}){const o=await ga(n,t,e,i,a);return"mfaPendingCredential"in o&&Hn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function yS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Jg(n.config,a):`${n.config.apiScheme}://${a}`;return YR.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(wn(this.auth,"network-request-failed")),GR.get())})}}function Hc(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=wn(n,t,i);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,t){return ga(n,"POST","/v1/accounts:delete",t)}async function yu(n,t){return ga(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QR(n,t=!1){const e=je(n),i=await e.getIdToken(t),a=tp(i);ht(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Io(Fd(a.auth_time)),issuedAtTime:Io(Fd(a.iat)),expirationTime:Io(Fd(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Fd(n){return Number(n)*1e3}function tp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return su("JWT malformed, contained fewer than 3 sections"),null;try{const a=gu(e);return a?JSON.parse(a):(su("Failed to decode base64 JWT payload"),null)}catch(a){return su("Caught error parsing JWT payload as JSON",a?.toString()),null}}function x0(n){const t=tp(n);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof hs&&$R(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $R({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){const t=n.auth,e=await n.getIdToken(),i=await Yo(n,yu(t,{idToken:e}));ht(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?vS(a.providerUserInfo):[],c=tM(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,g=h?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new yg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,m)}async function JR(n){const t=je(n);await Go(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tM(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function vS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(n,t){const e=await mS(n,{},async()=>{const i=fa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await yS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ha(n.emulatorConfig.host)&&(f.credentials="include"),pS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function nM(n,t){return ga(n,"POST","/v2/accounts:revokeToken",Ku(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const e=x0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await eM(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Gr;return i&&(ht(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(ht(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(ht(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gr,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,t){ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xn{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Yo(this,this.stsTokenManager.getToken(this.auth,t));return ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return QR(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Go(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await Yo(this,KR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:_,emailVerified:y,isAnonymous:b,providerData:x,stsTokenManager:E}=e;ht(_&&E,t,"internal-error");const w=Gr.fromJSON(this.name,E);ht(typeof _=="string",t,"internal-error"),Yi(i,t.name),Yi(a,t.name),ht(typeof y=="boolean",t,"internal-error"),ht(typeof b=="boolean",t,"internal-error"),Yi(o,t.name),Yi(c,t.name),Yi(h,t.name),Yi(f,t.name),Yi(g,t.name),Yi(m,t.name);const A=new xn({uid:_,auth:t,email:a,emailVerified:y,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:w,createdAt:g,lastLoginAt:m});return x&&Array.isArray(x)&&(A.providerData=x.map(O=>({...O}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(t,e,i=!1){const a=new Gr;a.updateFromServerResponse(e);const o=new xn({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Go(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];ht(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?vS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Gr;h.updateFromIdToken(i);const f=new xn({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new yg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function ui(n){yi(n instanceof Function,"Expected a class definition");let t=E0.get(n);return t?(yi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,E0.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}bS.type="NONE";const w0=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n,t,e){return`firebase:${n}:${t}:${e}`}class Xr{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=ru(this.userKey,a.apiKey,o),this.fullPersistenceKey=ru("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await yu(this.auth,{idToken:t}).catch(()=>{});return e?xn._fromGetAccountInfoResponse(this.auth,e,t):null}return xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Xr(ui(w0),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||ui(w0);const c=ru(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const m=await g._get(c);if(m){let _;if(typeof m=="string"){const y=await yu(t,{idToken:m}).catch(()=>{});if(!y)break;_=await xn._fromGetAccountInfoResponse(t,y,m)}else _=xn._fromJSON(t,m);g!==o&&(h=_),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Xr(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Xr(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CS(t))return"Blackberry";if(AS(t))return"Webos";if(xS(t))return"Safari";if((t.includes("chrome/")||ES(t))&&!t.includes("edge/"))return"Chrome";if(TS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function SS(n=Oe()){return/firefox\//i.test(n)}function xS(n=Oe()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ES(n=Oe()){return/crios\//i.test(n)}function wS(n=Oe()){return/iemobile/i.test(n)}function TS(n=Oe()){return/android/i.test(n)}function CS(n=Oe()){return/blackberry/i.test(n)}function AS(n=Oe()){return/webos/i.test(n)}function ep(n=Oe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iM(n=Oe()){return ep(n)&&!!window.navigator?.standalone}function sM(){return _A()&&document.documentMode===10}function RS(n=Oe()){return ep(n)||TS(n)||AS(n)||CS(n)||/windows phone/i.test(n)||wS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,t=[]){let e;switch(n){case"Browser":e=T0(Oe());break;case"Worker":e=`${T0(Oe())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(n,t={}){return ga(n,"GET","/v2/passwordPolicy",Ku(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=6;class lM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??oM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new rM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ui(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await yu(this,{idToken:t}),i=await xn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Go(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hn(this.app))return Promise.reject(es(this));const e=t?je(t):null;return e&&ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aM(this),e=new lM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hl("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await nM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ui(t)||this._popupRedirectResolver;ht(e,this,"argument-error"),this.redirectPersistenceManager=await Xr.create(this,[ui(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dl(n){return je(n)}class C0{constructor(t){this.auth=t,this.observer=null,this.addObserver=AA(e=>this.observer=e)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uM(n){np=n}function hM(n){return np.loadJS(n)}function fM(){return np.gapiScript}function dM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n,t){const e=Qg(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Vs(o,t??{}))return a;Hn(a,"already-initialized")}return e.initialize({options:t})}function pM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ui);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function mM(n,t,e){const i=dl(n);ht(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=OS(t),{host:c,port:h}=_M(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},m=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ht(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ht(Vs(g,i.config.emulator)&&Vs(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,ha(c)?(iS(`${o}//${c}${f}`),sS("Auth",!0)):yM()}function OS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _M(n){const t=OS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:A0(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:A0(c)}}}function A0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function yM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ci("not implemented")}_getIdTokenResponse(t){return ci("not implemented")}_linkToIdToken(t,e){return ci("not implemented")}_getReauthenticationResolver(t){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(n,t){return _S(n,"POST","/v1/accounts:signInWithIdp",Ku(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="http://localhost";class qs extends DS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Hn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new qs(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Kr(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Kr(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Kr(t,e)}buildRequest(){const t={requestUri:vM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=fa(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends ip{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends gl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return li.credentialFromTaggedObject(t)}static credentialFromError(t){return li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return li.credential(e,i)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends gl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends gl{constructor(){super("twitter.com")}static credential(t,e){return qs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ki.credential(e,i)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,t){return _S(n,"POST","/v1/accounts:signUp",Ku(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await xn._fromIdTokenResponse(t,i,a),c=R0(i);return new as({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=R0(i);return new as({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function R0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n){if(hn(n.app))return Promise.reject(es(n));const t=dl(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new as({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await bM(t,{returnSecureToken:!0}),i=await as._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends hs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new vu(t,e,i,a)}}function NS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vu._fromErrorAndOperation(n,o,t,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n){return new Set(n.map(({providerId:t})=>t).filter(t=>!!t))}async function kS(n,t,e=!1){const i=await Yo(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return as._forOperation(n,"link",i)}async function EM(n,t,e){await Go(t);const i=xM(t.providerData);ht(i.has(e)===n,t.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,t,e=!1){const{auth:i}=n;if(hn(i.app))return Promise.reject(es(i));const a="reauthenticate";try{const o=await Yo(n,NS(i,a,t,n),e);ht(o.idToken,i,"internal-error");const c=tp(o.idToken);ht(c,i,"internal-error");const{sub:h}=c;return ht(n.uid===h,i,"user-mismatch"),as._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,t,e=!1){if(hn(n.app))return Promise.reject(es(n));const i="signIn",a=await NS(n,i,t),o=await as._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function CM(n,t){const e=je(n);return await EM(!1,e,t.providerId),kS(e,t)}function AM(n,t,e,i){return je(n).onIdTokenChanged(t,e,i)}function RM(n,t,e){return je(n).beforeAuthStateChanged(t,e)}function MM(n,t,e,i){return je(n).onAuthStateChanged(t,e,i)}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1e3,DM=10;class LS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);sM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,DM):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},OM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}LS.type="LOCAL";const NM=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}PS.type="SESSION";const zS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Qu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await kM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=sp("",20);a.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const y=_;if(y.data.eventId===g)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(y.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function LM(n){Un().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function PM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zM(){return navigator?.serviceWorker?.controller||null}function UM(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebaseLocalStorageDb",BM=1,Su="firebaseLocalStorage",HS="fbase_key";class pl{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $u(n,t){return n.transaction([Su],t?"readwrite":"readonly").objectStore(Su)}function HM(){const n=indexedDB.deleteDatabase(BS);return new pl(n).toPromise()}function vg(){const n=indexedDB.open(BS,BM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Su,{keyPath:HS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Su)?t(i):(i.close(),await HM(),t(await vg()))})})}async function M0(n,t,e){const i=$u(n,!0).put({[HS]:t,value:e});return new pl(i).toPromise()}async function jM(n,t){const e=$u(n,!1).get(t),i=await new pl(e).toPromise();return i===void 0?null:i.value}function O0(n,t){const e=$u(n,!0).delete(t);return new pl(e).toPromise()}const FM=800,VM=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>VM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qu._getInstance(UM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vg();return await M0(t,bu,"1"),await O0(t,bu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>M0(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>jM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>O0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=$u(a,!1).getAll();return new pl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const WM=jS;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,t){return t?ui(t):(ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends DS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kr(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Kr(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Kr(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function qM(n){return TM(n.auth,new rp(n),n.bypassAuthState)}function YM(n){const{auth:t,user:e}=n;return ht(e,t,"internal-error"),wM(e,new rp(n),n.bypassAuthState)}async function GM(n){const{auth:t,user:e}=n;return ht(e,t,"internal-error"),kS(e,new rp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return YM;default:Hn(this.auth,"internal-error")}}resolve(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new fl(2e3,1e4);async function WS(n,t,e){if(hn(n.app))return Promise.reject(wn(n,"operation-not-supported-in-this-environment"));const i=dl(n);jR(n,t,ip);const a=FS(i,e);return new zs(i,"signInViaPopup",t,a).executeNotNull()}class zs extends VS{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const t=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XM.get())};t()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="pendingRedirect",au=new Map;class QM extends VS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=au.get(this.auth._key());if(!t){try{const i=await $M(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}au.set(this.auth._key(),t)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $M(n,t){const e=tO(t),i=JM(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function ZM(n,t){au.set(n._key(),t)}function JM(n){return ui(n._redirectPersistence)}function tO(n){return ru(KM,n.config.apiKey,n.name)}async function eO(n,t,e=!1){if(hn(n.app))return Promise.reject(es(n));const i=dl(n),a=FS(i,t),c=await new QM(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=600*1e3;class iO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!qS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(wn(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nO&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function qS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function sO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,t={}){return ga(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oO=/^https?/;async function lO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await rO(n);for(const e of t)try{if(cO(e))return}catch{}Hn(n,"unauthorized-domain")}function cO(n){const t=_g(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!oO.test(e))return!1;if(aO.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new fl(3e4,6e4);function N0(){const n=Un().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function hO(n){return new Promise((t,e)=>{function i(){N0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N0(),e(wn(n,"network-request-failed"))},timeout:uO.get()})}if(Un().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Un().gapi?.load)i();else{const a=dM("iframefcb");return Un()[a]=()=>{gapi.load?i():e(wn(n,"network-request-failed"))},hM(`${fM()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw ou=null,t})}let ou=null;function fO(n){return ou=ou||hO(n),ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new fl(5e3,15e3),gO="__/auth/iframe",pO="emulator/auth/iframe",mO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yO(n){const t=n.config;ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Jg(t,pO):`https://${n.config.authDomain}/${gO}`,i={apiKey:t.apiKey,appName:n.name,v:da},a=_O.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${fa(i).slice(1)}`}async function vO(n){const t=await fO(n),e=Un().gapi;return ht(e,n,"internal-error"),t.open({where:document.body,url:yO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mO,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=wn(n,"network-request-failed"),h=Un().setTimeout(()=>{o(c)},dO.get());function f(){Un().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,xO=600,EO="_blank",wO="http://localhost";class k0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(n,t,e,i=SO,a=xO){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...bO,width:i.toString(),height:a.toString(),top:o,left:c},g=Oe().toLowerCase();e&&(h=ES(g)?EO:e),SS(g)&&(t=t||wO,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[b,x])=>`${y}${b}=${x},`,"");if(iM(g)&&h!=="_self")return CO(t||"",h),new k0(null);const _=window.open(t||"",h,m);ht(_,n,"popup-blocked");try{_.focus()}catch{}return new k0(_)}function CO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="__/auth/handler",RO="emulator/auth/handler",MO=encodeURIComponent("fac");async function I0(n,t,e,i,a,o){ht(n.config.authDomain,n,"auth-domain-config-required"),ht(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:da,eventId:a};if(t instanceof ip){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",hg(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))c[m]=_}if(t instanceof gl){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const m of Object.keys(h))h[m]===void 0&&delete h[m];const f=await n._getAppCheckToken(),g=f?`#${MO}=${encodeURIComponent(f)}`:"";return`${OO(n)}?${fa(h).slice(1)}${g}`}function OO({config:n}){return n.emulator?Jg(n,RO):`https://${n.authDomain}/${AO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class DO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=eO,this._overrideRedirectResult=ZM}async _openPopup(t,e,i,a){yi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await I0(t,e,i,_g(),a);return TO(t,o,sp())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await I0(t,e,i,_g(),a);return LM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(yi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await vO(t),i=new iO(t);return e.register("authEvent",a=>(ht(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vd,{type:Vd},a=>{const o=a?.[0]?.[Vd];o!==void 0&&e(!!o),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=lO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return RS()||xS()||ep()}}const NO=DO;var L0="@firebase/auth",P0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(n){ta(new Ws("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ht(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},g=new cM(i,a,o,f);return pM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ta(new Ws("auth-internal",t=>{const e=dl(t.getProvider("auth").getImmediate());return(i=>new kO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(L0,P0,IO(n)),ts(L0,P0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=300,zO=nS("authIdTokenMaxAge")||PO;let z0=null;const UO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>zO)return;const a=e?.token;z0!==a&&(z0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BO(n=uS()){const t=Qg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=gM(n,{popupRedirectResolver:NO,persistence:[WM,NM,zS]}),i=nS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=UO(o.toString());RM(e,c,()=>c(e.currentUser)),AM(e,h=>c(h))}}const a=tS("auth");return a&&mM(e,`http://${a}`),e}function HO(){return document.getElementsByTagName("head")?.[0]??document}uM({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=wn("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",HO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");var jO="firebase",FO="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(jO,FO,"app");var U0={};const B0="@firebase/database",H0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YS="";function VO(n){YS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ce(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:Wo(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return An(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new WO(t)}}catch{}return new qO},Us=GS("localStorage"),YO=GS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Xg("@firebase/database"),XS=(function(){let n=1;return function(){return n++}})(),KS=function(n){const t=OA(n),e=new CA;e.update(t);const i=e.digest();return Wg.encodeByteArray(i)},ml=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ml.apply(null,i):typeof i=="object"?t+=ce(i):t+=i,t+=" "}return t};let Lo=null,j0=!0;const GO=function(n,t){Y(!0,"Can't turn on custom loggers persistently."),Qr.logLevel=Lt.VERBOSE,Lo=Qr.log.bind(Qr)},Se=function(...n){if(j0===!0&&(j0=!1,Lo===null&&YO.get("logging_enabled")===!0&&GO()),Lo){const t=ml.apply(null,n);Lo(t)}},_l=function(n){return function(...t){Se(n,...t)}},bg=function(...n){const t="FIREBASE INTERNAL ERROR: "+ml(...n);Qr.error(t)},vi=function(...n){const t=`FIREBASE FATAL ERROR: ${ml(...n)}`;throw Qr.error(t),new Error(t)},He=function(...n){const t="FIREBASE WARNING: "+ml(...n);Qr.warn(t)},XO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&He("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ap=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},KO=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},ea="[MIN_NAME]",Ys="[MAX_NAME]",Zs=function(n,t){if(n===t)return 0;if(n===ea||t===Ys)return-1;if(t===ea||n===Ys)return 1;{const e=F0(n),i=F0(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},QO=function(n,t){return n===t?0:n<t?-1:1},So=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+ce(t))},op=function(n){if(typeof n!="object"||n===null)return ce(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=ce(t[i]),e+=":",e+=op(n[t[i]]);return e+="}",e},QS=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)a+t>e?i.push(n.substring(a,e)):i.push(n.substring(a,a+t));return i};function xe(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const $S=function(n){Y(!ap(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let a,o,c,h,f;n===0?(o=0,c=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(f=e;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(f=t;f;f-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(a?1:0),g.reverse();const m=g.join("");let _="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),_=_+y}return _.toLowerCase()},$O=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function JO(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const tD=new RegExp("^-?(0*)\\d{1,10}$"),eD=-2147483648,nD=2147483647,F0=function(n){if(tD.test(n)){const t=Number(n);if(t>=eD&&t<=nD)return t}return null},pa=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw He("Exception was thrown by user callback.",e),t},Math.floor(0))}},iD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Po=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,hn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){He(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',He(t)}}class lu{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}lu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="5",ZS="v",JS="s",tx="r",ex="f",nx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ix="ls",sx="p",Sg="ac",rx="websocket",ax="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,e,i,a,o=!1,c="",h=!1,f=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Us.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Us.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function aD(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function lx(n,t,e){Y(typeof t=="string","typeof type must == string"),Y(typeof e=="object","typeof params must == object");let i;if(t===rx)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===ax)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);aD(n)&&(e.ns=n.namespace);const a=[];return xe(e,(o,c)=>{a.push(o+"="+c)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.counters_={}}incrementCounter(t,e=1){An(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return rA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd={},qd={};function cp(n){const t=n.toString();return Wd[t]||(Wd[t]=new oD),Wd[t]}function lD(n,t){const e=n.toString();return qd[e]||(qd[e]=t()),qd[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&pa(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="start",uD="close",hD="pLPCommand",fD="pRTLPCB",cx="id",ux="pw",hx="ser",dD="cb",gD="seg",pD="ts",mD="d",_D="dframe",fx=1870,dx=30,yD=fx-dx,vD=25e3,bD=3e4;class Yr{constructor(t,e,i,a,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(t),this.stats_=cp(e),this.urlFn=f=>(this.appCheckToken&&(f[Sg]=this.appCheckToken),lx(e,ax,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new cD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bD)),KO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new up((...o)=>{const[c,h,f,g,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===V0)this.id=h,this.password=f;else if(c===uD)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[V0]="t",i[hx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[dD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[ZS]=lp,this.transportSessionId&&(i[JS]=this.transportSessionId),this.lastSessionId&&(i[ix]=this.lastSessionId),this.applicationId&&(i[sx]=this.applicationId),this.appCheckToken&&(i[Sg]=this.appCheckToken),typeof location<"u"&&location.hostname&&nx.test(location.hostname)&&(i[tx]=ex);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yr.forceAllow_=!0}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){return Yr.forceAllow_?!0:!Yr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$O()&&!ZO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=ce(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=Z1(e),a=QS(i,yD);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[_D]="t",i[cx]=t,i[ux]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=ce(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class up{constructor(t,e,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XS(),window[hD+this.uniqueCallbackIdentifier]=t,window[fD+this.uniqueCallbackIdentifier]=e,this.myIFrame=up.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Se("frame writing exception"),h.stack&&Se(h.stack),Se(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Se("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[cx]=this.myID,t[ux]=this.myPW,t[hx]=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dx+i.length<=fx;){const c=this.pendingSegs.shift();i=i+"&"+gD+a+"="+c.seg+"&"+pD+a+"="+c.ts+"&"+mD+a+"="+c.d,a++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(vD)),o=()=>{clearTimeout(a),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Se("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=16384,xD=45e3;let xu=null;typeof MozWebSocket<"u"?xu=MozWebSocket:typeof WebSocket<"u"&&(xu=WebSocket);class Sn{constructor(t,e,i,a,o,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=cp(e),this.connURL=Sn.connectionURL_(e,c,h,a,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,a,o){const c={};return c[ZS]=lp,typeof location<"u"&&location.hostname&&nx.test(location.hostname)&&(c[tx]=ex),e&&(c[JS]=e),i&&(c[ix]=i),a&&(c[Sg]=a),o&&(c[sx]=o),lx(t,rx,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Us.set("previous_websocket_failure",!0);try{let i;yA(),this.mySock=new xu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&xu!==null&&!Sn.forceDisallow_}static previouslyFailed(){return Us.isInMemoryStorage||Us.get("previous_websocket_failure")===!0}markConnectionHealthy(){Us.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=Wo(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Y(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=ce(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=QS(e,SD);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xD))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Sn.responsesRequiredToBeHealthy=2;Sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static get ALL_TRANSPORTS(){return[Yr,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=Sn&&Sn.isAvailable();let i=e&&!Sn.previouslyFailed();if(t.webSocketOnly&&(e||He("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Sn];else{const a=this.transports_=[];for(const o of Xo.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);Xo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6e4,wD=5e3,TD=10*1024,CD=100*1024,Yd="t",W0="d",AD="s",q0="r",RD="e",Y0="o",G0="a",X0="n",K0="p",MD="h";class OD{constructor(t,e,i,a,o,c,h,f,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new Xo(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Yd in t){const e=t[Yd];e===G0?this.upgradeIfSecondaryHealthy_():e===q0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Y0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=So("t",t),i=So("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:K0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:G0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:X0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=So("t",t),i=So("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=So(Yd,t);if(W0 in t){const i=t[W0];if(e===MD){const a={...i};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(e===X0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===AD?this.onConnectionShutdown_(i):e===q0?this.onReset_(i):e===RD?bg("Server Error: "+i):e===Y0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),lp!==i&&He("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ED))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:K0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.allowedEvents_=t,this.listeners_={},Y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let o=0;o<a.length;o++)if(a[o].callback===e&&(!i||i===a[o].context)){a.splice(o,1);return}}validateEventType_(t){Y(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends px{static getInstance(){return new Eu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=32,$0=768;class Pt{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function At(){return new Pt("")}function yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function os(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Pt(n.pieces_,t)}function hp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function DD(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Ko(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function mx(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Pt(t,0)}function Zt(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Pt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Pt(e,0)}function xt(n){return n.pieceNum_>=n.pieces_.length}function Me(n,t){const e=yt(n),i=yt(t);if(e===null)return t;if(e===i)return Me(Ft(n),Ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ND(n,t){const e=Ko(n,0),i=Ko(t,0);for(let a=0;a<e.length&&a<i.length;a++){const o=Zs(e[a],i[a]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function fp(n,t){if(os(n)!==os(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function fn(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(os(n)>os(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class kD{constructor(t,e){this.errorPrefix_=e,this.parts_=Ko(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xu(this.parts_[i]);_x(this)}}function ID(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Xu(t),_x(n)}function LD(n){const t=n.parts_.pop();n.byteLength_-=Xu(t),n.parts_.length>0&&(n.byteLength_-=1)}function _x(n){if(n.byteLength_>$0)throw new Error(n.errorPrefix_+"has a key path longer than "+$0+" bytes ("+n.byteLength_+").");if(n.parts_.length>Q0)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Q0+") or object contains a cycle "+Is(n))}function Is(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends px{static getInstance(){return new dp}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return Y(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=1e3,PD=300*1e3,Z0=30*1e3,zD=1.3,UD=3e4,BD="server_kill",J0=3;class pi extends gx{constructor(t,e,i,a,o,c,h,f){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=pi.nextPersistentConnectionId_++,this.log_=_l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xo,this.maxReconnectDelay_=PD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const a=++this.requestNumber_,o={r:a,a:t,b:e};this.log_(ce(o)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const e=new ul,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,a){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Y(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:e,query:t,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),a=e._queryIdentifier;this.log_("Listen on "+i+" for "+a);const o={p:i},c="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,g=h.s;pi.warnOnListenWarnings_(f,e),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,a),t.onComplete&&t.onComplete(g,f))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&An(t,"w")){const i=Fs(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();He(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||TA(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Z0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=wA(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,a=>{const o=a.s,c=a.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),Y(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,e)}sendUnlisten_(t,e,i,a){this.log_("Unlisten on "+t+" for "+e);const o={p:t},c="n";a&&(o.q=i,o.t=a),this.sendRequest(c,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,a){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(t,e,i,a){this.putInternal("p",t,e,i,a)}merge(t,e,i,a){this.putInternal("m",t,e,i,a)}putInternal(t,e,i,a,o){this.initConnection_();const c={p:e,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ce(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):bg("Unrecognized action received from server: "+ce(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UD&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+pi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},g=function(_){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:f,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);c?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,h=new OD(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,b=>{He(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(BD)},o))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&He(_),f())}}}interrupt(t){Se("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Se("Resuming connection for reason: "+t),delete this.interruptReasons_[t],hg(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>op(o)).join("$"):i="default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,e){const i=new Pt(t).toString();let a;if(this.listens.has(i)){const o=this.listens.get(i);a=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,e){Se("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=J0&&(this.reconnectDelay_=Z0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Se("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=J0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+YS.replace(/\./g,"-")]=1,Yg()?t["framework.cordova"]=1:rS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eu.getInstance().currentlyOnline();return hg(this.interruptReasons_)&&t}}pi.nextPersistentConnectionId_=0;pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new vt(ea,t),a=new vt(ea,e);return this.compare(i,a)!==0}minPost(){return vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;class yx extends Zu{static get __EMPTY_NODE(){return jc}static set __EMPTY_NODE(t){jc=t}compare(t,e){return Zs(t.name,e.name)}isDefinedOn(t){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vt.MIN}maxPost(){return new vt(Ys,jc)}makePost(t,e){return Y(typeof t=="string","KeyIndex indexValue must always be a string."),new vt(t,jc)}toString(){return".key"}}const $r=new yx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,e,i,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,a&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class _e{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??_e.RED,this.left=a??Ue.EMPTY_NODE,this.right=o??Ue.EMPTY_NODE}copy(t,e,i,a,o){return new _e(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a=a.copy(null,e,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ue.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,a;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class HD{copy(t,e,i,a,o){return this}insert(t,e,i){return new _e(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ue{constructor(t,e=Ue.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ue(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(t){return new Ue(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Fc(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Fc(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Fc(this.root_,null,this.comparator_,!0,t)}}Ue.EMPTY_NODE=new HD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n,t){return Zs(n.name,t.name)}function gp(n,t){return Zs(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg;function FD(n){xg=n}const vx=function(n){return typeof n=="number"?"number:"+$S(n):"string:"+n},bx=function(n){if(n.isLeafNode()){const t=n.val();Y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&An(t,".sv"),"Priority must be a string or number.")}else Y(n===xg||n.isEmpty(),"priority of unexpected type.");Y(n===xg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tb;class me{static set __childrenNodeConstructor(t){tb=t}static get __childrenNodeConstructor(){return tb}constructor(t,e=me.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new me(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xt(t)?this:yt(t)===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=yt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(Y(i!==".priority"||os(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,me.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+vx(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=$S(this.value_):t+=this.value_,this.lazyHash_=KS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===me.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof me.__childrenNodeConstructor?-1:(Y(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,a=me.VALUE_TYPE_ORDER.indexOf(e),o=me.VALUE_TYPE_ORDER.indexOf(i);return Y(a>=0,"Unknown leaf type: "+e),Y(o>=0,"Unknown leaf type: "+i),a===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sx,xx;function VD(n){Sx=n}function WD(n){xx=n}class qD extends Zu{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),o=i.compareTo(a);return o===0?Zs(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(Ys,new me("[PRIORITY-POST]",xx))}makePost(t,e){const i=Sx(t);return new vt(e,new me("[PRIORITY-POST]",i))}toString(){return".priority"}}const Xt=new qD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=Math.log(2);class GD{constructor(t){const e=o=>parseInt(Math.log(o)/YD,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const a=i(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const wu=function(n,t,e,i){n.sort(t);const a=function(f,g){const m=g-f;let _,y;if(m===0)return null;if(m===1)return _=n[f],y=e?e(_):_,new _e(y,_.node,_e.BLACK,null,null);{const b=parseInt(m/2,10)+f,x=a(f,b),E=a(b+1,g);return _=n[b],y=e?e(_):_,new _e(y,_.node,_e.BLACK,x,E)}},o=function(f){let g=null,m=null,_=n.length;const y=function(x,E){const w=_-x,A=_;_-=x;const O=a(w+1,A),U=n[w],V=e?e(U):U;b(new _e(V,U.node,E,null,O))},b=function(x){g?(g.left=x,g=x):(m=x,g=x)};for(let x=0;x<f.count;++x){const E=f.nextBitIsOne(),w=Math.pow(2,f.count-(x+1));E?y(w,_e.BLACK):(y(w,_e.BLACK),y(w,_e.RED))}return m},c=new GD(n.length),h=o(c);return new Ue(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const jr={};class hi{static get Default(){return Y(jr&&Xt,"ChildrenNode.ts has not been loaded"),Gd=Gd||new hi({".priority":jr},{".priority":Xt}),Gd}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=Fs(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ue?e:null}hasIndex(t){return An(this.indexSet_,t.toString())}addIndex(t,e){Y(t!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const o=e.getIterator(vt.Wrap);let c=o.getNext();for(;c;)a=a||t.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;a?h=wu(i,t.getCompare()):h=jr;const f=t.toString(),g={...this.indexSet_};g[f]=t;const m={...this.indexes_};return m[f]=h,new hi(m,g)}addToIndexes(t,e){const i=pu(this.indexes_,(a,o)=>{const c=Fs(this.indexSet_,o);if(Y(c,"Missing index implementation for "+o),a===jr)if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(vt.Wrap);let g=f.getNext();for(;g;)g.name!==t.name&&h.push(g),g=f.getNext();return h.push(t),wu(h,c.getCompare())}else return jr;else{const h=e.get(t.name);let f=a;return h&&(f=f.remove(new vt(t.name,h))),f.insert(t,t.node)}});return new hi(i,this.indexSet_)}removeFromIndexes(t,e){const i=pu(this.indexes_,a=>{if(a===jr)return a;{const o=e.get(t.name);return o?a.remove(new vt(t.name,o)):a}});return new hi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo;class lt{static get EMPTY_NODE(){return Eo||(Eo=new lt(new Ue(gp),null,hi.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bx(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Eo}updatePriority(t){return this.children_.isEmpty()?this:new lt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Eo:e}}getChild(t){const e=yt(t);return e===null?this:this.getImmediateChild(e).getChild(Ft(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(Y(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new vt(t,e);let a,o;e.isEmpty()?(a=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const c=a.isEmpty()?Eo:this.priorityNode_;return new lt(a,c,o)}}updateChild(t,e){const i=yt(t);if(i===null)return e;{Y(yt(t)!==".priority"||os(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Ft(t),e);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,a=0,o=!0;if(this.forEachChild(Xt,(c,h)=>{e[c]=h.val(t),i++,o&&lt.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):o=!1}),!t&&o&&a<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+vx(this.getPriority().val())+":"),this.forEachChild(Xt,(e,i)=>{const a=i.hash();a!==""&&(t+=":"+e+":"+a)}),this.lazyHash_=t===""?"":KS(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const a=this.resolveIndex_(i);if(a){const o=a.getPredecessorKey(new vt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>e(a.name,a.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,vt.Wrap);let o=a.peek();for(;o!=null&&e.compare(o,t)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,vt.Wrap);let o=a.peek();for(;o!=null&&e.compare(o,t)>0;)a.getNext(),o=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===yl?-1:0}withIndex(t){if(t===$r||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new lt(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===$r||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Xt),a=e.getIterator(Xt);let o=i.getNext(),c=a.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=a.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===$r?null:this.indexMap_.get(t.toString())}}lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XD extends lt{constructor(){super(new Ue(gp),lt.EMPTY_NODE,hi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return lt.EMPTY_NODE}isEmpty(){return!1}}const yl=new XD;Object.defineProperties(vt,{MIN:{value:new vt(ea,lt.EMPTY_NODE)},MAX:{value:new vt(Ys,yl)}});yx.__EMPTY_NODE=lt.EMPTY_NODE;me.__childrenNodeConstructor=lt;FD(yl);WD(yl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=!0;function le(n,t=null){if(n===null)return lt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),Y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new me(e,le(t))}if(!(n instanceof Array)&&KD){const e=[];let i=!1;if(xe(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=le(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new vt(c,f)))}}),e.length===0)return lt.EMPTY_NODE;const o=wu(e,jD,c=>c.name,gp);if(i){const c=wu(e,Xt.getCompare());return new lt(o,le(t),new hi({".priority":c},{".priority":Xt}))}else return new lt(o,le(t),hi.Default)}else{let e=lt.EMPTY_NODE;return xe(n,(i,a)=>{if(An(n,i)&&i.substring(0,1)!=="."){const o=le(a);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(le(t))}}VD(le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends Zu{constructor(t){super(),this.indexPath_=t,Y(!xt(t)&&yt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),o=i.compareTo(a);return o===0?Zs(t.name,e.name):o}makePost(t,e){const i=le(t),a=lt.EMPTY_NODE.updateChild(this.indexPath_,i);return new vt(e,a)}maxPost(){const t=lt.EMPTY_NODE.updateChild(this.indexPath_,yl);return new vt(Ys,t)}toString(){return Ko(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends Zu{compare(t,e){const i=t.node.compareTo(e.node);return i===0?Zs(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(t,e){const i=le(t);return new vt(e,i)}toString(){return".value"}}const ZD=new $D;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){return{type:"value",snapshotNode:n}}function na(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Qo(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function $o(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function JD(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t){this.index_=t}updateChild(t,e,i,a,o,c){Y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(a).equals(i.getChild(a))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Qo(e,h)):Y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(na(e,i)):c.trackChildChange($o(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Xt,(a,o)=>{e.hasChild(a)||i.trackChildChange(Qo(a,o))}),e.isLeafNode()||e.forEachChild(Xt,(a,o)=>{if(t.hasChild(a)){const c=t.getImmediateChild(a);c.equals(o)||i.trackChildChange($o(a,o,c))}else i.trackChildChange(na(a,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?lt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.indexedFilter_=new pp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zo.getStartPost_(t),this.endPost_=Zo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,o,c){return this.matches(new vt(e,i))||(i=lt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=lt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(lt.EMPTY_NODE);const o=this;return e.forEachChild(Xt,(c,h)=>{o.matches(new vt(c,h))||(a=a.updateImmediateChild(c,lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Zo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,o,c){return this.rangedFilter_.matches(new vt(e,i))||(i=lt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=lt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){a=lt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=e.withIndex(this.index_),a=a.updatePriority(lt.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,lt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,o){let c;if(this.reverse_){const _=this.index_.getCompare();c=(y,b)=>_(b,y)}else c=this.index_.getCompare();const h=t;Y(h.numChildren()===this.limit_,"");const f=new vt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(h.hasChild(e)){const _=h.getImmediateChild(e);let y=a.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===e||h.hasChild(y.name));)y=a.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:c(y,f);if(m&&!i.isEmpty()&&b>=0)return o?.trackChildChange($o(e,i,_)),h.updateImmediateChild(e,i);{o?.trackChildChange(Qo(e,_));const E=h.updateImmediateChild(e,lt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(na(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return i.isEmpty()?t:m&&c(g,f)>=0?(o!=null&&(o.trackChildChange(Qo(g.name,g.node)),o.trackChildChange(na(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,lt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ea}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xt}copy(){const t=new mp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function eN(n){return n.loadsAllData()?new pp(n.getIndex()):n.hasLimit()?new tN(n):new Zo(n)}function eb(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Xt?e="$priority":n.index_===ZD?e="$value":n.index_===$r?e="$key":(Y(n.index_ instanceof QD,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=ce(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=ce(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+ce(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=ce(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+ce(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function nb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Xt&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends gx{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(Y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=_l("p:rest:"),this.listens_={}}listen(t,e,i,a){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=Tu.getListenId_(t,i),h={};this.listens_[c]=h;const f=eb(t._queryParams);this.restRequest_(o+".json",f,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(o,_,!1,i),Fs(this.listens_,c)===h){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",a(y,null)}})}unlisten(t,e){const i=Tu.getListenId_(t,e);delete this.listens_[i]}get(t){const e=eb(t._queryParams),i=t._path.toString(),a=new ul;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(e.auth=a.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fa(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=Wo(h.responseText)}catch{He("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&He("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.rootNode_=lt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return{value:null,children:new Map}}function wx(n,t,e){if(xt(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=yt(t);n.children.has(i)||n.children.set(i,Cu());const a=n.children.get(i);t=Ft(t),wx(a,t,e)}}function Eg(n,t,e){n.value!==null?e(t,n.value):iN(n,(i,a)=>{const o=new Pt(t.toString()+"/"+i);Eg(a,o,e)})}function iN(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&xe(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=10*1e3,rN=30*1e3,aN=300*1e3;class oN{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new sN(t);const i=ib+(rN-ib)*Math.random();Po(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;xe(t,(a,o)=>{o>0&&An(this.statsToReport_,a)&&(e[a]=o,i=!0)}),i&&this.server_.reportStats(e),Po(this.reportStats_.bind(this),Math.floor(Math.random()*2*aN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function _p(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=En.ACK_USER_WRITE,this.source=_p()}operationForChild(t){if(xt(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Pt(t));return new Au(At(),e,this.revert)}}else return Y(yt(this.path)===t,"operationForChild called for unrelated child."),new Au(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){this.source=t,this.path=e,this.type=En.LISTEN_COMPLETE}operationForChild(t){return xt(this.path)?new Jo(this.source,At()):new Jo(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=En.OVERWRITE}operationForChild(t){return xt(this.path)?new Gs(this.source,At(),this.snap.getImmediateChild(t)):new Gs(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=En.MERGE}operationForChild(t){if(xt(this.path)){const e=this.children.subtree(new Pt(t));return e.isEmpty()?null:e.value?new Gs(this.source,At(),e.value):new ia(this.source,At(),e)}else return Y(yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function cN(n,t,e,i){const a=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(JD(c.childName,c.snapshotNode))}),wo(n,a,"child_removed",t,i,e),wo(n,a,"child_added",t,i,e),wo(n,a,"child_moved",o,i,e),wo(n,a,"child_changed",t,i,e),wo(n,a,"value",t,i,e),a}function wo(n,t,e,i,a,o){const c=i.filter(h=>h.type===e);c.sort((h,f)=>hN(n,h,f)),c.forEach(h=>{const f=uN(n,h,o);a.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(f,n.query_))})})}function uN(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function hN(n,t,e){if(t.childName==null||e.childName==null)throw ua("Should only compare child_ events.");const i=new vt(t.childName,t.snapshotNode),a=new vt(e.childName,e.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n,t){return{eventCache:n,serverCache:t}}function zo(n,t,e,i){return Ju(new ls(t,e,i),n.serverCache)}function Tx(n,t,e,i){return Ju(n.eventCache,new ls(t,e,i))}function Ru(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;const fN=()=>(Xd||(Xd=new Ue(QO)),Xd);class jt{static fromObject(t){let e=new jt(null);return xe(t,(i,a)=>{e=e.set(new Pt(i),a)}),e}constructor(t,e=fN()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:At(),value:this.value};if(xt(t))return null;{const i=yt(t),a=this.children.get(i);if(a!==null){const o=a.findRootMostMatchingPathAndValue(Ft(t),e);return o!=null?{path:Zt(new Pt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const e=yt(t),i=this.children.get(e);return i!==null?i.subtree(Ft(t)):new jt(null)}}set(t,e){if(xt(t))return new jt(e,this.children);{const i=yt(t),o=(this.children.get(i)||new jt(null)).set(Ft(t),e),c=this.children.insert(i,o);return new jt(this.value,c)}}remove(t){if(xt(t))return this.children.isEmpty()?new jt(null):new jt(null,this.children);{const e=yt(t),i=this.children.get(e);if(i){const a=i.remove(Ft(t));let o;return a.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,a),this.value===null&&o.isEmpty()?new jt(null):new jt(this.value,o)}else return this}}get(t){if(xt(t))return this.value;{const e=yt(t),i=this.children.get(e);return i?i.get(Ft(t)):null}}setTree(t,e){if(xt(t))return e;{const i=yt(t),o=(this.children.get(i)||new jt(null)).setTree(Ft(t),e);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new jt(this.value,c)}}fold(t){return this.fold_(At(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,o)=>{i[a]=o.fold_(Zt(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,At(),e)}findOnPath_(t,e,i){const a=this.value?i(e,this.value):!1;if(a)return a;if(xt(t))return null;{const o=yt(t),c=this.children.get(o);return c?c.findOnPath_(Ft(t),Zt(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,At(),e)}foreachOnPath_(t,e,i){if(xt(t))return this;{this.value&&i(e,this.value);const a=yt(t),o=this.children.get(a);return o?o.foreachOnPath_(Ft(t),Zt(e,a),i):new jt(null)}}foreach(t){this.foreach_(At(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Zt(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.writeTree_=t}static empty(){return new Tn(new jt(null))}}function Uo(n,t,e){if(xt(t))return new Tn(new jt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const a=i.path;let o=i.value;const c=Me(a,t);return o=o.updateChild(c,e),new Tn(n.writeTree_.set(a,o))}else{const a=new jt(e),o=n.writeTree_.setTree(t,a);return new Tn(o)}}}function wg(n,t,e){let i=n;return xe(e,(a,o)=>{i=Uo(i,Zt(t,a),o)}),i}function sb(n,t){if(xt(t))return Tn.empty();{const e=n.writeTree_.setTree(t,new jt(null));return new Tn(e)}}function Tg(n,t){return Js(n,t)!=null}function Js(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(Me(e.path,t)):null}function rb(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Xt,(i,a)=>{t.push(new vt(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&t.push(new vt(i,a.value))}),t}function ns(n,t){if(xt(t))return n;{const e=Js(n,t);return e!=null?new Tn(new jt(e)):new Tn(n.writeTree_.subtree(t))}}function Cg(n){return n.writeTree_.isEmpty()}function sa(n,t){return Cx(At(),n.writeTree_,t)}function Cx(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,o)=>{a===".priority"?(Y(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=Cx(Zt(n,a),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(Zt(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n,t){return Ox(t,n)}function dN(n,t,e,i,a){Y(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Uo(n.visibleWrites,t,e)),n.lastWriteId=i}function gN(n,t,e,i){Y(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=wg(n.visibleWrites,t,e),n.lastWriteId=i}function pN(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function mN(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);Y(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,o=!1,c=n.allWrites.length-1;for(;a&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&_N(h,i.path)?a=!1:fn(i.path,h.path)&&(o=!0)),c--}if(a){if(o)return yN(n),!0;if(i.snap)n.visibleWrites=sb(n.visibleWrites,i.path);else{const h=i.children;xe(h,f=>{n.visibleWrites=sb(n.visibleWrites,Zt(i.path,f))})}return!0}else return!1}function _N(n,t){if(n.snap)return fn(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&fn(Zt(n.path,e),t))return!0;return!1}function yN(n){n.visibleWrites=Ax(n.allWrites,vN,At()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function vN(n){return n.visible}function Ax(n,t,e){let i=Tn.empty();for(let a=0;a<n.length;++a){const o=n[a];if(t(o)){const c=o.path;let h;if(o.snap)fn(e,c)?(h=Me(e,c),i=Uo(i,h,o.snap)):fn(c,e)&&(h=Me(c,e),i=Uo(i,At(),o.snap.getChild(h)));else if(o.children){if(fn(e,c))h=Me(e,c),i=wg(i,h,o.children);else if(fn(c,e))if(h=Me(c,e),xt(h))i=wg(i,At(),o.children);else{const f=Fs(o.children,yt(h));if(f){const g=f.getChild(Ft(h));i=Uo(i,At(),g)}}}else throw ua("WriteRecord should have .snap or .children")}}return i}function Rx(n,t,e,i,a){if(!i&&!a){const o=Js(n.visibleWrites,t);if(o!=null)return o;{const c=ns(n.visibleWrites,t);if(Cg(c))return e;if(e==null&&!Tg(c,At()))return null;{const h=e||lt.EMPTY_NODE;return sa(c,h)}}}else{const o=ns(n.visibleWrites,t);if(!a&&Cg(o))return e;if(!a&&e==null&&!Tg(o,At()))return null;{const c=function(g){return(g.visible||a)&&(!i||!~i.indexOf(g.writeId))&&(fn(g.path,t)||fn(t,g.path))},h=Ax(n.allWrites,c,t),f=e||lt.EMPTY_NODE;return sa(h,f)}}}function bN(n,t,e){let i=lt.EMPTY_NODE;const a=Js(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Xt,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=ns(n.visibleWrites,t);return e.forEachChild(Xt,(c,h)=>{const f=sa(ns(o,new Pt(c)),h);i=i.updateImmediateChild(c,f)}),rb(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=ns(n.visibleWrites,t);return rb(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function SN(n,t,e,i,a){Y(i||a,"Either existingEventSnap or existingServerSnap must exist");const o=Zt(t,e);if(Tg(n.visibleWrites,o))return null;{const c=ns(n.visibleWrites,o);return Cg(c)?a.getChild(e):sa(c,a.getChild(e))}}function xN(n,t,e,i){const a=Zt(t,e),o=Js(n.visibleWrites,a);if(o!=null)return o;if(i.isCompleteForChild(e)){const c=ns(n.visibleWrites,a);return sa(c,i.getNode().getImmediateChild(e))}else return null}function EN(n,t){return Js(n.visibleWrites,t)}function wN(n,t,e,i,a,o,c){let h;const f=ns(n.visibleWrites,t),g=Js(f,At());if(g!=null)h=g;else if(e!=null)h=sa(f,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=c.getCompare(),y=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let b=y.getNext();for(;b&&m.length<a;)_(b,i)!==0&&m.push(b),b=y.getNext();return m}else return[]}function TN(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function Mu(n,t,e,i){return Rx(n.writeTree,n.treePath,t,e,i)}function bp(n,t){return bN(n.writeTree,n.treePath,t)}function ab(n,t,e,i){return SN(n.writeTree,n.treePath,t,e,i)}function Ou(n,t){return EN(n.writeTree,Zt(n.treePath,t))}function CN(n,t,e,i,a,o){return wN(n.writeTree,n.treePath,t,e,i,a,o)}function Sp(n,t,e){return xN(n.writeTree,n.treePath,t,e)}function Mx(n,t){return Ox(Zt(n.treePath,t),n.writeTree)}function Ox(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;Y(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),Y(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const o=a.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,$o(i,t.snapshotNode,a.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,Qo(i,a.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,na(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,$o(i,t.snapshotNode,a.oldSnap));else throw ua("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const Dx=new RN;class xp{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sp(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),o=CN(this.writes_,a,e,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){return{filter:n}}function ON(n,t){Y(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Y(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function DN(n,t,e,i,a){const o=new AN;let c,h;if(e.type===En.OVERWRITE){const g=e;g.source.fromUser?c=Ag(n,t,g.path,g.snap,i,a,o):(Y(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!xt(g.path),c=Du(n,t,g.path,g.snap,i,a,h,o))}else if(e.type===En.MERGE){const g=e;g.source.fromUser?c=kN(n,t,g.path,g.children,i,a,o):(Y(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Rg(n,t,g.path,g.children,i,a,h,o))}else if(e.type===En.ACK_USER_WRITE){const g=e;g.revert?c=PN(n,t,g.path,i,a,o):c=IN(n,t,g.path,g.affectedTree,i,a,o)}else if(e.type===En.LISTEN_COMPLETE)c=LN(n,t,e.path,i,o);else throw ua("Unknown operation type: "+e.type);const f=o.getChanges();return NN(t,c,f),{viewCache:c,changes:f}}function NN(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Ru(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Ex(Ru(t)))}}function Nx(n,t,e,i,a,o){const c=t.eventCache;if(Ou(i,e)!=null)return t;{let h,f;if(xt(e))if(Y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Xs(t),m=g instanceof lt?g:lt.EMPTY_NODE,_=bp(i,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const g=Mu(i,Xs(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=yt(e);if(g===".priority"){Y(os(e)===1,"Can't have a priority with additional path components");const m=c.getNode();f=t.serverCache.getNode();const _=ab(i,e,m,f);_!=null?h=n.filter.updatePriority(m,_):h=c.getNode()}else{const m=Ft(e);let _;if(c.isCompleteForChild(g)){f=t.serverCache.getNode();const y=ab(i,e,c.getNode(),f);y!=null?_=c.getNode().getImmediateChild(g).updateChild(m,y):_=c.getNode().getImmediateChild(g)}else _=Sp(i,g,t.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),g,_,m,a,o):h=c.getNode()}}return zo(t,h,c.isFullyInitialized()||xt(e),n.filter.filtersNodes())}}function Du(n,t,e,i,a,o,c,h){const f=t.serverCache;let g;const m=c?n.filter:n.filter.getIndexedFilter();if(xt(e))g=m.updateFullNode(f.getNode(),i,null);else if(m.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(e,i);g=m.updateFullNode(f.getNode(),b,null)}else{const b=yt(e);if(!f.isCompleteForPath(e)&&os(e)>1)return t;const x=Ft(e),w=f.getNode().getImmediateChild(b).updateChild(x,i);b===".priority"?g=m.updatePriority(f.getNode(),w):g=m.updateChild(f.getNode(),b,w,x,Dx,null)}const _=Tx(t,g,f.isFullyInitialized()||xt(e),m.filtersNodes()),y=new xp(a,_,o);return Nx(n,_,e,a,y,h)}function Ag(n,t,e,i,a,o,c){const h=t.eventCache;let f,g;const m=new xp(a,t,o);if(xt(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=zo(t,g,!0,n.filter.filtersNodes());else{const _=yt(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),f=zo(t,g,h.isFullyInitialized(),h.isFiltered());else{const y=Ft(e),b=h.getNode().getImmediateChild(_);let x;if(xt(y))x=i;else{const E=m.getCompleteChild(_);E!=null?hp(y)===".priority"&&E.getChild(mx(y)).isEmpty()?x=E:x=E.updateChild(y,i):x=lt.EMPTY_NODE}if(b.equals(x))f=t;else{const E=n.filter.updateChild(h.getNode(),_,x,y,m,c);f=zo(t,E,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function ob(n,t){return n.eventCache.isCompleteForChild(t)}function kN(n,t,e,i,a,o,c){let h=t;return i.foreach((f,g)=>{const m=Zt(e,f);ob(t,yt(m))&&(h=Ag(n,h,m,g,a,o,c))}),i.foreach((f,g)=>{const m=Zt(e,f);ob(t,yt(m))||(h=Ag(n,h,m,g,a,o,c))}),h}function lb(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function Rg(n,t,e,i,a,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f=t,g;xt(e)?g=i:g=new jt(null).setTree(e,i);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,y)=>{if(m.hasChild(_)){const b=t.serverCache.getNode().getImmediateChild(_),x=lb(n,b,y);f=Du(n,f,new Pt(_),x,a,o,c,h)}}),g.children.inorderTraversal((_,y)=>{const b=!t.serverCache.isCompleteForChild(_)&&y.value===null;if(!m.hasChild(_)&&!b){const x=t.serverCache.getNode().getImmediateChild(_),E=lb(n,x,y);f=Du(n,f,new Pt(_),E,a,o,c,h)}}),f}function IN(n,t,e,i,a,o,c){if(Ou(a,e)!=null)return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(i.value!=null){if(xt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return Du(n,t,e,f.getNode().getChild(e),a,o,h,c);if(xt(e)){let g=new jt(null);return f.getNode().forEachChild($r,(m,_)=>{g=g.set(new Pt(m),_)}),Rg(n,t,e,g,a,o,h,c)}else return t}else{let g=new jt(null);return i.foreach((m,_)=>{const y=Zt(e,m);f.isCompleteForPath(y)&&(g=g.set(m,f.getNode().getChild(y)))}),Rg(n,t,e,g,a,o,h,c)}}function LN(n,t,e,i,a){const o=t.serverCache,c=Tx(t,o.getNode(),o.isFullyInitialized()||xt(e),o.isFiltered());return Nx(n,c,e,i,Dx,a)}function PN(n,t,e,i,a,o){let c;if(Ou(i,e)!=null)return t;{const h=new xp(i,t,a),f=t.eventCache.getNode();let g;if(xt(e)||yt(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Mu(i,Xs(t));else{const _=t.serverCache.getNode();Y(_ instanceof lt,"serverChildren would be complete if leaf node"),m=bp(i,_)}m=m,g=n.filter.updateFullNode(f,m,o)}else{const m=yt(e);let _=Sp(i,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=f.getImmediateChild(m)),_!=null?g=n.filter.updateChild(f,m,_,Ft(e),h,o):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(f,m,lt.EMPTY_NODE,Ft(e),h,o):g=f,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Mu(i,Xs(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||Ou(i,At())!=null,zo(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new pp(i.getIndex()),o=eN(i);this.processor_=MN(o);const c=e.serverCache,h=e.eventCache,f=a.updateFullNode(lt.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(lt.EMPTY_NODE,h.getNode(),null),m=new ls(f,c.isFullyInitialized(),a.filtersNodes()),_=new ls(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ju(_,m),this.eventGenerator_=new lN(this.query_)}get query(){return this.query_}}function UN(n){return n.viewCache_.serverCache.getNode()}function BN(n){return Ru(n.viewCache_)}function HN(n,t){const e=Xs(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xt(t)&&!e.getImmediateChild(yt(t)).isEmpty())?e.getChild(t):null}function cb(n){return n.eventRegistrations_.length===0}function jN(n,t){n.eventRegistrations_.push(t)}function ub(n,t,e){const i=[];if(e){Y(t==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,a);c&&i.push(c)})}if(t){let a=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(t))a.push(c);else if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function hb(n,t,e,i){t.type===En.MERGE&&t.source.queryId!==null&&(Y(Xs(n.viewCache_),"We should always have a full cache before handling merges"),Y(Ru(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,o=DN(n.processor_,a,t,e,i);return ON(n.processor_,o.viewCache),Y(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,kx(n,o.changes,o.viewCache.eventCache.getNode(),null)}function FN(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Xt,(o,c)=>{i.push(na(o,c))}),e.isFullyInitialized()&&i.push(Ex(e.getNode())),kx(n,i,e.getNode(),t)}function kx(n,t,e,i){const a=i?[i]:n.eventRegistrations_;return cN(n.eventGenerator_,t,e,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class Ix{constructor(){this.views=new Map}}function VN(n){Y(!Nu,"__referenceConstructor has already been defined"),Nu=n}function WN(){return Y(Nu,"Reference.ts has not been loaded"),Nu}function qN(n){return n.views.size===0}function Ep(n,t,e,i){const a=t.source.queryId;if(a!==null){const o=n.views.get(a);return Y(o!=null,"SyncTree gave us an op for an invalid query."),hb(o,t,e,i)}else{let o=[];for(const c of n.views.values())o=o.concat(hb(c,t,e,i));return o}}function Lx(n,t,e,i,a){const o=t._queryIdentifier,c=n.views.get(o);if(!c){let h=Mu(e,a?i:null),f=!1;h?f=!0:i instanceof lt?(h=bp(e,i),f=!1):(h=lt.EMPTY_NODE,f=!1);const g=Ju(new ls(h,f,!1),new ls(i,a,!1));return new zN(t,g)}return c}function YN(n,t,e,i,a,o){const c=Lx(n,t,i,a,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),jN(c,e),FN(c,e)}function GN(n,t,e,i){const a=t._queryIdentifier,o=[];let c=[];const h=cs(n);if(a==="default")for(const[f,g]of n.views.entries())c=c.concat(ub(g,e,i)),cb(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||o.push(g.query));else{const f=n.views.get(a);f&&(c=c.concat(ub(f,e,i)),cb(f)&&(n.views.delete(a),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!cs(n)&&o.push(new(WN())(t._repo,t._path)),{removed:o,events:c}}function Px(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function is(n,t){let e=null;for(const i of n.views.values())e=e||HN(i,t);return e}function zx(n,t){if(t._queryParams.loadsAllData())return eh(n);{const i=t._queryIdentifier;return n.views.get(i)}}function Ux(n,t){return zx(n,t)!=null}function cs(n){return eh(n)!=null}function eh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;function XN(n){Y(!ku,"__referenceConstructor has already been defined"),ku=n}function KN(){return Y(ku,"Reference.ts has not been loaded"),ku}let QN=1;class fb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new jt(null),this.pendingWriteTree_=TN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bx(n,t,e,i,a){return dN(n.pendingWriteTree_,t,e,i,a),a?ma(n,new Gs(_p(),t,e)):[]}function $N(n,t,e,i){gN(n.pendingWriteTree_,t,e,i);const a=jt.fromObject(e);return ma(n,new ia(_p(),t,a))}function Bs(n,t,e=!1){const i=pN(n.pendingWriteTree_,t);if(mN(n.pendingWriteTree_,t)){let o=new jt(null);return i.snap!=null?o=o.set(At(),!0):xe(i.children,c=>{o=o.set(new Pt(c),!0)}),ma(n,new Au(i.path,o,e))}else return[]}function vl(n,t,e){return ma(n,new Gs(yp(),t,e))}function ZN(n,t,e){const i=jt.fromObject(e);return ma(n,new ia(yp(),t,i))}function JN(n,t){return ma(n,new Jo(yp(),t))}function tk(n,t,e){const i=Tp(n,e);if(i){const a=Cp(i),o=a.path,c=a.queryId,h=Me(o,t),f=new Jo(vp(c),h);return Ap(n,o,f)}else return[]}function Iu(n,t,e,i,a=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||Ux(c,t))){const f=GN(c,t,e,i);qN(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=f.removed;if(h=f.events,!a){const m=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(o,(y,b)=>cs(b));if(m&&!_){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const b=ik(y);for(let x=0;x<b.length;++x){const E=b[x],w=E.query,A=Vx(n,E);n.listenProvider_.startListening(Bo(w),tl(n,w),A.hashFn,A.onComplete)}}}!_&&g.length>0&&!i&&(m?n.listenProvider_.stopListening(Bo(t),null):g.forEach(y=>{const b=n.queryToTagMap.get(nh(y));n.listenProvider_.stopListening(Bo(y),b)}))}sk(n,g)}return h}function Hx(n,t,e,i){const a=Tp(n,i);if(a!=null){const o=Cp(a),c=o.path,h=o.queryId,f=Me(c,t),g=new Gs(vp(h),f,e);return Ap(n,c,g)}else return[]}function ek(n,t,e,i){const a=Tp(n,i);if(a){const o=Cp(a),c=o.path,h=o.queryId,f=Me(c,t),g=jt.fromObject(e),m=new ia(vp(h),f,g);return Ap(n,c,m)}else return[]}function Mg(n,t,e,i=!1){const a=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(a,(y,b)=>{const x=Me(y,a);o=o||is(b,x),c=c||cs(b)});let h=n.syncPointTree_.get(a);h?(c=c||cs(h),o=o||is(h,At())):(h=new Ix,n.syncPointTree_=n.syncPointTree_.set(a,h));let f;o!=null?f=!0:(f=!1,o=lt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((b,x)=>{const E=is(x,At());E&&(o=o.updateImmediateChild(b,E))}));const g=Ux(h,t);if(!g&&!t._queryParams.loadsAllData()){const y=nh(t);Y(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=rk();n.queryToTagMap.set(y,b),n.tagToQueryMap.set(b,y)}const m=th(n.pendingWriteTree_,a);let _=YN(h,t,e,m,o,f);if(!g&&!c&&!i){const y=zx(h,t);_=_.concat(ak(n,t,y))}return _}function wp(n,t,e){const a=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const f=Me(c,t),g=is(h,f);if(g)return g});return Rx(a,t,o,e,!0)}function nk(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(g,m)=>{const _=Me(g,e);i=i||is(m,_)});let a=n.syncPointTree_.get(e);a?i=i||is(a,At()):(a=new Ix,n.syncPointTree_=n.syncPointTree_.set(e,a));const o=i!=null,c=o?new ls(i,!0,!1):null,h=th(n.pendingWriteTree_,t._path),f=Lx(a,t,h,o?c.getNode():lt.EMPTY_NODE,o);return BN(f)}function ma(n,t){return jx(t,n.syncPointTree_,null,th(n.pendingWriteTree_,At()))}function jx(n,t,e,i){if(xt(n.path))return Fx(n,t,e,i);{const a=t.get(At());e==null&&a!=null&&(e=is(a,At()));let o=[];const c=yt(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const g=e?e.getImmediateChild(c):null,m=Mx(i,c);o=o.concat(jx(h,f,g,m))}return a&&(o=o.concat(Ep(a,n,i,e))),o}}function Fx(n,t,e,i){const a=t.get(At());e==null&&a!=null&&(e=is(a,At()));let o=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,g=Mx(i,c),m=n.operationForChild(c);m&&(o=o.concat(Fx(m,h,f,g)))}),a&&(o=o.concat(Ep(a,n,i,e))),o}function Vx(n,t){const e=t.query,i=tl(n,e);return{hashFn:()=>(UN(t)||lt.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?tk(n,e._path,i):JN(n,e._path);{const o=JO(a,e);return Iu(n,e,null,o)}}}}function tl(n,t){const e=nh(t);return n.queryToTagMap.get(e)}function nh(n){return n._path.toString()+"$"+n._queryIdentifier}function Tp(n,t){return n.tagToQueryMap.get(t)}function Cp(n){const t=n.indexOf("$");return Y(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Pt(n.substr(0,t))}}function Ap(n,t,e){const i=n.syncPointTree_.get(t);Y(i,"Missing sync point for query tag that we're tracking");const a=th(n.pendingWriteTree_,t);return Ep(i,e,a,null)}function ik(n){return n.fold((t,e,i)=>{if(e&&cs(e))return[eh(e)];{let a=[];return e&&(a=Px(e)),xe(i,(o,c)=>{a=a.concat(c)}),a}})}function Bo(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(KN())(n._repo,n._path):n}function sk(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=nh(i),o=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(o)}}}function rk(){return QN++}function ak(n,t,e){const i=t._path,a=tl(n,t),o=Vx(n,e),c=n.listenProvider_.startListening(Bo(t),a,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(a)Y(!cs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((g,m,_)=>{if(!xt(g)&&m&&cs(m))return[eh(m).query];{let y=[];return m&&(y=y.concat(Px(m).map(b=>b.query))),xe(_,(b,x)=>{y=y.concat(x)}),y}});for(let g=0;g<f.length;++g){const m=f[g];n.listenProvider_.stopListening(Bo(m),tl(n,m))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Rp(e)}node(){return this.node_}}class Mp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Zt(this.path_,t);return new Mp(this.syncTree_,e)}node(){return wp(this.syncTree_,this.path_)}}const ok=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},db=function(n,t,e){if(!n||typeof n!="object")return n;if(Y(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return lk(n[".sv"],t,e);if(typeof n[".sv"]=="object")return ck(n[".sv"],t);Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},lk=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:Y(!1,"Unexpected server value: "+n)}},ck=function(n,t,e){n.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Y(!1,"Unexpected increment value: "+i);const a=t.node();if(Y(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const c=a.getValue();return typeof c!="number"?i:c+i},Wx=function(n,t,e,i){return Op(t,new Mp(e,n),i)},qx=function(n,t,e){return Op(n,new Rp(t),e)};function Op(n,t,e){const i=n.getPriority().val(),a=db(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=db(c.getValue(),t,e);return h!==c.getValue()||a!==c.getPriority().val()?new me(h,le(a)):n}else{const c=n;return o=c,a!==c.getPriority().val()&&(o=o.updatePriority(new me(a))),c.forEachChild(Xt,(h,f)=>{const g=Op(f,t.getImmediateChild(h),e);g!==f&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function ih(n,t){let e=t instanceof Pt?t:new Pt(t),i=n,a=yt(e);for(;a!==null;){const o=Fs(i.node.children,a)||{children:{},childCount:0};i=new Dp(a,i,o),e=Ft(e),a=yt(e)}return i}function tr(n){return n.node.value}function Np(n,t){n.node.value=t,Og(n)}function Yx(n){return n.node.childCount>0}function uk(n){return tr(n)===void 0&&!Yx(n)}function sh(n,t){xe(n.node.children,(e,i)=>{t(new Dp(e,n,i))})}function Gx(n,t,e,i){e&&t(n),sh(n,a=>{Gx(a,t,!0)})}function hk(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function bl(n){return new Pt(n.parent===null?n.name:bl(n.parent)+"/"+n.name)}function Og(n){n.parent!==null&&fk(n.parent,n.name,n)}function fk(n,t,e){const i=uk(e),a=An(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,Og(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Og(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=/[\[\].#$\/\u0000-\u001F\u007F]/,gk=/[\[\].#$\u0000-\u001F\u007F]/,Kd=10*1024*1024,kp=function(n){return typeof n=="string"&&n.length!==0&&!dk.test(n)},Xx=function(n){return typeof n=="string"&&n.length!==0&&!gk.test(n)},pk=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xx(n)},Kx=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!ap(n)||n&&typeof n=="object"&&An(n,".sv")},rh=function(n,t,e){const i=e instanceof Pt?new kD(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+Is(i));if(typeof t=="function")throw new Error(n+"contains a function "+Is(i)+" with contents = "+t.toString());if(ap(t))throw new Error(n+"contains "+t.toString()+" "+Is(i));if(typeof t=="string"&&t.length>Kd/3&&Xu(t)>Kd)throw new Error(n+"contains a string greater than "+Kd+" utf8 bytes "+Is(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,o=!1;if(xe(t,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!kp(c)))throw new Error(n+" contains an invalid key ("+c+") "+Is(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ID(i,c),rh(n,h,i),LD(i)}),a&&o)throw new Error(n+' contains ".value" child '+Is(i)+" in addition to actual children.")}},mk=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Ko(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!kp(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ND);let a=null;for(e=0;e<t.length;e++){if(i=t[e],a!==null&&fn(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},_k=function(n,t,e,i){const a=Gg(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const o=[];xe(t,(c,h)=>{const f=new Pt(c);if(rh(a,h,Zt(e,f)),hp(f)===".priority"&&!Kx(h))throw new Error(a+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),mk(a,o)},Qx=function(n,t,e,i){if(!Xx(e))throw new Error(Gg(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yk=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qx(n,t,e)},vk=function(n,t){if(yt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},bk=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!kp(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!pk(e))throw new Error(Gg(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ip(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],o=a.getPath();e!==null&&!fp(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(a)}e&&n.eventLists_.push(e)}function $x(n,t,e){Ip(n,e),Zx(n,i=>fp(i,t))}function Cn(n,t,e){Ip(n,e),Zx(n,i=>fn(i,t)||fn(t,i))}function Zx(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const o=a.path;t(o)?(xk(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function xk(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();Lo&&Se("event: "+e.toString()),pa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="repo_interrupt",wk=25;class Tk{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cu(),this.transactionQueueTree_=new Dp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ck(n,t,e){if(n.stats_=cp(n.repoInfo_),n.forceRestClient_||iD())n.server_=new Tu(n.repoInfo_,(i,a,o,c)=>{gb(n,i,a,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pb(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ce(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new pi(n.repoInfo_,t,(i,a,o,c)=>{gb(n,i,a,o,c)},i=>{pb(n,i)},i=>{Rk(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=lD(n.repoInfo_,()=>new oN(n.stats_,n.server_)),n.infoData_=new nN,n.infoSyncTree_=new fb({startListening:(i,a,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=vl(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Lp(n,"connected",!1),n.serverSyncTree_=new fb({startListening:(i,a,o,c)=>(n.server_.listen(i,o,a,(h,f)=>{const g=c(h,f);Cn(n.eventQueue_,i._path,g)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function Ak(n){const e=n.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function ah(n){return ok({timestamp:Ak(n)})}function gb(n,t,e,i,a){n.dataUpdateCount++;const o=new Pt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(a)if(i){const f=pu(e,g=>le(g));c=ek(n.serverSyncTree_,o,f,a)}else{const f=le(e);c=Hx(n.serverSyncTree_,o,f,a)}else if(i){const f=pu(e,g=>le(g));c=ZN(n.serverSyncTree_,o,f)}else{const f=le(e);c=vl(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=el(n,o)),Cn(n.eventQueue_,h,c)}function pb(n,t){Lp(n,"connected",t),t===!1&&Dk(n)}function Rk(n,t){xe(t,(e,i)=>{Lp(n,e,i)})}function Lp(n,t,e){const i=new Pt("/.info/"+t),a=le(e);n.infoData_.updateSnapshot(i,a);const o=vl(n.infoSyncTree_,i,a);Cn(n.eventQueue_,i,o)}function Pp(n){return n.nextWriteId_++}function Mk(n,t,e){const i=nk(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(a=>{const o=le(a).withIndex(t._queryParams.getIndex());Mg(n.serverSyncTree_,t,e,!0);let c;if(t._queryParams.loadsAllData())c=vl(n.serverSyncTree_,t._path,o);else{const h=tl(n.serverSyncTree_,t);c=Hx(n.serverSyncTree_,t._path,o,h)}return Cn(n.eventQueue_,t._path,c),Iu(n.serverSyncTree_,t,e,null,!0),o},a=>(Sl(n,"get for query "+ce(t)+" failed: "+a),Promise.reject(new Error(a))))}function Ok(n,t,e,i){Sl(n,"update",{path:t.toString(),value:e});let a=!0;const o=ah(n),c={};if(xe(e,(h,f)=>{a=!1,c[h]=Wx(Zt(t,h),le(f),n.serverSyncTree_,o)}),a)Se("update() called with empty data.  Don't do anything."),mb(n,i,"ok",void 0);else{const h=Pp(n),f=$N(n.serverSyncTree_,t,c,h);Ip(n.eventQueue_,f),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||He("update at "+t+" failed: "+g);const y=Bs(n.serverSyncTree_,h,!_),b=y.length>0?el(n,t):t;Cn(n.eventQueue_,b,y),mb(n,i,g,m)}),xe(e,g=>{const m=nE(n,Zt(t,g));el(n,m)}),Cn(n.eventQueue_,t,[])}}function Dk(n){Sl(n,"onDisconnectEvents");const t=ah(n),e=Cu();Eg(n.onDisconnect_,At(),(a,o)=>{const c=Wx(a,o,n.serverSyncTree_,t);wx(e,a,c)});let i=[];Eg(e,At(),(a,o)=>{i=i.concat(vl(n.serverSyncTree_,a,o));const c=nE(n,a);el(n,c)}),n.onDisconnect_=Cu(),Cn(n.eventQueue_,At(),i)}function Nk(n,t,e){let i;yt(t._path)===".info"?i=Mg(n.infoSyncTree_,t,e):i=Mg(n.serverSyncTree_,t,e),$x(n.eventQueue_,t._path,i)}function kk(n,t,e){let i;yt(t._path)===".info"?i=Iu(n.infoSyncTree_,t,e):i=Iu(n.serverSyncTree_,t,e),$x(n.eventQueue_,t._path,i)}function Ik(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ek)}function Sl(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Se(e,...t)}function mb(n,t,e,i){t&&pa(()=>{if(e==="ok")t(null);else{const a=(e||"error").toUpperCase();let o=a;i&&(o+=": "+i);const c=new Error(o);c.code=a,t(c)}})}function Lk(n,t,e,i,a,o){Sl(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:XS(),applyLocally:o,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=zp(n,t,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(f===void 0)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{rh("transaction failed: Data returned ",f,c.path),c.status=0;const g=ih(n.transactionQueueTree_,t),m=tr(g)||[];m.push(c),Np(g,m);let _;typeof f=="object"&&f!==null&&An(f,".priority")?(_=Fs(f,".priority"),Y(Kx(_),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_=(wp(n.serverSyncTree_,t)||lt.EMPTY_NODE).getPriority().val();const y=ah(n),b=le(f,_),x=qx(b,h,y);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=x,c.currentWriteId=Pp(n);const E=Bx(n.serverSyncTree_,t,x,c.currentWriteId,c.applyLocally);Cn(n.eventQueue_,t,E),oh(n,n.transactionQueueTree_)}}function zp(n,t,e){return wp(n.serverSyncTree_,t,e)||lt.EMPTY_NODE}function oh(n,t=n.transactionQueueTree_){if(t||lh(n,t),tr(t)){const e=tE(n,t);Y(e.length>0,"Sending zero length transaction queue"),e.every(a=>a.status===0)&&Pk(n,bl(t),e)}else Yx(t)&&sh(t,e=>{oh(n,e)})}function Pk(n,t,e){const i=e.map(g=>g.currentWriteId),a=zp(n,t,i);let o=a;const c=a.hash();for(let g=0;g<e.length;g++){const m=e[g];Y(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Me(t,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const h=o.val(!0),f=t;n.server_.put(f.toString(),h,g=>{Sl(n,"transaction put response",{path:f.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let y=0;y<e.length;y++)e[y].status=2,m=m.concat(Bs(n.serverSyncTree_,e[y].currentWriteId)),e[y].onComplete&&_.push(()=>e[y].onComplete(null,!0,e[y].currentOutputSnapshotResolved)),e[y].unwatcher();lh(n,ih(n.transactionQueueTree_,t)),oh(n,n.transactionQueueTree_),Cn(n.eventQueue_,t,m);for(let y=0;y<_.length;y++)pa(_[y])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{He("transaction at "+f.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}el(n,t)}},c)}function el(n,t){const e=Jx(n,t),i=bl(e),a=tE(n,e);return zk(n,a,i),i}function zk(n,t,e){if(t.length===0)return;const i=[];let a=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],g=Me(e,f.path);let m=!1,_;if(Y(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,_=f.abortReason,a=a.concat(Bs(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=wk)m=!0,_="maxretry",a=a.concat(Bs(n.serverSyncTree_,f.currentWriteId,!0));else{const y=zp(n,f.path,c);f.currentInputSnapshot=y;const b=t[h].update(y.val());if(b!==void 0){rh("transaction failed: Data returned ",b,f.path);let x=le(b);typeof b=="object"&&b!=null&&An(b,".priority")||(x=x.updatePriority(y.getPriority()));const w=f.currentWriteId,A=ah(n),O=qx(x,y,A);f.currentOutputSnapshotRaw=x,f.currentOutputSnapshotResolved=O,f.currentWriteId=Pp(n),c.splice(c.indexOf(w),1),a=a.concat(Bx(n.serverSyncTree_,f.path,O,f.currentWriteId,f.applyLocally)),a=a.concat(Bs(n.serverSyncTree_,w,!0))}else m=!0,_="nodata",a=a.concat(Bs(n.serverSyncTree_,f.currentWriteId,!0))}Cn(n.eventQueue_,e,a),a=[],m&&(t[h].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(_),!1,null))))}lh(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)pa(i[h]);oh(n,n.transactionQueueTree_)}function Jx(n,t){let e,i=n.transactionQueueTree_;for(e=yt(t);e!==null&&tr(i)===void 0;)i=ih(i,e),t=Ft(t),e=yt(t);return i}function tE(n,t){const e=[];return eE(n,t,e),e.sort((i,a)=>i.order-a.order),e}function eE(n,t,e){const i=tr(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);sh(t,a=>{eE(n,a,e)})}function lh(n,t){const e=tr(t);if(e){let i=0;for(let a=0;a<e.length;a++)e[a].status!==2&&(e[i]=e[a],i++);e.length=i,Np(t,e.length>0?e:void 0)}sh(t,i=>{lh(n,i)})}function nE(n,t){const e=bl(Jx(n,t)),i=ih(n.transactionQueueTree_,t);return hk(i,a=>{Qd(n,a)}),Qd(n,i),Gx(i,a=>{Qd(n,a)}),e}function Qd(n,t){const e=tr(t);if(e){const i=[];let a=[],o=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(Y(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):(Y(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),a=a.concat(Bs(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Np(t,void 0):e.length=o+1,Cn(n.eventQueue_,bl(t),a);for(let c=0;c<i.length;c++)pa(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function Bk(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):He(`Invalid query segment '${e}' in query '${n}'`)}return t}const _b=function(n,t){const e=Hk(n),i=e.namespace;e.domain==="firebase.com"&&vi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||XO();const a=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new ox(e.host,e.secure,i,a,t,"",i!==e.subdomain),path:new Pt(e.pathString)}},Hk=function(n){let t="",e="",i="",a="",o="",c=!0,h="https",f=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(a=Uk(n.substring(m,_)));const y=Bk(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",f=parseInt(t.substring(g+1),10)):g=t.length;const b=t.slice(0,g);if(b.toLowerCase()==="localhost")e="localhost";else if(b.split(".").length<=2)e=b;else{const x=t.indexOf(".");i=t.substring(0,x).toLowerCase(),e=t.substring(x+1),o=i}"ns"in y&&(o=y.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:a,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ce(this.snapshot.exportVal())}}class Fk{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return xt(this._path)?null:hp(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const t=nb(this._queryParams),e=op(t);return e==="{}"?"default":e}get _queryObject(){return nb(this._queryParams)}isEqual(t){if(t=je(t),!(t instanceof Up))return!1;const e=this._repo===t._repo,i=fp(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return e&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+DD(this._path)}}class Fn extends Up{constructor(t,e){super(t,e,new mp,!1)}get parent(){const t=mx(this._path);return t===null?null:new Fn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ra{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Pt(t),i=Dg(this.ref,t);return new ra(this._node.getChild(e),i,Xt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>t(new ra(a,Dg(this.ref,i),Xt)))}hasChild(t){const e=new Pt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ze(n,t){return n=je(n),n._checkNotDeleted("ref"),t!==void 0?Dg(n._root,t):n._root}function Dg(n,t){return n=je(n),yt(n._path)===null?yk("child","path",t):Qx("child","path",t),new Fn(n._repo,Zt(n._path,t))}function yb(n,t){_k("update",t,n._path);const e=new ul;return Ok(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function dn(n){n=je(n);const t=new iE(()=>{}),e=new ch(t);return Mk(n._repo,n,e).then(i=>new ra(i,new Fn(n._repo,n._path),n._queryParams.getIndex()))}class ch{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new jk("value",this,new ra(t.snapshotNode,new Fn(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Fk(this,t,e):null}matches(t){return t instanceof ch?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Vk(n,t,e,i,a){const o=new iE(e,void 0),c=new ch(o);return Nk(n._repo,n,c),()=>kk(n._repo,n,c)}function Wk(n,t,e,i){return Vk(n,"value",t)}VN(Fn);XN(Fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FIREBASE_DATABASE_EMULATOR_HOST",Ng={};let Yk=!1;function Gk(n,t,e,i){const a=t.lastIndexOf(":"),o=t.substring(0,a),c=ha(o);n.repoInfo_=new ox(t,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function Xk(n,t,e,i,a){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=_b(o,a),h=c.repoInfo,f;typeof process<"u"&&U0&&(f=U0[qk]),f?(o=`http://${f}?ns=${h.namespace}`,c=_b(o,a),h=c.repoInfo):c.repoInfo.secure;const g=new rD(n.name,n.options,t);bk("Invalid Firebase Database URL",c),xt(c.path)||vi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Qk(h,n,g,new sD(n,e));return new $k(m,n)}function Kk(n,t){const e=Ng[t];(!e||e[n.key]!==n)&&vi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Ik(n),delete e[n.key]}function Qk(n,t,e,i){let a=Ng[t.name];a||(a={},Ng[t.name]=a);let o=a[n.toURLString()];return o&&vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Tk(n,Yk,e,i),a[n.toURLString()]=o,o}class $k{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ck(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Kk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&vi("Cannot call "+t+" on a deleted database.")}}function Zk(n=uS(),t){const e=Qg(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=hA("database");i&&Jk(e,...i)}return e}function Jk(n,t,e,i={}){n=je(n),n._checkNotDeleted("useEmulator");const a=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(a===n._repoInternal.repoInfo_.host&&Vs(i,o.repoInfo_.emulatorOptions))return;vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new lu(lu.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:fA(i.mockUserToken,n.app.options.projectId);c=new lu(h)}ha(t)&&(iS(t),sS("Database",!0)),Gk(o,a,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n){VO(da),ta(new Ws("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Xk(i,a,o,e)},"PUBLIC").setMultipleInstances(!0)),ts(B0,H0,n),ts(B0,H0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function n3(n,t,e){if(n=je(n),vk("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=!0,a=new ul,o=(h,f,g)=>{let m=null;h?a.reject(h):(m=new ra(g,new Fn(n._repo,n._path),Xt),a.resolve(new e3(f,m)))},c=Wk(n,()=>{});return Lk(n._repo,n._path,t,o,c,i),a.promise}pi.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};pi.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};t3();const i3={apiKey:"AIzaSyBc0dGkBKXhK_0AcfXFo2aHvoWXQHu0VEY",authDomain:"english-master-5ca79.firebaseapp.com",databaseURL:"https://english-master-5ca79-default-rtdb.firebaseio.com",projectId:"english-master-5ca79",storageBucket:"english-master-5ca79.firebasestorage.app",messagingSenderId:"1003173994906",appId:"1:1003173994906:web:a85404f0c521270a8d1a23",measurementId:"G-S1T3737QG1"},s3=cS(i3),aa=BO(),Je=Zk(s3),sE=new li,rE=L.createContext(),r3=({children:n})=>{const[t,e]=L.useState(null),[i,a]=L.useState(!0);L.useEffect(()=>{const c=MM(aa,h=>{e(h),a(!1)});return()=>c()},[]);const o={user:t,loading:i};return M.jsx(rE.Provider,{value:o,children:!i&&n})},_a=()=>L.useContext(rE),a3=[{days:5,borderColor:"#FBBF24"},{days:10,borderColor:"#F59E0B"},{days:20,borderColor:"#FB923C"},{days:30,borderColor:"#EA580C"},{days:60,borderColor:"#2563EB"},{days:100,borderColor:"#9333EA"},{days:150,borderColor:"#D97706"},{days:200,borderColor:"#FBBF24"},{days:250,borderColor:"#F59E0B"},{days:300,borderColor:"#EAB308"},{days:365,borderColor:"#FFD700"}];function o3({streakCount:n,isGot:t}){return M.jsx("div",{className:`w-20 h-20 flex items-center justify-center relative transform transition-all duration-500 ${t?"animate-pulse":"animate-none"}`,children:M.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[M.jsxs("defs",{children:[M.jsx("clipPath",{id:"hexClip",children:M.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25"})}),M.jsxs("filter",{id:"glass",x:"0",y:"0",width:"100%",height:"100%",children:[M.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),M.jsx("feFlood",{floodColor:"#ffffff",floodOpacity:"0.3"}),M.jsx("feComposite",{in2:"blur",operator:"in"}),M.jsxs("feMerge",{children:[M.jsx("feMergeNode",{}),M.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),M.jsxs("radialGradient",{id:"sparkGrad",cx:"50%",cy:"50%",r:"50%",children:[M.jsx("stop",{offset:"0%",stopColor:"#FFD700",stopOpacity:"1"}),M.jsx("stop",{offset:"100%",stopColor:"#FFD700",stopOpacity:"0"})]})]}),M.jsx("rect",{width:"100",height:"100",rx:"12",ry:"12",fill:"rgba(255,255,255,0.4)",filter:"url(#glass)",clipPath:"url(#hexClip)"}),M.jsx("polygon",{points:"50,5 93,25 93,75 50,95 7,75 7,25",fill:"none",stroke:t?a3.find(e=>e.days==n).borderColor:"#EEEEEE",strokeWidth:"4"}),M.jsx("text",{x:"50",y:"58",textAnchor:"middle",fontFamily:"'Montserrat', sans-serif",fontWeight:"100",fontSize:"22",fill:t?"#111111":"#CCCCCC",children:n}),t&&n===365&&[...Array(8)].map((e,i)=>{const a=i/8*2*Math.PI,o=40,c=50+o*Math.cos(a),h=50+o*Math.sin(a),f=1+Math.random();return M.jsxs("circle",{cx:c,cy:h,r:"2",fill:"url(#sparkGrad)",children:[M.jsx("animate",{attributeName:"r",values:"2;5;2",dur:`${f}s`,repeatCount:"indefinite"}),M.jsx("animate",{attributeName:"opacity",values:"1;0.2;1",dur:`${f}s`,repeatCount:"indefinite"})]},i)})]})})}const vb=[5,10,20,30,60,100,150,200,250,300,365];function l3({streakCount:n}){const t=L.useRef(null),e=L.useRef([]),i=vb.filter(a=>a<=n).length-1;return L.useEffect(()=>{if(t.current&&e.current[i]){const a=t.current,o=e.current[i],c=a.offsetWidth,h=o.offsetWidth,g=o.offsetLeft-c/2+h/2;a.scrollTo({left:g,behavior:"smooth"})}},[i]),M.jsx("div",{ref:t,className:"flex gap-4 overflow-x-auto px-4 py-6 w-full snap-x snap-mandatory scrollbar-hide",children:vb.map((a,o)=>M.jsx("div",{className:"snap-center flex-shrink-0 h-fit",ref:c=>e.current[o]=c,children:M.jsx(o3,{streakCount:a,isGot:a<=n})},o))})}function c3({streakCount:n,dailyActivity:t}){const e=[1,2,3,4,5,6,7];return M.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[M.jsxs("div",{className:"text-6xl font-extrabold text-[var(--color-accent)]",children:[n,"Days"]}),M.jsx("div",{className:"text-gray-600 font-JP",children:"連続学習中"}),M.jsx("div",{className:"flex gap-2",children:t?M.jsx(M.Fragment,{children:Object.entries(t).map(([i,a])=>M.jsxs("div",{className:"flex flex-col gap-2",children:[M.jsx("div",{className:`w-8 h-8 rounded transition-colors duration-300 ${a?"bg-[var(--color-accent)]":"bg-gray-300"}`}),M.jsx("p",{className:"text-center text-xs",children:new Date(i).toDateString().slice(0,3)})]},i))}):M.jsx(M.Fragment,{children:e.map((i,a)=>M.jsx("div",{className:"w-8 h-8 rounded animation-pulse bg-gray-200"},a))})}),M.jsx(l3,{streakCount:n})]})}const Fr=new Date().toISOString().split("T")[0];async function u3(n,t){const e=Ze(Je,`emr-users/${n}/progress`);await n3(e,i=>{if(i===null)return{currentIndex:0,repeat:0,streak:1,lastStudiedDate:Fr,dailyActivity:{[Fr]:!0}};if(i.currentIndex=t,i.dailyActivity||(i.dailyActivity={}),i.dailyActivity[Fr])return{...i,dailyActivity:{...i.dailyActivity,[Fr]:!0}};const a=new Date;a.setDate(a.getDate()-1);const o=a.toISOString().split("T")[0];let c=1;return i.lastStudiedDate===o?c=(i.streak||0)+1:c=1,{...i,streak:c,lastStudiedDate:Fr,dailyActivity:{...i.dailyActivity,[Fr]:!0}}})}async function h3(n){const t=Ze(Je,`emr-users/${n}/progress/dailyActivity`),i=(await dn(t)).val()||{},a={};for(let o=6;o>=0;o--){const c=new Date;c.setDate(c.getDate()-o);const h=c.toISOString().split("T")[0];a[h]=i[h]===!0}return a}const f3=()=>{const{user:n,loading:t}=_a(),[e,i]=L.useState(1),[a,o]=L.useState(null);return L.useEffect(()=>{const c=async()=>{if(n){const f=Ze(Je,`emr-users/${n.uid}/progress/streak`),m=(await dn(f)).val()||1;i(m)}};(async()=>{if(n){const f=await h3(n.uid);o(f)}})(),c()},[n]),M.jsx(M.Fragment,{children:M.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[M.jsxs("h1",{className:"font-bold text-xl",children:["Welcome back, ",n?.displayName,"!"]}),M.jsx("div",{className:"flex gap-2 p-2 flex-1 items-center w-full overflow-x-hidden",children:M.jsx(c3,{streakCount:e,dailyActivity:a})})]})})},d3=()=>M.jsx(M.Fragment,{children:M.jsx("div",{className:"p-4",children:"Oh, not found your page."})});var aE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bb=di.createContext&&di.createContext(aE),g3=["attr","size","title"];function p3(n,t){if(n==null)return{};var e=m3(n,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function m3(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Lu(){return Lu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Lu.apply(this,arguments)}function Sb(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function Pu(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(e),!0).forEach(function(i){_3(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Sb(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function _3(n,t,e){return t=y3(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function y3(n){var t=v3(n,"string");return typeof t=="symbol"?t:t+""}function v3(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function oE(n){return n&&n.map((t,e)=>di.createElement(t.tag,Pu({key:e},t.attr),oE(t.child)))}function _n(n){return t=>di.createElement(b3,Lu({attr:Pu({},n.attr)},t),oE(n.child))}function b3(n){var t=e=>{var{attr:i,size:a,title:o}=n,c=p3(n,g3),h=a||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),di.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:Pu(Pu({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&di.createElement("title",null,o),n.children)};return bb!==void 0?di.createElement(bb.Consumer,null,e=>t(e)):t(aE)}function S3(n){return _n({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 18.71875 6.78125 L 17.28125 8.21875 L 24.0625 15 L 4 15 L 4 17 L 24.0625 17 L 17.28125 23.78125 L 18.71875 25.21875 L 27.21875 16.71875 L 27.90625 16 L 27.21875 15.28125 Z"},child:[]}]})(n)}function x3(n){return _n({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"},child:[]}]})(n)}function E3(n){return _n({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 4 C 10.421875 4 5.742188 7.832031 4.40625 13 L 6.46875 13 C 7.746094 8.945313 11.53125 6 16 6 C 21.515625 6 26 10.484375 26 16 C 26 21.515625 21.515625 26 16 26 C 11.53125 26 7.746094 23.054688 6.46875 19 L 4.40625 19 C 5.742188 24.167969 10.421875 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 15.34375 11.28125 L 13.90625 12.71875 L 16.1875 15 L 4 15 L 4 17 L 16.1875 17 L 13.90625 19.28125 L 15.34375 20.71875 L 19.34375 16.71875 L 20.03125 16 L 19.34375 15.28125 Z"},child:[]}]})(n)}function w3(n){return _n({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"},child:[]}]})(n)}const T3=({word:n,isMeaning:t})=>{const e=()=>{if(!n)return"-";const i=n.Word.length,a="_".repeat(i);return n.ExampleSentence.replace(n.Word,a)};return M.jsx(M.Fragment,{children:M.jsx("div",{className:"border-2 border-[var(--color-accent)] rounded-md shadow-xl bg-gray-100 flex flex-col justify-center items-center w-full p-4 gap-4 h-72 overflow-auto",children:n?t?M.jsxs(M.Fragment,{children:[M.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),M.jsx("p",{className:"font-JP",children:n.Meaning}),M.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),M.jsx("p",{children:n.ExampleSentence}),M.jsx("p",{className:"font-JP",children:n.ExampleTranslation})]}):M.jsxs(M.Fragment,{children:[M.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),M.jsx("p",{children:n.PartOfSpeech}),M.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),M.jsx("p",{children:e()})]}):M.jsxs(M.Fragment,{children:[M.jsx("p",{className:"animate-pulse h-12 bg-gray-200 rounded-full w-44"}),M.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-24"}),M.jsx("span",{className:"border-b w-full border-[var(--color-accent)]"}),M.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"}),M.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"})]})})})},lE=L.createContext(),C3=({children:n})=>{const[t,e]=L.useState("level1");return M.jsx(lE.Provider,{value:{theme:t,setTheme:e},children:M.jsx("div",{"data-theme":t,className:"h-dvh",children:n})})},Bp=()=>{const n=L.useContext(lE);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n},cE=n=>{let t="level1";return n>3?t="level3":n>1?t="level2":t="level1",t},A3=()=>{const[n,t]=L.useState([]),[e,i]=L.useState(null),[a,o]=L.useState(-1),[c,h]=L.useState(!1),{user:f,loading:g}=_a(),{theme:m,setTheme:_}=Bp(),y=w=>{const A=cE(w);_(A),localStorage.setItem("level",A)};L.useEffect(()=>{if(!f)return;(async()=>{const A=Ze(Je,`emr-users/${f.uid}/progress/currentIndex`),O=await dn(A);O.val()?o(O.val()):o(0),i(n[a])})()},[n]),L.useEffect(()=>{(async()=>{const A=Ze(Je,"words");try{const U=(await dn(A)).val();t(Object.entries(U).map(([V,B])=>({id:V,...B})).sort(V=>V.id))}catch(O){console.error(O)}})()},[]);const b=async()=>{try{const w=f.uid,A=Ze(Je,`emr-users/${w}/progress/repeat`),V=((await dn(A)).val()||0)+1;await yb(A,V),y(V)}catch(w){console.error(w)}},x=async w=>{if(!e)return;const A=f.uid;let O=a+1;O>=n.length&&(b(),O=0),h(!1),i(n[O]),o(O);const U=Ze(Je,`emr-users/${A}/wordHistories/${e.id}`);try{const B=(await dn(U)).val()||{correctCount:0,incorrectCount:0,difficulty:"new"},X={correctCount:w?B.correctCount+1:B.correctCount,incorrectCount:w?B.incorrectCount:B.incorrectCount+1,lastReviewed:new Date().toISOString(),difficulty:E(B,w)};await yb(U,X)}catch(V){console.error(V)}await u3(A,O)},E=(w,A)=>{const O=A?w.correctCount+1:w.correctCount,U=A?w.incorrectCount:w.incorrectCount+1,V=["easy","normal","hard"],B=O/(O+U);return B>=.8?V[0]:B<=.3?V[2]:V[1]};return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"h-full flex justify-around items-center p-4 flex-col",children:[e?M.jsxs("p",{className:"h-6",children:[a+1,"/",n.length]}):M.jsx("p",{className:"h-6 w-24 animate-pulse bg-gray-200 rounded-full"}),M.jsx(T3,{word:e,isMeaning:c},e?.id),M.jsx("div",{children:M.jsx("div",{className:"flex gap-12 justify-center",children:c?M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:()=>x(!0),className:"btn-icon bg-green-500 text-white",children:M.jsx(x3,{className:"size-12"})}),M.jsx("button",{onClick:()=>x(!1),className:"btn-icon bg-red-500 text-white",children:M.jsx(w3,{className:"size-12"})})]}):M.jsx("button",{className:"btn-icon bg-[var(--color-accent)] text-white",onClick:()=>h(!0),children:M.jsx(S3,{className:"size-12"})})})})]})})},R3=()=>{const[n,t]=L.useState([]),[e,i]=L.useState("");L.useEffect(()=>{try{(async()=>{const h=Ze(Je,"words");try{const g=(await dn(h)).val();t(Object.entries(g).map(([m,_])=>({id:m,..._})))}catch(f){console.error(f)}})()}catch(c){console.error(c)}},[]);const a=c=>i(c.target.value),o=n.filter(c=>c.Word.toLowerCase().includes(e.toLowerCase())).sort(c=>c.Word);return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"h-full px-2 pt-2 flex flex-col overflow-hidden",children:[M.jsx("input",{onChange:a,value:e,className:"rounded-full p-2 border border-[var(--color-accent)] shadow"}),n.length==0?M.jsx("div",{className:"flex-1 flex items-center justify-center",children:M.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):M.jsx("div",{className:"overflow-y-auto flex-1",children:M.jsx("ul",{children:o.map(c=>M.jsxs("li",{id:c.id,className:"p-2 border-b",children:[M.jsx("p",{className:"text-xl font-semibold",children:c.Word}),M.jsx("p",{className:"text-base font-JP",children:c.Meaning})]},c.id))})})]})})};function M3(n){return _n({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function O3(n){return _n({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function D3(n){return _n({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function N3(n){return _n({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function k3(n){return _n({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function I3(n){return _n({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(n)}const L3=()=>M.jsx(M.Fragment,{children:M.jsx("nav",{className:"border-t border-[var(--color-accent)]",children:M.jsxs("ul",{className:"flex justify-around",children:[M.jsx("li",{children:M.jsxs(Ps,{to:"/",className:"flex flex-col items-center justify-center p-2 gap-2",children:[M.jsx(N3,{className:"size-6"}),M.jsx("p",{className:"text-xs",children:"Home"})]})}),M.jsx("li",{children:M.jsxs(Ps,{to:"/study",className:"flex flex-col items-center justify-center p-2 gap-2",children:[M.jsx(I3,{className:"size-6"}),M.jsx("p",{className:"text-xs",children:"Study"})]})}),M.jsx("li",{children:M.jsxs(Ps,{to:"/words",className:"flex flex-col items-center justify-center p-2 gap-2",children:[M.jsx(k3,{className:"size-6"}),M.jsx("p",{className:"text-xs",children:"Words"})]})}),M.jsx("li",{children:M.jsxs(Ps,{to:"/charts",className:"flex flex-col items-center justify-center p-2 gap-2",children:[M.jsx(D3,{className:"size-6"}),M.jsx("p",{className:"text-xs",children:"Charts"})]})})]})})});function P3(n){return _n({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m93.19 329.38 47.45-304.07c1.64-10.37 15.55-12.82 20.46-3.55l51 95.45zM432 400l-46.74-276.79a11 11 0 0 0-18.54-6L80 400l159.36 91.91a33.18 33.18 0 0 0 31.91 0zM302.36 158.93l-36.54-69.54a10.86 10.86 0 0 0-19.36 0L85.83 375.74z"},child:[]}]})(n)}function z3(n){return _n({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(n)}const U3=async()=>{try{const n=await WS(aa,sE);CM(aa.currentUser,n)}catch(n){console.error(n)}},B3=async()=>{try{await WS(aa,sE)}catch(n){console.error(n)}},H3=async()=>{try{await SM(aa)}catch(n){console.error(n)}},j3=()=>{try{aa.signOut()}catch(n){console.error(n)}},F3=()=>M.jsx(M.Fragment,{children:M.jsx("div",{className:"bg-gray-400/50 fixed top-0 left-0 w-full h-dvh flex items-center justify-center z-50",children:M.jsxs("div",{className:"shadow-xl rounded-xl p-4 bg-gray-50 flex items-center jusitfy-center flex-col max-w-72",children:[M.jsxs("h1",{className:"text-2xl font-bold text-center",children:[M.jsx("p",{children:"Welcome to"}),M.jsx("p",{children:"New"}),M.jsx("p",{children:"English Master!"})]}),M.jsx("p",{className:"pt-2 text-base text-center font-thin",children:"We’ve been developing English Master with Blazor, and now we’re excited to start creating it with React. Enjoy the new, evolved English Master!"}),M.jsxs("div",{className:"p-4 w-full",children:[M.jsx("button",{onClick:B3,className:"btn-primary",children:"Sign in with Google"}),M.jsx("p",{className:"text-center font-thin",children:"or"}),M.jsx("button",{className:"btn-secondary",onClick:H3,children:"Start as Guest"})]}),M.jsx("p",{className:"text-base font-thin p-2",children:"Powered by"}),M.jsxs("div",{className:"flex justify-center gap-2",children:[M.jsx(O3,{className:"size-6"}),M.jsx(P3,{className:"size-6"}),M.jsx(z3,{className:"size-6"})]}),M.jsx("p",{className:"text-base font-thin p-2",children:"Developed by"}),M.jsxs("a",{href:"https://github.com/fukicycle",className:"flex justify-center items-center gap-2",children:["Fuki Sato",M.jsx(M3,{})]})]})})});function V3(){const{theme:n}=Bp();return L.useEffect(()=>{const t=document.querySelector('meta[name="theme-color"]');t&&(n==="level1"?t.setAttribute("content","#10b981"):n==="level2"?t.setAttribute("content","#0ea5e9"):n==="level3"&&t.setAttribute("content","#a855f7"))},[n]),null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xl(n){return n+.5|0}const Qi=(n,t,e)=>Math.max(Math.min(n,e),t);function Oo(n){return Qi(xl(n*2.55),0,255)}function ss(n){return Qi(xl(n*255),0,255)}function oi(n){return Qi(xl(n/2.55)/100,0,1)}function xb(n){return Qi(xl(n*100),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kg=[..."0123456789ABCDEF"],W3=n=>kg[n&15],q3=n=>kg[(n&240)>>4]+kg[n&15],Vc=n=>(n&240)>>4===(n&15),Y3=n=>Vc(n.r)&&Vc(n.g)&&Vc(n.b)&&Vc(n.a);function G3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&un[n[1]]*17,g:255&un[n[2]]*17,b:255&un[n[3]]*17,a:t===5?un[n[4]]*17:255}:(t===7||t===9)&&(e={r:un[n[1]]<<4|un[n[2]],g:un[n[3]]<<4|un[n[4]],b:un[n[5]]<<4|un[n[6]],a:t===9?un[n[7]]<<4|un[n[8]]:255})),e}const X3=(n,t)=>n<255?t(n):"";function K3(n){var t=Y3(n)?W3:q3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+X3(n.a,t):void 0}const Q3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uE(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function $3(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Z3(n,t,e){const i=uE(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function J3(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Hp(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,g,m;return o!==c&&(m=o-c,g=h>.5?m/(2-o-c):m/(o+c),f=J3(e,i,a,m,o),f=f*60+.5),[f|0,g||0,h]}function jp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ss)}function Fp(n,t,e){return jp(uE,n,t,e)}function t6(n,t,e){return jp(Z3,n,t,e)}function e6(n,t,e){return jp($3,n,t,e)}function hE(n){return(n%360+360)%360}function n6(n){const t=Q3.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Oo(+t[5]):ss(+t[5]));const a=hE(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=t6(a,o,c):t[1]==="hsv"?i=e6(a,o,c):i=Fp(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function i6(n,t){var e=Hp(n);e[0]=hE(e[0]+t),e=Fp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function s6(n){if(!n)return;const t=Hp(n),e=t[0],i=xb(t[1]),a=xb(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${oi(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const Eb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r6(){const n={},t=Object.keys(wb),e=Object.keys(Eb);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,Eb[o]);o=parseInt(wb[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Wc;function a6(n){Wc||(Wc=r6(),Wc.transparent=[0,0,0,0]);const t=Wc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const o6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function l6(n){const t=o6.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Oo(c):Qi(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Oo(i):Qi(i,0,255)),a=255&(t[4]?Oo(a):Qi(a,0,255)),o=255&(t[6]?Oo(o):Qi(o,0,255)),{r:i,g:a,b:o,a:e}}}function c6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${oi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $d=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function u6(n,t,e){const i=Vr(oi(n.r)),a=Vr(oi(n.g)),o=Vr(oi(n.b));return{r:ss($d(i+e*(Vr(oi(t.r))-i))),g:ss($d(a+e*(Vr(oi(t.g))-a))),b:ss($d(o+e*(Vr(oi(t.b))-o))),a:n.a+e*(t.a-n.a)}}function qc(n,t,e){if(n){let i=Hp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Fp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function fE(n,t){return n&&Object.assign(t||{},n)}function Tb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ss(n[3]))):(t=fE(n,{r:0,g:0,b:0,a:1}),t.a=ss(t.a)),t}function h6(n){return n.charAt(0)==="r"?l6(n):n6(n)}class nl{constructor(t){if(t instanceof nl)return t;const e=typeof t;let i;e==="object"?i=Tb(t):e==="string"&&(i=G3(t)||a6(t)||h6(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=fE(this._rgb);return t&&(t.a=oi(t.a)),t}set rgb(t){this._rgb=Tb(t)}rgbString(){return this._valid?c6(this._rgb):void 0}hexString(){return this._valid?K3(this._rgb):void 0}hslString(){return this._valid?s6(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=u6(this._rgb,t._rgb,e)),this}clone(){return new nl(this.rgb)}alpha(t){return this._rgb.a=ss(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=xl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qc(this._rgb,2,t),this}darken(t){return qc(this._rgb,2,-t),this}saturate(t){return qc(this._rgb,1,t),this}desaturate(t){return qc(this._rgb,1,-t),this}rotate(t){return i6(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function si(){}const f6=(()=>{let n=0;return()=>n++})();function Bt(n){return n==null}function ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Tt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function In(n,t){return pn(n)?n:t}function wt(n,t){return typeof n>"u"?t:n}const d6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,dE=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Wt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Dt(n,t,e,i){let a,o,c;if(ue(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Tt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function zu(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Uu(n){if(ue(n))return n.map(Uu);if(Tt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Uu(n[e[a]]);return t}return n}function gE(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function g6(n,t,e,i){if(!gE(n))return;const a=t[n],o=e[n];Tt(a)&&Tt(o)?il(a,o,i):t[n]=Uu(o)}function il(n,t,e){const i=ue(t)?t:[t],a=i.length;if(!Tt(n))return n;e=e||{};const o=e.merger||g6;let c;for(let h=0;h<a;++h){if(c=i[h],!Tt(c))continue;const f=Object.keys(c);for(let g=0,m=f.length;g<m;++g)o(f[g],n,c,e)}return n}function Ho(n,t){return il(n,t,{merger:p6})}function p6(n,t,e){if(!gE(n))return;const i=t[n],a=e[n];Tt(i)&&Tt(a)?Ho(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Uu(a))}const Cb={"":n=>n,x:n=>n.x,y:n=>n.y};function m6(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function _6(n){const t=m6(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ks(n,t){return(Cb[t]||(Cb[t]=_6(t)))(n)}function Vp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sl=n=>typeof n<"u",us=n=>typeof n=="function",Ab=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function y6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ut=Math.PI,re=2*Ut,Bu=Number.POSITIVE_INFINITY,v6=Ut/180,he=Ut/2,Os=Ut/4,Rb=Ut*2/3,pE=Math.log10,rs=Math.sign;function cu(n,t,e){return Math.abs(n-t)<e}function Mb(n){const t=Math.round(n);n=cu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(pE(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function b6(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function S6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Hu(n){return!S6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function x6(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function E6(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function fi(n){return n*(Ut/180)}function w6(n){return n*(180/Ut)}function Ob(n){if(!pn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function mE(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ut&&(o+=re),{angle:o,distance:a}}function T6(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function zn(n){return(n%re+re)%re}function ju(n,t,e,i){const a=zn(n),o=zn(t),c=zn(e),h=zn(o-a),f=zn(c-a),g=zn(a-o),m=zn(a-c);return a===o||a===c||i&&o===c||h>f&&g<m}function Be(n,t,e){return Math.max(t,Math.min(e,n))}function C6(n){return Be(n,-32768,32767)}function Hs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Wp(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const Ig=(n,t,e,i)=>Wp(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),A6=(n,t,e)=>Wp(n,e,i=>n[i][t]>=e);function R6(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const _E=["push","pop","shift","splice","unshift"];function M6(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_E.forEach(e=>{const i="_onData"+Vp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function Db(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(_E.forEach(o=>{delete n[o]}),delete n._chartjs)}function yE(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const vE=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function bE(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,vE.call(window,()=>{i=!1,n.apply(t,e)}))}}function O6(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const qp=n=>n==="start"?"left":n==="end"?"right":"center",Ce=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,D6=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Yc=n=>n===0||n===1,Nb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*re/e)),kb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*re/e)+1,jo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*he)+1,easeOutSine:n=>Math.sin(n*he),easeInOutSine:n=>-.5*(Math.cos(Ut*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yc(n)?n:Nb(n,.075,.3),easeOutElastic:n=>Yc(n)?n:kb(n,.075,.3),easeInOutElastic(n){return Yc(n)?n:n<.5?.5*Nb(n*2,.1125,.45):.5+.5*kb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-jo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jo.easeInBounce(n*2)*.5:jo.easeOutBounce(n*2-1)*.5+.5};function SE(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ib(n){return SE(n)?n:new nl(n)}function Zd(n){return SE(n)?n:new nl(n).saturate(.5).darken(.1).hexString()}const N6=["x","y","borderWidth","radius","tension"],k6=["color","borderColor","backgroundColor"];function I6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:k6},numbers:{type:"number",properties:N6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function L6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lb=new Map;function P6(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Lb.get(e);return i||(i=new Intl.NumberFormat(n,t),Lb.set(e,i)),i}function Yp(n,t,e){return P6(t,e).format(n)}const z6={values(n){return ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=U6(n,e)}const c=pE(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Yp(n,i,f)}};function U6(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var xE={formatters:z6};function B6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qs=Object.create(null),Lg=Object.create(null);function Fo(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Jd(n,t,e){return typeof t=="string"?il(Fo(n,t),e):il(Fo(n,""),t)}class H6{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Zd(a.backgroundColor),this.hoverBorderColor=(i,a)=>Zd(a.borderColor),this.hoverColor=(i,a)=>Zd(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Jd(this,t,e)}get(t){return Fo(this,t)}describe(t,e){return Jd(Lg,t,e)}override(t,e){return Jd(Qs,t,e)}route(t,e,i,a){const o=Fo(this,t),c=Fo(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[a];return Tt(f)?Object.assign({},g,f):wt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var ne=new H6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[I6,L6,B6]);function j6(n){return!n||Bt(n.size)||Bt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Pb(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function Ds(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function zb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ub(n,t,e,i){EE(n,t,e,i,null)}function EE(n,t,e,i,a){let o,c,h,f,g,m,_,y;const b=t.pointStyle,x=t.rotation,E=t.radius;let w=(x||0)*v6;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),b){default:a?n.ellipse(e,i,a/2,E,0,0,re):n.arc(e,i,E,0,re),n.closePath();break;case"triangle":m=a?a/2:E,n.moveTo(e+Math.sin(w)*m,i-Math.cos(w)*E),w+=Rb,n.lineTo(e+Math.sin(w)*m,i-Math.cos(w)*E),w+=Rb,n.lineTo(e+Math.sin(w)*m,i-Math.cos(w)*E),n.closePath();break;case"rectRounded":g=E*.516,f=E-g,c=Math.cos(w+Os)*f,_=Math.cos(w+Os)*(a?a/2-g:f),h=Math.sin(w+Os)*f,y=Math.sin(w+Os)*(a?a/2-g:f),n.arc(e-_,i-h,g,w-Ut,w-he),n.arc(e+y,i-c,g,w-he,w),n.arc(e+_,i+h,g,w,w+he),n.arc(e-y,i+c,g,w+he,w+Ut),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*E,m=a?a/2:f,n.rect(e-m,i-f,2*m,2*f);break}w+=Os;case"rectRot":_=Math.cos(w)*(a?a/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,y=Math.sin(w)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+y,i-c),n.lineTo(e+_,i+h),n.lineTo(e-y,i+c),n.closePath();break;case"crossRot":w+=Os;case"cross":_=Math.cos(w)*(a?a/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,y=Math.sin(w)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"star":_=Math.cos(w)*(a?a/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,y=Math.sin(w)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c),w+=Os,_=Math.cos(w)*(a?a/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,y=Math.sin(w)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"line":c=a?a/2:Math.cos(w)*E,h=Math.sin(w)*E,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(a?a/2:E),i+Math.sin(w)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function wE(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Gp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Xp(n){n.restore()}function F6(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function V6(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,m=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,m),n.lineTo(h,m),n.stroke()}}function W6(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function rl(n,t,e,i,a,o={}){const c=ue(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,F6(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&W6(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Bt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),V6(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function Fu(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ut,Ut,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ut,he,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,he,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-he,!0),n.lineTo(e+c.topLeft,i)}const q6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Y6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function G6(n,t){const e=(""+n).match(q6);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const X6=n=>+n||0;function Kp(n,t){const e={},i=Tt(t),a=i?Object.keys(t):t,o=Tt(n)?i?c=>wt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=X6(o(c));return e}function TE(n){return Kp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Zr(n){return Kp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(n){const t=TE(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ae(n,t){n=n||{},t=t||ne.font;let e=wt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=wt(n.style,t.style);i&&!(""+i).match(Y6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:wt(n.family,t.family),lineHeight:G6(wt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:wt(n.weight,t.weight),string:""};return a.string=j6(a),a}function Gc(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function K6(n,t,e){const{min:i,max:a}=n,o=dE(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function ya(n,t){return Object.assign(Object.create(n),t)}function Qp(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=ME("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>Qp([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return AE(h,f,()=>i4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Hb(h).includes(f)},ownKeys(h){return Hb(h)},set(h,f,g){const m=h._storage||(h._storage=a());return h[f]=m[f]=g,delete h._keys,!0}})}function oa(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:CE(n,i),setContext:o=>oa(n,o,e,i),override:o=>oa(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return AE(o,c,()=>$6(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function CE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:us(e)?e:()=>e,isIndexable:us(i)?i:()=>i}}const Q6=(n,t)=>n?n+Vp(t):t,$p=(n,t)=>Tt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function AE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function $6(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return us(h)&&c.isScriptable(t)&&(h=Z6(t,h,n,e)),ue(h)&&h.length&&(h=J6(t,h,n,c.isIndexable)),$p(t,h)&&(h=oa(h,a,o&&o[t],c)),h}function Z6(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),$p(n,f)&&(f=Zp(a._scopes,a,n,f)),f}function J6(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Tt(t[0])){const f=t,g=a._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=Zp(g,a,n,m);t.push(oa(_,o,c&&c[n],h))}}return t}function RE(n,t,e){return us(n)?n(t,e):n}const t4=(n,t)=>n===!0?t:typeof n=="string"?Ks(t,n):void 0;function e4(n,t,e,i,a){for(const o of t){const c=t4(e,o);if(c){n.add(c);const h=RE(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Zp(n,t,e,i){const a=t._rootScopes,o=RE(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=Bb(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=Bb(h,c,o,f,i),f===null)?!1:Qp(Array.from(h),[""],a,o,()=>n4(t,e,i))}function Bb(n,t,e,i,a){for(;e;)e=e4(n,t,e,i,a);return e}function n4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return ue(a)&&Tt(e)?e:a||{}}function i4(n,t,e,i){let a;for(const o of t)if(a=ME(Q6(o,n),e),typeof a<"u")return $p(n,a)?Zp(e,i,n,a):a}function ME(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Hb(n){let t=n._keys;return t||(t=n._keys=s4(n._scopes)),t}function s4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function Jp(){return typeof window<"u"&&typeof document<"u"}function tm(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Vu(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const uh=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function r4(n,t){return uh(n).getPropertyValue(t)}const a4=["top","right","bottom","left"];function js(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=a4[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const o4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function l4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(o4(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ls(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=uh(e),o=a.boxSizing==="border-box",c=js(a,"padding"),h=js(a,"border","width"),{x:f,y:g,box:m}=l4(n,e),_=c.left+(m&&h.left),y=c.top+(m&&h.top);let{width:b,height:x}=t;return o&&(b-=c.width+h.width,x-=c.height+h.height),{x:Math.round((f-_)/b*e.width/i),y:Math.round((g-y)/x*e.height/i)}}function c4(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&tm(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=uh(o),f=js(h,"border","width"),g=js(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=Vu(h.maxWidth,o,"clientWidth"),a=Vu(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Bu,maxHeight:a||Bu}}const Xc=n=>Math.round(n*10)/10;function u4(n,t,e,i){const a=uh(n),o=js(a,"margin"),c=Vu(a.maxWidth,n,"clientWidth")||Bu,h=Vu(a.maxHeight,n,"clientHeight")||Bu,f=c4(n,t,e);let{width:g,height:m}=f;if(a.boxSizing==="content-box"){const y=js(a,"border","width"),b=js(a,"padding");g-=b.width+y.width,m-=b.height+y.height}return g=Math.max(0,g-o.width),m=Math.max(0,i?g/i:m-o.height),g=Xc(Math.min(g,c,f.maxWidth)),m=Xc(Math.min(m,h,f.maxHeight)),g&&!m&&(m=Xc(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,g=Xc(Math.floor(m*i))),{width:g,height:m}}function jb(n,t,e){const i=t||1,a=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const h4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Jp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Fb(n,t){const e=r4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const f4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},d4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Jr(n,t,e){return n?f4(t,e):d4()}function OE(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function DE(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Kc(n,t,e){return n.options.clip?n[e]:t[e]}function g4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Kc(e,t,"left"),right:Kc(e,t,"right"),top:Kc(i,t,"top"),bottom:Kc(i,t,"bottom")}:t}function p4(n,t){const e=t._clip;if(e.disabled)return!1;const i=g4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class m4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=vE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ri=new m4;const Vb="transparent",_4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Ib(n||Vb),a=i.valid&&Ib(t||Vb);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class y4{constructor(t,e,i,a){const o=e[i];a=Gc([t.to,a,o,t.from]);const c=Gc([t.from,o,a]);this._active=!0,this._fn=t.fn||_4[t.type||typeof c],this._easing=jo[t.easing]||jo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Gc([t.to,e,a,t.from]),this._from=Gc([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class NE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Tt(t))return;const e=Object.keys(ne.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Tt(o))return;const c={};for(const h of e)c[h]=o[h];(ue(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=b4(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&v4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const m=e[g];let _=o[g];const y=i.get(g);if(_)if(y&&_.active()){_.update(y,m,h);continue}else _.cancel();if(!y||!y.duration){t[g]=m;continue}o[g]=_=new y4(y,t,g,m),a.push(_)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ri.add(this._chart,i),!0}}function v4(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function b4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Wb(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function S4(n,t,e){if(e===!1)return!1;const i=Wb(n,e),a=Wb(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function x4(n){let t,e,i,a;return Tt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function kE(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function qb(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let m=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(m=!0,i.all)continue;break}g=n.values[f],pn(g)&&(o||t===0||rs(t)===rs(g))&&(t+=g)}return!m&&!i.all?0:t}function E4(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,m;for(f=0,g=c.length;f<g;++f)m=c[f],h[f]={[a]:m,[o]:n[m]};return h}function tg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function w4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function T4(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function C4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Yb(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function Gb(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,m=w4(o,c,i),_=t.length;let y;for(let b=0;b<_;++b){const x=t[b],{[f]:E,[g]:w}=x,A=x._stacks||(x._stacks={});y=A[g]=C4(a,m,E),y[h]=w,y._top=Yb(y,c,!0,i.type),y._bottom=Yb(y,c,!1,i.type);const O=y._visualValues||(y._visualValues={});O[h]=w}}function eg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function A4(n,t){return ya(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function R4(n,t,e){return ya(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function To(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ng=n=>n==="reset"||n==="none",Xb=(n,t)=>t?n:Object.assign({},n),M4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:kE(e,!0),values:null};class em{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=tg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&To(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(_,y,b,x)=>_==="x"?y:_==="r"?x:b,o=e.xAxisID=wt(i.xAxisID,eg(t,"x")),c=e.yAxisID=wt(i.yAxisID,eg(t,"y")),h=e.rAxisID=wt(i.rAxisID,eg(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,c,h),m=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Db(this._data,this),t._stacked&&To(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Tt(e)){const a=this._cachedMeta;this._data=E4(e,a)}else if(i!==e){if(i){Db(i,this);const a=this._cachedMeta;To(a),a._parsed=[]}e&&Object.isExtensible(e)&&M6(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=tg(e.vScale,e),e.stack!==i.stack&&(a=!0,To(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(Gb(this,e._parsed),e._stacked=tg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],m,_,y;if(this._parsing===!1)i._parsed=a,i._sorted=!0,y=a;else{ue(a[t])?y=this.parseArrayData(i,a,t,e):Tt(a[t])?y=this.parseObjectData(i,a,t,e):y=this.parsePrimitiveData(i,a,t,e);const b=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)i._parsed[m+t]=_=y[m],f&&(b()&&(f=!1),g=_);i._sorted=f}c&&Gb(this,y)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),m=o===c,_=new Array(a);let y,b,x;for(y=0,b=a;y<b;++y)x=y+i,_[y]={[h]:m||o.parse(g[x],x),[f]:c.parse(e[x],x)};return _}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,g,m,_;for(f=0,g=a;f<g;++f)m=f+i,_=e[m],h[f]={x:o.parse(_[0],m),y:c.parse(_[1],m)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let m,_,y,b;for(m=0,_=a;m<_;++m)y=m+i,b=e[y],g[m]={x:o.parse(Ks(b,h),y),y:c.parse(Ks(b,f),y)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:kE(a,!0),values:e._stacks[t.axis]._visualValues};return qb(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=qb(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=M4(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=T4(h);let y,b;function x(){b=a[y];const E=b[h.axis];return!pn(b[t.axis])||m>E||_<E}for(y=0;y<c&&!(!x()&&(this.updateRangeFromParsed(g,t,b,f),o));++y);if(o){for(y=c-1;y>=0;--y)if(!x()){this.updateRangeFromParsed(g,t,b,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],pn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=x4(wt(this.options.clip,S4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,h,f),m=h;m<h+f;++m){const _=a[m];_.hidden||(_.active&&g?c.push(_):_.draw(t,o))}for(m=0;m<c.length;++m)c[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=R4(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=A4(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&sl(i);if(h)return Xb(h,f);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=a?[`${t}Hover`,"hover",t,""]:[t,""],y=g.getOptionScopes(this.getDataset(),m),b=Object.keys(ne.elements[t]),x=()=>this.getContext(i,a,e),E=g.resolveNamedOptions(y,b,x,_);return E.$shared&&(E.$shared=f,o[c]=Object.freeze(Xb(E,f))),E}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(y,this.getContext(t,i,e))}const g=new NE(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ng(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){ng(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!ng(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&To(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function O4(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=yE(i.sort((a,o)=>a-o))}return n._cache.$bar}function D4(n){const t=n.iScale,e=O4(t,n.type);let i=t._length,a,o,c,h;const f=()=>{c===32767||c===-32768||(sl(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),f();return i}function N4(n,t,e,i){const a=e.barThickness;let o,c;return Bt(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function k4(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function I4(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:a,end:o,min:c,max:h}}function IE(n,t,e,i){return ue(n)?I4(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Kb(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,f=[];let g,m,_,y;for(g=e,m=e+i;g<m;++g)y=t[g],_={},_[a.axis]=h||a.parse(c[g],g),f.push(IE(y,_,o,g));return f}function ig(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function L4(n,t,e){return n!==0?rs(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function P4(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function z4(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:m}=P4(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=g:(e._bottom||0)===i?a=m:(o[Qb(m,c,h,f)]=!0,a=g)),o[Qb(a,c,h,f)]=!0,n.borderSkipped=o}function Qb(n,t,e,i){return i?(n=U4(n,t,e),n=$b(n,e,t)):n=$b(n,t,e),n}function U4(n,t,e){return n===t?e:n===e?t:n}function $b(n,t,e){return n==="start"?t:n==="end"?e:n}function B4(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class H4 extends em{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,a){return Kb(t,e,i,a)}parseArrayData(t,e,i,a){return Kb(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,m=c.axis==="x"?h:f,_=[];let y,b,x,E;for(y=i,b=i+a;y<b;++y)E=e[y],x={},x[o.axis]=o.parse(Ks(E,g),y),_.push(IE(Ks(E,m),x,c,y));return _}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=ig(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,a);for(let b=e;b<e+i;b++){const x=this.getParsed(b),E=o||Bt(x[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),w=this._calculateBarIndexPixels(b,m),A=(x._stacks||{})[h.axis],O={horizontal:g,base:E.base,enableBorderRadius:!A||ig(x._custom)||c===A._top||c===A._bottom,x:g?E.head:w.center,y:g?w.center:E.head,height:g?w.size:Math.abs(E.size),width:g?Math.abs(E.size):w.size};y&&(O.options=_||this.resolveDataElementOptions(b,t[b].active?"active":a));const U=O.options||t[b].options;z4(O,U,A,c),B4(O,U,m.ratio),this.updateElement(t[b],b,O,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=m=>{const _=m._parsed.find(b=>b[i.axis]===f),y=_&&_[m.vScale.axis];if(Bt(y)||isNaN(y))return!0};for(const m of a)if(!(e!==void 0&&g(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[wt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||D4(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,m=ig(g);let _=f[e.axis],y=0,b=i?this.applyStack(e,f,i):_,x,E;b!==_&&(y=b-_,b=_),m&&(_=g.barStart,b=g.barEnd-g.barStart,_!==0&&rs(_)!==rs(g.barEnd)&&(y=0),y+=_);const w=!Bt(o)&&!m?o:y;let A=e.getPixelForValue(w);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(y+b):x=A,E=x-A,Math.abs(E)<c){E=L4(E,e,h)*c,_===h&&(A-=E/2);const O=e.getPixelForDecimal(0),U=e.getPixelForDecimal(1),V=Math.min(O,U),B=Math.max(O,U);A=Math.max(Math.min(A,B),V),x=A+E,i&&!m&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(x)-e.getValueForPixel(A))}if(A===e.getPixelForValue(h)){const O=rs(E)*e.getLineWidthForValue(h)/2;A+=O,E-=O}return{size:E,base:A,head:x,center:x+E/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=wt(a.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,_=a.barThickness==="flex"?k4(t,e,a,m*g):N4(t,e,a,m*g),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(wt(y,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+b;h=_.start+_.chunk*x+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function j4(n,t,e){let i=1,a=1,o=0,c=0;if(t<re){const h=n,f=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(f),y=Math.sin(f),b=(U,V,B)=>ju(U,h,f,!0)?1:Math.max(V,V*e,B,B*e),x=(U,V,B)=>ju(U,h,f,!0)?-1:Math.min(V,V*e,B,B*e),E=b(0,g,_),w=b(he,m,y),A=x(Ut,g,_),O=x(Ut+he,m,y);i=(E-A)/2,a=(w-O)/2,o=-(E+A)/2,c=-(w+O)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class F4 extends em{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(Tt(i[t])){const{key:f="value"}=this._parsing;o=g=>+Ks(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return fi(this.options.rotation-90)}_getCircumference(){return fi(this.options.circumference)}_getRotationExtents(){let t=re,e=-re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(d6(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:x,offsetY:E}=j4(_,m,f),w=(i.width-c)/y,A=(i.height-c)/b,O=Math.max(Math.min(w,A)/2,0),U=dE(this.options.radius,O),V=Math.max(U*f,0),B=(U-V)/this._getVisibleDatasetWeightTotal();this.offsetX=x*U,this.offsetY=E*U,a.total=this.calculateTotal(),this.outerRadius=U-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/re)}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,y=o&&g.animateScale,b=y?0:this.innerRadius,x=y?0:this.outerRadius,{sharedOptions:E,includeOptions:w}=this._getSharedOptions(e,a);let A=this._getRotation(),O;for(O=0;O<e;++O)A+=this._circumference(O,o);for(O=e;O<e+i;++O){const U=this._circumference(O,o),V=t[O],B={x:m+this.offsetX,y:_+this.offsetY,startAngle:A,endAngle:A+U,circumference:U,outerRadius:x,innerRadius:b};w&&(B.options=E||this.resolveDataElementOptions(O,V.active?"active":a)),A+=U,this.updateElement(V,O,B,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Yp(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,c,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,h=c.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(wt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Ns(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nm{static override(t){Object.assign(nm.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ns()}parse(){return Ns()}format(){return Ns()}add(){return Ns()}diff(){return Ns()}startOf(){return Ns()}endOf(){return Ns()}}var V4={_date:nm};function W4(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?A6:Ig;if(i){if(a._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const y=g(o,t,e-_),b=g(o,t,e+_);return{lo:y.lo,hi:b.hi}}}}else{const m=g(o,t,e);if(f){const{vScale:_}=a._cachedMeta,{_parsed:y}=n,b=y.slice(0,m.lo+1).reverse().findIndex(E=>!Bt(E[_.axis]));m.lo-=Math.max(0,b);const x=y.slice(m.hi).findIndex(E=>!Bt(E[_.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:o.length-1}}function hh(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:m}=o[h],{lo:_,hi:y}=W4(o[h],t,c,a);for(let b=_;b<=y;++b){const x=m[b];x.skip||i(x,g,b)}}}function q4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function sg(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||hh(n,e,t,function(h,f,g){!a&&!wE(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function Y4(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:g,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:_}=mE(c,{x:t.x,y:t.y});ju(_,g,m)&&a.push({element:c,datasetIndex:h,index:f})}return hh(n,e,t,o),a}function G4(n,t,e,i,a,o){let c=[];const h=q4(e);let f=Number.POSITIVE_INFINITY;function g(m,_,y){const b=m.inRange(t.x,t.y,a);if(i&&!b)return;const x=m.getCenterPoint(a);if(!(!!o||n.isPointInArea(x))&&!b)return;const w=h(t,x);w<f?(c=[{element:m,datasetIndex:_,index:y}],f=w):w===f&&c.push({element:m,datasetIndex:_,index:y})}return hh(n,e,t,g),c}function rg(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?Y4(n,t,e,a):G4(n,t,e,i,a,o)}function Zb(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return hh(n,e,t,(f,g,m)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:g,index:m}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var X4={modes:{index(n,t,e,i){const a=Ls(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?sg(n,a,o,i,c):rg(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:g.index,index:m})}),f):[]},dataset(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?sg(n,a,o,i,c):rg(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:f,index:m})}return h},point(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return sg(n,a,o,i,c)},nearest(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return rg(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=Ls(t,n);return Zb(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Ls(t,n);return Zb(n,a,"y",e.intersect,i)}}};const LE=["left","top","right","bottom"];function Co(n,t){return n.filter(e=>e.pos===t)}function Jb(n,t){return n.filter(e=>LE.indexOf(e.pos)===-1&&e.box.axis===t)}function Ao(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function K4(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function Q4(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!LE.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function $4(n,t){const e=Q4(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=m?m*a:f&&t.availableHeight)}return e}function Z4(n){const t=K4(n),e=Ao(t.filter(g=>g.box.fullSize),!0),i=Ao(Co(t,"left"),!0),a=Ao(Co(t,"right")),o=Ao(Co(t,"top"),!0),c=Ao(Co(t,"bottom")),h=Jb(t,"x"),f=Jb(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:Co(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function t1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function PE(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function J4(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Tt(a)){e.size&&(n[a]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[a]+=e.size}o.getPadding&&PE(c,o.getPadding());const h=Math.max(0,t.outerWidth-t1(c,n,"left","right")),f=Math.max(0,t.outerHeight-t1(c,n,"top","bottom")),g=h!==n.w,m=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:m}:{same:m,other:g}}function tI(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function eI(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Do(n,t,e,i){const a=[];let o,c,h,f,g,m;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,eI(h.horizontal,t));const{same:_,other:y}=J4(t,e,h,i);g|=_&&a.length,m=m||y,f.fullSize||a.push(h)}return g&&Do(a,t,e,i)||m}function Qc(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function e1(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,y=g.size||f.height;sl(g.start)&&(c=g.start),f.fullSize?Qc(f,a.left,c,e.outerWidth-a.right-a.left,y):Qc(f,t.left+g.placed,c,_,y),g.start=c,g.placed+=_,c=f.bottom}else{const _=t.h*m,y=g.size||f.width;sl(g.start)&&(o=g.start),f.fullSize?Qc(f,o,a.top,y,e.outerHeight-a.bottom-a.top):Qc(f,o,t.top+g.placed,y,_),g.start=o,g.placed+=_,o=f.right}}t.x=o,t.y=c}var gn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=mn(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=Z4(n.boxes),f=h.vertical,g=h.horizontal;Dt(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=f.reduce((E,w)=>w.box.options&&w.box.options.display===!1?E:E+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},a);PE(y,mn(i));const b=Object.assign({maxPadding:y,w:o,h:c,x:a.left,y:a.top},a),x=$4(f.concat(g),_);Do(h.fullSize,b,_,x),Do(f,b,_,x),Do(g,b,_,x)&&Do(f,b,_,x),tI(b),e1(h.leftAndTop,b,_,x),b.x+=b.w,b.y+=b.h,e1(h.rightAndBottom,b,_,x),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Dt(h.chartArea,E=>{const w=E.box;Object.assign(w,n.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class zE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class nI extends zE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const uu="$chartjs",iI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},n1=n=>n===null||n==="";function sI(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[uu]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",n1(a)){const o=Fb(n,"width");o!==void 0&&(n.width=o)}if(n1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Fb(n,"height");o!==void 0&&(n.height=o)}return n}const UE=h4?{passive:!0}:!1;function rI(n,t,e){n&&n.addEventListener(t,e,UE)}function aI(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,UE)}function oI(n,t){const e=iI[n.type]||n.type,{x:i,y:a}=Ls(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Wu(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function lI(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wu(h.addedNodes,i),c=c&&!Wu(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function cI(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Wu(h.removedNodes,i),c=c&&!Wu(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const al=new Map;let i1=0;function BE(){const n=window.devicePixelRatio;n!==i1&&(i1=n,al.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function uI(n,t){al.size||window.addEventListener("resize",BE),al.set(n,t)}function hI(n){al.delete(n),al.size||window.removeEventListener("resize",BE)}function fI(n,t,e){const i=n.canvas,a=i&&tm(i);if(!a)return;const o=bE((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,m=f.contentRect.height;g===0&&m===0||o(g,m)});return c.observe(a),uI(n,o),c}function ag(n,t,e){e&&e.disconnect(),t==="resize"&&hI(n)}function dI(n,t,e){const i=n.canvas,a=bE(o=>{n.ctx!==null&&e(oI(o,n))},n);return rI(i,t,a),a}class gI extends zE{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(sI(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[uu])return!1;const i=e[uu].initial;["height","width"].forEach(o=>{const c=i[o];Bt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[uu],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:lI,detach:cI,resize:fI}[e]||dI;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:ag,detach:ag,resize:ag}[e]||aI)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return u4(t,e,i,a)}isAttached(t){const e=t&&tm(t);return!!(e&&e.isConnected)}}function pI(n){return!Jp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nI:gI}class er{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Hu(this.x)&&Hu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function mI(n,t){const e=n.options.ticks,i=_I(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?vI(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>a)return bI(t,g,o,c/a),g;const m=yI(o,t,a);if(c>0){let _,y;const b=c>1?Math.round((f-h)/(c-1)):null;for($c(t,g,m,Bt(b)?0:h-b,h),_=0,y=c-1;_<y;_++)$c(t,g,m,o[_],o[_+1]);return $c(t,g,m,f,Bt(b)?t.length:f+b),g}return $c(t,g,m),g}function _I(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function yI(n,t,e){const i=SI(n),a=t.length/e;if(!i)return Math.max(a,1);const o=b6(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function vI(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function bI(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function $c(n,t,e,i,a){const o=wt(i,0),c=Math.min(wt(a,n.length),n.length);let h=0,f,g,m;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),m=o;m<0;)h++,m=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===m&&(t.push(n[g]),h++,m=Math.round(o+h*e))}function SI(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const xI=n=>n==="left"?"right":n==="right"?"left":n,s1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,r1=(n,t)=>Math.min(t||n,n);function a1(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function EI(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>c+h)))return f}function wI(n,t){Dt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function Ro(n){return n.drawTicks?n.tickLength:0}function o1(n,t){if(!n.display)return 0;const e=Ae(n.font,t),i=mn(n.padding);return(ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function TI(n,t){return ya(n,{scale:t,type:"scale"})}function CI(n,t,e){return ya(n,{tick:e,index:t,type:"tick"})}function AI(n,t,e){let i=qp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=xI(i)),i}function RI(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:m}=f;let _=0,y,b,x;const E=c-a,w=h-o;if(n.isHorizontal()){if(b=Ce(i,o,h),Tt(e)){const A=Object.keys(e)[0],O=e[A];x=m[A].getPixelForValue(O)+E-t}else e==="center"?x=(g.bottom+g.top)/2+E-t:x=s1(n,e,t);y=h-o}else{if(Tt(e)){const A=Object.keys(e)[0],O=e[A];b=m[A].getPixelForValue(O)-w+t}else e==="center"?b=(g.left+g.right)/2-w+t:b=s1(n,e,t);x=Ce(i,c,a),_=e==="left"?-he:he}return{titleX:b,titleY:x,maxWidth:y,rotation:_}}class va extends er{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=In(t,Number.POSITIVE_INFINITY),e=In(e,Number.NEGATIVE_INFINITY),i=In(i,Number.POSITIVE_INFINITY),a=In(a,Number.NEGATIVE_INFINITY),{min:In(t,i),max:In(e,a),minDefined:pn(t),maxDefined:pn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:In(e,In(i,e)),max:In(i,In(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=K6(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?a1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=mI(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=Wt(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=r1(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,b=Be(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:b/(i-1),_+6>h&&(h=b/(i-(t.offset?.5:1)),f=this.maxHeight-Ro(t.grid)-e.padding-o1(t.title,this.chart.options.font),g=Math.sqrt(_*_+y*y),c=w6(Math.min(Math.asin(Be((m.highest.height+6)/h,-1,1)),Math.asin(Be(f/g,-1,1))-Math.asin(Be(y/g,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=o1(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=Ro(o)+f):(t.height=this.maxHeight,t.width=Ro(o)+f),i.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:y}=this._getLabelSizes(),b=i.padding*2,x=fi(this.labelRotation),E=Math.cos(x),w=Math.sin(x);if(h){const A=i.mirror?0:w*_.width+E*y.height;t.height=Math.min(this.maxHeight,t.height+A+b)}else{const A=i.mirror?0:E*_.width+w*y.height;t.width=Math.min(this.maxWidth,t.width+A+b)}this._calculatePadding(g,m,w,E)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?g?(y=a*t.width,b=i*e.height):(y=i*t.height,b=a*e.width):o==="start"?b=e.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,b=e.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-_+c)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Bt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=a1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/r1(e,i));let g=0,m=0,_,y,b,x,E,w,A,O,U,V,B;for(_=0;_<e;_+=f){if(x=t[_].label,E=this._resolveTickFontOptions(_),a.font=w=E.string,A=o[w]=o[w]||{data:{},gc:[]},O=E.lineHeight,U=V=0,!Bt(x)&&!ue(x))U=Pb(a,A.data,A.gc,U,x),V=O;else if(ue(x))for(y=0,b=x.length;y<b;++y)B=x[y],!Bt(B)&&!ue(B)&&(U=Pb(a,A.data,A.gc,U,B),V+=O);c.push(U),h.push(V),g=Math.max(U,g),m=Math.max(V,m)}wI(o,e);const X=c.indexOf(g),Q=h.indexOf(m),$=Z=>({width:c[Z]||0,height:h[Z]||0});return{first:$(0),last:$(e-1),widest:$(X),highest:$(Q),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return C6(this._alignToPixels?Ds(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=CI(this.getContext(),t,i))}return this.$context||(this.$context=TI(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=fi(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,g=this.isHorizontal(),_=this.ticks.length+(f?1:0),y=Ro(o),b=[],x=h.setContext(this.getContext()),E=x.display?x.width:0,w=E/2,A=function(z){return Ds(i,z,E)};let O,U,V,B,X,Q,$,Z,ct,at,st,Vt;if(c==="top")O=A(this.bottom),Q=this.bottom-y,Z=O-w,at=A(t.top)+w,Vt=t.bottom;else if(c==="bottom")O=A(this.top),at=t.top,Vt=A(t.bottom)-w,Q=O+w,Z=this.top+y;else if(c==="left")O=A(this.right),X=this.right-y,$=O-w,ct=A(t.left)+w,st=t.right;else if(c==="right")O=A(this.left),ct=t.left,st=A(t.right)-w,X=O+w,$=this.left+y;else if(e==="x"){if(c==="center")O=A((t.top+t.bottom)/2+.5);else if(Tt(c)){const z=Object.keys(c)[0],q=c[z];O=A(this.chart.scales[z].getPixelForValue(q))}at=t.top,Vt=t.bottom,Q=O+w,Z=Q+y}else if(e==="y"){if(c==="center")O=A((t.left+t.right)/2);else if(Tt(c)){const z=Object.keys(c)[0],q=c[z];O=A(this.chart.scales[z].getPixelForValue(q))}X=O-w,$=X-y,ct=t.left,st=t.right}const Jt=wt(a.ticks.maxTicksLimit,_),ft=Math.max(1,Math.ceil(_/Jt));for(U=0;U<_;U+=ft){const z=this.getContext(U),q=o.setContext(z),tt=h.setContext(z),dt=q.lineWidth,C=q.color,W=tt.dash||[],K=tt.dashOffset,G=q.tickWidth,et=q.tickColor,mt=q.tickBorderDash||[],it=q.tickBorderDashOffset;V=EI(this,U,f),V!==void 0&&(B=Ds(i,V,dt),g?X=$=ct=st=B:Q=Z=at=Vt=B,b.push({tx1:X,ty1:Q,tx2:$,ty2:Z,x1:ct,y1:at,x2:st,y2:Vt,width:dt,color:C,borderDash:W,borderDashOffset:K,tickWidth:G,tickColor:et,tickBorderDash:mt,tickBorderDashOffset:it}))}return this._ticksLength=_,this._borderValue=O,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:m,mirror:_}=o,y=Ro(i.grid),b=y+m,x=_?-m:b,E=-fi(this.labelRotation),w=[];let A,O,U,V,B,X,Q,$,Z,ct,at,st,Vt="middle";if(a==="top")X=this.bottom-x,Q=this._getXAxisLabelAlignment();else if(a==="bottom")X=this.top+x,Q=this._getXAxisLabelAlignment();else if(a==="left"){const ft=this._getYAxisLabelAlignment(y);Q=ft.textAlign,B=ft.x}else if(a==="right"){const ft=this._getYAxisLabelAlignment(y);Q=ft.textAlign,B=ft.x}else if(e==="x"){if(a==="center")X=(t.top+t.bottom)/2+b;else if(Tt(a)){const ft=Object.keys(a)[0],z=a[ft];X=this.chart.scales[ft].getPixelForValue(z)+b}Q=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")B=(t.left+t.right)/2-b;else if(Tt(a)){const ft=Object.keys(a)[0],z=a[ft];B=this.chart.scales[ft].getPixelForValue(z)}Q=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(f==="start"?Vt="top":f==="end"&&(Vt="bottom"));const Jt=this._getLabelSizes();for(A=0,O=h.length;A<O;++A){U=h[A],V=U.label;const ft=o.setContext(this.getContext(A));$=this.getPixelForTick(A)+o.labelOffset,Z=this._resolveTickFontOptions(A),ct=Z.lineHeight,at=ue(V)?V.length:1;const z=at/2,q=ft.color,tt=ft.textStrokeColor,dt=ft.textStrokeWidth;let C=Q;c?(B=$,Q==="inner"&&(A===O-1?C=this.options.reverse?"left":"right":A===0?C=this.options.reverse?"right":"left":C="center"),a==="top"?g==="near"||E!==0?st=-at*ct+ct/2:g==="center"?st=-Jt.highest.height/2-z*ct+ct:st=-Jt.highest.height+ct/2:g==="near"||E!==0?st=ct/2:g==="center"?st=Jt.highest.height/2-z*ct:st=Jt.highest.height-at*ct,_&&(st*=-1),E!==0&&!ft.showLabelBackdrop&&(B+=ct/2*Math.sin(E))):(X=$,st=(1-at)*ct/2);let W;if(ft.showLabelBackdrop){const K=mn(ft.backdropPadding),G=Jt.heights[A],et=Jt.widths[A];let mt=st-K.top,it=0-K.left;switch(Vt){case"middle":mt-=G/2;break;case"bottom":mt-=G;break}switch(Q){case"center":it-=et/2;break;case"right":it-=et;break;case"inner":A===O-1?it-=et:A>0&&(it-=et/2);break}W={left:it,top:mt,width:et+K.width,height:G+K.height,color:ft.backdropColor}}w.push({label:V,font:Z,textOffset:st,options:{rotation:E,color:q,strokeColor:tt,strokeWidth:dt,textAlign:C,textBaseline:Vt,translation:[B,X],backdrop:W}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-fi(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,m;return e==="left"?a?(m=this.right+o,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m+=f)):(m=this.right-h,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m=this.left)):e==="right"?a?(m=this.left+o,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m-=f)):(m=this.left+h,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,m,_,y;this.isHorizontal()?(g=Ds(t,this.left,c)-c/2,m=Ds(t,this.right,h)+h/2,_=y=f):(_=Ds(t,this.top,c)-c/2,y=Ds(t,this.bottom,h)+h/2,g=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Gp(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,m=c.textOffset;rl(i,g,0,m,f,h)}a&&Xp(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=Ae(i.font),c=mn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Tt(e)?(f+=c.bottom,ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:m,maxWidth:_,rotation:y}=RI(this,f,e,h);rl(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:y,textAlign:AI(h,e,a),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=wt(t.grid&&t.grid.z,-1),a=wt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==va.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ae(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zc{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;DI(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,MI(t,c,i),this.override&&ne.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in ne[a]&&(delete ne[a][i],this.override&&delete Qs[i])}}function MI(n,t,e){const i=il(Object.create(null),[e?ne.get(e):{},ne.get(t),n.defaults]);ne.set(t,i),n.defaultRoutes&&OI(t,n.defaultRoutes),n.descriptors&&ne.describe(t,n.descriptors)}function OI(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");ne.route(o,a,f,h)})}function DI(n){return"id"in n&&"defaults"in n}class NI{constructor(){this.controllers=new Zc(em,"datasets",!0),this.elements=new Zc(er,"elements"),this.plugins=new Zc(Object,"plugins"),this.scales=new Zc(va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Dt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Vp(t);Wt(i["before"+a],[],i),e[t](i),Wt(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Pn=new NI;class kI{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(Wt(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=wt(i.options&&i.options.plugins,{}),o=II(i);return a===!1&&!e?[]:PI(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function II(n){const t={},e=[],i=Object.keys(Pn.plugins.items);for(let o=0;o<i.length;o++)e.push(Pn.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function LI(n,t){return!t&&n===!1?null:n===!0?{}:n}function PI(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=LI(i[f],a);g!==null&&o.push({plugin:h,options:zI(n.config,{plugin:h,local:e[f]},g,c)})}return o}function zI(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pg(n,t){const e=ne.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function UI(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function BI(n,t){return n===t?"_index_":"_value_"}function l1(n){if(n==="x"||n==="y"||n==="r")return n}function HI(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function zg(n,...t){if(l1(n))return n;for(const e of t){const i=e.axis||HI(e.position)||n.length>1&&l1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function c1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function jI(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return c1(n,"x",e[0])||c1(n,"y",e[0])}return{}}function FI(n,t){const e=Qs[n.type]||{scales:{}},i=t.scales||{},a=Pg(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Tt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=zg(c,h,jI(c,n),ne.scales[h.type]),g=BI(f,a),m=e.scales||{};o[c]=Ho(Object.create(null),[{axis:f},h,m[f],m[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Pg(h,t),m=(Qs[h]||{}).scales||{};Object.keys(m).forEach(_=>{const y=UI(_,f),b=c[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),Ho(o[b],[{axis:y},i[b],m[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];Ho(h,[ne.scales[h.type],ne.scale])}),o}function HE(n){const t=n.options||(n.options={});t.plugins=wt(t.plugins,{}),t.scales=FI(n,t)}function jE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function VI(n){return n=n||{},n.data=jE(n.data),HE(n),n}const u1=new Map,FE=new Set;function Jc(n,t){let e=u1.get(n);return e||(e=t(),u1.set(n,e),FE.add(e)),e}const Mo=(n,t,e)=>{const i=Ks(t,e);i!==void 0&&n.add(i)};class WI{constructor(t){this._config=VI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),HE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>Mo(f,t,_))),m.forEach(_=>Mo(f,a,_)),m.forEach(_=>Mo(f,Qs[o]||{},_)),m.forEach(_=>Mo(f,ne,_)),m.forEach(_=>Mo(f,Lg,_))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),FE.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qs[e]||{},ne.datasets[e]||{},{type:e},ne,Lg]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=h1(this._resolverCache,t,a);let f=c;if(YI(c,e)){o.$shared=!1,i=us(i)?i():i;const g=this.createResolver(t,i,h);f=oa(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=h1(this._resolverCache,t,i);return Tt(e)?oa(o,e,void 0,a):o}}function h1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:Qp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const qI=n=>Tt(n)&&Object.getOwnPropertyNames(n).some(t=>us(n[t]));function YI(n,t){const{isScriptable:e,isIndexable:i}=CE(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(us(h)||qI(h))||c&&ue(h))return!0}return!1}var GI="4.5.0";const XI=["top","bottom","left","right","chartArea"];function f1(n,t){return n==="top"||n==="bottom"||XI.indexOf(n)===-1&&t==="x"}function d1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function g1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Wt(e&&e.onComplete,[n],t)}function KI(n){const t=n.chart,e=t.options.animation;Wt(e&&e.onProgress,[n],t)}function VE(n){return Jp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const hu={},p1=n=>{const t=VE(n);return Object.values(hu).filter(e=>e.canvas===t).pop()};function QI(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function $I(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let El=class{static defaults=ne;static instances=hu;static overrides=Qs;static registry=Pn;static version=GI;static getChart=p1;static register(...t){Pn.add(...t),m1()}static unregister(...t){Pn.remove(...t),m1()}constructor(t,e){const i=this.config=new WI(e),a=VE(t),o=p1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pI(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,m=f&&f.width;if(this.id=f6(),this.ctx=h,this.canvas=f,this.width=m,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=O6(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],hu[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ri.listen(this,"complete",g1),ri.listen(this,"progress",KI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return Bt(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zb(this.canvas,this.ctx),this}stop(){return ri.stop(this),this}resize(t,e){ri.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,jb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Wt(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Dt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=zg(c,h),g=f==="r",m=f==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Dt(o,c=>{const h=c.options,f=h.id,g=zg(f,h),m=wt(h.type,c.dtype);(h.position===void 0||f1(h.position,g)!==f1(c.dposition))&&(h.position=c.dposition),a[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const y=Pn.getScale(m);_=new y({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),Dt(a,(c,h)=>{c||delete i[h]}),Dt(i,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(d1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Pg(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Pn.getController(h),{datasetElementType:g,dataElementType:m}=ne.datasets[h];Object.assign(f,{dataElementType:Pn.getElement(m),datasetElementType:g&&Pn.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),y=!a&&o.indexOf(_)===-1;_.buildOrUpdateElements(y),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Dt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(d1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Dt(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ab(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;QI(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!Ab(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Dt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,us(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ri.has(this)?this.attached&&!ri.running(this)&&ri.start(this):(this.draw(),g1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=p4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Gp(e,a),t.controller.draw(),a&&Xp(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return wE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=X4.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);sl(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ri.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete hu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Dt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Dt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Dt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!zu(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=y6(t),g=$I(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Wt(o.onHover,[t,h,this],this),f&&Wt(o.onClick,[t,h,this],this));const m=!zu(h,a);return(m||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,m}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function m1(){return Dt(El.instances,n=>n._plugins.invalidate())}function ZI(n,t,e){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:m}=f,_=Math.min(g/c,zn(i-e));if(n.beginPath(),n.arc(a,o,c-g/2,i+_/2,e-_/2),h>0){const y=Math.min(g/h,zn(i-e));n.arc(a,o,h+g/2,e-y/2,i+y/2,!0)}else{const y=Math.min(g/2,c*zn(i-e));if(m==="round")n.arc(a,o,y,e-Ut/2,i+Ut/2,!0);else if(m==="bevel"){const b=2*y*y,x=-b*Math.cos(e+Ut/2)+a,E=-b*Math.sin(e+Ut/2)+o,w=b*Math.cos(i+Ut/2)+a,A=b*Math.sin(i+Ut/2)+o;n.lineTo(x,E),n.lineTo(w,A)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function JI(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=a/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>a?(g=a/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,a,e+he,i-he),n.closePath(),n.clip()}function t5(n){return Kp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function e5(n,t,e,i){const a=t5(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Be(f,0,Math.min(o,g))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Be(a.innerStart,0,c),innerEnd:Be(a.innerEnd,0,c)}}function Wr(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function qu(n,t,e,i,a,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-g,0),y=m>0?m+i+e+g:0;let b=0;const x=a-f;if(i){const ft=m>0?m-i:0,z=_>0?_-i:0,q=(ft+z)/2,tt=q!==0?x*q/(q+i):x;b=(x-tt)/2}const E=Math.max(.001,x*_-e/Ut)/_,w=(x-E)/2,A=f+w+b,O=a-w-b,{outerStart:U,outerEnd:V,innerStart:B,innerEnd:X}=e5(t,y,_,O-A),Q=_-U,$=_-V,Z=A+U/Q,ct=O-V/$,at=y+B,st=y+X,Vt=A+B/at,Jt=O-X/st;if(n.beginPath(),o){const ft=(Z+ct)/2;if(n.arc(c,h,_,Z,ft),n.arc(c,h,_,ft,ct),V>0){const dt=Wr($,ct,c,h);n.arc(dt.x,dt.y,V,ct,O+he)}const z=Wr(st,O,c,h);if(n.lineTo(z.x,z.y),X>0){const dt=Wr(st,Jt,c,h);n.arc(dt.x,dt.y,X,O+he,Jt+Math.PI)}const q=(O-X/y+(A+B/y))/2;if(n.arc(c,h,y,O-X/y,q,!0),n.arc(c,h,y,q,A+B/y,!0),B>0){const dt=Wr(at,Vt,c,h);n.arc(dt.x,dt.y,B,Vt+Math.PI,A-he)}const tt=Wr(Q,A,c,h);if(n.lineTo(tt.x,tt.y),U>0){const dt=Wr(Q,Z,c,h);n.arc(dt.x,dt.y,U,A-he,Z)}}else{n.moveTo(c,h);const ft=Math.cos(Z)*_+c,z=Math.sin(Z)*_+h;n.lineTo(ft,z);const q=Math.cos(ct)*_+c,tt=Math.sin(ct)*_+h;n.lineTo(q,tt)}n.closePath()}function n5(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){qu(n,t,e,i,f,a);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%re||re))}return qu(n,t,e,i,f,a),n.fill(),f}function i5(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:y,borderRadius:b}=f,x=f.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=y,x?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let E=t.endAngle;if(o){qu(n,t,e,i,E,a);for(let w=0;w<o;++w)n.stroke();isNaN(h)||(E=c+(h%re||re))}x&&JI(n,t,E),f.selfJoin&&E-c>=Ut&&b===0&&m!=="miter"&&ZI(n,t,E),o||(qu(n,t,e,i,E,a),n.stroke())}class s5 extends er{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=mE(a,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,b=wt(_,f-h),x=ju(o,h,f)&&h!==f,E=b>=re||x,w=Hs(c,g+y,m+y);return E&&w}getCenterPoint(t){const{x:e,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,m=(a+o)/2,_=(c+h+g+f)/2;return{x:e+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,a=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>re?Math.floor(i/re):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(Ut,i||0)),g=a*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,n5(t,this,g,o,c),i5(t,this,g,o,c),t.restore()}}function WE(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,m,_;return n.horizontal?(_=c/2,h=Math.min(e,a),f=Math.max(e,a),g=i-_,m=i+_):(_=o/2,h=e-_,f=e+_,g=Math.min(i,a),m=Math.max(i,a)),{left:h,top:g,right:f,bottom:m}}function $i(n,t,e,i){return n?0:Be(t,e,i)}function r5(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=TE(i);return{t:$i(a.top,o.top,0,e),r:$i(a.right,o.right,0,t),b:$i(a.bottom,o.bottom,0,e),l:$i(a.left,o.left,0,t)}}function a5(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=Zr(a),c=Math.min(t,e),h=n.borderSkipped,f=i||Tt(a);return{topLeft:$i(!f||h.top||h.left,o.topLeft,0,c),topRight:$i(!f||h.top||h.right,o.topRight,0,c),bottomLeft:$i(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:$i(!f||h.bottom||h.right,o.bottomRight,0,c)}}function o5(n){const t=WE(n),e=t.right-t.left,i=t.bottom-t.top,a=r5(n,e/2,i/2),o=a5(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function og(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&WE(n,i);return h&&(a||Hs(t,h.left,h.right))&&(o||Hs(e,h.top,h.bottom))}function l5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function c5(n,t){n.rect(t.x,t.y,t.w,t.h)}function lg(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class u5 extends er{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=o5(this),h=l5(c.radius)?Fu:c5;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,lg(c,e,o)),t.clip(),h(t,lg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,lg(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return og(this,t,e,i)}inXRange(t,e){return og(this,t,null,e)}inYRange(t,e){return og(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const _1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},h5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class y1 extends er{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Wt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=Ae(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=_1(i,o);let g,m;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(c,o,h,f)+10):(m=this.maxHeight,g=this._fitCols(c,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],m=a+h;let _=t;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-m;return this.legendItems.forEach((x,E)=>{const w=i+e/2+o.measureText(x.text).width;(E===0||g[g.length-1]+w+2*h>c)&&(_+=m,g[g.length-(E>0?0:1)]=0,b+=m,y++),f[E]={left:0,top:b,row:y,width:w,height:a},g[g.length-1]+=w+h}),_}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],m=c-t;let _=h,y=0,b=0,x=0,E=0;return this.legendItems.forEach((w,A)=>{const{itemWidth:O,itemHeight:U}=f5(i,e,o,w,a);A>0&&b+U+2*h>m&&(_+=y+h,g.push({width:y,height:b}),x+=y+h,E++,y=b=0),f[A]={left:x,top:b,col:E,width:O,height:U},y=Math.max(y,O),b+=U+h}),_+=y,g.push({width:y,height:b}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Jr(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Ce(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=Ce(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+a}else{let h=0,f=Ce(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=Ce(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gp(t,this),this._draw(),Xp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=ne.color,f=Jr(t.rtl,this.left,this.width),g=Ae(c.font),{padding:m}=c,_=g.size,y=_/2;let b;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:x,boxHeight:E,itemHeight:w}=_1(c,_),A=function(X,Q,$){if(isNaN(x)||x<=0||isNaN(E)||E<0)return;a.save();const Z=wt($.lineWidth,1);if(a.fillStyle=wt($.fillStyle,h),a.lineCap=wt($.lineCap,"butt"),a.lineDashOffset=wt($.lineDashOffset,0),a.lineJoin=wt($.lineJoin,"miter"),a.lineWidth=Z,a.strokeStyle=wt($.strokeStyle,h),a.setLineDash(wt($.lineDash,[])),c.usePointStyle){const ct={radius:E*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:Z},at=f.xPlus(X,x/2),st=Q+y;EE(a,ct,at,st,c.pointStyleWidth&&x)}else{const ct=Q+Math.max((_-E)/2,0),at=f.leftForLtr(X,x),st=Zr($.borderRadius);a.beginPath(),Object.values(st).some(Vt=>Vt!==0)?Fu(a,{x:at,y:ct,w:x,h:E,radius:st}):a.rect(at,ct,x,E),a.fill(),Z!==0&&a.stroke()}a.restore()},O=function(X,Q,$){rl(a,$.text,X,Q+w/2,g,{strikethrough:$.hidden,textAlign:f.textAlign($.textAlign)})},U=this.isHorizontal(),V=this._computeTitleHeight();U?b={x:Ce(o,this.left+m,this.right-i[0]),y:this.top+m+V,line:0}:b={x:this.left+m,y:Ce(o,this.top+V+m,this.bottom-e[0].height),line:0},OE(this.ctx,t.textDirection);const B=w+m;this.legendItems.forEach((X,Q)=>{a.strokeStyle=X.fontColor,a.fillStyle=X.fontColor;const $=a.measureText(X.text).width,Z=f.textAlign(X.textAlign||(X.textAlign=c.textAlign)),ct=x+y+$;let at=b.x,st=b.y;f.setWidth(this.width),U?Q>0&&at+ct+m>this.right&&(st=b.y+=B,b.line++,at=b.x=Ce(o,this.left+m,this.right-i[b.line])):Q>0&&st+B>this.bottom&&(at=b.x=at+e[b.line].width+m,b.line++,st=b.y=Ce(o,this.top+V+m,this.bottom-e[b.line].height));const Vt=f.x(at);if(A(Vt,st,X),at=D6(Z,at+x+y,U?at+ct:this.right,t.rtl),O(f.x(at),st,X),U)b.x+=ct+m;else if(typeof X.text!="string"){const Jt=g.lineHeight;b.y+=qE(X,Jt)+m}else b.y+=B}),DE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ae(e.font),a=mn(e.padding);if(!e.display)return;const o=Jr(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+g,_=Ce(t.align,_,this.right-y);else{const x=this.columnSizes.reduce((E,w)=>Math.max(E,w.height),0);m=g+Ce(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const b=Ce(h,_,_+y);c.textAlign=o.textAlign(qp(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,rl(c,e.text,b,m,i)}_computeTitleHeight(){const t=this.options.title,e=Ae(t.font),i=mn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Hs(t,this.left,this.right)&&Hs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Hs(t,a.left,a.left+a.width)&&Hs(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!p5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=h5(a,i);a&&!o&&Wt(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&Wt(e.onHover,[t,i,this],this)}else i&&Wt(e.onClick,[t,i,this],this)}}function f5(n,t,e,i,a){const o=d5(i,n,t,e),c=g5(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function d5(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function g5(n,t,e){let i=n;return typeof t.text!="string"&&(i=qE(t,e)),i}function qE(n,t){const e=n.text?n.text.length:0;return t*e}function p5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var YE={id:"legend",_element:y1,start(n,t,e){const i=n.legend=new y1({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;gn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),m=mn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class GE extends er{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ue(i.text)?i.text.length:1;this._padding=mn(i.padding);const o=a*Ae(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,g,m,_;return this.isHorizontal()?(m=Ce(h,i,o),_=e+t,g=o-i):(c.position==="left"?(m=i+t,_=Ce(h,a,e),f=Ut*-.5):(m=o-t,_=Ce(h,e,a),f=Ut*.5),g=a-e),{titleX:m,titleY:_,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ae(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);rl(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:qp(e.align),textBaseline:"middle",translation:[c,h]})}}function m5(n,t){const e=new GE({ctx:n.ctx,options:t,chart:n});gn.configure(n,e,t),gn.addBox(n,e),n.titleBlock=e}var _5={id:"title",_element:GE,start(n,t,e){m5(n,e)},stop(n){const t=n.titleBlock;gn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const No={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),m=T6(t,g);m<a&&(a=m,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ln(n,t){return t&&(ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ai(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function y5(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function v1(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Ae(t.bodyFont),g=Ae(t.titleFont),m=Ae(t.footerFont),_=o.length,y=a.length,b=i.length,x=mn(t.padding);let E=x.height,w=0,A=i.reduce((V,B)=>V+B.before.length+B.lines.length+B.after.length,0);if(A+=n.beforeBody.length+n.afterBody.length,_&&(E+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),A){const V=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;E+=b*V+(A-b)*f.lineHeight+(A-1)*t.bodySpacing}y&&(E+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let O=0;const U=function(V){w=Math.max(w,e.measureText(V).width+O)};return e.save(),e.font=g.string,Dt(n.title,U),e.font=f.string,Dt(n.beforeBody.concat(n.afterBody),U),O=t.displayColors?c+2+t.boxPadding:0,Dt(i,V=>{Dt(V.before,U),Dt(V.lines,U),Dt(V.after,U)}),O=0,e.font=m.string,Dt(n.footer,U),e.restore(),w+=x.width,{width:w,height:E}}function v5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function b5(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function S5(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=c-o/2&&(g="right"),b5(g,n,t,e)&&(g="center"),g}function b1(n,t,e){const i=e.yAlign||t.yAlign||v5(n,e);return{xAlign:e.xAlign||t.xAlign||S5(n,t,e,i),yAlign:i}}function x5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function E5(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function S1(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:b}=Zr(c);let x=x5(t,h);const E=E5(t,f,g);return f==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(m,y)+a:h==="right"&&(x+=Math.max(_,b)+a),{x:Be(x,0,i.width-t.width),y:Be(E,0,i.height-t.height)}}function tu(n,t,e){const i=mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function x1(n){return Ln([],ai(n))}function w5(n,t,e){return ya(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function E1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const XE={beforeTitle:si,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Bt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Pe(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?XE[t].call(e,i):a}class w1 extends er{static positioners=No;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new NE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=w5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Pe(i,"beforeTitle",this,t),o=Pe(i,"title",this,t),c=Pe(i,"afterTitle",this,t);let h=[];return h=Ln(h,ai(a)),h=Ln(h,ai(o)),h=Ln(h,ai(c)),h}getBeforeBody(t,e){return x1(Pe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Dt(t,o=>{const c={before:[],lines:[],after:[]},h=E1(i,o);Ln(c.before,ai(Pe(h,"beforeLabel",this,o))),Ln(c.lines,Pe(h,"label",this,o)),Ln(c.after,ai(Pe(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return x1(Pe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Pe(i,"beforeFooter",this,t),o=Pe(i,"footer",this,t),c=Pe(i,"afterFooter",this,t);let h=[];return h=Ln(h,ai(a)),h=Ln(h,ai(o)),h=Ln(h,ai(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(y5(this.chart,e[f]));return t.filter&&(h=h.filter((m,_,y)=>t.filter(m,_,y,i))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,i))),Dt(h,m=>{const _=E1(t.callbacks,m);a.push(Pe(_,"labelColor",this,m)),o.push(Pe(_,"labelPointStyle",this,m)),c.push(Pe(_,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=No[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=v1(this,i),g=Object.assign({},h,f),m=b1(this.chart,i,g),_=S1(i,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:_}=Zr(h),{x:y,y:b}=t,{width:x,height:E}=e;let w,A,O,U,V,B;return o==="center"?(V=b+E/2,a==="left"?(w=y,A=w-c,U=V+c,B=V-c):(w=y+x,A=w+c,U=V-c,B=V+c),O=w):(a==="left"?A=y+Math.max(f,m)+c:a==="right"?A=y+x-Math.max(g,_)-c:A=this.caretX,o==="top"?(U=b,V=U-c,w=A-c,O=A+c):(U=b+E,V=U+c,w=A+c,O=A-c),B=U),{x1:w,x2:A,x3:O,y1:U,y2:V,y3:B}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const g=Jr(i.rtl,this.x,this.width);for(t.x=tu(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Ae(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,m=Ae(o.bodyFont),_=tu(this,"left",o),y=a.x(_),b=f<m.lineHeight?(m.lineHeight-f)/2:0,x=e.y+b;if(o.usePointStyle){const E={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=a.leftForLtr(y,g)+g/2,A=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ub(t,E,w,A),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ub(t,E,w,A)}else{t.lineWidth=Tt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const E=a.leftForLtr(y,g),w=a.leftForLtr(a.xPlus(y,1),g-2),A=Zr(c.borderRadius);Object.values(A).some(O=>O!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Fu(t,{x:E,y:x,w:g,h:f,radius:A}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Fu(t,{x:w,y:x+1,w:g-2,h:f-2,radius:A}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(E,x,g,f),t.strokeRect(E,x,g,f),t.fillStyle=c.backgroundColor,t.fillRect(w,x+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:m}=i,_=Ae(i.bodyFont);let y=_.lineHeight,b=0;const x=Jr(i.rtl,this.x,this.width),E=function($){e.fillText($,x.x(t.x+b),t.y+y/2),t.y+=y+o},w=x.textAlign(c);let A,O,U,V,B,X,Q;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=tu(this,w,i),e.fillStyle=i.bodyColor,Dt(this.beforeBody,E),b=h&&w!=="right"?c==="center"?g/2+m:g+2+m:0,V=0,X=a.length;V<X;++V){for(A=a[V],O=this.labelTextColors[V],e.fillStyle=O,Dt(A.before,E),U=A.lines,h&&U.length&&(this._drawColorBox(e,t,V,x,i),y=Math.max(_.lineHeight,f)),B=0,Q=U.length;B<Q;++B)E(U[B]),y=_.lineHeight;Dt(A.after,E)}b=0,y=_.lineHeight,Dt(this.afterBody,E),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=Jr(i.rtl,this.x,this.width);for(t.x=tu(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Ae(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:m}=i,{topLeft:_,topRight:y,bottomLeft:b,bottomRight:x}=Zr(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-y,f),e.quadraticCurveTo(h+g,f,h+g,f+y),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+m-x),e.quadraticCurveTo(h+g,f+m,h+g-x,f+m),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+b,f+m),e.quadraticCurveTo(h,f+m,h,f+m-b),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=No[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=v1(this,t),f=Object.assign({},c,this._size),g=b1(e,t,f),m=S1(t,f,g,e);(a._to!==m.x||o._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=mn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),OE(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),DE(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!zu(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!zu(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=No[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var KE={id:"tooltip",_element:w1,positioners:No,afterInit(n,t,e){e&&(n.tooltip=new w1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:XE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const T5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function C5(n,t,e,i){const a=n.indexOf(t);if(a===-1)return T5(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const A5=(n,t)=>n===null?null:Be(Math.round(n),0,t);function T1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class R5 extends va{static id="category";static defaults={ticks:{callback:T1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Bt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:C5(i,t,wt(e,t),this._addedLabels),A5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return T1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function M5(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:g,maxTicks:m,maxDigits:_,includeBounds:y}=n,b=o||1,x=m-1,{min:E,max:w}=t,A=!Bt(c),O=!Bt(h),U=!Bt(g),V=(w-E)/(_+1);let B=Mb((w-E)/x/b)*b,X,Q,$,Z;if(B<1e-14&&!A&&!O)return[{value:E},{value:w}];Z=Math.ceil(w/B)-Math.floor(E/B),Z>x&&(B=Mb(Z*B/x/b)*b),Bt(f)||(X=Math.pow(10,f),B=Math.ceil(B*X)/X),a==="ticks"?(Q=Math.floor(E/B)*B,$=Math.ceil(w/B)*B):(Q=E,$=w),A&&O&&o&&x6((h-c)/o,B/1e3)?(Z=Math.round(Math.min((h-c)/B,m)),B=(h-c)/Z,Q=c,$=h):U?(Q=A?c:Q,$=O?h:$,Z=g-1,B=($-Q)/Z):(Z=($-Q)/B,cu(Z,Math.round(Z),B/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const ct=Math.max(Ob(B),Ob(Q));X=Math.pow(10,Bt(f)?ct:f),Q=Math.round(Q*X)/X,$=Math.round($*X)/X;let at=0;for(A&&(y&&Q!==c?(e.push({value:c}),Q<c&&at++,cu(Math.round((Q+at*B)*X)/X,c,C1(c,V,n))&&at++):Q<c&&at++);at<Z;++at){const st=Math.round((Q+at*B)*X)/X;if(O&&st>h)break;e.push({value:st})}return O&&y&&$!==h?e.length&&cu(e[e.length-1].value,h,C1(h,V,n))?e[e.length-1].value=h:e.push({value:h}):(!O||$===h)&&e.push({value:$}),e}function C1(n,t,{horizontal:e,minRotation:i}){const a=fi(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class O5 extends va{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=rs(a),g=rs(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=M5(a,o);return t.bounds==="ticks"&&E6(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Yp(t,this.chart.options.locale,this.options.ticks.format)}}class D5 extends O5{static id="linear";static defaults={ticks:{callback:xE.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=fi(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const fh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ze=Object.keys(fh);function A1(n,t){return n-t}function R1(n,t){if(Bt(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),pn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Hu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function M1(n,t,e,i){const a=ze.length;for(let o=ze.indexOf(n);o<a-1;++o){const c=fh[ze[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return ze[o]}return ze[a-1]}function N5(n,t,e,i,a){for(let o=ze.length-1;o>=ze.indexOf(e);o--){const c=ze[o];if(fh[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return ze[e?ze.indexOf(e):0]}function k5(n){for(let t=ze.indexOf(n)+1,e=ze.length;t<e;++t)if(fh[ze[t]].common)return ze[t]}function O1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Wp(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function I5(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function D1(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:I5(n,i,a,e)}class N1 extends va{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new V4._date(t.adapters.date);a.init(e),Ho(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:R1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=pn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=pn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=R6(a,o,c);return this._unit=e.unit||(i.autoSkip?M1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):N5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:k5(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),D1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Be(e,0,c),i=Be(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||M1(o.minUnit,e,i,this._getLabelCapacity(e)),h=wt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Hu(f)||f===!0,m={};let _=e,y,b;if(g&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(y=_,b=0;y<i;y=+t.add(y,h,c),b++)O1(m,y,x);return(y===i||a.bounds==="ticks"||b===1)&&O1(m,y,x),Object.keys(m).sort(A1).map(E=>+E)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return Wt(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,m=f&&h[f],_=g&&h[g],y=i[e],b=g&&_&&y&&y.major;return this._adapter.format(t,a||(b?_:m))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=fi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,D1(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(R1(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yE(t.sort(A1))}}function eu(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=Ig(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=Ig(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class Y5 extends N1{static id="timeseries";static defaults=N1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=eu(e,this.min),this._tableRange=eu(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,g,m;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)m=a[c+1],f=a[c-1],g=a[c],Math.round((m+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(eu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return eu(this._table,i*this._tableRange+this._minPos,!0)}}const QE="label";function k1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function L5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function $E(n,t){n.labels=t}function ZE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QE;const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function P5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QE;const e={labels:[],datasets:[]};return $E(e,n.labels),ZE(e,n.datasets,t),e}function z5(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:m,updateMode:_,...y}=n,b=L.useRef(null),x=L.useRef(null),E=()=>{b.current&&(x.current=new El(b.current,{type:c,data:P5(h,o),options:f&&{...f},plugins:g}),k1(t,x.current))},w=()=>{k1(t,null),x.current&&(x.current.destroy(),x.current=null)};return L.useEffect(()=>{!a&&x.current&&f&&L5(x.current,f)},[a,f]),L.useEffect(()=>{!a&&x.current&&$E(x.current.config.data,h.labels)},[a,h.labels]),L.useEffect(()=>{!a&&x.current&&h.datasets&&ZE(x.current.config.data,h.datasets,o)},[a,h.datasets]),L.useEffect(()=>{x.current&&(a?(w(),setTimeout(E)):x.current.update(_))},[a,f,h.labels,h.datasets,_]),L.useEffect(()=>{x.current&&(w(),setTimeout(E))},[c]),L.useEffect(()=>(E(),()=>w()),[]),di.createElement("canvas",{ref:b,role:"img",height:e,width:i,...y},m)}const U5=L.forwardRef(z5);function JE(n,t){return El.register(t),L.forwardRef((e,i)=>di.createElement(U5,{...e,ref:i,type:n}))}const B5=JE("bar",H4),H5=JE("doughnut",F4);El.register(s5,KE,YE);const j5=()=>{const{user:n,loading:t}=_a(),[e,i]=L.useState(null),[a,o]=L.useState(0),c=async g=>{if(!g){o(0),setCalculating(!1);return}try{const m=Ze(Je,`emr-users/${g.uid}/progress`),y=(await dn(m)).val(),b=Ze(Je,"words"),E=(await dn(b)).size,w=Ze(Je,`emr-users/${g.uid}/wordHistories`),A=await dn(w);if(!A.val()){o(0);return}const O=A.val(),U={easy:0,normal:0,hard:0,default:0};for(const B in O)switch(O[B].difficulty){case"easy":U.easy++;break;case"normal":U.normal++;break;case"hard":U.hard++;break;default:U.default++;break}const V=E-A.size;if(i([U.easy,U.normal,U.hard,V]),y&&E>0){const B=Math.round((y.currentIndex+1)/E*100);o(B)}else o(0)}catch(m){console.error("Error calculating progress:",m),o(0)}};L.useEffect(()=>{n&&c(n)},[n,t]);const h=["#14B8A6","#3B82F6","#F59E0B","#E5E7EB"],f={datasets:[{data:e,backgroundColor:h.map(g=>`${g}7F`),borderColor:h,borderWidth:1}]};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"relative w-full h-full flex-1 min-h-40",children:[M.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:M.jsx(H5,{data:f})}),M.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:n?M.jsxs("p",{className:"text-6xl font-black",children:[a,"%"]}):M.jsx("p",{className:"text-6xl font-black",children:"-%"})})]}),M.jsxs("div",{className:"flex w-full justify-center gap-4",children:[M.jsx("p",{className:"bg-teal-400/50 px-2 rounded border border-teal-400",children:"easy"}),M.jsx("p",{className:"bg-blue-400/50 px-2 rounded border border-blue-400",children:"normal"}),M.jsx("p",{className:"bg-amber-400/50 px-2 rounded border border-amber-400",children:"hard"}),M.jsx("p",{className:"bg-gray-200/50 px-2 rounded border border-gray-200",children:"not study"})]})]})};El.register(R5,D5,u5,_5,KE,YE);const F5=()=>{const{user:n,loading:t}=_a(),[e,i]=L.useState({labels:[],datasets:[]});if(L.useEffect(()=>{n&&(async()=>{const c=Ze(Je,`emr-users/${n.uid}/wordHistories`);try{const h=await dn(c);if(h.exists()){const f=h.val(),g=new Date;g.setHours(0,0,0,0);const m=new Date(g);m.setDate(g.getDate()-6);const _={},y=[];for(let b=0;b<7;b++){const x=new Date(m);x.setDate(m.getDate()+b);const E=x.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});_[E]=0,y.push(E)}for(const b in f){const x=f[b];if(x.lastReviewed){const E=new Date(x.lastReviewed);if(E>=m){const w=E.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});_.hasOwnProperty(w)&&_[w]++}}}i({labels:y,datasets:[{data:y.map(b=>_[b]),backgroundColor:"#FB923C7F",borderColor:"#FB923C",borderWidth:1}]})}}catch(h){console.error("データ取得中にエラーが発生しました:",h)}})()},[n]),t)return M.jsx("div",{children:"Loading..."});const a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Words"},ticks:{stepSize:1}},x:{title:{display:!0,text:"Date"}}}};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-full h-full flex-1",children:M.jsx(B5,{data:e,options:a})}),M.jsx("div",{className:"flex w-full justify-center gap-4",children:M.jsx("p",{className:"bg-orange-400/50 px-2 rounded border border-orange-400",children:"Study words"})})]})},V5=()=>{const{user:n,loading:t}=_a();return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[M.jsxs("h1",{className:"font-bold text-xl",children:["Study chart of ",n?.displayName]}),M.jsxs("div",{className:"flex flex-col gap-2 p-2 flex-1 overflow-auto w-full",children:[M.jsx(j5,{}),M.jsx(F5,{})]})]})})};function W5(){const{user:n,loading:t}=_a(),{theme:e,setTheme:i}=Bp(),a=async()=>{try{const o=n.uid,c=Ze(Je,`emr-users/${o}/progress/repeat`),f=(await dn(c)).val()||0,g=cE(f);i(g),localStorage.setItem("level",g)}catch(o){console.error(o)}};return L.useEffect(()=>{const o=localStorage.getItem("level");o?i(o):a()}),M.jsxs(M.Fragment,{children:[M.jsx(V3,{}),t?M.jsx("div",{className:"fixed top-0 left-0 w-full h-dvh flex justify-center items-center bg-gray-400/50",children:M.jsx("div",{className:"loader border-r-2 border-2 border-transparent border-r-[var(--color-accent)]"})}):!n&&M.jsx(F3,{}),M.jsxs("div",{className:"h-full bg-[var(--color-bg)] text-[var(--color-text)] font-Montserrat flex flex-col pb-safe",children:[M.jsxs("div",{className:"bg-[var(--color-accent)] shadow-xl p-2 flex items-center justify-between h-16",children:[M.jsx(Ps,{to:"/",className:" text-white text-xl text-bold",children:"English Master"}),n&&!n.isAnonymous?M.jsx("img",{src:n.photoURL,className:"rounded-full h-full shadow-md",onClick:j3}):M.jsx("button",{className:"btn-icon",onClick:U3,children:M.jsx(E3,{className:"size-8"})})]}),M.jsx("div",{className:"flex-1 overflow-hidden",children:M.jsxs(E2,{children:[M.jsx(qr,{path:"/",element:M.jsx(f3,{})}),M.jsx(qr,{path:"/study",element:M.jsx(A3,{})}),M.jsx(qr,{path:"/words",element:M.jsx(R3,{})}),M.jsx(qr,{path:"*",element:M.jsx(d3,{})}),M.jsx(qr,{path:"/charts",element:M.jsx(V5,{})})]})}),M.jsx(L3,{})]})]})}NC.createRoot(document.getElementById("root")).render(M.jsx(L.StrictMode,{children:M.jsx(r3,{children:M.jsx(C3,{children:M.jsx(Y2,{basename:"/english-master-react/",children:M.jsx(W5,{})})})})}));
