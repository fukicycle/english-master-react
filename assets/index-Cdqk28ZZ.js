(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function cC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xd={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function uC(){if(Hv)return go;Hv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return go.Fragment=t,go.jsx=e,go.jsxs=e,go}var Bv;function hC(){return Bv||(Bv=1,xd.exports=uC()),xd.exports}var P=hC(),Ed={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function fC(){if(jv)return gt;jv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function T(C,V,X){this.props=C,this.context=V,this.refs=E,this.updater=X||b}T.prototype.isReactComponent={},T.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=T.prototype;function M(C,V,X){this.props=C,this.context=V,this.refs=E,this.updater=X||b}var U=M.prototype=new A;U.constructor=M,x(U,T.prototype),U.isPureReactComponent=!0;var q=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Q(C,V,X,G,et,mt){return X=mt.ref,{$$typeof:n,type:C,key:V,ref:X!==void 0?X:null,props:mt}}function $(C,V){return Q(C.type,V,void 0,void 0,void 0,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function lt(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(X){return V[X]})}var at=/\/+/g;function st(C,V){return typeof C=="object"&&C!==null&&C.key!=null?lt(""+C.key):V.toString(36)}function Vt(){}function Jt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Vt,Vt):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ft(C,V,X,G,et){var mt=typeof C;(mt==="undefined"||mt==="boolean")&&(C=null);var it=!1;if(C===null)it=!0;else switch(mt){case"bigint":case"string":case"number":it=!0;break;case"object":switch(C.$$typeof){case n:case t:it=!0;break;case m:return it=C._init,ft(it(C._payload),V,X,G,et)}}if(it)return et=et(C),it=G===""?"."+st(C,0):G,q(et)?(X="",it!=null&&(X=it.replace(at,"$&/")+"/"),ft(et,V,X,"",function(yi){return yi})):et!=null&&(Z(et)&&(et=$(et,X+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(at,"$&/")+"/")+it)),V.push(et)),1;it=0;var je=G===""?".":G+":";if(q(C))for(var Yt=0;Yt<C.length;Yt++)G=C[Yt],mt=je+st(G,Yt),it+=ft(G,V,X,mt,et);else if(Yt=y(C),typeof Yt=="function")for(C=Yt.call(C),Yt=0;!(G=C.next()).done;)G=G.value,mt=je+st(G,Yt++),it+=ft(G,V,X,mt,et);else if(mt==="object"){if(typeof C.then=="function")return ft(Jt(C),V,X,G,et);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return it}function L(C,V,X){if(C==null)return C;var G=[],et=0;return ft(C,G,"","",function(mt){return V.call(X,mt,et++)}),G}function Y(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(X){(C._status===0||C._status===-1)&&(C._status=1,C._result=X)},function(X){(C._status===0||C._status===-1)&&(C._status=2,C._result=X)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var tt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function dt(){}return gt.Children={map:L,forEach:function(C,V,X){L(C,function(){V.apply(this,arguments)},X)},count:function(C){var V=0;return L(C,function(){V++}),V},toArray:function(C){return L(C,function(V){return V})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},gt.Component=T,gt.Fragment=e,gt.Profiler=a,gt.PureComponent=M,gt.StrictMode=i,gt.Suspense=f,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,gt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return B.H.useMemoCache(C)}},gt.cache=function(C){return function(){return C.apply(null,arguments)}},gt.cloneElement=function(C,V,X){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=x({},C.props),et=C.key,mt=void 0;if(V!=null)for(it in V.ref!==void 0&&(mt=void 0),V.key!==void 0&&(et=""+V.key),V)!K.call(V,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&V.ref===void 0||(G[it]=V[it]);var it=arguments.length-2;if(it===1)G.children=X;else if(1<it){for(var je=Array(it),Yt=0;Yt<it;Yt++)je[Yt]=arguments[Yt+2];G.children=je}return Q(C.type,et,void 0,void 0,mt,G)},gt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},gt.createElement=function(C,V,X){var G,et={},mt=null;if(V!=null)for(G in V.key!==void 0&&(mt=""+V.key),V)K.call(V,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(et[G]=V[G]);var it=arguments.length-2;if(it===1)et.children=X;else if(1<it){for(var je=Array(it),Yt=0;Yt<it;Yt++)je[Yt]=arguments[Yt+2];et.children=je}if(C&&C.defaultProps)for(G in it=C.defaultProps,it)et[G]===void 0&&(et[G]=it[G]);return Q(C,mt,void 0,void 0,null,et)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(C){return{$$typeof:h,render:C}},gt.isValidElement=Z,gt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:Y}},gt.memo=function(C,V){return{$$typeof:g,type:C,compare:V===void 0?null:V}},gt.startTransition=function(C){var V=B.T,X={};B.T=X;try{var G=C(),et=B.S;et!==null&&et(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(dt,tt)}catch(mt){tt(mt)}finally{B.T=V}},gt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},gt.use=function(C){return B.H.use(C)},gt.useActionState=function(C,V,X){return B.H.useActionState(C,V,X)},gt.useCallback=function(C,V){return B.H.useCallback(C,V)},gt.useContext=function(C){return B.H.useContext(C)},gt.useDebugValue=function(){},gt.useDeferredValue=function(C,V){return B.H.useDeferredValue(C,V)},gt.useEffect=function(C,V,X){var G=B.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(C,V)},gt.useId=function(){return B.H.useId()},gt.useImperativeHandle=function(C,V,X){return B.H.useImperativeHandle(C,V,X)},gt.useInsertionEffect=function(C,V){return B.H.useInsertionEffect(C,V)},gt.useLayoutEffect=function(C,V){return B.H.useLayoutEffect(C,V)},gt.useMemo=function(C,V){return B.H.useMemo(C,V)},gt.useOptimistic=function(C,V){return B.H.useOptimistic(C,V)},gt.useReducer=function(C,V,X){return B.H.useReducer(C,V,X)},gt.useRef=function(C){return B.H.useRef(C)},gt.useState=function(C){return B.H.useState(C)},gt.useSyncExternalStore=function(C,V,X){return B.H.useSyncExternalStore(C,V,X)},gt.useTransition=function(){return B.H.useTransition()},gt.version="19.1.1",gt}var Fv;function Og(){return Fv||(Fv=1,Ed.exports=fC()),Ed.exports}var z=Og();const ci=cC(z);var Td={exports:{}},po={},wd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function dC(){return Vv||(Vv=1,(function(n){function t(L,Y){var tt=L.length;L.push(Y);t:for(;0<tt;){var dt=tt-1>>>1,C=L[dt];if(0<a(C,Y))L[dt]=Y,L[tt]=C,tt=dt;else break t}}function e(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Y=L[0],tt=L.pop();if(tt!==Y){L[0]=tt;t:for(var dt=0,C=L.length,V=C>>>1;dt<V;){var X=2*(dt+1)-1,G=L[X],et=X+1,mt=L[et];if(0>a(G,tt))et<C&&0>a(mt,G)?(L[dt]=mt,L[et]=tt,dt=et):(L[dt]=G,L[X]=tt,dt=X);else if(et<C&&0>a(mt,tt))L[dt]=mt,L[et]=tt,dt=et;else break t}}return Y}function a(L,Y){var tt=L.sortIndex-Y.sortIndex;return tt!==0?tt:L.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,_=null,y=3,b=!1,x=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(L){for(var Y=e(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=L)i(g),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=e(g)}}function B(L){if(E=!1,q(L),!x)if(e(f)!==null)x=!0,K||(K=!0,st());else{var Y=e(g);Y!==null&&ft(B,Y.startTime-L)}}var K=!1,Q=-1,$=5,Z=-1;function lt(){return T?!0:!(n.unstable_now()-Z<$)}function at(){if(T=!1,K){var L=n.unstable_now();Z=L;var Y=!0;try{t:{x=!1,E&&(E=!1,M(Q),Q=-1),b=!0;var tt=y;try{e:{for(q(L),_=e(f);_!==null&&!(_.expirationTime>L&&lt());){var dt=_.callback;if(typeof dt=="function"){_.callback=null,y=_.priorityLevel;var C=dt(_.expirationTime<=L);if(L=n.unstable_now(),typeof C=="function"){_.callback=C,q(L),Y=!0;break e}_===e(f)&&i(f),q(L)}else i(f);_=e(f)}if(_!==null)Y=!0;else{var V=e(g);V!==null&&ft(B,V.startTime-L),Y=!1}}break t}finally{_=null,y=tt,b=!1}Y=void 0}}finally{Y?st():K=!1}}}var st;if(typeof U=="function")st=function(){U(at)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Jt=Vt.port2;Vt.port1.onmessage=at,st=function(){Jt.postMessage(null)}}else st=function(){A(at,0)};function ft(L,Y){Q=A(function(){L(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(L){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var tt=y;y=Y;try{return L()}finally{y=tt}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var tt=y;y=L;try{return Y()}finally{y=tt}},n.unstable_scheduleCallback=function(L,Y,tt){var dt=n.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?dt+tt:dt):tt=dt,L){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=tt+C,L={id:m++,callback:Y,priorityLevel:L,startTime:tt,expirationTime:C,sortIndex:-1},tt>dt?(L.sortIndex=tt,t(g,L),e(f)===null&&L===e(g)&&(E?(M(Q),Q=-1):E=!0,ft(B,tt-dt))):(L.sortIndex=C,t(f,L),x||b||(x=!0,K||(K=!0,st()))),L},n.unstable_shouldYield=lt,n.unstable_wrapCallback=function(L){var Y=y;return function(){var tt=y;y=Y;try{return L.apply(this,arguments)}finally{y=tt}}}})(Cd)),Cd}var qv;function gC(){return qv||(qv=1,wd.exports=dC()),wd.exports}var Ad={exports:{}},we={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function pC(){if(Yv)return we;Yv=1;var n=Og();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:g,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return we.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,we.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,m)},we.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},we.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},we.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},we.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:y,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},we.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},we.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},we.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},we.requestFormReset=function(f){i.d.r(f)},we.unstable_batchedUpdates=function(f,g){return f(g)},we.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},we.useFormStatus=function(){return c.H.useHostTransitionStatus()},we.version="19.1.1",we}var Wv;function mC(){if(Wv)return Ad.exports;Wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ad.exports=pC(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function _C(){if(Gv)return po;Gv=1;var n=gC(),t=Og(),e=mC();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return h(d),s;if(p===u)return h(d),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=p;else{for(var v=!1,S=d.child;S;){if(S===l){v=!0,l=d,u=p;break}if(S===u){v=!0,u=d,l=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===l){v=!0,l=p,u=d;break}if(S===u){v=!0,u=p,l=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function st(s){return s===null||typeof s!="object"?null:(s=at&&s[at]||s["@@iterator"],typeof s=="function"?s:null)}var Vt=Symbol.for("react.client.reference");function Jt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Vt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList";case Z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case U:return(s.displayName||"Context")+".Provider";case M:return(s._context.displayName||"Context")+".Consumer";case q:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Q:return r=s.displayName||null,r!==null?r:Jt(s.type)||"Memo";case $:r=s._payload,s=s._init;try{return Jt(s(r))}catch{}}return null}var ft=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},dt=[],C=-1;function V(s){return{current:s}}function X(s){0>C||(s.current=dt[C],dt[C]=null,C--)}function G(s,r){C++,dt[C]=s.current,s.current=r}var et=V(null),mt=V(null),it=V(null),je=V(null);function Yt(s,r){switch(G(it,r),G(mt,s),G(et,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?dv(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=dv(r),s=gv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(et),G(et,s)}function yi(){X(et),X(mt),X(it)}function ah(s){s.memoizedState!==null&&G(je,s);var r=et.current,l=gv(r,s.type);r!==l&&(G(mt,s),G(et,l))}function Sl(s){mt.current===s&&(X(et),X(mt)),je.current===s&&(X(je),lo._currentValue=tt)}var oh=Object.prototype.hasOwnProperty,lh=n.unstable_scheduleCallback,ch=n.unstable_cancelCallback,jE=n.unstable_shouldYield,FE=n.unstable_requestPaint,En=n.unstable_now,VE=n.unstable_getCurrentPriorityLevel,Gp=n.unstable_ImmediatePriority,Xp=n.unstable_UserBlockingPriority,xl=n.unstable_NormalPriority,qE=n.unstable_LowPriority,Kp=n.unstable_IdlePriority,YE=n.log,WE=n.unstable_setDisableYieldValue,ma=null,Fe=null;function vi(s){if(typeof YE=="function"&&WE(s),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ma,s)}catch{}}var Ve=Math.clz32?Math.clz32:KE,GE=Math.log,XE=Math.LN2;function KE(s){return s>>>=0,s===0?32:31-(GE(s)/XE|0)|0}var El=256,Tl=4194304;function fs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wl(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var d=0,p=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?d=fs(u):(v&=S,v!==0?d=fs(v):l||(l=S&~s,l!==0&&(d=fs(l))))):(S=u&~p,S!==0?d=fs(S):v!==0?d=fs(v):l||(l=u&~s,l!==0&&(d=fs(l)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:d}function _a(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function QE(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qp(){var s=El;return El<<=1,(El&4194048)===0&&(El=256),s}function $p(){var s=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),s}function uh(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ya(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $E(s,r,l,u,d,p){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,w=s.expirationTimes,N=s.hiddenUpdates;for(l=v&~l;0<l;){var H=31-Ve(l),F=1<<H;S[H]=0,w[H]=-1;var k=N[H];if(k!==null)for(N[H]=null,H=0;H<k.length;H++){var I=k[H];I!==null&&(I.lane&=-536870913)}l&=~F}u!==0&&Zp(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(v&~r))}function Zp(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Ve(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Jp(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-Ve(l),d=1<<u;d&r|s[u]&r&&(s[u]|=r),l&=~d}}function hh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function tm(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:kv(s.type))}function ZE(s,r){var l=Y.p;try{return Y.p=s,r()}finally{Y.p=l}}var bi=Math.random().toString(36).slice(2),Ee="__reactFiber$"+bi,De="__reactProps$"+bi,Js="__reactContainer$"+bi,dh="__reactEvents$"+bi,JE="__reactListeners$"+bi,tT="__reactHandles$"+bi,em="__reactResources$"+bi,va="__reactMarker$"+bi;function gh(s){delete s[Ee],delete s[De],delete s[dh],delete s[JE],delete s[tT]}function tr(s){var r=s[Ee];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Js]||l[Ee]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=yv(s);s!==null;){if(l=s[Ee])return l;s=yv(s)}return r}s=l,l=s.parentNode}return null}function er(s){if(s=s[Ee]||s[Js]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function ba(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function nr(s){var r=s[em];return r||(r=s[em]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function he(s){s[va]=!0}var nm=new Set,im={};function ds(s,r){ir(s,r),ir(s+"Capture",r)}function ir(s,r){for(im[s]=r,s=0;s<r.length;s++)nm.add(r[s])}var eT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sm={},rm={};function nT(s){return oh.call(rm,s)?!0:oh.call(sm,s)?!1:eT.test(s)?rm[s]=!0:(sm[s]=!0,!1)}function Cl(s,r,l){if(nT(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Al(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Hn(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}var ph,am;function sr(s){if(ph===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ph=r&&r[1]||"",am=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ph+s+am}var mh=!1;function _h(s,r){if(!s||mh)return"";mh=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(I){var k=I}Reflect.construct(s,[],F)}else{try{F.call()}catch(I){k=I}s.call(F.prototype)}}else{try{throw Error()}catch(I){k=I}(F=s())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],S=p[1];if(v&&S){var w=v.split(`
`),N=S.split(`
`);for(d=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;d<N.length&&!N[d].includes("DetermineComponentFrameRoot");)d++;if(u===w.length||d===N.length)for(u=w.length-1,d=N.length-1;1<=u&&0<=d&&w[u]!==N[d];)d--;for(;1<=u&&0<=d;u--,d--)if(w[u]!==N[d]){if(u!==1||d!==1)do if(u--,d--,0>d||w[u]!==N[d]){var H=`
`+w[u].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=u&&0<=d);break}}}finally{mh=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?sr(l):""}function iT(s){switch(s.tag){case 26:case 27:case 5:return sr(s.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return _h(s.type,!1);case 11:return _h(s.type.render,!1);case 1:return _h(s.type,!0);case 31:return sr("Activity");default:return""}}function om(s){try{var r="";do r+=iT(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ze(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function lm(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sT(s){var r=lm(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),u=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Rl(s){s._valueTracker||(s._valueTracker=sT(s))}function cm(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=lm(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Ml(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var rT=/[\n"\\]/g;function Je(s){return s.replace(rT,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yh(s,r,l,u,d,p,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),r!=null?v==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Ze(r)):s.value!==""+Ze(r)&&(s.value=""+Ze(r)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),r!=null?vh(s,v,Ze(r)):l!=null?vh(s,v,Ze(l)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Ze(S):s.removeAttribute("name")}function um(s,r,l,u,d,p,v,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;l=l!=null?""+Ze(l):"",r=r!=null?""+Ze(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v)}function vh(s,r,l){r==="number"&&Ml(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function rr(s,r,l,u){if(s=s.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<s.length;l++)d=r.hasOwnProperty("$"+s[l].value),s[l].selected!==d&&(s[l].selected=d),d&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ze(l),r=null,d=0;d<s.length;d++){if(s[d].value===l){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function hm(s,r,l){if(r!=null&&(r=""+Ze(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Ze(l):""}function fm(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ft(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=Ze(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function ar(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var aT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||aT.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function gm(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&l[d]!==u&&dm(s,d,u)}else for(var p in r)r.hasOwnProperty(p)&&dm(s,p,r[p])}function bh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(s){return lT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Sh=null;function xh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var or=null,lr=null;function pm(s){var r=er(s);if(r&&(s=r.stateNode)){var l=s[De]||null;t:switch(s=r.stateNode,r.type){case"input":if(yh(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Je(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var d=u[De]||null;if(!d)throw Error(i(90));yh(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&cm(u)}break t;case"textarea":hm(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&rr(s,!!l.multiple,r,!1)}}}var Eh=!1;function mm(s,r,l){if(Eh)return s(r,l);Eh=!0;try{var u=s(r);return u}finally{if(Eh=!1,(or!==null||lr!==null)&&(pc(),or&&(r=or,s=lr,lr=or=null,pm(r),s)))for(r=0;r<s.length;r++)pm(s[r])}}function Sa(s,r){var l=s.stateNode;if(l===null)return null;var u=l[De]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=!1;if(Bn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Th=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Th=!1}var Si=null,wh=null,Dl=null;function _m(){if(Dl)return Dl;var s,r=wh,l=r.length,u,d="value"in Si?Si.value:Si.textContent,p=d.length;for(s=0;s<l&&r[s]===d[s];s++);var v=l-s;for(u=1;u<=v&&r[l-u]===d[p-u];u++);return Dl=d.slice(s,1<u?1-u:void 0)}function Nl(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function kl(){return!0}function ym(){return!1}function Ne(s){function r(l,u,d,p,v){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?kl:ym,this.isPropagationStopped=ym,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),r}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Ne(gs),Ea=m({},gs,{view:0,detail:0}),cT=Ne(Ea),Ch,Ah,Ta,Ll=m({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ta&&(Ta&&s.type==="mousemove"?(Ch=s.screenX-Ta.screenX,Ah=s.screenY-Ta.screenY):Ah=Ch=0,Ta=s),Ch)},movementY:function(s){return"movementY"in s?s.movementY:Ah}}),vm=Ne(Ll),uT=m({},Ll,{dataTransfer:0}),hT=Ne(uT),fT=m({},Ea,{relatedTarget:0}),Rh=Ne(fT),dT=m({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=Ne(dT),pT=m({},gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mT=Ne(pT),_T=m({},gs,{data:0}),bm=Ne(_T),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ST(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=bT[s])?!!r[s]:!1}function Mh(){return ST}var xT=m({},Ea,{key:function(s){if(s.key){var r=yT[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(s){return s.type==="keypress"?Nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ET=Ne(xT),TT=m({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=Ne(TT),wT=m({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),CT=Ne(wT),AT=m({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),RT=Ne(AT),MT=m({},Ll,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=Ne(MT),DT=m({},gs,{newState:0,oldState:0}),NT=Ne(DT),kT=[9,13,27,32],Oh=Bn&&"CompositionEvent"in window,wa=null;Bn&&"documentMode"in document&&(wa=document.documentMode);var IT=Bn&&"TextEvent"in window&&!wa,xm=Bn&&(!Oh||wa&&8<wa&&11>=wa),Em=" ",Tm=!1;function wm(s,r){switch(s){case"keyup":return kT.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cr=!1;function LT(s,r){switch(s){case"compositionend":return Cm(r);case"keypress":return r.which!==32?null:(Tm=!0,Em);case"textInput":return s=r.data,s===Em&&Tm?null:s;default:return null}}function PT(s,r){if(cr)return s==="compositionend"||!Oh&&wm(s,r)?(s=_m(),Dl=wh=Si=null,cr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xm&&r.locale!=="ko"?null:r.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!zT[s.type]:r==="textarea"}function Rm(s,r,l,u){or?lr?lr.push(u):lr=[u]:or=u,r=Sc(r,"onChange"),0<r.length&&(l=new Il("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Ca=null,Aa=null;function UT(s){lv(s,0)}function Pl(s){var r=ba(s);if(cm(r))return s}function Mm(s,r){if(s==="change")return r}var Om=!1;if(Bn){var Dh;if(Bn){var Nh="oninput"in document;if(!Nh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Nh=typeof Dm.oninput=="function"}Dh=Nh}else Dh=!1;Om=Dh&&(!document.documentMode||9<document.documentMode)}function Nm(){Ca&&(Ca.detachEvent("onpropertychange",km),Aa=Ca=null)}function km(s){if(s.propertyName==="value"&&Pl(Aa)){var r=[];Rm(r,Aa,s,xh(s)),mm(UT,r)}}function HT(s,r,l){s==="focusin"?(Nm(),Ca=r,Aa=l,Ca.attachEvent("onpropertychange",km)):s==="focusout"&&Nm()}function BT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pl(Aa)}function jT(s,r){if(s==="click")return Pl(r)}function FT(s,r){if(s==="input"||s==="change")return Pl(r)}function VT(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qe=typeof Object.is=="function"?Object.is:VT;function Ra(s,r){if(qe(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!oh.call(r,d)||!qe(s[d],r[d]))return!1}return!0}function Im(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Lm(s,r){var l=Im(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Im(l)}}function Pm(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Pm(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function zm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ml(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Ml(s.document)}return r}function kh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var qT=Bn&&"documentMode"in document&&11>=document.documentMode,ur=null,Ih=null,Ma=null,Lh=!1;function Um(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Lh||ur==null||ur!==Ml(u)||(u=ur,"selectionStart"in u&&kh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ma&&Ra(Ma,u)||(Ma=u,u=Sc(Ih,"onSelect"),0<u.length&&(r=new Il("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=ur)))}function ps(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var hr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Ph={},Hm={};Bn&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function ms(s){if(Ph[s])return Ph[s];if(!hr[s])return s;var r=hr[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Hm)return Ph[s]=r[l];return s}var Bm=ms("animationend"),jm=ms("animationiteration"),Fm=ms("animationstart"),YT=ms("transitionrun"),WT=ms("transitionstart"),GT=ms("transitioncancel"),Vm=ms("transitionend"),qm=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function gn(s,r){qm.set(s,r),ds(r,[s])}var Ym=new WeakMap;function tn(s,r){if(typeof s=="object"&&s!==null){var l=Ym.get(s);return l!==void 0?l:(r={value:s,source:r,stack:om(r)},Ym.set(s,r),r)}return{value:s,source:r,stack:om(r)}}var en=[],fr=0,Uh=0;function zl(){for(var s=fr,r=Uh=fr=0;r<s;){var l=en[r];en[r++]=null;var u=en[r];en[r++]=null;var d=en[r];en[r++]=null;var p=en[r];if(en[r++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}p!==0&&Wm(l,d,p)}}function Ul(s,r,l,u){en[fr++]=s,en[fr++]=r,en[fr++]=l,en[fr++]=u,Uh|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Hh(s,r,l,u){return Ul(s,r,l,u),Hl(s)}function dr(s,r){return Ul(s,null,null,r),Hl(s)}function Wm(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var d=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-Ve(l),s=p.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=l|536870912),p):null}function Hl(s){if(50<to)throw to=0,Wf=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var gr={};function XT(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(s,r,l,u){return new XT(s,r,l,u)}function Bh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jn(s,r){var l=s.alternate;return l===null?(l=Ye(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Gm(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Bl(s,r,l,u,d,p){var v=0;if(u=s,typeof s=="function")Bh(s)&&(v=1);else if(typeof s=="string")v=Qw(s,l,et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case Z:return s=Ye(31,l,r,d),s.elementType=Z,s.lanes=p,s;case x:return _s(l.children,d,p,r);case E:v=8,d|=24;break;case T:return s=Ye(12,l,r,d|2),s.elementType=T,s.lanes=p,s;case B:return s=Ye(13,l,r,d),s.elementType=B,s.lanes=p,s;case K:return s=Ye(19,l,r,d),s.elementType=K,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case U:v=10;break t;case M:v=9;break t;case q:v=11;break t;case Q:v=14;break t;case $:v=16,u=null;break t}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Ye(v,l,r,d),r.elementType=s,r.type=u,r.lanes=p,r}function _s(s,r,l,u){return s=Ye(7,s,u,r),s.lanes=l,s}function jh(s,r,l){return s=Ye(6,s,null,r),s.lanes=l,s}function Fh(s,r,l){return r=Ye(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var pr=[],mr=0,jl=null,Fl=0,nn=[],sn=0,ys=null,Fn=1,Vn="";function vs(s,r){pr[mr++]=Fl,pr[mr++]=jl,jl=s,Fl=r}function Xm(s,r,l){nn[sn++]=Fn,nn[sn++]=Vn,nn[sn++]=ys,ys=s;var u=Fn;s=Vn;var d=32-Ve(u)-1;u&=~(1<<d),l+=1;var p=32-Ve(r)+d;if(30<p){var v=d-d%5;p=(u&(1<<v)-1).toString(32),u>>=v,d-=v,Fn=1<<32-Ve(r)+d|l<<d|u,Vn=p+s}else Fn=1<<p|l<<d|u,Vn=s}function Vh(s){s.return!==null&&(vs(s,1),Xm(s,1,0))}function qh(s){for(;s===jl;)jl=pr[--mr],pr[mr]=null,Fl=pr[--mr],pr[mr]=null;for(;s===ys;)ys=nn[--sn],nn[sn]=null,Vn=nn[--sn],nn[sn]=null,Fn=nn[--sn],nn[sn]=null}var Re=null,Kt=null,Rt=!1,bs=null,Tn=!1,Yh=Error(i(519));function Ss(s){var r=Error(i(418,""));throw Na(tn(r,s)),Yh}function Km(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Ee]=s,r[De]=u,l){case"dialog":bt("cancel",r),bt("close",r);break;case"iframe":case"object":case"embed":bt("load",r);break;case"video":case"audio":for(l=0;l<no.length;l++)bt(no[l],r);break;case"source":bt("error",r);break;case"img":case"image":case"link":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"input":bt("invalid",r),um(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Rl(r);break;case"select":bt("invalid",r);break;case"textarea":bt("invalid",r),fm(r,u.value,u.defaultValue,u.children),Rl(r)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||fv(r.textContent,l)?(u.popover!=null&&(bt("beforetoggle",r),bt("toggle",r)),u.onScroll!=null&&bt("scroll",r),u.onScrollEnd!=null&&bt("scrollend",r),u.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Ss(s)}function Qm(s){for(Re=s.return;Re;)switch(Re.tag){case 5:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Re=Re.return}}function Oa(s){if(s!==Re)return!1;if(!Rt)return Qm(s),Rt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ld(s.type,s.memoizedProps)),l=!l),l&&Kt&&Ss(s),Qm(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){Kt=mn(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}Kt=null}}else r===27?(r=Kt,zi(s.type)?(s=fd,fd=null,Kt=s):Kt=r):Kt=Re?mn(s.stateNode.nextSibling):null;return!0}function Da(){Kt=Re=null,Rt=!1}function $m(){var s=bs;return s!==null&&(Le===null?Le=s:Le.push.apply(Le,s),bs=null),s}function Na(s){bs===null?bs=[s]:bs.push(s)}var Wh=V(null),xs=null,qn=null;function xi(s,r,l){G(Wh,r._currentValue),r._currentValue=l}function Yn(s){s._currentValue=Wh.current,X(Wh)}function Gh(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Xh(s,r,l,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=d;for(var w=0;w<r.length;w++)if(S.context===r[w]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Gh(p.return,l,s),u||(v=null);break t}p=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),Gh(v,l,s),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===s){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ka(s,r,l,u){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;qe(d.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(d===je.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(lo):s=[lo])}d=d.return}s!==null&&Xh(r,s,l,u),r.flags|=262144}function Vl(s){for(s=s.firstContext;s!==null;){if(!qe(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Es(s){xs=s,qn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Te(s){return Zm(xs,s)}function ql(s,r){return xs===null&&Es(s),Zm(s,r)}function Zm(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},qn===null){if(s===null)throw Error(i(308));qn=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else qn=qn.next=r;return l}var KT=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},QT=n.unstable_scheduleCallback,$T=n.unstable_NormalPriority,ae={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new KT,data:new Map,refCount:0}}function Ia(s){s.refCount--,s.refCount===0&&QT($T,function(){s.controller.abort()})}var La=null,Qh=0,_r=0,yr=null;function ZT(s,r){if(La===null){var l=La=[];Qh=0,_r=Jf(),yr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Qh++,r.then(Jm,Jm),r}function Jm(){if(--Qh===0&&La!==null){yr!==null&&(yr.status="fulfilled");var s=La;La=null,_r=0,yr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function JT(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var t_=L.S;L.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZT(s,r),t_!==null&&t_(s,r)};var Ts=V(null);function $h(){var s=Ts.current;return s!==null?s:Bt.pooledCache}function Yl(s,r){r===null?G(Ts,Ts.current):G(Ts,r.pool)}function e_(){var s=$h();return s===null?null:{parent:ae._currentValue,pool:s}}var Pa=Error(i(460)),n_=Error(i(474)),Wl=Error(i(542)),Zh={then:function(){}};function i_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gl(){}function s_(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Gl,Gl),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,a_(s),s;default:if(typeof r.status=="string")r.then(Gl,Gl);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,a_(s),s}throw za=r,Pa}}var za=null;function r_(){if(za===null)throw Error(i(459));var s=za;return za=null,s}function a_(s){if(s===Pa||s===Wl)throw Error(i(483))}var Ei=!1;function Jh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ti(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wi(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Mt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Hl(s),Wm(s,null,l),r}return Ul(s,u,r,l),Hl(s)}function Ua(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Jp(s,l)}}function ef(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?d=p=r:p=p.next=r}else d=p=r;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var nf=!1;function Ha(){if(nf){var s=yr;if(s!==null)throw s}}function Ba(s,r,l,u){nf=!1;var d=s.updateQueue;Ei=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var w=S,N=w.next;w.next=null,v===null?p=N:v.next=N,v=w;var H=s.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==v&&(S===null?H.firstBaseUpdate=N:S.next=N,H.lastBaseUpdate=w))}if(p!==null){var F=d.baseState;v=0,H=N=w=null,S=p;do{var k=S.lane&-536870913,I=k!==S.lane;if(I?(Et&k)===k:(u&k)===k){k!==0&&k===_r&&(nf=!0),H!==null&&(H=H.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ut=s,rt=S;k=r;var It=l;switch(rt.tag){case 1:if(ut=rt.payload,typeof ut=="function"){F=ut.call(It,F,k);break t}F=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=rt.payload,k=typeof ut=="function"?ut.call(It,F,k):ut,k==null)break t;F=m({},F,k);break t;case 2:Ei=!0}}k=S.callback,k!==null&&(s.flags|=64,I&&(s.flags|=8192),I=d.callbacks,I===null?d.callbacks=[k]:I.push(k))}else I={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(N=H=I,w=F):H=H.next=I,v|=k;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;I=S,S=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);H===null&&(w=F),d.baseState=w,d.firstBaseUpdate=N,d.lastBaseUpdate=H,p===null&&(d.shared.lanes=0),ki|=v,s.lanes=v,s.memoizedState=F}}function o_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function l_(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)o_(l[s],r)}var vr=V(null),Xl=V(0);function c_(s,r){s=Zn,G(Xl,s),G(vr,r),Zn=s|r.baseLanes}function sf(){G(Xl,Zn),G(vr,vr.current)}function rf(){Zn=Xl.current,X(vr),X(Xl)}var Ci=0,pt=null,Nt=null,ie=null,Kl=!1,br=!1,ws=!1,Ql=0,ja=0,Sr=null,tw=0;function te(){throw Error(i(321))}function af(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!qe(s[l],r[l]))return!1;return!0}function of(s,r,l,u,d,p){return Ci=p,pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=s===null||s.memoizedState===null?W_:G_,ws=!1,p=l(u,d),ws=!1,br&&(p=h_(r,l,u,d)),u_(s),p}function u_(s){L.H=nc;var r=Nt!==null&&Nt.next!==null;if(Ci=0,ie=Nt=pt=null,Kl=!1,ja=0,Sr=null,r)throw Error(i(300));s===null||fe||(s=s.dependencies,s!==null&&Vl(s)&&(fe=!0))}function h_(s,r,l,u){pt=s;var d=0;do{if(br&&(Sr=null),ja=0,br=!1,25<=d)throw Error(i(301));if(d+=1,ie=Nt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=ow,p=r(l,u)}while(br);return p}function ew(){var s=L.H,r=s.useState()[0];return r=typeof r.then=="function"?Fa(r):r,s=s.useState()[0],(Nt!==null?Nt.memoizedState:null)!==s&&(pt.flags|=1024),r}function lf(){var s=Ql!==0;return Ql=0,s}function cf(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function uf(s){if(Kl){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Kl=!1}Ci=0,ie=Nt=pt=null,br=!1,ja=Ql=0,Sr=null}function ke(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?pt.memoizedState=ie=s:ie=ie.next=s,ie}function se(){if(Nt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var r=ie===null?pt.memoizedState:ie.next;if(r!==null)ie=r,Nt=s;else{if(s===null)throw pt.alternate===null?Error(i(467)):Error(i(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ie===null?pt.memoizedState=ie=s:ie=ie.next=s}return ie}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(s){var r=ja;return ja+=1,Sr===null&&(Sr=[]),s=s_(Sr,s,r),r=pt,(ie===null?r.memoizedState:ie.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?W_:G_),s}function $l(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fa(s);if(s.$$typeof===U)return Te(s)}throw Error(i(438,String(s)))}function ff(s){var r=null,l=pt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=hf(),pt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=lt;return r.index++,l}function Wn(s,r){return typeof r=="function"?r(s):r}function Zl(s){var r=se();return df(r,Nt,s)}function df(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}r.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var S=v=null,w=null,N=r,H=!1;do{var F=N.lane&-536870913;if(F!==N.lane?(Et&F)===F:(Ci&F)===F){var k=N.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),F===_r&&(H=!0);else if((Ci&k)===k){N=N.next,k===_r&&(H=!0);continue}else F={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(S=w=F,v=p):w=w.next=F,pt.lanes|=k,ki|=k;F=N.action,ws&&l(p,F),p=N.hasEagerState?N.eagerState:l(p,F)}else k={lane:F,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(S=w=k,v=p):w=w.next=k,pt.lanes|=F,ki|=F;N=N.next}while(N!==null&&N!==r);if(w===null?v=p:w.next=S,!qe(p,s.memoizedState)&&(fe=!0,H&&(l=yr,l!==null)))throw l;s.memoizedState=p,s.baseState=v,s.baseQueue=w,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function gf(s){var r=se(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,d=l.pending,p=r.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do p=s(p,v.action),v=v.next;while(v!==d);qe(p,r.memoizedState)||(fe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function f_(s,r,l){var u=pt,d=se(),p=Rt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!qe((Nt||d).memoizedState,l);v&&(d.memoizedState=l,fe=!0),d=d.queue;var S=p_.bind(null,u,d,s);if(Va(2048,8,S,[s]),d.getSnapshot!==r||v||ie!==null&&ie.memoizedState.tag&1){if(u.flags|=2048,xr(9,Jl(),g_.bind(null,u,d,l,r),null),Bt===null)throw Error(i(349));p||(Ci&124)!==0||d_(u,r,l)}return l}function d_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=pt.updateQueue,r===null?(r=hf(),pt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function g_(s,r,l,u){r.value=l,r.getSnapshot=u,m_(r)&&__(s)}function p_(s,r,l){return l(function(){m_(r)&&__(s)})}function m_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!qe(s,l)}catch{return!0}}function __(s){var r=dr(s,2);r!==null&&Qe(r,s,2)}function pf(s){var r=ke();if(typeof s=="function"){var l=s;if(s=l(),ws){vi(!0);try{l()}finally{vi(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:s},r}function y_(s,r,l,u){return s.baseState=l,df(s,Nt,typeof u=="function"?u:Wn)}function nw(s,r,l,u,d){if(ec(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};L.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,v_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function v_(s,r){var l=r.action,u=r.payload,d=s.state;if(r.isTransition){var p=L.T,v={};L.T=v;try{var S=l(d,u),w=L.S;w!==null&&w(v,S),b_(s,r,S)}catch(N){mf(s,r,N)}finally{L.T=p}}else try{p=l(d,u),b_(s,r,p)}catch(N){mf(s,r,N)}}function b_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){S_(s,r,u)},function(u){return mf(s,r,u)}):S_(s,r,l)}function S_(s,r,l){r.status="fulfilled",r.value=l,x_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,v_(s,l)))}function mf(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,x_(r),r=r.next;while(r!==u)}s.action=null}function x_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function E_(s,r){return r}function T_(s,r){if(Rt){var l=Bt.formState;if(l!==null){t:{var u=pt;if(Rt){if(Kt){e:{for(var d=Kt,p=Tn;d.nodeType!==8;){if(!p){d=null;break e}if(d=mn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Kt=mn(d.nextSibling),u=d.data==="F!";break t}}Ss(u)}u=!1}u&&(r=l[0])}}return l=ke(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},l.queue=u,l=V_.bind(null,pt,u),u.dispatch=l,u=pf(!1),p=Sf.bind(null,pt,!1,u.queue),u=ke(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,l=nw.bind(null,pt,d,p,l),d.dispatch=l,u.memoizedState=s,[r,l,!1]}function w_(s){var r=se();return C_(r,Nt,s)}function C_(s,r,l){if(r=df(s,r,E_)[0],s=Zl(Wn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Fa(r)}catch(v){throw v===Pa?Wl:v}else u=r;r=se();var d=r.queue,p=d.dispatch;return l!==r.memoizedState&&(pt.flags|=2048,xr(9,Jl(),iw.bind(null,d,l),null)),[u,p,s]}function iw(s,r){s.action=r}function A_(s){var r=se(),l=Nt;if(l!==null)return C_(r,l,s);se(),r=r.memoizedState,l=se();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function xr(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=pt.updateQueue,r===null&&(r=hf(),pt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function Jl(){return{destroy:void 0,resource:void 0}}function R_(){return se().memoizedState}function tc(s,r,l,u){var d=ke();u=u===void 0?null:u,pt.flags|=s,d.memoizedState=xr(1|r,Jl(),l,u)}function Va(s,r,l,u){var d=se();u=u===void 0?null:u;var p=d.memoizedState.inst;Nt!==null&&u!==null&&af(u,Nt.memoizedState.deps)?d.memoizedState=xr(r,p,l,u):(pt.flags|=s,d.memoizedState=xr(1|r,p,l,u))}function M_(s,r){tc(8390656,8,s,r)}function O_(s,r){Va(2048,8,s,r)}function D_(s,r){return Va(4,2,s,r)}function N_(s,r){return Va(4,4,s,r)}function k_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function I_(s,r,l){l=l!=null?l.concat([s]):null,Va(4,4,k_.bind(null,r,s),l)}function _f(){}function L_(s,r){var l=se();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&af(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function P_(s,r){var l=se();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&af(r,u[1]))return u[0];if(u=s(),ws){vi(!0);try{s()}finally{vi(!1)}}return l.memoizedState=[u,r],u}function yf(s,r,l){return l===void 0||(Ci&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=Hy(),pt.lanes|=s,ki|=s,l)}function z_(s,r,l,u){return qe(l,r)?l:vr.current!==null?(s=yf(s,l,u),qe(s,r)||(fe=!0),s):(Ci&42)===0?(fe=!0,s.memoizedState=l):(s=Hy(),pt.lanes|=s,ki|=s,r)}function U_(s,r,l,u,d){var p=Y.p;Y.p=p!==0&&8>p?p:8;var v=L.T,S={};L.T=S,Sf(s,!1,r,l);try{var w=d(),N=L.S;if(N!==null&&N(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=JT(w,u);qa(s,r,H,Ke(s))}else qa(s,r,u,Ke(s))}catch(F){qa(s,r,{then:function(){},status:"rejected",reason:F},Ke())}finally{Y.p=p,L.T=v}}function sw(){}function vf(s,r,l,u){if(s.tag!==5)throw Error(i(476));var d=H_(s).queue;U_(s,d,r,tt,l===null?sw:function(){return B_(s),l(u)})}function H_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:tt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function B_(s){var r=H_(s).next.queue;qa(s,r,{},Ke())}function bf(){return Te(lo)}function j_(){return se().memoizedState}function F_(){return se().memoizedState}function rw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Ke();s=Ti(l);var u=wi(r,s,l);u!==null&&(Qe(u,r,l),Ua(u,r,l)),r={cache:Kh()},s.payload=r;return}r=r.return}}function aw(s,r,l){var u=Ke();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ec(s)?q_(r,l):(l=Hh(s,r,l,u),l!==null&&(Qe(l,s,u),Y_(l,r,u)))}function V_(s,r,l){var u=Ke();qa(s,r,l,u)}function qa(s,r,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ec(s))q_(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,l);if(d.hasEagerState=!0,d.eagerState=S,qe(S,v))return Ul(s,r,d,0),Bt===null&&zl(),!1}catch{}finally{}if(l=Hh(s,r,d,u),l!==null)return Qe(l,s,u),Y_(l,r,u),!0}return!1}function Sf(s,r,l,u){if(u={lane:2,revertLane:Jf(),action:u,hasEagerState:!1,eagerState:null,next:null},ec(s)){if(r)throw Error(i(479))}else r=Hh(s,l,u,2),r!==null&&Qe(r,s,2)}function ec(s){var r=s.alternate;return s===pt||r!==null&&r===pt}function q_(s,r){br=Kl=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function Y_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Jp(s,l)}}var nc={readContext:Te,use:$l,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},W_={readContext:Te,use:$l,useCallback:function(s,r){return ke().memoizedState=[s,r===void 0?null:r],s},useContext:Te,useEffect:M_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,tc(4194308,4,k_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return tc(4194308,4,s,r)},useInsertionEffect:function(s,r){tc(4,2,s,r)},useMemo:function(s,r){var l=ke();r=r===void 0?null:r;var u=s();if(ws){vi(!0);try{s()}finally{vi(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=ke();if(l!==void 0){var d=l(r);if(ws){vi(!0);try{l(r)}finally{vi(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=aw.bind(null,pt,s),[u.memoizedState,s]},useRef:function(s){var r=ke();return s={current:s},r.memoizedState=s},useState:function(s){s=pf(s);var r=s.queue,l=V_.bind(null,pt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:_f,useDeferredValue:function(s,r){var l=ke();return yf(l,s,r)},useTransition:function(){var s=pf(!1);return s=U_.bind(null,pt,s.queue,!0,!1),ke().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=pt,d=ke();if(Rt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Bt===null)throw Error(i(349));(Et&124)!==0||d_(u,r,l)}d.memoizedState=l;var p={value:l,getSnapshot:r};return d.queue=p,M_(p_.bind(null,u,p,s),[s]),u.flags|=2048,xr(9,Jl(),g_.bind(null,u,p,l,r),null),l},useId:function(){var s=ke(),r=Bt.identifierPrefix;if(Rt){var l=Vn,u=Fn;l=(u&~(1<<32-Ve(u)-1)).toString(32)+l,r=""+r+"R"+l,l=Ql++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=tw++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:bf,useFormState:T_,useActionState:T_,useOptimistic:function(s){var r=ke();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Sf.bind(null,pt,!0,l),l.dispatch=r,[s,r]},useMemoCache:ff,useCacheRefresh:function(){return ke().memoizedState=rw.bind(null,pt)}},G_={readContext:Te,use:$l,useCallback:L_,useContext:Te,useEffect:O_,useImperativeHandle:I_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:P_,useReducer:Zl,useRef:R_,useState:function(){return Zl(Wn)},useDebugValue:_f,useDeferredValue:function(s,r){var l=se();return z_(l,Nt.memoizedState,s,r)},useTransition:function(){var s=Zl(Wn)[0],r=se().memoizedState;return[typeof s=="boolean"?s:Fa(s),r]},useSyncExternalStore:f_,useId:j_,useHostTransitionStatus:bf,useFormState:w_,useActionState:w_,useOptimistic:function(s,r){var l=se();return y_(l,Nt,s,r)},useMemoCache:ff,useCacheRefresh:F_},ow={readContext:Te,use:$l,useCallback:L_,useContext:Te,useEffect:O_,useImperativeHandle:I_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:P_,useReducer:gf,useRef:R_,useState:function(){return gf(Wn)},useDebugValue:_f,useDeferredValue:function(s,r){var l=se();return Nt===null?yf(l,s,r):z_(l,Nt.memoizedState,s,r)},useTransition:function(){var s=gf(Wn)[0],r=se().memoizedState;return[typeof s=="boolean"?s:Fa(s),r]},useSyncExternalStore:f_,useId:j_,useHostTransitionStatus:bf,useFormState:A_,useActionState:A_,useOptimistic:function(s,r){var l=se();return Nt!==null?y_(l,Nt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:ff,useCacheRefresh:F_},Er=null,Ya=0;function ic(s){var r=Ya;return Ya+=1,Er===null&&(Er=[]),s_(Er,s,r)}function Wa(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function sc(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function X_(s){var r=s._init;return r(s._payload)}function K_(s){function r(O,R){if(s){var D=O.deletions;D===null?(O.deletions=[R],O.flags|=16):D.push(R)}}function l(O,R){if(!s)return null;for(;R!==null;)r(O,R),R=R.sibling;return null}function u(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function d(O,R){return O=jn(O,R),O.index=0,O.sibling=null,O}function p(O,R,D){return O.index=D,s?(D=O.alternate,D!==null?(D=D.index,D<R?(O.flags|=67108866,R):D):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function v(O){return s&&O.alternate===null&&(O.flags|=67108866),O}function S(O,R,D,j){return R===null||R.tag!==6?(R=jh(D,O.mode,j),R.return=O,R):(R=d(R,D),R.return=O,R)}function w(O,R,D,j){var J=D.type;return J===x?H(O,R,D.props.children,j,D.key):R!==null&&(R.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&X_(J)===R.type)?(R=d(R,D.props),Wa(R,D),R.return=O,R):(R=Bl(D.type,D.key,D.props,null,O.mode,j),Wa(R,D),R.return=O,R)}function N(O,R,D,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Fh(D,O.mode,j),R.return=O,R):(R=d(R,D.children||[]),R.return=O,R)}function H(O,R,D,j,J){return R===null||R.tag!==7?(R=_s(D,O.mode,j,J),R.return=O,R):(R=d(R,D),R.return=O,R)}function F(O,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=jh(""+R,O.mode,D),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case y:return D=Bl(R.type,R.key,R.props,null,O.mode,D),Wa(D,R),D.return=O,D;case b:return R=Fh(R,O.mode,D),R.return=O,R;case $:var j=R._init;return R=j(R._payload),F(O,R,D)}if(ft(R)||st(R))return R=_s(R,O.mode,D,null),R.return=O,R;if(typeof R.then=="function")return F(O,ic(R),D);if(R.$$typeof===U)return F(O,ql(O,R),D);sc(O,R)}return null}function k(O,R,D,j){var J=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return J!==null?null:S(O,R,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return D.key===J?w(O,R,D,j):null;case b:return D.key===J?N(O,R,D,j):null;case $:return J=D._init,D=J(D._payload),k(O,R,D,j)}if(ft(D)||st(D))return J!==null?null:H(O,R,D,j,null);if(typeof D.then=="function")return k(O,R,ic(D),j);if(D.$$typeof===U)return k(O,R,ql(O,D),j);sc(O,D)}return null}function I(O,R,D,j,J){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return O=O.get(D)||null,S(R,O,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return O=O.get(j.key===null?D:j.key)||null,w(R,O,j,J);case b:return O=O.get(j.key===null?D:j.key)||null,N(R,O,j,J);case $:var _t=j._init;return j=_t(j._payload),I(O,R,D,j,J)}if(ft(j)||st(j))return O=O.get(D)||null,H(R,O,j,J,null);if(typeof j.then=="function")return I(O,R,D,ic(j),J);if(j.$$typeof===U)return I(O,R,D,ql(R,j),J);sc(R,j)}return null}function ut(O,R,D,j){for(var J=null,_t=null,nt=R,ot=R=0,ge=null;nt!==null&&ot<D.length;ot++){nt.index>ot?(ge=nt,nt=null):ge=nt.sibling;var Ct=k(O,nt,D[ot],j);if(Ct===null){nt===null&&(nt=ge);break}s&&nt&&Ct.alternate===null&&r(O,nt),R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct,nt=ge}if(ot===D.length)return l(O,nt),Rt&&vs(O,ot),J;if(nt===null){for(;ot<D.length;ot++)nt=F(O,D[ot],j),nt!==null&&(R=p(nt,R,ot),_t===null?J=nt:_t.sibling=nt,_t=nt);return Rt&&vs(O,ot),J}for(nt=u(nt);ot<D.length;ot++)ge=I(nt,O,ot,D[ot],j),ge!==null&&(s&&ge.alternate!==null&&nt.delete(ge.key===null?ot:ge.key),R=p(ge,R,ot),_t===null?J=ge:_t.sibling=ge,_t=ge);return s&&nt.forEach(function(Fi){return r(O,Fi)}),Rt&&vs(O,ot),J}function rt(O,R,D,j){if(D==null)throw Error(i(151));for(var J=null,_t=null,nt=R,ot=R=0,ge=null,Ct=D.next();nt!==null&&!Ct.done;ot++,Ct=D.next()){nt.index>ot?(ge=nt,nt=null):ge=nt.sibling;var Fi=k(O,nt,Ct.value,j);if(Fi===null){nt===null&&(nt=ge);break}s&&nt&&Fi.alternate===null&&r(O,nt),R=p(Fi,R,ot),_t===null?J=Fi:_t.sibling=Fi,_t=Fi,nt=ge}if(Ct.done)return l(O,nt),Rt&&vs(O,ot),J;if(nt===null){for(;!Ct.done;ot++,Ct=D.next())Ct=F(O,Ct.value,j),Ct!==null&&(R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct);return Rt&&vs(O,ot),J}for(nt=u(nt);!Ct.done;ot++,Ct=D.next())Ct=I(nt,O,ot,Ct.value,j),Ct!==null&&(s&&Ct.alternate!==null&&nt.delete(Ct.key===null?ot:Ct.key),R=p(Ct,R,ot),_t===null?J=Ct:_t.sibling=Ct,_t=Ct);return s&&nt.forEach(function(lC){return r(O,lC)}),Rt&&vs(O,ot),J}function It(O,R,D,j){if(typeof D=="object"&&D!==null&&D.type===x&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case y:t:{for(var J=D.key;R!==null;){if(R.key===J){if(J=D.type,J===x){if(R.tag===7){l(O,R.sibling),j=d(R,D.props.children),j.return=O,O=j;break t}}else if(R.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&X_(J)===R.type){l(O,R.sibling),j=d(R,D.props),Wa(j,D),j.return=O,O=j;break t}l(O,R);break}else r(O,R);R=R.sibling}D.type===x?(j=_s(D.props.children,O.mode,j,D.key),j.return=O,O=j):(j=Bl(D.type,D.key,D.props,null,O.mode,j),Wa(j,D),j.return=O,O=j)}return v(O);case b:t:{for(J=D.key;R!==null;){if(R.key===J)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){l(O,R.sibling),j=d(R,D.children||[]),j.return=O,O=j;break t}else{l(O,R);break}else r(O,R);R=R.sibling}j=Fh(D,O.mode,j),j.return=O,O=j}return v(O);case $:return J=D._init,D=J(D._payload),It(O,R,D,j)}if(ft(D))return ut(O,R,D,j);if(st(D)){if(J=st(D),typeof J!="function")throw Error(i(150));return D=J.call(D),rt(O,R,D,j)}if(typeof D.then=="function")return It(O,R,ic(D),j);if(D.$$typeof===U)return It(O,R,ql(O,D),j);sc(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(l(O,R.sibling),j=d(R,D),j.return=O,O=j):(l(O,R),j=jh(D,O.mode,j),j.return=O,O=j),v(O)):l(O,R)}return function(O,R,D,j){try{Ya=0;var J=It(O,R,D,j);return Er=null,J}catch(nt){if(nt===Pa||nt===Wl)throw nt;var _t=Ye(29,nt,null,O.mode);return _t.lanes=j,_t.return=O,_t}finally{}}}var Tr=K_(!0),Q_=K_(!1),rn=V(null),wn=null;function Ai(s){var r=s.alternate;G(oe,oe.current&1),G(rn,s),wn===null&&(r===null||vr.current!==null||r.memoizedState!==null)&&(wn=s)}function $_(s){if(s.tag===22){if(G(oe,oe.current),G(rn,s),wn===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(wn=s)}}else Ri()}function Ri(){G(oe,oe.current),G(rn,rn.current)}function Gn(s){X(rn),wn===s&&(wn=null),X(oe)}var oe=V(0);function rc(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||hd(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xf(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:m({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ef={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Ke(),d=Ti(u);d.payload=r,l!=null&&(d.callback=l),r=wi(s,d,u),r!==null&&(Qe(r,s,u),Ua(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Ke(),d=Ti(u);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=wi(s,d,u),r!==null&&(Qe(r,s,u),Ua(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Ke(),u=Ti(l);u.tag=2,r!=null&&(u.callback=r),r=wi(s,u,l),r!==null&&(Qe(r,s,l),Ua(r,s,l))}};function Z_(s,r,l,u,d,p,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ra(l,u)||!Ra(d,p):!0}function J_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Ef.enqueueReplaceState(r,r.state,null)}function Cs(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=m({},l));for(var d in s)l[d]===void 0&&(l[d]=s[d])}return l}var ac=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ty(s){ac(s)}function ey(s){console.error(s)}function ny(s){ac(s)}function oc(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function iy(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Tf(s,r,l){return l=Ti(l),l.tag=3,l.payload={element:null},l.callback=function(){oc(s,r)},l}function sy(s){return s=Ti(s),s.tag=3,s}function ry(s,r,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){iy(r,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){iy(r,l,u),typeof d!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function lw(s,r,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&ka(r,l,d,!0),l=rn.current,l!==null){switch(l.tag){case 13:return wn===null?Xf():l.alternate===null&&Qt===0&&(Qt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===Zh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),Qf(s,u,d)),!1;case 22:return l.flags|=65536,u===Zh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),Qf(s,u,d)),!1}throw Error(i(435,l.tag))}return Qf(s,u,d),Xf(),!1}if(Rt)return r=rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Yh&&(s=Error(i(422),{cause:u}),Na(tn(s,l)))):(u!==Yh&&(r=Error(i(423),{cause:u}),Na(tn(r,l))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=tn(u,l),d=Tf(s.stateNode,u,d),ef(s,d),Qt!==4&&(Qt=2)),!1;var p=Error(i(520),{cause:u});if(p=tn(p,l),Ja===null?Ja=[p]:Ja.push(p),Qt!==4&&(Qt=2),r===null)return!0;u=tn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=d&-d,l.lanes|=s,s=Tf(l.stateNode,u,s),ef(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ii===null||!Ii.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=sy(d),ry(d,s,l,u),ef(l,d),!1}l=l.return}while(l!==null);return!1}var ay=Error(i(461)),fe=!1;function ye(s,r,l,u){r.child=s===null?Q_(r,null,l,u):Tr(r,s.child,l,u)}function oy(s,r,l,u,d){l=l.render;var p=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Es(r),u=of(s,r,l,v,p,d),S=lf(),s!==null&&!fe?(cf(s,r,d),Xn(s,r,d)):(Rt&&S&&Vh(r),r.flags|=1,ye(s,r,u,d),r.child)}function ly(s,r,l,u,d){if(s===null){var p=l.type;return typeof p=="function"&&!Bh(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,cy(s,r,p,u,d)):(s=Bl(l.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Nf(s,d)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(v,u)&&s.ref===r.ref)return Xn(s,r,d)}return r.flags|=1,s=jn(p,u),s.ref=r.ref,s.return=r,r.child=s}function cy(s,r,l,u,d){if(s!==null){var p=s.memoizedProps;if(Ra(p,u)&&s.ref===r.ref)if(fe=!1,r.pendingProps=u=p,Nf(s,d))(s.flags&131072)!==0&&(fe=!0);else return r.lanes=s.lanes,Xn(s,r,d)}return wf(s,r,l,u,d)}function uy(s,r,l){var u=r.pendingProps,d=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(d=r.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return hy(s,r,u,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yl(r,p!==null?p.cachePool:null),p!==null?c_(r,p):sf(),$_(r);else return r.lanes=r.childLanes=536870912,hy(s,r,p!==null?p.baseLanes|l:l,l)}else p!==null?(Yl(r,p.cachePool),c_(r,p),Ri(),r.memoizedState=null):(s!==null&&Yl(r,null),sf(),Ri());return ye(s,r,d,l),r.child}function hy(s,r,l,u){var d=$h();return d=d===null?null:{parent:ae._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},s!==null&&Yl(r,null),sf(),$_(r),s!==null&&ka(s,r,u,!0),null}function lc(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function wf(s,r,l,u,d){return Es(r),l=of(s,r,l,u,void 0,d),u=lf(),s!==null&&!fe?(cf(s,r,d),Xn(s,r,d)):(Rt&&u&&Vh(r),r.flags|=1,ye(s,r,l,d),r.child)}function fy(s,r,l,u,d,p){return Es(r),r.updateQueue=null,l=h_(r,u,l,d),u_(s),u=lf(),s!==null&&!fe?(cf(s,r,p),Xn(s,r,p)):(Rt&&u&&Vh(r),r.flags|=1,ye(s,r,l,p),r.child)}function dy(s,r,l,u,d){if(Es(r),r.stateNode===null){var p=gr,v=l.contextType;typeof v=="object"&&v!==null&&(p=Te(v)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ef,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Jh(r),v=l.contextType,p.context=typeof v=="object"&&v!==null?Te(v):gr,p.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(xf(r,l,v,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Ef.enqueueReplaceState(p,p.state,null),Ba(r,u,p,d),Ha(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,w=Cs(l,S);p.props=w;var N=p.context,H=l.contextType;v=gr,typeof H=="object"&&H!==null&&(v=Te(H));var F=l.getDerivedStateFromProps;H=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||N!==v)&&J_(r,p,u,v),Ei=!1;var k=r.memoizedState;p.state=k,Ba(r,u,p,d),Ha(),N=r.memoizedState,S||k!==N||Ei?(typeof F=="function"&&(xf(r,l,F,u),N=r.memoizedState),(w=Ei||Z_(r,l,w,u,k,N,v))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=N),p.props=u,p.state=N,p.context=v,u=w):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,tf(s,r),v=r.memoizedProps,H=Cs(l,v),p.props=H,F=r.pendingProps,k=p.context,N=l.contextType,w=gr,typeof N=="object"&&N!==null&&(w=Te(N)),S=l.getDerivedStateFromProps,(N=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==F||k!==w)&&J_(r,p,u,w),Ei=!1,k=r.memoizedState,p.state=k,Ba(r,u,p,d),Ha();var I=r.memoizedState;v!==F||k!==I||Ei||s!==null&&s.dependencies!==null&&Vl(s.dependencies)?(typeof S=="function"&&(xf(r,l,S,u),I=r.memoizedState),(H=Ei||Z_(r,l,H,u,k,I,w)||s!==null&&s.dependencies!==null&&Vl(s.dependencies))?(N||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,I,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,I,w)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&k===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&k===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=I),p.props=u,p.state=I,p.context=w,u=H):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&k===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&k===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,lc(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=Tr(r,s.child,null,d),r.child=Tr(r,null,l,d)):ye(s,r,l,d),r.memoizedState=p.state,s=r.child):s=Xn(s,r,d),s}function gy(s,r,l,u){return Da(),r.flags|=256,ye(s,r,l,u),r.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(s){return{baseLanes:s,cachePool:e_()}}function Rf(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=an),s}function py(s,r,l){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=s!==null&&s.memoizedState===null?!1:(oe.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,s===null){if(Rt){if(d?Ai(r):Ri(),Rt){var S=Kt,w;if(w=S){t:{for(w=S,S=Tn;w.nodeType!==8;){if(!S){S=null;break t}if(w=mn(w.nextSibling),w===null){S=null;break t}}S=w}S!==null?(r.memoizedState={dehydrated:S,treeContext:ys!==null?{id:Fn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},w=Ye(18,null,null,0),w.stateNode=S,w.return=r,r.child=w,Re=r,Kt=null,w=!0):w=!1}w||Ss(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return hd(S)?r.lanes=32:r.lanes=536870912,null;Gn(r)}return S=u.children,u=u.fallback,d?(Ri(),d=r.mode,S=cc({mode:"hidden",children:S},d),u=_s(u,d,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,d=r.child,d.memoizedState=Af(l),d.childLanes=Rf(s,v,l),r.memoizedState=Cf,u):(Ai(r),Mf(r,S))}if(w=s.memoizedState,w!==null&&(S=w.dehydrated,S!==null)){if(p)r.flags&256?(Ai(r),r.flags&=-257,r=Of(s,r,l)):r.memoizedState!==null?(Ri(),r.child=s.child,r.flags|=128,r=null):(Ri(),d=u.fallback,S=r.mode,u=cc({mode:"visible",children:u.children},S),d=_s(d,S,l,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,Tr(r,s.child,null,l),u=r.child,u.memoizedState=Af(l),u.childLanes=Rf(s,v,l),r.memoizedState=Cf,r=d);else if(Ai(r),hd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var N=v.dgst;v=N,u=Error(i(419)),u.stack="",u.digest=v,Na({value:u,source:null,stack:null}),r=Of(s,r,l)}else if(fe||ka(s,r,l,!1),v=(l&s.childLanes)!==0,fe||v){if(v=Bt,v!==null&&(u=l&-l,u=(u&42)!==0?1:hh(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==w.retryLane))throw w.retryLane=u,dr(s,u),Qe(v,s,u),ay;S.data==="$?"||Xf(),r=Of(s,r,l)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=w.treeContext,Kt=mn(S.nextSibling),Re=r,Rt=!0,bs=null,Tn=!1,s!==null&&(nn[sn++]=Fn,nn[sn++]=Vn,nn[sn++]=ys,Fn=s.id,Vn=s.overflow,ys=r),r=Mf(r,u.children),r.flags|=4096);return r}return d?(Ri(),d=u.fallback,S=r.mode,w=s.child,N=w.sibling,u=jn(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,N!==null?d=jn(N,d):(d=_s(d,S,l,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,S=s.child.memoizedState,S===null?S=Af(l):(w=S.cachePool,w!==null?(N=ae._currentValue,w=w.parent!==N?{parent:N,pool:N}:w):w=e_(),S={baseLanes:S.baseLanes|l,cachePool:w}),d.memoizedState=S,d.childLanes=Rf(s,v,l),r.memoizedState=Cf,u):(Ai(r),l=s.child,s=l.sibling,l=jn(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(v=r.deletions,v===null?(r.deletions=[s],r.flags|=16):v.push(s)),r.child=l,r.memoizedState=null,l)}function Mf(s,r){return r=cc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function cc(s,r){return s=Ye(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Of(s,r,l){return Tr(r,s.child,null,l),s=Mf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function my(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Gh(s.return,r,l)}function Df(s,r,l,u,d){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=d)}function _y(s,r,l){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(ye(s,r,u.children,l),u=oe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&my(s,l,r);else if(s.tag===19)my(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(G(oe,u),d){case"forwards":for(l=r.child,d=null;l!==null;)s=l.alternate,s!==null&&rc(s)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),Df(r,!1,d,l,p);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&rc(s)===null){r.child=d;break}s=d.sibling,d.sibling=l,l=d,d=s}Df(r,!0,l,null,p);break;case"together":Df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xn(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),ki|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(ka(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=jn(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=jn(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Nf(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Vl(s)))}function cw(s,r,l){switch(r.tag){case 3:Yt(r,r.stateNode.containerInfo),xi(r,ae,s.memoizedState.cache),Da();break;case 27:case 5:ah(r);break;case 4:Yt(r,r.stateNode.containerInfo);break;case 10:xi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ai(r),r.flags|=128,null):(l&r.child.childLanes)!==0?py(s,r,l):(Ai(r),s=Xn(s,r,l),s!==null?s.sibling:null);Ai(r);break;case 19:var d=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(ka(s,r,l,!1),u=(l&r.childLanes)!==0),d){if(u)return _y(s,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(oe,oe.current),u)break;return null;case 22:case 23:return r.lanes=0,uy(s,r,l);case 24:xi(r,ae,s.memoizedState.cache)}return Xn(s,r,l)}function yy(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)fe=!0;else{if(!Nf(s,l)&&(r.flags&128)===0)return fe=!1,cw(s,r,l);fe=(s.flags&131072)!==0}else fe=!1,Rt&&(r.flags&1048576)!==0&&Xm(r,Fl,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")Bh(u)?(s=Cs(u,s),r.tag=1,r=dy(null,r,u,s,l)):(r.tag=0,r=wf(null,r,u,s,l));else{if(u!=null){if(d=u.$$typeof,d===q){r.tag=11,r=oy(null,r,u,s,l);break t}else if(d===Q){r.tag=14,r=ly(null,r,u,s,l);break t}}throw r=Jt(u)||u,Error(i(306,r,""))}}return r;case 0:return wf(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,d=Cs(u,r.pendingProps),dy(s,r,u,d,l);case 3:t:{if(Yt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,tf(s,r),Ba(r,u,null,l);var v=r.memoizedState;if(u=v.cache,xi(r,ae,u),u!==p.cache&&Xh(r,[ae],l,!0),Ha(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=gy(s,r,u,l);break t}else if(u!==d){d=tn(Error(i(424)),r),Na(d),r=gy(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Kt=mn(s.firstChild),Re=r,Rt=!0,bs=null,Tn=!0,l=Q_(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Da(),u===d){r=Xn(s,r,l);break t}ye(s,r,u,l)}r=r.child}return r;case 26:return lc(s,r),s===null?(l=xv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Rt||(l=r.type,s=r.pendingProps,u=Ec(it.current).createElement(l),u[Ee]=r,u[De]=s,be(u,l,s),he(u),r.stateNode=u):r.memoizedState=xv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ah(r),s===null&&Rt&&(u=r.stateNode=vv(r.type,r.pendingProps,it.current),Re=r,Tn=!0,d=Kt,zi(r.type)?(fd=d,Kt=mn(u.firstChild)):Kt=d),ye(s,r,r.pendingProps.children,l),lc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Rt&&((d=u=Kt)&&(u=zw(u,r.type,r.pendingProps,Tn),u!==null?(r.stateNode=u,Re=r,Kt=mn(u.firstChild),Tn=!1,d=!0):d=!1),d||Ss(r)),ah(r),d=r.type,p=r.pendingProps,v=s!==null?s.memoizedProps:null,u=p.children,ld(d,p)?u=null:v!==null&&ld(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=of(s,r,ew,null,null,l),lo._currentValue=d),lc(s,r),ye(s,r,u,l),r.child;case 6:return s===null&&Rt&&((s=l=Kt)&&(l=Uw(l,r.pendingProps,Tn),l!==null?(r.stateNode=l,Re=r,Kt=null,s=!0):s=!1),s||Ss(r)),null;case 13:return py(s,r,l);case 4:return Yt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Tr(r,null,u,l):ye(s,r,u,l),r.child;case 11:return oy(s,r,r.type,r.pendingProps,l);case 7:return ye(s,r,r.pendingProps,l),r.child;case 8:return ye(s,r,r.pendingProps.children,l),r.child;case 12:return ye(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,xi(r,r.type,u.value),ye(s,r,u.children,l),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Es(r),d=Te(d),u=u(d),r.flags|=1,ye(s,r,u,l),r.child;case 14:return ly(s,r,r.type,r.pendingProps,l);case 15:return cy(s,r,r.type,r.pendingProps,l);case 19:return _y(s,r,l);case 31:return u=r.pendingProps,l=r.mode,u={mode:u.mode,children:u.children},s===null?(l=cc(u,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=jn(s.child,u),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return uy(s,r,l);case 24:return Es(r),u=Te(ae),s===null?(d=$h(),d===null&&(d=Bt,p=Kh(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),r.memoizedState={parent:u,cache:d},Jh(r),xi(r,ae,d)):((s.lanes&l)!==0&&(tf(s,r),Ba(r,null,null,l),Ha()),d=s.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),xi(r,ae,u)):(u=p.cache,xi(r,ae,u),u!==d.cache&&Xh(r,[ae],l,!0))),ye(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Kn(s){s.flags|=4}function vy(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Av(r)){if(r=rn.current,r!==null&&((Et&4194048)===Et?wn!==null:(Et&62914560)!==Et&&(Et&536870912)===0||r!==wn))throw za=Zh,n_;s.flags|=8192}}function uc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?$p():536870912,s.lanes|=r,Rr|=r)}function Ga(s,r){if(!Rt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function uw(s,r,l){var u=r.pendingProps;switch(qh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return Gt(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Yn(ae),yi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Oa(r)?Kn(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$m())),Gt(r),null;case 26:return l=r.memoizedState,s===null?(Kn(r),l!==null?(Gt(r),vy(r,l)):(Gt(r),r.flags&=-16777217)):l?l!==s.memoizedState?(Kn(r),Gt(r),vy(r,l)):(Gt(r),r.flags&=-16777217):(s.memoizedProps!==u&&Kn(r),Gt(r),r.flags&=-16777217),null;case 27:Sl(r),l=it.current;var d=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Kn(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}s=et.current,Oa(r)?Km(r):(s=vv(d,u,l),r.stateNode=s,Kn(r))}return Gt(r),null;case 5:if(Sl(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Kn(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}if(s=et.current,Oa(r))Km(r);else{switch(d=Ec(it.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}s[Ee]=r,s[De]=u;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=s;t:switch(be(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Kn(r)}}return Gt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Kn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=it.current,Oa(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,d=Re,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Ee]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||fv(s.nodeValue,l)),s||Ss(r)}else s=Ec(s).createTextNode(u),s[Ee]=r,r.stateNode=s}return Gt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Oa(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ee]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),d=!1}else d=$m(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),uc(r,r.updateQueue),Gt(r),null;case 4:return yi(),s===null&&id(r.stateNode.containerInfo),Gt(r),null;case 10:return Yn(r.type),Gt(r),null;case 19:if(X(oe),d=r.memoizedState,d===null)return Gt(r),null;if(u=(r.flags&128)!==0,p=d.rendering,p===null)if(u)Ga(d,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=rc(s),p!==null){for(r.flags|=128,Ga(d,!1),s=p.updateQueue,r.updateQueue=s,uc(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Gm(l,s),l=l.sibling;return G(oe,oe.current&1|2),r.child}s=s.sibling}d.tail!==null&&En()>dc&&(r.flags|=128,u=!0,Ga(d,!1),r.lanes=4194304)}else{if(!u)if(s=rc(p),s!==null){if(r.flags|=128,u=!0,s=s.updateQueue,r.updateQueue=s,uc(r,s),Ga(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Rt)return Gt(r),null}else 2*En()-d.renderingStartTime>dc&&l!==536870912&&(r.flags|=128,u=!0,Ga(d,!1),r.lanes=4194304);d.isBackwards?(p.sibling=r.child,r.child=p):(s=d.last,s!==null?s.sibling=p:r.child=p,d.last=p)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=En(),r.sibling=null,s=oe.current,G(oe,u?s&1|2:s&1),r):(Gt(r),null);case 22:case 23:return Gn(r),rf(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),l=r.updateQueue,l!==null&&uc(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&X(Ts),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yn(ae),Gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function hw(s,r){switch(qh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Yn(ae),yi(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Sl(r),null;case 13:if(Gn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Da()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return X(oe),null;case 4:return yi(),null;case 10:return Yn(r.type),null;case 22:case 23:return Gn(r),rf(),s!==null&&X(Ts),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Yn(ae),null;case 25:return null;default:return null}}function by(s,r){switch(qh(r),r.tag){case 3:Yn(ae),yi();break;case 26:case 27:case 5:Sl(r);break;case 4:yi();break;case 13:Gn(r);break;case 19:X(oe);break;case 10:Yn(r.type);break;case 22:case 23:Gn(r),rf(),s!==null&&X(Ts);break;case 24:Yn(ae)}}function Xa(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&s)===s){u=void 0;var p=l.create,v=l.inst;u=p(),v.destroy=u}l=l.next}while(l!==d)}}catch(S){zt(r,r.return,S)}}function Mi(s,r,l){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=r;var w=l,N=S;try{N()}catch(H){zt(d,w,H)}}}u=u.next}while(u!==p)}}catch(H){zt(r,r.return,H)}}function Sy(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{l_(r,l)}catch(u){zt(s,s.return,u)}}}function xy(s,r,l){l.props=Cs(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){zt(s,r,u)}}function Ka(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(d){zt(s,r,d)}}function Cn(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){zt(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){zt(s,r,d)}else l.current=null}function Ey(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){zt(s,s.return,d)}}function kf(s,r,l){try{var u=s.stateNode;Nw(u,s.type,l,r),u[De]=r}catch(d){zt(s,s.return,d)}}function Ty(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zi(s.type)||s.tag===4}function If(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Ty(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zi(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lf(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=xc));else if(u!==4&&(u===27&&zi(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Lf(s,r,l),s=s.sibling;s!==null;)Lf(s,r,l),s=s.sibling}function hc(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&zi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(hc(s,r,l),s=s.sibling;s!==null;)hc(s,r,l),s=s.sibling}function wy(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);be(r,u,l),r[Ee]=s,r[De]=l}catch(p){zt(s,s.return,p)}}var Qn=!1,ee=!1,Pf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,de=null;function fw(s,r){if(s=s.containerInfo,ad=Mc,s=zm(s),kh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var v=0,S=-1,w=-1,N=0,H=0,F=s,k=null;e:for(;;){for(var I;F!==l||d!==0&&F.nodeType!==3||(S=v+d),F!==p||u!==0&&F.nodeType!==3||(w=v+u),F.nodeType===3&&(v+=F.nodeValue.length),(I=F.firstChild)!==null;)k=F,F=I;for(;;){if(F===s)break e;if(k===l&&++N===d&&(S=v),k===p&&++H===u&&(w=v),(I=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=I}l=S===-1||w===-1?null:{start:S,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for(od={focusedElem:s,selectionRange:l},Mc=!1,de=r;de!==null;)if(r=de,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,de=s;else for(;de!==null;){switch(r=de,p=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,d=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ut=Cs(l.type,d,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(ut,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(rt){zt(l,l.return,rt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)ud(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ud(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,de=s;break}de=r.return}}function Ay(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Oi(s,l),u&4&&Xa(5,l);break;case 1:if(Oi(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(v){zt(l,l.return,v)}else{var d=Cs(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(v){zt(l,l.return,v)}}u&64&&Sy(l),u&512&&Ka(l,l.return);break;case 3:if(Oi(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{l_(s,r)}catch(v){zt(l,l.return,v)}}break;case 27:r===null&&u&4&&wy(l);case 26:case 5:Oi(s,l),r===null&&u&4&&Ey(l),u&512&&Ka(l,l.return);break;case 12:Oi(s,l);break;case 13:Oi(s,l),u&4&&Oy(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Sw.bind(null,l),Hw(s,l))));break;case 22:if(u=l.memoizedState!==null||Qn,!u){r=r!==null&&r.memoizedState!==null||ee,d=Qn;var p=ee;Qn=u,(ee=r)&&!p?Di(s,l,(l.subtreeFlags&8772)!==0):Oi(s,l),Qn=d,ee=p}break;case 30:break;default:Oi(s,l)}}function Ry(s){var r=s.alternate;r!==null&&(s.alternate=null,Ry(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&gh(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Wt=null,Ie=!1;function $n(s,r,l){for(l=l.child;l!==null;)My(s,r,l),l=l.sibling}function My(s,r,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ma,l)}catch{}switch(l.tag){case 26:ee||Cn(l,r),$n(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ee||Cn(l,r);var u=Wt,d=Ie;zi(l.type)&&(Wt=l.stateNode,Ie=!1),$n(s,r,l),so(l.stateNode),Wt=u,Ie=d;break;case 5:ee||Cn(l,r);case 6:if(u=Wt,d=Ie,Wt=null,$n(s,r,l),Wt=u,Ie=d,Wt!==null)if(Ie)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(p){zt(l,r,p)}else try{Wt.removeChild(l.stateNode)}catch(p){zt(l,r,p)}break;case 18:Wt!==null&&(Ie?(s=Wt,_v(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),fo(s)):_v(Wt,l.stateNode));break;case 4:u=Wt,d=Ie,Wt=l.stateNode.containerInfo,Ie=!0,$n(s,r,l),Wt=u,Ie=d;break;case 0:case 11:case 14:case 15:ee||Mi(2,l,r),ee||Mi(4,l,r),$n(s,r,l);break;case 1:ee||(Cn(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&xy(l,r,u)),$n(s,r,l);break;case 21:$n(s,r,l);break;case 22:ee=(u=ee)||l.memoizedState!==null,$n(s,r,l),ee=u;break;default:$n(s,r,l)}}function Oy(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{fo(s)}catch(l){zt(r,r.return,l)}}function dw(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Cy),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Cy),r;default:throw Error(i(435,s.tag))}}function zf(s,r){var l=dw(s);r.forEach(function(u){var d=xw.bind(null,s,u);l.has(u)||(l.add(u),u.then(d,d))})}function We(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],p=s,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(zi(S.type)){Wt=S.stateNode,Ie=!1;break t}break;case 5:Wt=S.stateNode,Ie=!1;break t;case 3:case 4:Wt=S.stateNode.containerInfo,Ie=!0;break t}S=S.return}if(Wt===null)throw Error(i(160));My(p,v,d),Wt=null,Ie=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Dy(r,s),r=r.sibling}var pn=null;function Dy(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:We(r,s),Ge(s),u&4&&(Mi(3,s,s.return),Xa(3,s),Mi(5,s,s.return));break;case 1:We(r,s),Ge(s),u&512&&(ee||l===null||Cn(l,l.return)),u&64&&Qn&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=pn;if(We(r,s),Ge(s),u&512&&(ee||l===null||Cn(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[va]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),be(p,u,l),p[Ee]=s,he(p),u=p;break t;case"link":var v=wv("link","href",d).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(p=v[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}p=d.createElement(u),be(p,u,l),d.head.appendChild(p);break;case"meta":if(v=wv("meta","content",d).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(p=v[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}p=d.createElement(u),be(p,u,l),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ee]=s,he(p),u=p}s.stateNode=u}else Cv(d,s.type,s.stateNode);else s.stateNode=Tv(d,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Cv(d,s.type,s.stateNode):Tv(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&kf(s,s.memoizedProps,l.memoizedProps)}break;case 27:We(r,s),Ge(s),u&512&&(ee||l===null||Cn(l,l.return)),l!==null&&u&4&&kf(s,s.memoizedProps,l.memoizedProps);break;case 5:if(We(r,s),Ge(s),u&512&&(ee||l===null||Cn(l,l.return)),s.flags&32){d=s.stateNode;try{ar(d,"")}catch(I){zt(s,s.return,I)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,kf(s,d,l!==null?l.memoizedProps:d)),u&1024&&(Pf=!0);break;case 6:if(We(r,s),Ge(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(I){zt(s,s.return,I)}}break;case 3:if(Cc=null,d=pn,pn=Tc(r.containerInfo),We(r,s),pn=d,Ge(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{fo(r.containerInfo)}catch(I){zt(s,s.return,I)}Pf&&(Pf=!1,Ny(s));break;case 4:u=pn,pn=Tc(s.stateNode.containerInfo),We(r,s),Ge(s),pn=u;break;case 12:We(r,s),Ge(s);break;case 13:We(r,s),Ge(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vf=En()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,zf(s,u)));break;case 22:d=s.memoizedState!==null;var w=l!==null&&l.memoizedState!==null,N=Qn,H=ee;if(Qn=N||d,ee=H||w,We(r,s),ee=H,Qn=N,Ge(s),u&8192)t:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||w||Qn||ee||As(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){w=l=r;try{if(p=w.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=w.stateNode;var F=w.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){zt(w,w.return,I)}}}else if(r.tag===6){if(l===null){w=r;try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(I){zt(w,w.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,zf(s,l))));break;case 19:We(r,s),Ge(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,zf(s,u)));break;case 30:break;case 21:break;default:We(r,s),Ge(s)}}function Ge(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(Ty(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,p=If(s);hc(s,p,d);break;case 5:var v=l.stateNode;l.flags&32&&(ar(v,""),l.flags&=-33);var S=If(s);hc(s,S,v);break;case 3:case 4:var w=l.stateNode.containerInfo,N=If(s);Lf(s,N,w);break;default:throw Error(i(161))}}catch(H){zt(s,s.return,H)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Ny(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Ny(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Oi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ay(s,r.alternate,r),r=r.sibling}function As(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Mi(4,r,r.return),As(r);break;case 1:Cn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&xy(r,r.return,l),As(r);break;case 27:so(r.stateNode);case 26:case 5:Cn(r,r.return),As(r);break;case 22:r.memoizedState===null&&As(r);break;case 30:As(r);break;default:As(r)}s=s.sibling}}function Di(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:Di(d,p,l),Xa(4,p);break;case 1:if(Di(d,p,l),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(N){zt(u,u.return,N)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var w=d.shared.hiddenCallbacks;if(w!==null)for(d.shared.hiddenCallbacks=null,d=0;d<w.length;d++)o_(w[d],S)}catch(N){zt(u,u.return,N)}}l&&v&64&&Sy(p),Ka(p,p.return);break;case 27:wy(p);case 26:case 5:Di(d,p,l),l&&u===null&&v&4&&Ey(p),Ka(p,p.return);break;case 12:Di(d,p,l);break;case 13:Di(d,p,l),l&&v&4&&Oy(d,p);break;case 22:p.memoizedState===null&&Di(d,p,l),Ka(p,p.return);break;case 30:break;default:Di(d,p,l)}r=r.sibling}}function Uf(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ia(l))}function Hf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ia(s))}function An(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ky(s,r,l,u),r=r.sibling}function ky(s,r,l,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:An(s,r,l,u),d&2048&&Xa(9,r);break;case 1:An(s,r,l,u);break;case 3:An(s,r,l,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ia(s)));break;case 12:if(d&2048){An(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,v=p.id,S=p.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(w){zt(r,r.return,w)}}else An(s,r,l,u);break;case 13:An(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,v=r.alternate,r.memoizedState!==null?p._visibility&2?An(s,r,l,u):Qa(s,r):p._visibility&2?An(s,r,l,u):(p._visibility|=2,wr(s,r,l,u,(r.subtreeFlags&10256)!==0)),d&2048&&Uf(v,r);break;case 24:An(s,r,l,u),d&2048&&Hf(r.alternate,r);break;default:An(s,r,l,u)}}function wr(s,r,l,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=s,v=r,S=l,w=u,N=v.flags;switch(v.tag){case 0:case 11:case 15:wr(p,v,S,w,d),Xa(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?wr(p,v,S,w,d):Qa(p,v):(H._visibility|=2,wr(p,v,S,w,d)),d&&N&2048&&Uf(v.alternate,v);break;case 24:wr(p,v,S,w,d),d&&N&2048&&Hf(v.alternate,v);break;default:wr(p,v,S,w,d)}r=r.sibling}}function Qa(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,d=u.flags;switch(u.tag){case 22:Qa(l,u),d&2048&&Uf(u.alternate,u);break;case 24:Qa(l,u),d&2048&&Hf(u.alternate,u);break;default:Qa(l,u)}r=r.sibling}}var $a=8192;function Cr(s){if(s.subtreeFlags&$a)for(s=s.child;s!==null;)Iy(s),s=s.sibling}function Iy(s){switch(s.tag){case 26:Cr(s),s.flags&$a&&s.memoizedState!==null&&Zw(pn,s.memoizedState,s.memoizedProps);break;case 5:Cr(s);break;case 3:case 4:var r=pn;pn=Tc(s.stateNode.containerInfo),Cr(s),pn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=$a,$a=16777216,Cr(s),$a=r):Cr(s));break;default:Cr(s)}}function Ly(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Za(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];de=u,zy(u,s)}Ly(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Py(s),s=s.sibling}function Py(s){switch(s.tag){case 0:case 11:case 15:Za(s),s.flags&2048&&Mi(9,s,s.return);break;case 3:Za(s);break;case 12:Za(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,fc(s)):Za(s);break;default:Za(s)}}function fc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];de=u,zy(u,s)}Ly(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Mi(8,r,r.return),fc(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,fc(r));break;default:fc(r)}s=s.sibling}}function zy(s,r){for(;de!==null;){var l=de;switch(l.tag){case 0:case 11:case 15:Mi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ia(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,de=u;else t:for(l=s;de!==null;){u=de;var d=u.sibling,p=u.return;if(Ry(u),u===l){de=null;break t}if(d!==null){d.return=p,de=d;break t}de=p}}}var gw={getCacheForType:function(s){var r=Te(ae),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},pw=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Bt=null,vt=null,Et=0,Ot=0,Xe=null,Ni=!1,Ar=!1,Bf=!1,Zn=0,Qt=0,ki=0,Rs=0,jf=0,an=0,Rr=0,Ja=null,Le=null,Ff=!1,Vf=0,dc=1/0,gc=null,Ii=null,ve=0,Li=null,Mr=null,Or=0,qf=0,Yf=null,Uy=null,to=0,Wf=null;function Ke(){if((Mt&2)!==0&&Et!==0)return Et&-Et;if(L.T!==null){var s=_r;return s!==0?s:Jf()}return tm()}function Hy(){an===0&&(an=(Et&536870912)===0||Rt?Qp():536870912);var s=rn.current;return s!==null&&(s.flags|=32),an}function Qe(s,r,l){(s===Bt&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)&&(Dr(s,0),Pi(s,Et,an,!1)),ya(s,l),((Mt&2)===0||s!==Bt)&&(s===Bt&&((Mt&2)===0&&(Rs|=l),Qt===4&&Pi(s,Et,an,!1)),Rn(s))}function By(s,r,l){if((Mt&6)!==0)throw Error(i(327));var u=!l&&(r&124)===0&&(r&s.expiredLanes)===0||_a(s,r),d=u?yw(s,r):Kf(s,r,!0),p=u;do{if(d===0){Ar&&!u&&Pi(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!mw(l)){d=Kf(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=s;d=Ja;var w=S.current.memoizedState.isDehydrated;if(w&&(Dr(S,v).flags|=256),v=Kf(S,v,!1),v!==2){if(Bf&&!w){S.errorRecoveryDisabledLanes|=p,Rs|=p,d=4;break t}p=Le,Le=d,p!==null&&(Le===null?Le=p:Le.push.apply(Le,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){Dr(s,0),Pi(s,r,0,!0);break}t:{switch(u=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Pi(u,r,an,!Ni);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Vf+300-En(),10<d)){if(Pi(u,r,an,!Ni),wl(u,0,!0)!==0)break t;u.timeoutHandle=pv(jy.bind(null,u,l,Le,gc,Ff,r,an,Rs,Rr,Ni,p,2,-0,0),d);break t}jy(u,l,Le,gc,Ff,r,an,Rs,Rr,Ni,p,0,-0,0)}}break}while(!0);Rn(s)}function jy(s,r,l,u,d,p,v,S,w,N,H,F,k,I){if(s.timeoutHandle=-1,F=r.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:$w},Iy(r),F=Jw(),F!==null)){s.cancelPendingCommit=F(Xy.bind(null,s,r,p,l,u,d,v,S,w,H,1,k,I)),Pi(s,p,v,!N);return}Xy(s,r,p,l,u,d,v,S,w)}function mw(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],p=d.getSnapshot;d=d.value;try{if(!qe(p(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pi(s,r,l,u){r&=~jf,r&=~Rs,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var p=31-Ve(d),v=1<<p;u[p]=-1,d&=~v}l!==0&&Zp(s,l,r)}function pc(){return(Mt&6)===0?(eo(0),!1):!0}function Gf(){if(vt!==null){if(Ot===0)var s=vt.return;else s=vt,qn=xs=null,uf(s),Er=null,Ya=0,s=vt;for(;s!==null;)by(s.alternate,s),s=s.return;vt=null}}function Dr(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Iw(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Gf(),Bt=s,vt=l=jn(s.current,null),Et=r,Ot=0,Xe=null,Ni=!1,Ar=_a(s,r),Bf=!1,Rr=an=jf=Rs=ki=Qt=0,Le=Ja=null,Ff=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-Ve(u),p=1<<d;r|=s[d],u&=~p}return Zn=r,zl(),l}function Fy(s,r){pt=null,L.H=nc,r===Pa||r===Wl?(r=r_(),Ot=3):r===n_?(r=r_(),Ot=4):Ot=r===ay?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xe=r,vt===null&&(Qt=1,oc(s,tn(r,s.current)))}function Vy(){var s=L.H;return L.H=nc,s===null?nc:s}function qy(){var s=L.A;return L.A=gw,s}function Xf(){Qt=4,Ni||(Et&4194048)!==Et&&rn.current!==null||(Ar=!0),(ki&134217727)===0&&(Rs&134217727)===0||Bt===null||Pi(Bt,Et,an,!1)}function Kf(s,r,l){var u=Mt;Mt|=2;var d=Vy(),p=qy();(Bt!==s||Et!==r)&&(gc=null,Dr(s,r)),r=!1;var v=Qt;t:do try{if(Ot!==0&&vt!==null){var S=vt,w=Xe;switch(Ot){case 8:Gf(),v=6;break t;case 3:case 2:case 9:case 6:rn.current===null&&(r=!0);var N=Ot;if(Ot=0,Xe=null,Nr(s,S,w,N),l&&Ar){v=0;break t}break;default:N=Ot,Ot=0,Xe=null,Nr(s,S,w,N)}}_w(),v=Qt;break}catch(H){Fy(s,H)}while(!0);return r&&s.shellSuspendCounter++,qn=xs=null,Mt=u,L.H=d,L.A=p,vt===null&&(Bt=null,Et=0,zl()),v}function _w(){for(;vt!==null;)Yy(vt)}function yw(s,r){var l=Mt;Mt|=2;var u=Vy(),d=qy();Bt!==s||Et!==r?(gc=null,dc=En()+500,Dr(s,r)):Ar=_a(s,r);t:do try{if(Ot!==0&&vt!==null){r=vt;var p=Xe;e:switch(Ot){case 1:Ot=0,Xe=null,Nr(s,r,p,1);break;case 2:case 9:if(i_(p)){Ot=0,Xe=null,Wy(r);break}r=function(){Ot!==2&&Ot!==9||Bt!==s||(Ot=7),Rn(s)},p.then(r,r);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:i_(p)?(Ot=0,Xe=null,Wy(r)):(Ot=0,Xe=null,Nr(s,r,p,7));break;case 5:var v=null;switch(vt.tag){case 26:v=vt.memoizedState;case 5:case 27:var S=vt;if(!v||Av(v)){Ot=0,Xe=null;var w=S.sibling;if(w!==null)vt=w;else{var N=S.return;N!==null?(vt=N,mc(N)):vt=null}break e}}Ot=0,Xe=null,Nr(s,r,p,5);break;case 6:Ot=0,Xe=null,Nr(s,r,p,6);break;case 8:Gf(),Qt=6;break t;default:throw Error(i(462))}}vw();break}catch(H){Fy(s,H)}while(!0);return qn=xs=null,L.H=u,L.A=d,Mt=l,vt!==null?0:(Bt=null,Et=0,zl(),Qt)}function vw(){for(;vt!==null&&!jE();)Yy(vt)}function Yy(s){var r=yy(s.alternate,s,Zn);s.memoizedProps=s.pendingProps,r===null?mc(s):vt=r}function Wy(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=fy(l,r,r.pendingProps,r.type,void 0,Et);break;case 11:r=fy(l,r,r.pendingProps,r.type.render,r.ref,Et);break;case 5:uf(r);default:by(l,r),r=vt=Gm(r,Zn),r=yy(l,r,Zn)}s.memoizedProps=s.pendingProps,r===null?mc(s):vt=r}function Nr(s,r,l,u){qn=xs=null,uf(r),Er=null,Ya=0;var d=r.return;try{if(lw(s,d,r,l,Et)){Qt=1,oc(s,tn(l,s.current)),vt=null;return}}catch(p){if(d!==null)throw vt=d,p;Qt=1,oc(s,tn(l,s.current)),vt=null;return}r.flags&32768?(Rt||u===1?s=!0:Ar||(Et&536870912)!==0?s=!1:(Ni=s=!0,(u===2||u===9||u===3||u===6)&&(u=rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gy(r,s)):mc(r)}function mc(s){var r=s;do{if((r.flags&32768)!==0){Gy(r,Ni);return}s=r.return;var l=uw(r.alternate,r,Zn);if(l!==null){vt=l;return}if(r=r.sibling,r!==null){vt=r;return}vt=r=s}while(r!==null);Qt===0&&(Qt=5)}function Gy(s,r){do{var l=hw(s.alternate,s);if(l!==null){l.flags&=32767,vt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){vt=s;return}vt=s=l}while(s!==null);Qt=6,vt=null}function Xy(s,r,l,u,d,p,v,S,w){s.cancelPendingCommit=null;do _c();while(ve!==0);if((Mt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Uh,$E(s,l,p,v,S,w),s===Bt&&(vt=Bt=null,Et=0),Mr=r,Li=s,Or=l,qf=p,Yf=d,Uy=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Ew(xl,function(){return Jy(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=Y.p,Y.p=2,v=Mt,Mt|=4;try{fw(s,r,l)}finally{Mt=v,Y.p=d,L.T=u}}ve=1,Ky(),Qy(),$y()}}function Ky(){if(ve===1){ve=0;var s=Li,r=Mr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var u=Y.p;Y.p=2;var d=Mt;Mt|=4;try{Dy(r,s);var p=od,v=zm(s.containerInfo),S=p.focusedElem,w=p.selectionRange;if(v!==S&&S&&S.ownerDocument&&Pm(S.ownerDocument.documentElement,S)){if(w!==null&&kh(S)){var N=w.start,H=w.end;if(H===void 0&&(H=N),"selectionStart"in S)S.selectionStart=N,S.selectionEnd=Math.min(H,S.value.length);else{var F=S.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var I=k.getSelection(),ut=S.textContent.length,rt=Math.min(w.start,ut),It=w.end===void 0?rt:Math.min(w.end,ut);!I.extend&&rt>It&&(v=It,It=rt,rt=v);var O=Lm(S,rt),R=Lm(S,It);if(O&&R&&(I.rangeCount!==1||I.anchorNode!==O.node||I.anchorOffset!==O.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var D=F.createRange();D.setStart(O.node,O.offset),I.removeAllRanges(),rt>It?(I.addRange(D),I.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),I.addRange(D))}}}}for(F=[],I=S;I=I.parentNode;)I.nodeType===1&&F.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var j=F[S];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Mc=!!ad,od=ad=null}finally{Mt=d,Y.p=u,L.T=l}}s.current=r,ve=2}}function Qy(){if(ve===2){ve=0;var s=Li,r=Mr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var u=Y.p;Y.p=2;var d=Mt;Mt|=4;try{Ay(s,r.alternate,r)}finally{Mt=d,Y.p=u,L.T=l}}ve=3}}function $y(){if(ve===4||ve===3){ve=0,FE();var s=Li,r=Mr,l=Or,u=Uy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ve=5:(ve=0,Mr=Li=null,Zy(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ii=null),fh(l),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ma,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=L.T,d=Y.p,Y.p=2,L.T=null;try{for(var p=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];p(S.value,{componentStack:S.stack})}}finally{L.T=r,Y.p=d}}(Or&3)!==0&&_c(),Rn(s),d=s.pendingLanes,(l&4194090)!==0&&(d&42)!==0?s===Wf?to++:(to=0,Wf=s):to=0,eo(0)}}function Zy(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ia(r)))}function _c(s){return Ky(),Qy(),$y(),Jy()}function Jy(){if(ve!==5)return!1;var s=Li,r=qf;qf=0;var l=fh(Or),u=L.T,d=Y.p;try{Y.p=32>l?32:l,L.T=null,l=Yf,Yf=null;var p=Li,v=Or;if(ve=0,Mr=Li=null,Or=0,(Mt&6)!==0)throw Error(i(331));var S=Mt;if(Mt|=4,Py(p.current),ky(p,p.current,v,l),Mt=S,eo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ma,p)}catch{}return!0}finally{Y.p=d,L.T=u,Zy(s,r)}}function tv(s,r,l){r=tn(l,r),r=Tf(s.stateNode,r,2),s=wi(s,r,2),s!==null&&(ya(s,2),Rn(s))}function zt(s,r,l){if(s.tag===3)tv(s,s,l);else for(;r!==null;){if(r.tag===3){tv(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){s=tn(l,s),l=sy(2),u=wi(r,l,2),u!==null&&(ry(l,u,r,s),ya(u,2),Rn(u));break}}r=r.return}}function Qf(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new pw;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(l)||(Bf=!0,d.add(l),s=bw.bind(null,s,r,l),r.then(s,s))}function bw(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Bt===s&&(Et&l)===l&&(Qt===4||Qt===3&&(Et&62914560)===Et&&300>En()-Vf?(Mt&2)===0&&Dr(s,0):jf|=l,Rr===Et&&(Rr=0)),Rn(s)}function ev(s,r){r===0&&(r=$p()),s=dr(s,r),s!==null&&(ya(s,r),Rn(s))}function Sw(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),ev(s,l)}function xw(s,r){var l=0;switch(s.tag){case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),ev(s,l)}function Ew(s,r){return lh(s,r)}var yc=null,kr=null,$f=!1,vc=!1,Zf=!1,Ms=0;function Rn(s){s!==kr&&s.next===null&&(kr===null?yc=kr=s:kr=kr.next=s),vc=!0,$f||($f=!0,ww())}function eo(s,r){if(!Zf&&vc){Zf=!0;do for(var l=!1,u=yc;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var v=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ve(42|s)+1)-1,p&=d&~(v&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,rv(u,p))}else p=Et,p=wl(u,u===Bt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||_a(u,p)||(l=!0,rv(u,p));u=u.next}while(l);Zf=!1}}function Tw(){nv()}function nv(){vc=$f=!1;var s=0;Ms!==0&&(kw()&&(s=Ms),Ms=0);for(var r=En(),l=null,u=yc;u!==null;){var d=u.next,p=iv(u,r);p===0?(u.next=null,l===null?yc=d:l.next=d,d===null&&(kr=l)):(l=u,(s!==0||(p&3)!==0)&&(vc=!0)),u=d}eo(s)}function iv(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var v=31-Ve(p),S=1<<v,w=d[v];w===-1?((S&l)===0||(S&u)!==0)&&(d[v]=QE(S,r)):w<=r&&(s.expiredLanes|=S),p&=~S}if(r=Bt,l=Et,l=wl(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ch(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||_a(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&ch(u),fh(l)){case 2:case 8:l=Xp;break;case 32:l=xl;break;case 268435456:l=Kp;break;default:l=xl}return u=sv.bind(null,s),l=lh(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&ch(u),s.callbackPriority=2,s.callbackNode=null,2}function sv(s,r){if(ve!==0&&ve!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(_c()&&s.callbackNode!==l)return null;var u=Et;return u=wl(s,s===Bt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(By(s,u,r),iv(s,En()),s.callbackNode!=null&&s.callbackNode===l?sv.bind(null,s):null)}function rv(s,r){if(_c())return null;By(s,r,!0)}function ww(){Lw(function(){(Mt&6)!==0?lh(Gp,Tw):nv()})}function Jf(){return Ms===0&&(Ms=Qp()),Ms}function av(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ol(""+s)}function ov(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function Cw(s,r,l,u,d){if(r==="submit"&&l&&l.stateNode===d){var p=av((d[De]||null).action),v=u.submitter;v&&(r=(r=v[De]||null)?av(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var S=new Il("action","action",null,u,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ms!==0){var w=v?ov(d,v):new FormData(d);vf(l,{pending:!0,data:w,method:d.method,action:p},null,w)}}else typeof p=="function"&&(S.preventDefault(),w=v?ov(d,v):new FormData(d),vf(l,{pending:!0,data:w,method:d.method,action:p},p,w))},currentTarget:d}]})}}for(var td=0;td<zh.length;td++){var ed=zh[td],Aw=ed.toLowerCase(),Rw=ed[0].toUpperCase()+ed.slice(1);gn(Aw,"on"+Rw)}gn(Bm,"onAnimationEnd"),gn(jm,"onAnimationIteration"),gn(Fm,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(YT,"onTransitionRun"),gn(WT,"onTransitionStart"),gn(GT,"onTransitionCancel"),gn(Vm,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function lv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],d=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],w=S.instance,N=S.currentTarget;if(S=S.listener,w!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=N;try{p(d)}catch(H){ac(H)}d.currentTarget=null,p=w}else for(v=0;v<u.length;v++){if(S=u[v],w=S.instance,N=S.currentTarget,S=S.listener,w!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=N;try{p(d)}catch(H){ac(H)}d.currentTarget=null,p=w}}}}function bt(s,r){var l=r[dh];l===void 0&&(l=r[dh]=new Set);var u=s+"__bubble";l.has(u)||(cv(r,s,2,!1),l.add(u))}function nd(s,r,l){var u=0;r&&(u|=4),cv(l,s,u,r)}var bc="_reactListening"+Math.random().toString(36).slice(2);function id(s){if(!s[bc]){s[bc]=!0,nm.forEach(function(l){l!=="selectionchange"&&(Mw.has(l)||nd(l,!1,s),nd(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[bc]||(r[bc]=!0,nd("selectionchange",!1,r))}}function cv(s,r,l,u){switch(kv(r)){case 2:var d=nC;break;case 8:d=iC;break;default:d=_d}l=d.bind(null,r,l,s),d=void 0,!Th||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,l,{capture:!0,passive:d}):s.addEventListener(r,l,!0):d!==void 0?s.addEventListener(r,l,{passive:d}):s.addEventListener(r,l,!1)}function sd(s,r,l,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=u.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=tr(S),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){u=p=v;continue t}S=S.parentNode}}u=u.return}mm(function(){var N=p,H=xh(l),F=[];t:{var k=qm.get(s);if(k!==void 0){var I=Il,ut=s;switch(s){case"keypress":if(Nl(l)===0)break t;case"keydown":case"keyup":I=ET;break;case"focusin":ut="focus",I=Rh;break;case"focusout":ut="blur",I=Rh;break;case"beforeblur":case"afterblur":I=Rh;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=CT;break;case Bm:case jm:case Fm:I=gT;break;case Vm:I=RT;break;case"scroll":case"scrollend":I=cT;break;case"wheel":I=OT;break;case"copy":case"cut":case"paste":I=mT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Sm;break;case"toggle":case"beforetoggle":I=NT}var rt=(r&4)!==0,It=!rt&&(s==="scroll"||s==="scrollend"),O=rt?k!==null?k+"Capture":null:k;rt=[];for(var R=N,D;R!==null;){var j=R;if(D=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||D===null||O===null||(j=Sa(R,O),j!=null&&rt.push(io(R,j,D))),It)break;R=R.return}0<rt.length&&(k=new I(k,ut,null,l,H),F.push({event:k,listeners:rt}))}}if((r&7)===0){t:{if(k=s==="mouseover"||s==="pointerover",I=s==="mouseout"||s==="pointerout",k&&l!==Sh&&(ut=l.relatedTarget||l.fromElement)&&(tr(ut)||ut[Js]))break t;if((I||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,I?(ut=l.relatedTarget||l.toElement,I=N,ut=ut?tr(ut):null,ut!==null&&(It=o(ut),rt=ut.tag,ut!==It||rt!==5&&rt!==27&&rt!==6)&&(ut=null)):(I=null,ut=N),I!==ut)){if(rt=vm,j="onMouseLeave",O="onMouseEnter",R="mouse",(s==="pointerout"||s==="pointerover")&&(rt=Sm,j="onPointerLeave",O="onPointerEnter",R="pointer"),It=I==null?k:ba(I),D=ut==null?k:ba(ut),k=new rt(j,R+"leave",I,l,H),k.target=It,k.relatedTarget=D,j=null,tr(H)===N&&(rt=new rt(O,R+"enter",ut,l,H),rt.target=D,rt.relatedTarget=It,j=rt),It=j,I&&ut)e:{for(rt=I,O=ut,R=0,D=rt;D;D=Ir(D))R++;for(D=0,j=O;j;j=Ir(j))D++;for(;0<R-D;)rt=Ir(rt),R--;for(;0<D-R;)O=Ir(O),D--;for(;R--;){if(rt===O||O!==null&&rt===O.alternate)break e;rt=Ir(rt),O=Ir(O)}rt=null}else rt=null;I!==null&&uv(F,k,I,rt,!1),ut!==null&&It!==null&&uv(F,It,ut,rt,!0)}}t:{if(k=N?ba(N):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var J=Mm;else if(Am(k))if(Om)J=FT;else{J=BT;var _t=HT}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&bh(N.elementType)&&(J=Mm):J=jT;if(J&&(J=J(s,N))){Rm(F,J,l,H);break t}_t&&_t(s,k,N),s==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&vh(k,"number",k.value)}switch(_t=N?ba(N):window,s){case"focusin":(Am(_t)||_t.contentEditable==="true")&&(ur=_t,Ih=N,Ma=null);break;case"focusout":Ma=Ih=ur=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Um(F,l,H);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Um(F,l,H)}var nt;if(Oh)t:{switch(s){case"compositionstart":var ot="onCompositionStart";break t;case"compositionend":ot="onCompositionEnd";break t;case"compositionupdate":ot="onCompositionUpdate";break t}ot=void 0}else cr?wm(s,l)&&(ot="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(xm&&l.locale!=="ko"&&(cr||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&cr&&(nt=_m()):(Si=H,wh="value"in Si?Si.value:Si.textContent,cr=!0)),_t=Sc(N,ot),0<_t.length&&(ot=new bm(ot,s,null,l,H),F.push({event:ot,listeners:_t}),nt?ot.data=nt:(nt=Cm(l),nt!==null&&(ot.data=nt)))),(nt=IT?LT(s,l):PT(s,l))&&(ot=Sc(N,"onBeforeInput"),0<ot.length&&(_t=new bm("onBeforeInput","beforeinput",null,l,H),F.push({event:_t,listeners:ot}),_t.data=nt)),Cw(F,s,N,l,H)}lv(F,r)})}function io(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Sc(s,r){for(var l=r+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Sa(s,l),d!=null&&u.unshift(io(s,d,p)),d=Sa(s,r),d!=null&&u.push(io(s,d,p))),s.tag===3)return u;s=s.return}return[]}function Ir(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function uv(s,r,l,u,d){for(var p=r._reactName,v=[];l!==null&&l!==u;){var S=l,w=S.alternate,N=S.stateNode;if(S=S.tag,w!==null&&w===u)break;S!==5&&S!==26&&S!==27||N===null||(w=N,d?(N=Sa(l,p),N!=null&&v.unshift(io(l,N,w))):d||(N=Sa(l,p),N!=null&&v.push(io(l,N,w)))),l=l.return}v.length!==0&&s.push({event:r,listeners:v})}var Ow=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function hv(s){return(typeof s=="string"?s:""+s).replace(Ow,`
`).replace(Dw,"")}function fv(s,r){return r=hv(r),hv(s)===r}function xc(){}function kt(s,r,l,u,d,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ar(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ar(s,""+u);break;case"className":Al(s,"class",u);break;case"tabIndex":Al(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(s,l,u);break;case"style":gm(s,u,p);break;case"data":if(r!=="object"){Al(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ol(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&kt(s,r,"name",d.name,d,null),kt(s,r,"formEncType",d.formEncType,d,null),kt(s,r,"formMethod",d.formMethod,d,null),kt(s,r,"formTarget",d.formTarget,d,null)):(kt(s,r,"encType",d.encType,d,null),kt(s,r,"method",d.method,d,null),kt(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ol(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=xc);break;case"onScroll":u!=null&&bt("scroll",s);break;case"onScrollEnd":u!=null&&bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Ol(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":bt("beforetoggle",s),bt("toggle",s),Cl(s,"popover",u);break;case"xlinkActuate":Hn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Hn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Hn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Hn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Hn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Hn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cl(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=oT.get(l)||l,Cl(s,l,u))}}function rd(s,r,l,u,d,p){switch(l){case"style":gm(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?ar(s,u):(typeof u=="number"||typeof u=="bigint")&&ar(s,""+u);break;case"onScroll":u!=null&&bt("scroll",s);break;case"onScrollEnd":u!=null&&bt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!im.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),p=s[De]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,d);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Cl(s,l,u)}}}function be(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",s),bt("load",s);var u=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(s,r,p,v,l,null)}}d&&kt(s,r,"srcSet",l.srcSet,l,null),u&&kt(s,r,"src",l.src,l,null);return;case"input":bt("invalid",s);var S=p=v=d=null,w=null,N=null;for(u in l)if(l.hasOwnProperty(u)){var H=l[u];if(H!=null)switch(u){case"name":d=H;break;case"type":v=H;break;case"checked":w=H;break;case"defaultChecked":N=H;break;case"value":p=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:kt(s,r,u,H,l,null)}}um(s,p,S,w,N,v,d,!1),Rl(s);return;case"select":bt("invalid",s),u=v=p=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:kt(s,r,d,S,l,null)}r=p,l=v,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):l!=null&&rr(s,!!u,l,!0);return;case"textarea":bt("invalid",s),p=d=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:kt(s,r,v,S,l,null)}fm(s,u,d,p),Rl(s);return;case"option":for(w in l)if(l.hasOwnProperty(w)&&(u=l[w],u!=null))switch(w){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:kt(s,r,w,u,l,null)}return;case"dialog":bt("beforetoggle",s),bt("toggle",s),bt("cancel",s),bt("close",s);break;case"iframe":case"object":bt("load",s);break;case"video":case"audio":for(u=0;u<no.length;u++)bt(no[u],s);break;case"image":bt("error",s),bt("load",s);break;case"details":bt("toggle",s);break;case"embed":case"source":case"link":bt("error",s),bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in l)if(l.hasOwnProperty(N)&&(u=l[N],u!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(s,r,N,u,l,null)}return;default:if(bh(r)){for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!==void 0&&rd(s,r,H,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&kt(s,r,S,u,l,null))}function Nw(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,S=null,w=null,N=null,H=null;for(I in l){var F=l[I];if(l.hasOwnProperty(I)&&F!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":w=F;default:u.hasOwnProperty(I)||kt(s,r,I,null,u,F)}}for(var k in u){var I=u[k];if(F=l[k],u.hasOwnProperty(k)&&(I!=null||F!=null))switch(k){case"type":p=I;break;case"name":d=I;break;case"checked":N=I;break;case"defaultChecked":H=I;break;case"value":v=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:I!==F&&kt(s,r,k,I,u,F)}}yh(s,v,S,w,N,H,p,d);return;case"select":I=v=S=k=null;for(p in l)if(w=l[p],l.hasOwnProperty(p)&&w!=null)switch(p){case"value":break;case"multiple":I=w;default:u.hasOwnProperty(p)||kt(s,r,p,null,u,w)}for(d in u)if(p=u[d],w=l[d],u.hasOwnProperty(d)&&(p!=null||w!=null))switch(d){case"value":k=p;break;case"defaultValue":S=p;break;case"multiple":v=p;default:p!==w&&kt(s,r,d,p,u,w)}r=S,l=v,u=I,k!=null?rr(s,!!l,k,!1):!!u!=!!l&&(r!=null?rr(s,!!l,r,!0):rr(s,!!l,l?[]:"",!1));return;case"textarea":I=k=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:kt(s,r,S,null,u,d)}for(v in u)if(d=u[v],p=l[v],u.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":k=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&kt(s,r,v,d,u,p)}hm(s,k,I);return;case"option":for(var ut in l)if(k=l[ut],l.hasOwnProperty(ut)&&k!=null&&!u.hasOwnProperty(ut))switch(ut){case"selected":s.selected=!1;break;default:kt(s,r,ut,null,u,k)}for(w in u)if(k=u[w],I=l[w],u.hasOwnProperty(w)&&k!==I&&(k!=null||I!=null))switch(w){case"selected":s.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:kt(s,r,w,k,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in l)k=l[rt],l.hasOwnProperty(rt)&&k!=null&&!u.hasOwnProperty(rt)&&kt(s,r,rt,null,u,k);for(N in u)if(k=u[N],I=l[N],u.hasOwnProperty(N)&&k!==I&&(k!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(137,r));break;default:kt(s,r,N,k,u,I)}return;default:if(bh(r)){for(var It in l)k=l[It],l.hasOwnProperty(It)&&k!==void 0&&!u.hasOwnProperty(It)&&rd(s,r,It,void 0,u,k);for(H in u)k=u[H],I=l[H],!u.hasOwnProperty(H)||k===I||k===void 0&&I===void 0||rd(s,r,H,k,u,I);return}}for(var O in l)k=l[O],l.hasOwnProperty(O)&&k!=null&&!u.hasOwnProperty(O)&&kt(s,r,O,null,u,k);for(F in u)k=u[F],I=l[F],!u.hasOwnProperty(F)||k===I||k==null&&I==null||kt(s,r,F,k,u,I)}var ad=null,od=null;function Ec(s){return s.nodeType===9?s:s.ownerDocument}function dv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ld(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cd=null;function kw(){var s=window.event;return s&&s.type==="popstate"?s===cd?!1:(cd=s,!0):(cd=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(s){return mv.resolve(null).then(s).catch(Pw)}:pv;function Pw(s){setTimeout(function(){throw s})}function zi(s){return s==="head"}function _v(s,r){var l=r,u=0,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var v=s.ownerDocument;if(l&1&&so(v.documentElement),l&2&&so(v.body),l&4)for(l=v.head,so(l),v=l.firstChild;v;){var S=v.nextSibling,w=v.nodeName;v[va]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}if(d===0){s.removeChild(p),fo(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);fo(r)}function ud(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ud(l),gh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function zw(s,r,l,u){for(;s.nodeType===1;){var d=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[va])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=mn(s.nextSibling),s===null)break}return null}function Uw(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=mn(s.nextSibling),s===null))return null;return s}function hd(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Hw(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function mn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var fd=null;function yv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function vv(s,r,l){switch(r=Ec(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function so(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);gh(s)}var on=new Map,bv=new Set;function Tc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Jn=Y.d;Y.d={f:Bw,r:jw,D:Fw,C:Vw,L:qw,m:Yw,X:Gw,S:Ww,M:Xw};function Bw(){var s=Jn.f(),r=pc();return s||r}function jw(s){var r=er(s);r!==null&&r.tag===5&&r.type==="form"?B_(r):Jn.r(s)}var Lr=typeof document>"u"?null:document;function Sv(s,r,l){var u=Lr;if(u&&typeof r=="string"&&r){var d=Je(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),bv.has(d)||(bv.add(d),s={rel:s,crossOrigin:l,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),be(r,"link",s),he(r),u.head.appendChild(r)))}}function Fw(s){Jn.D(s),Sv("dns-prefetch",s,null)}function Vw(s,r){Jn.C(s,r),Sv("preconnect",s,r)}function qw(s,r,l){Jn.L(s,r,l);var u=Lr;if(u&&s&&r){var d='link[rel="preload"][as="'+Je(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Je(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Je(l.imageSizes)+'"]')):d+='[href="'+Je(s)+'"]';var p=d;switch(r){case"style":p=Pr(s);break;case"script":p=zr(s)}on.has(p)||(s=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),on.set(p,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(ro(p))||r==="script"&&u.querySelector(ao(p))||(r=u.createElement("link"),be(r,"link",s),he(r),u.head.appendChild(r)))}}function Yw(s,r){Jn.m(s,r);var l=Lr;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Je(u)+'"][href="'+Je(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zr(s)}if(!on.has(p)&&(s=m({rel:"modulepreload",href:s},r),on.set(p,s),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ao(p)))return}u=l.createElement("link"),be(u,"link",s),he(u),l.head.appendChild(u)}}}function Ww(s,r,l){Jn.S(s,r,l);var u=Lr;if(u&&s){var d=nr(u).hoistableStyles,p=Pr(s);r=r||"default";var v=d.get(p);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(ro(p)))S.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":r},l),(l=on.get(p))&&dd(s,l);var w=v=u.createElement("link");he(w),be(w,"link",s),w._p=new Promise(function(N,H){w.onload=N,w.onerror=H}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wc(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(p,v)}}}function Gw(s,r){Jn.X(s,r);var l=Lr;if(l&&s){var u=nr(l).hoistableScripts,d=zr(s),p=u.get(d);p||(p=l.querySelector(ao(d)),p||(s=m({src:s,async:!0},r),(r=on.get(d))&&gd(s,r),p=l.createElement("script"),he(p),be(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function Xw(s,r){Jn.M(s,r);var l=Lr;if(l&&s){var u=nr(l).hoistableScripts,d=zr(s),p=u.get(d);p||(p=l.querySelector(ao(d)),p||(s=m({src:s,async:!0,type:"module"},r),(r=on.get(d))&&gd(s,r),p=l.createElement("script"),he(p),be(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function xv(s,r,l,u){var d=(d=it.current)?Tc(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Pr(l.href),l=nr(d).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Pr(l.href);var p=nr(d).hoistableStyles,v=p.get(s);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,v),(p=d.querySelector(ro(s)))&&!p._p&&(v.instance=p,v.state.loading=5),on.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},on.set(s,l),p||Kw(d,s,l,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zr(l),l=nr(d).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Pr(s){return'href="'+Je(s)+'"'}function ro(s){return'link[rel="stylesheet"]['+s+"]"}function Ev(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Kw(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),be(r,"link",l),he(r),s.head.appendChild(r))}function zr(s){return'[src="'+Je(s)+'"]'}function ao(s){return"script[async]"+s}function Tv(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Je(l.href)+'"]');if(u)return r.instance=u,he(u),u;var d=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),he(u),be(u,"style",d),wc(u,l.precedence,s),r.instance=u;case"stylesheet":d=Pr(l.href);var p=s.querySelector(ro(d));if(p)return r.state.loading|=4,r.instance=p,he(p),p;u=Ev(l),(d=on.get(d))&&dd(u,d),p=(s.ownerDocument||s).createElement("link"),he(p);var v=p;return v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),be(p,"link",u),r.state.loading|=4,wc(p,l.precedence,s),r.instance=p;case"script":return p=zr(l.src),(d=s.querySelector(ao(p)))?(r.instance=d,he(d),d):(u=l,(d=on.get(p))&&(u=m({},l),gd(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),he(d),be(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,wc(u,l.precedence,s));return r.instance}function wc(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function dd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function gd(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Cc=null;function wv(s,r,l){if(Cc===null){var u=new Map,d=Cc=new Map;d.set(l,u)}else d=Cc,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),d=0;d<l.length;d++){var p=l[d];if(!(p[va]||p[Ee]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=s+v;var S=u.get(v);S?S.push(p):u.set(v,[p])}}return u}function Cv(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function Qw(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var oo=null;function $w(){}function Zw(s,r,l){if(oo===null)throw Error(i(475));var u=oo;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Pr(l.href),p=s.querySelector(ro(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Ac.bind(u),s.then(u,u)),r.state.loading|=4,r.instance=p,he(p);return}p=s.ownerDocument||s,l=Ev(l),(d=on.get(d))&&dd(l,d),p=p.createElement("link"),he(p);var v=p;v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),be(p,"link",l),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Ac.bind(u),s.addEventListener("load",r),s.addEventListener("error",r))}}function Jw(){if(oo===null)throw Error(i(475));var s=oo;return s.stylesheets&&s.count===0&&pd(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&pd(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rc=null;function pd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rc=new Map,r.forEach(tC,s),Rc=null,Ac.call(s))}function tC(s,r){if(!(r.state.loading&4)){var l=Rc.get(s);if(l)var u=l.get(null);else{l=new Map,Rc.set(s,l);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}d=r.instance,v=d.getAttribute("data-precedence"),p=l.get(v)||u,p===u&&l.set(null,d),l.set(v,d),this.count++,u=Ac.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var lo={$$typeof:U,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function eC(s,r,l,u,d,p,v,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.hiddenUpdates=uh(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Rv(s,r,l,u,d,p,v,S,w,N,H,F){return s=new eC(s,r,l,v,S,w,N,F),r=1,p===!0&&(r|=24),p=Ye(3,null,null,r),s.current=p,p.stateNode=s,r=Kh(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},Jh(p),s}function Mv(s){return s?(s=gr,s):gr}function Ov(s,r,l,u,d,p){d=Mv(d),u.context===null?u.context=d:u.pendingContext=d,u=Ti(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=wi(s,u,r),l!==null&&(Qe(l,s,r),Ua(l,s,r))}function Dv(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function md(s,r){Dv(s,r),(s=s.alternate)&&Dv(s,r)}function Nv(s){if(s.tag===13){var r=dr(s,67108864);r!==null&&Qe(r,s,67108864),md(s,67108864)}}var Mc=!0;function nC(s,r,l,u){var d=L.T;L.T=null;var p=Y.p;try{Y.p=2,_d(s,r,l,u)}finally{Y.p=p,L.T=d}}function iC(s,r,l,u){var d=L.T;L.T=null;var p=Y.p;try{Y.p=8,_d(s,r,l,u)}finally{Y.p=p,L.T=d}}function _d(s,r,l,u){if(Mc){var d=yd(u);if(d===null)sd(s,r,u,Oc,l),Iv(s,u);else if(rC(d,s,r,l,u))u.stopPropagation();else if(Iv(s,u),r&4&&-1<sC.indexOf(s)){for(;d!==null;){var p=er(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=fs(p.pendingLanes);if(v!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var w=1<<31-Ve(v);S.entanglements[1]|=w,v&=~w}Rn(p),(Mt&6)===0&&(dc=En()+500,eo(0))}}break;case 13:S=dr(p,2),S!==null&&Qe(S,p,2),pc(),md(p,2)}if(p=yd(u),p===null&&sd(s,r,u,Oc,l),p===d)break;d=p}d!==null&&u.stopPropagation()}else sd(s,r,u,null,l)}}function yd(s){return s=xh(s),vd(s)}var Oc=null;function vd(s){if(Oc=null,s=tr(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Oc=s,null}function kv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VE()){case Gp:return 2;case Xp:return 8;case xl:case qE:return 32;case Kp:return 268435456;default:return 32}default:return 32}}var bd=!1,Ui=null,Hi=null,Bi=null,co=new Map,uo=new Map,ji=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(s,r){switch(s){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":co.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(r.pointerId)}}function ho(s,r,l,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=er(r),r!==null&&Nv(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function rC(s,r,l,u,d){switch(r){case"focusin":return Ui=ho(Ui,s,r,l,u,d),!0;case"dragenter":return Hi=ho(Hi,s,r,l,u,d),!0;case"mouseover":return Bi=ho(Bi,s,r,l,u,d),!0;case"pointerover":var p=d.pointerId;return co.set(p,ho(co.get(p)||null,s,r,l,u,d)),!0;case"gotpointercapture":return p=d.pointerId,uo.set(p,ho(uo.get(p)||null,s,r,l,u,d)),!0}return!1}function Lv(s){var r=tr(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,ZE(s.priority,function(){if(l.tag===13){var u=Ke();u=hh(u);var d=dr(l,u);d!==null&&Qe(d,l,u),md(l,u)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=yd(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Sh=u,l.target.dispatchEvent(u),Sh=null}else return r=er(l),r!==null&&Nv(r),s.blockedOn=l,!1;r.shift()}return!0}function Pv(s,r,l){Dc(s)&&l.delete(r)}function aC(){bd=!1,Ui!==null&&Dc(Ui)&&(Ui=null),Hi!==null&&Dc(Hi)&&(Hi=null),Bi!==null&&Dc(Bi)&&(Bi=null),co.forEach(Pv),uo.forEach(Pv)}function Nc(s,r){s.blockedOn===r&&(s.blockedOn=null,bd||(bd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aC)))}var kc=null;function zv(s){kc!==s&&(kc=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kc===s&&(kc=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(vd(u||l)===null)continue;break}var p=er(l);p!==null&&(s.splice(r,3),r-=3,vf(p,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function fo(s){function r(w){return Nc(w,s)}Ui!==null&&Nc(Ui,s),Hi!==null&&Nc(Hi,s),Bi!==null&&Nc(Bi,s),co.forEach(r),uo.forEach(r);for(var l=0;l<ji.length;l++){var u=ji[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ji.length&&(l=ji[0],l.blockedOn===null);)Lv(l),l.blockedOn===null&&ji.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],p=l[u+1],v=d[De]||null;if(typeof p=="function")v||zv(l);else if(v){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[De]||null)S=v.formAction;else if(vd(d)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),zv(l)}}}function Sd(s){this._internalRoot=s}Ic.prototype.render=Sd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Ke();Ov(l,u,s,r,null,null)},Ic.prototype.unmount=Sd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Ov(s.current,2,null,s,null,null),pc(),r[Js]=null}};function Ic(s){this._internalRoot=s}Ic.prototype.unstable_scheduleHydration=function(s){if(s){var r=tm();s={blockedOn:null,target:s,priority:r};for(var l=0;l<ji.length&&r!==0&&r<ji[l].priority;l++);ji.splice(l,0,s),l===0&&Lv(s)}};var Uv=t.version;if(Uv!=="19.1.1")throw Error(i(527,Uv,"19.1.1"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var oC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ma=Lc.inject(oC),Fe=Lc}catch{}}return po.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",d=ty,p=ey,v=ny,S=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Rv(s,1,!1,null,null,l,u,d,p,v,S,null),s[Js]=r.current,id(s),new Sd(r)},po.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,d="",p=ty,v=ey,S=ny,w=null,N=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks),l.formState!==void 0&&(N=l.formState)),r=Rv(s,1,!0,r,l??null,u,d,p,v,S,w,N),r.context=Mv(null),l=r.current,u=Ke(),u=hh(u),d=Ti(u),d.callback=null,wi(l,d,u),l=u,r.current.lanes=l,ya(r,l),Rn(r),s[Js]=r.current,id(s),new Ic(r)},po.version="19.1.1",po}var Xv;function yC(){if(Xv)return Td.exports;Xv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Td.exports=_C(),Td.exports}var vC=yC();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kv="popstate";function bC(n={}){function t(i,a){let{pathname:o,search:c,hash:h}=i.location;return ng("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:Bo(a)}return xC(t,e,null,n)}function Xt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function In(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SC(){return Math.random().toString(36).substring(2,10)}function Qv(n,t){return{usr:n.state,key:n.key,idx:t}}function ng(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:e,key:t&&t.key||i||SC()}}function Bo({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function sa(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function xC(n,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function _(){h="POP";let T=m(),A=T==null?null:T-g;g=T,f&&f({action:h,location:E.location,delta:A})}function y(T,A){h="PUSH";let M=ng(E.location,T,A);g=m()+1;let U=Qv(M,g),q=E.createHref(M);try{c.pushState(U,"",q)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(q)}o&&f&&f({action:h,location:E.location,delta:1})}function b(T,A){h="REPLACE";let M=ng(E.location,T,A);g=m();let U=Qv(M,g),q=E.createHref(M);c.replaceState(U,"",q),o&&f&&f({action:h,location:E.location,delta:0})}function x(T){return EC(T)}let E={get action(){return h},get location(){return n(a,c)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Kv,_),f=T,()=>{a.removeEventListener(Kv,_),f=null}},createHref(T){return t(a,T)},createURL:x,encodeLocation(T){let A=x(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(T){return c.go(T)}};return E}function EC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Bo(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function E1(n,t,e="/"){return TC(n,t,e,!1)}function TC(n,t,e,i){let a=typeof t=="string"?sa(t):t,o=fi(a.pathname||"/",e);if(o==null)return null;let c=T1(n);wC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=PC(o);h=IC(c[f],g,i)}return h}function T1(n,t=[],e=[],i="",a=!1){let o=(c,h,f=a,g)=>{let m={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Xt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let _=ui([i,m.relativePath]),y=e.concat(m);c.children&&c.children.length>0&&(Xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),T1(c.children,t,y,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:NC(_,c.index),routesMeta:y})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of w1(c.path))o(c,h,!0,f)}),t}function w1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=w1(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function wC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:kC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var CC=/^:[\w-]+$/,AC=3,RC=2,MC=1,OC=10,DC=-2,$v=n=>n==="*";function NC(n,t){let e=n.split("/"),i=e.length;return e.some($v)&&(i+=DC),t&&(i+=RC),e.filter(a=>!$v(a)).reduce((a,o)=>a+(CC.test(o)?AC:o===""?MC:OC),i)}function kC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,a)=>i===t[a])?n[n.length-1]-t[t.length-1]:0}function IC(n,t,e=!1){let{routesMeta:i}=n,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=cu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),y=f.route;if(!_&&g&&e&&!i[i.length-1].route.index&&(_=cu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ui([o,_.pathname]),pathnameBase:BC(ui([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=ui([o,_.pathnameBase]))}return c}function cu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=LC(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:_},y)=>{if(m==="*"){let x=h[y]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=h[y];return _&&!b?g[m]=void 0:g[m]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function LC(n,t=!1,e=!0){In(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function PC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return In(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function fi(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function zC(n,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof n=="string"?sa(n):n;return{pathname:e?e.startsWith("/")?e:UC(e,t):t,search:jC(i),hash:FC(a)}}function UC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Rd(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function C1(n){let t=HC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function A1(n,t,e,i=!1){let a;typeof n=="string"?a=sa(n):(a={...n},Xt(!a.pathname||!a.pathname.includes("?"),Rd("?","pathname","search",a)),Xt(!a.pathname||!a.pathname.includes("#"),Rd("#","pathname","hash",a)),Xt(!a.search||!a.search.includes("#"),Rd("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),_-=1;a.pathname=y.join("/")}h=_>=0?t[_]:"/"}let f=zC(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var ui=n=>n.join("/").replace(/\/\/+/g,"/"),BC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var R1=["POST","PUT","PATCH","DELETE"];new Set(R1);var qC=["GET",...R1];new Set(qC);var ra=z.createContext(null);ra.displayName="DataRouter";var Fu=z.createContext(null);Fu.displayName="DataRouterState";z.createContext(!1);var M1=z.createContext({isTransitioning:!1});M1.displayName="ViewTransition";var YC=z.createContext(new Map);YC.displayName="Fetchers";var WC=z.createContext(null);WC.displayName="Await";var zn=z.createContext(null);zn.displayName="Navigation";var rl=z.createContext(null);rl.displayName="Location";var mi=z.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Dg=z.createContext(null);Dg.displayName="RouteError";function GC(n,{relative:t}={}){Xt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=z.useContext(zn),{hash:a,pathname:o,search:c}=ol(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ui([e,o])),i.createHref({pathname:h,search:c,hash:a})}function al(){return z.useContext(rl)!=null}function Ks(){return Xt(al(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(rl).location}var O1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D1(n){z.useContext(zn).static||z.useLayoutEffect(n)}function XC(){let{isDataRoute:n}=z.useContext(mi);return n?o2():KC()}function KC(){Xt(al(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ra),{basename:t,navigator:e}=z.useContext(zn),{matches:i}=z.useContext(mi),{pathname:a}=Ks(),o=JSON.stringify(C1(i)),c=z.useRef(!1);return D1(()=>{c.current=!0}),z.useCallback((f,g={})=>{if(In(c.current,O1),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=A1(f,JSON.parse(o),a,g.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ui([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,o,a,n])}z.createContext(null);function ol(n,{relative:t}={}){let{matches:e}=z.useContext(mi),{pathname:i}=Ks(),a=JSON.stringify(C1(e));return z.useMemo(()=>A1(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function QC(n,t){return N1(n,t)}function N1(n,t,e,i,a){Xt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(zn),{matches:c}=z.useContext(mi),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",_=h&&h.route;{let M=_&&_.path||"";k1(g,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=Ks(),b;if(t){let M=typeof t=="string"?sa(t):t;Xt(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=y;let x=b.pathname||"/",E=x;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=E1(n,{pathname:E});In(_||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),In(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=e2(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:ui([m,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:ui([m,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,e,i,a);return t&&A?z.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function $C(){let n=a2(),t=VC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:a},e):null,c)}var ZC=z.createElement($C,null),JC=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(mi.Provider,{value:this.props.routeContext},z.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t2({routeContext:n,match:t,children:e}){let i=z.useContext(ra);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(mi.Provider,{value:n},e)}function e2(n,t=[],e=null,i=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let g=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Xt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(e)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:_,errors:y}=e,b=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,m,_)=>{let y,b=!1,x=null,E=null;e&&(y=c&&m.route.id?c[m.route.id]:void 0,x=m.route.errorElement||ZC,h&&(f<0&&_===0?(k1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===_&&(b=!0,E=m.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,_+1)),A=()=>{let M;return y?M=x:b?M=E:m.route.Component?M=z.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=g,z.createElement(t2,{match:m,routeContext:{outlet:g,matches:T,isDataRoute:e!=null},children:M})};return e&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?z.createElement(JC,{location:e.location,revalidation:e.revalidation,component:x,error:y,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):A()},null)}function Ng(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n2(n){let t=z.useContext(ra);return Xt(t,Ng(n)),t}function i2(n){let t=z.useContext(Fu);return Xt(t,Ng(n)),t}function s2(n){let t=z.useContext(mi);return Xt(t,Ng(n)),t}function kg(n){let t=s2(n),e=t.matches[t.matches.length-1];return Xt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function r2(){return kg("useRouteId")}function a2(){let n=z.useContext(Dg),t=i2("useRouteError"),e=kg("useRouteError");return n!==void 0?n:t.errors?.[e]}function o2(){let{router:n}=n2("useNavigate"),t=kg("useNavigate"),e=z.useRef(!1);return D1(()=>{e.current=!0}),z.useCallback(async(a,o={})=>{In(e.current,O1),e.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:t,...o}))},[n,t])}var Zv={};function k1(n,t,e){!t&&!Zv[n]&&(Zv[n]=!0,In(!1,e))}z.memo(l2);function l2({routes:n,future:t,state:e,unstable_onError:i}){return N1(n,void 0,e,i,t)}function Co(n){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1}){Xt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof e=="string"&&(e=sa(e));let{pathname:f="/",search:g="",hash:m="",state:_=null,key:y="default"}=e,b=z.useMemo(()=>{let x=fi(f,c);return x==null?null:{location:{pathname:x,search:g,hash:m,state:_,key:y},navigationType:i}},[c,f,g,m,_,y,i]);return In(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:z.createElement(zn.Provider,{value:h},z.createElement(rl.Provider,{children:t,value:b}))}function u2({children:n,location:t}){return QC(ig(n),t)}function ig(n,t=[]){let e=[];return z.Children.forEach(n,(i,a)=>{if(!z.isValidElement(i))return;let o=[...t,a];if(i.type===z.Fragment){e.push.apply(e,ig(i.props.children,o));return}Xt(i.type===Co,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ig(i.props.children,o)),e.push(c)}),e}var Jc="get",tu="application/x-www-form-urlencoded";function Vu(n){return n!=null&&typeof n.tagName=="string"}function h2(n){return Vu(n)&&n.tagName.toLowerCase()==="button"}function f2(n){return Vu(n)&&n.tagName.toLowerCase()==="form"}function d2(n){return Vu(n)&&n.tagName.toLowerCase()==="input"}function g2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function p2(n,t){return n.button===0&&(!t||t==="_self")&&!g2(n)}var Pc=null;function m2(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var _2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(n){return n!=null&&!_2.has(n)?(In(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tu}"`),null):n}function y2(n,t){let e,i,a,o,c;if(f2(n)){let h=n.getAttribute("action");i=h?fi(h,t):null,e=n.getAttribute("method")||Jc,a=Md(n.getAttribute("enctype"))||tu,o=new FormData(n)}else if(h2(n)||d2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?fi(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Jc,a=Md(n.getAttribute("formenctype"))||Md(h.getAttribute("enctype"))||tu,o=new FormData(h,n),!m2()){let{name:g,type:m,value:_}=n;if(m==="image"){let y=g?`${g}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else g&&o.append(g,_)}}else{if(Vu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Jc,i=null,a=tu,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function v2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&fi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function b2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function x2(n,t,e){let i=await Promise.all(n.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await b2(o,e);return c.links?c.links():[]}return[]}));return C2(i.flat(1).filter(S2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jv(n,t,e,i,a,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function E2(n,t,{includeHydrateFallback:e}={}){return T2(n.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function T2(n){return[...new Set(n)]}function w2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function C2(n,t){let e=new Set;return new Set(t),n.reduce((i,a)=>{let o=JSON.stringify(w2(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function I1(){let n=z.useContext(ra);return Ig(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function A2(){let n=z.useContext(Fu);return Ig(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lg=z.createContext(void 0);Lg.displayName="FrameworkContext";function L1(){let n=z.useContext(Lg);return Ig(n,"You must render this element inside a <HydratedRouter> element"),n}function R2(n,t){let e=z.useContext(Lg),[i,a]=z.useState(!1),[o,c]=z.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:_}=t,y=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=A=>{A.forEach(M=>{c(M.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[n]),z.useEffect(()=>{if(i){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{a(!0)},x=()=>{a(!1),c(!1)};return e?n!=="intent"?[o,y,{}]:[o,y,{onFocus:mo(h,b),onBlur:mo(f,x),onMouseEnter:mo(g,b),onMouseLeave:mo(m,x),onTouchStart:mo(_,b)}]:[!1,y,{}]}function mo(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function M2({page:n,...t}){let{router:e}=I1(),i=z.useMemo(()=>E1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?z.createElement(D2,{page:n,matches:i,...t}):null}function O2(n){let{manifest:t,routeModules:e}=L1(),[i,a]=z.useState([]);return z.useEffect(()=>{let o=!1;return x2(n,t,e).then(c=>{o||a(c)}),()=>{o=!0}},[n,t,e]),i}function D2({page:n,matches:t,...e}){let i=Ks(),{manifest:a,routeModules:o}=L1(),{basename:c}=I1(),{loaderData:h,matches:f}=A2(),g=z.useMemo(()=>Jv(n,t,f,a,i,"data"),[n,t,f,a,i]),m=z.useMemo(()=>Jv(n,t,f,a,i,"assets"),[n,t,f,a,i]),_=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,E=!1;if(t.forEach(A=>{let M=a.routes[A.route.id];!M||!M.hasLoader||(!g.some(U=>U.route.id===A.route.id)&&A.route.id in h&&o[A.route.id]?.shouldRevalidate||M.hasClientLoader?E=!0:x.add(A.route.id))}),x.size===0)return[];let T=v2(n,c,"data");return E&&x.size>0&&T.searchParams.set("_routes",t.filter(A=>x.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[c,h,i,a,g,t,n,o]),y=z.useMemo(()=>E2(m,a),[m,a]),b=O2(m);return z.createElement(z.Fragment,null,_.map(x=>z.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),y.map(x=>z.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:E})=>z.createElement("link",{key:x,nonce:e.nonce,...E})))}function N2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P1&&(window.__reactRouterVersion="7.8.2")}catch{}function k2({basename:n,children:t,window:e}){let i=z.useRef();i.current==null&&(i.current=bC({window:e,v5Compat:!0}));let a=i.current,[o,c]=z.useState({action:a.action,location:a.location}),h=z.useCallback(f=>{z.startTransition(()=>c(f))},[c]);return z.useLayoutEffect(()=>a.listen(h),[a,h]),z.createElement(c2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:a})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=z.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:m,viewTransition:_,...y},b){let{basename:x}=z.useContext(zn),E=typeof g=="string"&&z1.test(g),T,A=!1;if(typeof g=="string"&&E&&(T=g,P1))try{let Z=new URL(window.location.href),lt=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),at=fi(lt.pathname,x);lt.origin===Z.origin&&at!=null?g=at+lt.search+lt.hash:A=!0}catch{In(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=GC(g,{relative:a}),[U,q,B]=R2(i,y),K=z2(g,{replace:c,state:h,target:f,preventScrollReset:m,relative:a,viewTransition:_});function Q(Z){t&&t(Z),Z.defaultPrevented||K(Z)}let $=z.createElement("a",{...y,...B,href:T||M,onClick:A||o?t:Q,ref:N2(b,q),target:f,"data-discover":!E&&e==="render"?"true":void 0});return U&&!E?z.createElement(z.Fragment,null,$,z.createElement(M2,{page:M})):$});Fr.displayName="Link";var I2=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},m){let _=ol(c,{relative:g.relative}),y=Ks(),b=z.useContext(Fu),{navigator:x,basename:E}=z.useContext(zn),T=b!=null&&F2(_)&&h===!0,A=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,M=y.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(M=M.toLowerCase(),U=U?U.toLowerCase():null,A=A.toLowerCase()),U&&E&&(U=fi(U,E)||U);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let B=M===A||!a&&M.startsWith(A)&&M.charAt(q)==="/",K=U!=null&&(U===A||!a&&U.startsWith(A)&&U.charAt(A.length)==="/"),Q={isActive:B,isPending:K,isTransitioning:T},$=B?t:void 0,Z;typeof i=="function"?Z=i(Q):Z=[i,B?"active":null,K?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let lt=typeof o=="function"?o(Q):o;return z.createElement(Fr,{...g,"aria-current":$,className:Z,ref:m,style:lt,to:c,viewTransition:h},typeof f=="function"?f(Q):f)});I2.displayName="NavLink";var L2=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:c=Jc,action:h,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:_,...y},b)=>{let x=B2(),E=j2(h,{relative:g}),T=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&z1.test(h),M=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,B=q?.getAttribute("formmethod")||c;x(q||U.currentTarget,{fetcherKey:t,method:B,navigate:e,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:_})};return z.createElement("form",{ref:b,method:T,action:E,onSubmit:i?f:M,...y,"data-discover":!A&&n==="render"?"true":void 0})});L2.displayName="Form";function P2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(n){let t=z.useContext(ra);return Xt(t,P2(n)),t}function z2(n,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=XC(),f=Ks(),g=ol(n,{relative:o});return z.useCallback(m=>{if(p2(m,t)){m.preventDefault();let _=e!==void 0?e:Bo(f)===Bo(g);h(n,{replace:_,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,g,e,i,t,n,a,o,c])}var U2=0,H2=()=>`__${String(++U2)}__`;function B2(){let{router:n}=U1("useSubmit"),{basename:t}=z.useContext(zn),e=r2();return z.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=y2(i,t);if(a.navigate===!1){let m=a.fetcherKey||H2();await n.fetch(m,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,t,e])}function j2(n,{relative:t}={}){let{basename:e}=z.useContext(zn),i=z.useContext(mi);Xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...ol(n||".",{relative:t})},c=Ks();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let m=h.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ui([e,o.pathname])),Bo(o)}function F2(n,{relative:t}={}){let e=z.useContext(M1);Xt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=U1("useViewTransitionState"),a=ol(n,{relative:t});if(!e.isTransitioning)return!1;let o=fi(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=fi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return cu(a.pathname,c)!=null||cu(a.pathname,o)!=null}const V2=()=>{};var t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(n,t){if(!n)throw aa(t)},aa=function(n){return new Error("Firebase Database ("+H1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},q2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},Pg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,m=o>>2,_=(o&3)<<4|h>>4;let y=(h&15)<<2|g>>6,b=g&63;f||(b=64,c||(y=64)),i.push(e[m],e[_],e[y],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(B1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):q2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new Y2;const y=o<<2|h>>4;if(i.push(y),g!==64){const b=h<<4&240|g>>2;if(i.push(b),_!==64){const x=g<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Y2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(n){const t=B1(n);return Pg.encodeByteArray(t,!0)},uu=function(n){return j1(n).replace(/\./g,"")},hu=function(n){try{return Pg.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){return F1(void 0,n)}function F1(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!G2(e)||(n[e]=F1(n[e],t[e]));return n}function G2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=()=>X2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof t0>"u")return;const n=t0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&hu(n[1]);return t&&JSON.parse(t)},zg=()=>{try{return V2()||K2()||Q2()||$2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},V1=n=>zg()?.emulatorHosts?.[n],Z2=n=>{const t=V1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},q1=()=>zg()?.config,Y1=n=>zg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[uu(JSON.stringify(e)),uu(JSON.stringify(c)),""].join(".")}const Oo={};function tA(){const n={prod:[],emulator:[]};for(const t of Object.keys(Oo))Oo[t]?n.emulator.push(t):n.prod.push(t);return n}function eA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let e0=!1;function G1(n,t){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Oo[n]===t||Oo[n]||e0)return;Oo[n]=t;function e(y){return`__firebase__banner__${y}`}const i="__firebase__banner",o=tA().prod.length>0;function c(){const y=document.getElementById(i);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function g(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{e0=!0,c()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=eA(i),b=e("text"),x=document.getElementById(b)||document.createElement("span"),E=e("learnmore"),T=document.getElementById(E)||document.createElement("a"),A=e("preprendIcon"),M=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const U=y.element;h(U),m(T,E);const q=g();f(M,A),U.append(M,x,T,q),document.body.appendChild(U)}o?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const n=Oe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rA(){return H1.NODE_ADMIN===!0}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class hs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=lA,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?cA(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new hs(a,h,i)}}function cA(n,t){return n.replace(uA,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const uA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(n){return JSON.parse(n)}function le(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=function(n){let t={},e={},i={},a="";try{const o=n.split(".");t=jo(hu(o[0])||""),e=jo(hu(o[1])||""),a=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:a}},hA=function(n){const t=K1(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},fA=function(n){const t=K1(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Qr(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function sg(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function fu(n,t,e){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=t.call(e,n[a],a,n));return i}function js(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(n0(o)&&n0(c)){if(!js(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function n0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)i[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)i[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const y=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(y<<1|y>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^o&(c^h),m=1518500249):(g=o^c^h,m=1859775393):_<60?(g=o&c|h&(o|c),m=2400959708):(g=o^c^h,m=3395469782);const y=(a<<5|a>>>27)+g+f+m+i[_]&4294967295;f=h,h=c,c=(o<<30|o>>>2)&4294967295,o=a,a=y}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const i=e-this.blockSize;let a=0;const o=this.buf_;let c=this.inbuf_;for(;a<e;){if(c===0)for(;a<=i;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(o[c]=t.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}else for(;a<e;)if(o[c]=t[a],++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[a]>>o&255,++i;return t}}function gA(n,t){const e=new pA(n,t);return e.subscribe.bind(e)}class pA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");mA(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Od),a.error===void 0&&(a.error=Od),a.complete===void 0&&(a.complete=Od);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Od(){}function Hg(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const o=a-55296;i++,W(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;a=65536+(o<<10)+c}a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):a<65536?(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Yu=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n){return n&&n._delegate?n._delegate:n}class Fs{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new qu;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bA(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vA(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(n){return n===ks?void 0:n}function bA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new yA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const xA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},EA=Lt.INFO,TA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},wA=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=TA[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bg{constructor(t){this.name=t,this._logLevel=EA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const CA=(n,t)=>t.some(e=>n instanceof e);let i0,s0;function AA(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q1=new WeakMap,rg=new WeakMap,$1=new WeakMap,Dd=new WeakMap,jg=new WeakMap;function MA(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Zi(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Q1.set(e,n)}).catch(()=>{}),jg.set(t,n),t}function OA(n){if(rg.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});rg.set(n,t)}let ag={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return rg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||$1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Zi(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function DA(n){ag=n(ag)}function NA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Nd(this),t,...e);return $1.set(i,t.sort?t.sort():[t]),Zi(i)}:RA().includes(n)?function(...t){return n.apply(Nd(this),t),Zi(Q1.get(this))}:function(...t){return Zi(n.apply(Nd(this),t))}}function kA(n){return typeof n=="function"?NA(n):(n instanceof IDBTransaction&&OA(n),CA(n,AA())?new Proxy(n,ag):n)}function Zi(n){if(n instanceof IDBRequest)return MA(n);if(Dd.has(n))return Dd.get(n);const t=kA(n);return t!==n&&(Dd.set(n,t),jg.set(t,n)),t}const Nd=n=>jg.get(n);function IA(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Zi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Zi(c.result),f.oldVersion,f.newVersion,Zi(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const LA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],kd=new Map;function r0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=PA.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||LA.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return kd.set(t,o),o}DA(n=>({...n,get:(t,e,i)=>r0(t,e)||n.get(t,e,i),has:(t,e)=>!!r0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(UA(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function UA(n){return n.getComponent()?.type==="VERSION"}const og="@firebase/app",a0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Bg("@firebase/app"),HA="@firebase/app-compat",BA="@firebase/analytics-compat",jA="@firebase/analytics",FA="@firebase/app-check-compat",VA="@firebase/app-check",qA="@firebase/auth",YA="@firebase/auth-compat",WA="@firebase/database",GA="@firebase/data-connect",XA="@firebase/database-compat",KA="@firebase/functions",QA="@firebase/functions-compat",$A="@firebase/installations",ZA="@firebase/installations-compat",JA="@firebase/messaging",tR="@firebase/messaging-compat",eR="@firebase/performance",nR="@firebase/performance-compat",iR="@firebase/remote-config",sR="@firebase/remote-config-compat",rR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",cR="@firebase/firestore-compat",uR="firebase",hR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",fR={[og]:"fire-core",[HA]:"fire-core-compat",[jA]:"fire-analytics",[BA]:"fire-analytics-compat",[VA]:"fire-app-check",[FA]:"fire-app-check-compat",[qA]:"fire-auth",[YA]:"fire-auth-compat",[WA]:"fire-rtdb",[GA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[KA]:"fire-fn",[QA]:"fire-fn-compat",[$A]:"fire-iid",[ZA]:"fire-iid-compat",[JA]:"fire-fcm",[tR]:"fire-fcm-compat",[eR]:"fire-perf",[nR]:"fire-perf-compat",[iR]:"fire-rc",[sR]:"fire-rc-compat",[rR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[cR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,dR=new Map,cg=new Map;function o0(n,t){try{n.container.addComponent(t)}catch(e){di.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function $r(n){const t=n.name;if(cg.has(t))return di.debug(`There were multiple attempts to register component ${t}.`),!1;cg.set(t,n);for(const e of du.values())o0(e,n);for(const e of dR.values())o0(e,n);return!0}function Fg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new ll("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=hR;function Z1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:lg,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(e||(e=q1()),!e)throw Ji.create("no-options");const o=du.get(a);if(o){if(js(e,o.options)&&js(i,o.config))return o;throw Ji.create("duplicate-app",{appName:a})}const c=new SA(a);for(const f of cg.values())c.addComponent(f);const h=new pR(e,i,c);return du.set(a,h),h}function J1(n=lg){const t=du.get(n);if(!t&&n===lg&&q1())return Z1();if(!t)throw Ji.create("no-app",{appName:n});return t}function ts(n,t,e){let i=fR[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),di.warn(c.join(" "));return}$r(new Fs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",_R=1,Fo="firebase-heartbeat-store";let Id=null;function tS(){return Id||(Id=IA(mR,_R,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Fo)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),Id}async function yR(n){try{const e=(await tS()).transaction(Fo),i=await e.objectStore(Fo).get(eS(n));return await e.done,i}catch(t){if(t instanceof hs)di.warn(t.message);else{const e=Ji.create("idb-get",{originalErrorMessage:t?.message});di.warn(e.message)}}}async function l0(n,t){try{const i=(await tS()).transaction(Fo,"readwrite");await i.objectStore(Fo).put(t,eS(n)),await i.done}catch(e){if(e instanceof hs)di.warn(e.message);else{const i=Ji.create("idb-set",{originalErrorMessage:e?.message});di.warn(i.message)}}}function eS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1024,bR=30;class SR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ER(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>bR){const a=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){di.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:e,unsentEntries:i}=xR(this._heartbeatsCache.heartbeats),a=uu(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return di.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function xR(n,t=vR){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),u0(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),u0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class ER{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await yR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function u0(n){return uu(JSON.stringify({version:2,heartbeats:n})).length}function TR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){$r(new Fs("platform-logger",t=>new zA(t),"PRIVATE")),$r(new Fs("heartbeat",t=>new SR(t),"PRIVATE")),ts(og,a0,n),ts(og,a0,"esm2020"),ts("fire-js","")}wR("");var CR="firebase",AR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(CR,AR,"app");function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=nS,iS=new ll("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Bg("@firebase/auth");function MR(n,...t){gu.logLevel<=Lt.WARN&&gu.warn(`Auth (${ca}): ${n}`,...t)}function eu(n,...t){gu.logLevel<=Lt.ERROR&&gu.error(`Auth (${ca}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,...t){throw qg(n,...t)}function bn(n,...t){return qg(n,...t)}function Vg(n,t,e){const i={...RR(),[t]:e};return new ll("auth","Firebase",i).create(t,{appName:n.name})}function es(n){return Vg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OR(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ln(n,"argument-error"),Vg(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return iS.create(n,...t)}function ht(n,t,...e){if(!n)throw qg(t,...e)}function ri(n){const t="INTERNAL ASSERTION FAILED: "+n;throw eu(t),new Error(t)}function gi(n,t){n||ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof self<"u"&&self.location?.href||""}function DR(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||iA()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,e){this.shortDelay=t,this.longDelay=e,gi(e>t,"Short delay should be less than long delay!"),this.isMobile=Ug()||X1()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n,t){gi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PR=new cl(3e4,6e4);function Wu(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ua(n,t,e,i,a={}){return rS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=la({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return nA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&oa(n.emulatorConfig.host)&&(g.credentials="include"),sS.fetch()(await oS(n,n.config.apiHost,e,h),g)})}async function rS(n,t,e){n._canInitEmulator=!1;const i={...IR,...t};try{const a=new zR(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw zc(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw zc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw zc(n,"user-disabled",c);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Vg(n,m,g);Ln(n,m)}}catch(a){if(a instanceof hs)throw a;Ln(n,"network-request-failed",{message:String(a)})}}async function aS(n,t,e,i,a={}){const o=await ua(n,t,e,i,a);return"mfaPendingCredential"in o&&Ln(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function oS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Yg(n.config,a):`${n.config.apiScheme}://${a}`;return LR.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class zR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(bn(this.auth,"network-request-failed")),PR.get())})}}function zc(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=bn(n,t,i);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,t){return ua(n,"POST","/v1/accounts:delete",t)}async function pu(n,t){return ua(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HR(n,t=!1){const e=$e(n),i=await e.getIdToken(t),a=Wg(i);ht(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Do(Ld(a.auth_time)),issuedAtTime:Do(Ld(a.iat)),expirationTime:Do(Ld(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ld(n){return Number(n)*1e3}function Wg(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return eu("JWT malformed, contained fewer than 3 sections"),null;try{const a=hu(e);return a?JSON.parse(a):(eu("Failed to decode base64 JWT payload"),null)}catch(a){return eu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function f0(n){const t=Wg(n);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof hs&&BR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n){const t=n.auth,e=await n.getIdToken(),i=await Vo(n,pu(t,{idToken:e}));ht(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?lS(a.providerUserInfo):[],c=VR(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,g=h?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,m)}async function FR(n){const t=$e(n);await qo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VR(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function lS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,t){const e=await rS(n,{},async()=>{const i=la({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await oS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&oa(n.emulatorConfig.host)&&(f.credentials="include"),sS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function YR(n,t){return ua(n,"POST","/v2/accounts:revokeToken",Wu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):f0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const e=f0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await qR(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Vr;return i&&(ht(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(ht(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(ht(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vr,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,t){ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yn{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new jR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Vo(this,this.stsTokenManager.getToken(this.auth,t));return ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return HR(this,t)}reload(){return FR(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await qo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await Vo(this,UR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:_,emailVerified:y,isAnonymous:b,providerData:x,stsTokenManager:E}=e;ht(_&&E,t,"internal-error");const T=Vr.fromJSON(this.name,E);ht(typeof _=="string",t,"internal-error"),Vi(i,t.name),Vi(a,t.name),ht(typeof y=="boolean",t,"internal-error"),ht(typeof b=="boolean",t,"internal-error"),Vi(o,t.name),Vi(c,t.name),Vi(h,t.name),Vi(f,t.name),Vi(g,t.name),Vi(m,t.name);const A=new yn({uid:_,auth:t,email:a,emailVerified:y,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:T,createdAt:g,lastLoginAt:m});return x&&Array.isArray(x)&&(A.providerData=x.map(M=>({...M}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(t,e,i=!1){const a=new Vr;a.updateFromServerResponse(e);const o=new yn({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await qo(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];ht(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?lS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Vr;h.updateFromIdToken(i);const f=new yn({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function ai(n){gi(n instanceof Function,"Expected a class definition");let t=d0.get(n);return t?(gi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,d0.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}cS.type="NONE";const g0=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n,t,e){return`firebase:${n}:${t}:${e}`}class qr{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=nu(this.userKey,a.apiKey,o),this.fullPersistenceKey=nu("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await pu(this.auth,{idToken:t}).catch(()=>{});return e?yn._fromGetAccountInfoResponse(this.auth,e,t):null}return yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new qr(ai(g0),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||ai(g0);const c=nu(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const m=await g._get(c);if(m){let _;if(typeof m=="string"){const y=await pu(t,{idToken:m}).catch(()=>{});if(!y)break;_=await yn._fromGetAccountInfoResponse(t,y,m)}else _=yn._fromJSON(t,m);g!==o&&(h=_),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qr(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new qr(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pS(t))return"Blackberry";if(mS(t))return"Webos";if(hS(t))return"Safari";if((t.includes("chrome/")||fS(t))&&!t.includes("edge/"))return"Chrome";if(gS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function uS(n=Oe()){return/firefox\//i.test(n)}function hS(n=Oe()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fS(n=Oe()){return/crios\//i.test(n)}function dS(n=Oe()){return/iemobile/i.test(n)}function gS(n=Oe()){return/android/i.test(n)}function pS(n=Oe()){return/blackberry/i.test(n)}function mS(n=Oe()){return/webos/i.test(n)}function Gg(n=Oe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WR(n=Oe()){return Gg(n)&&!!window.navigator?.standalone}function GR(){return sA()&&document.documentMode===10}function _S(n=Oe()){return Gg(n)||gS(n)||mS(n)||pS(n)||/windows phone/i.test(n)||dS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n,t=[]){let e;switch(n){case"Browser":e=p0(Oe());break;case"Worker":e=`${p0(Oe())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,t={}){return ua(n,"GET","/v2/passwordPolicy",Wu(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class $R{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??QR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new XR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ai(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await pu(this,{idToken:t}),i=await yn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await qo(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(es(this));const e=t?$e(t):null;return e&&ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await KR(this),e=new $R(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ll("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await YR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ai(t)||this._popupRedirectResolver;ht(e,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[ai(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ul(n){return $e(n)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=gA(e=>this.observer=e)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JR(n){Xg=n}function tM(n){return Xg.loadJS(n)}function eM(){return Xg.gapiScript}function nM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n,t){const e=Fg(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(js(o,t??{}))return a;Ln(a,"already-initialized")}return e.initialize({options:t})}function sM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ai);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function rM(n,t,e){const i=ul(n);ht(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=vS(t),{host:c,port:h}=aM(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},m=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ht(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ht(js(g,i.config.emulator)&&js(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,oa(c)?(W1(`${o}//${c}${f}`),G1("Auth",!0)):oM()}function vS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function aM(n){const t=vS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:_0(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:_0(c)}}}function _0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ri("not implemented")}_getIdTokenResponse(t){return ri("not implemented")}_linkToIdToken(t,e){return ri("not implemented")}_getReauthenticationResolver(t){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(n,t){return aS(n,"POST","/v1/accounts:signInWithIdp",Wu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="http://localhost";class Vs extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ln("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Vs(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Yr(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Yr(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Yr(t,e)}buildRequest(){const t={requestUri:lM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=la(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Kg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends hl{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Vs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return si.credentialFromTaggedObject(t)}static credentialFromError(t){return si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return si.credential(e,i)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends hl{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yi.credential(t.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends hl{constructor(){super("twitter.com")}static credential(t,e){return Vs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Wi.credential(e,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n,t){return aS(n,"POST","/v1/accounts:signUp",Wu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await yn._fromIdTokenResponse(t,i,a),c=y0(i);return new as({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=y0(i);return new as({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function y0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n){if(cn(n.app))return Promise.reject(es(n));const t=ul(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new as({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await cM(t,{returnSecureToken:!0}),i=await as._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends hs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new mu(t,e,i,a)}}function SS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(n,o,t,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(n){return new Set(n.map(({providerId:t})=>t).filter(t=>!!t))}async function xS(n,t,e=!1){const i=await Vo(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return as._forOperation(n,"link",i)}async function fM(n,t,e){await qo(t);const i=hM(t.providerData);ht(i.has(e)===n,t.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n,t,e=!1){const{auth:i}=n;if(cn(i.app))return Promise.reject(es(i));const a="reauthenticate";try{const o=await Vo(n,SS(i,a,t,n),e);ht(o.idToken,i,"internal-error");const c=Wg(o.idToken);ht(c,i,"internal-error");const{sub:h}=c;return ht(n.uid===h,i,"user-mismatch"),as._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ln(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,t,e=!1){if(cn(n.app))return Promise.reject(es(n));const i="signIn",a=await SS(n,i,t),o=await as._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function pM(n,t){const e=$e(n);return await fM(!1,e,t.providerId),xS(e,t)}function mM(n,t,e,i){return $e(n).onIdTokenChanged(t,e,i)}function _M(n,t,e){return $e(n).beforeAuthStateChanged(t,e)}function yM(n,t,e,i){return $e(n).onAuthStateChanged(t,e,i)}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1e3,bM=10;class TS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);GR()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,bM):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},vM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}TS.type="LOCAL";const SM=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}wS.type="SESSION";const CS=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Gu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await xM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=Qg("",20);a.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const y=_;if(y.data.eventId===g)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(y.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function TM(n){kn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function wM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CM(){return navigator?.serviceWorker?.controller||null}function AM(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",RM=1,yu="firebaseLocalStorage",MS="fbase_key";class fl{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xu(n,t){return n.transaction([yu],t?"readwrite":"readonly").objectStore(yu)}function MM(){const n=indexedDB.deleteDatabase(RS);return new fl(n).toPromise()}function fg(){const n=indexedDB.open(RS,RM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yu,{keyPath:MS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yu)?t(i):(i.close(),await MM(),t(await fg()))})})}async function v0(n,t,e){const i=Xu(n,!0).put({[MS]:t,value:e});return new fl(i).toPromise()}async function OM(n,t){const e=Xu(n,!1).get(t),i=await new fl(e).toPromise();return i===void 0?null:i.value}function b0(n,t){const e=Xu(n,!0).delete(t);return new fl(e).toPromise()}const DM=800,NM=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>NM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gu._getInstance(AM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new EM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fg();return await v0(t,_u,"1"),await b0(t,_u),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>OM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>b0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Xu(a,!1).getAll();return new fl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const kM=OS;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,t){return t?ai(t):(ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends bS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yr(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Yr(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Yr(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function IM(n){return gM(n.auth,new $g(n),n.bypassAuthState)}function LM(n){const{auth:t,user:e}=n;return ht(e,t,"internal-error"),dM(e,new $g(n),n.bypassAuthState)}async function PM(n){const{auth:t,user:e}=n;return ht(e,t,"internal-error"),xS(e,new $g(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IM;case"linkViaPopup":case"linkViaRedirect":return PM;case"reauthViaPopup":case"reauthViaRedirect":return LM;default:Ln(this.auth,"internal-error")}}resolve(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new cl(2e3,1e4);async function kS(n,t,e){if(cn(n.app))return Promise.reject(bn(n,"operation-not-supported-in-this-environment"));const i=ul(n);OR(n,t,Kg);const a=DS(i,e);return new Ps(i,"signInViaPopup",t,a).executeNotNull()}class Ps extends NS{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const t=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zM.get())};t()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="pendingRedirect",iu=new Map;class HM extends NS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=iu.get(this.auth._key());if(!t){try{const i=await BM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}iu.set(this.auth._key(),t)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BM(n,t){const e=VM(t),i=FM(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function jM(n,t){iu.set(n._key(),t)}function FM(n){return ai(n._redirectPersistence)}function VM(n){return nu(UM,n.config.apiKey,n.name)}async function qM(n,t,e=!1){if(cn(n.app))return Promise.reject(es(n));const i=ul(n),a=DS(i,t),c=await new HM(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=600*1e3;class WM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!IS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(bn(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YM&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(t))}saveEventToCache(t){this.cachedEventUids.add(S0(t)),this.lastProcessedEventTime=Date.now()}}function S0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function IS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function GM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n,t={}){return ua(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QM=/^https?/;async function $M(n){if(n.config.emulator)return;const{authorizedDomains:t}=await XM(n);for(const e of t)try{if(ZM(e))return}catch{}Ln(n,"unauthorized-domain")}function ZM(n){const t=ug(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!QM.test(e))return!1;if(KM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new cl(3e4,6e4);function x0(){const n=kn().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function tO(n){return new Promise((t,e)=>{function i(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),e(bn(n,"network-request-failed"))},timeout:JM.get()})}if(kn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(kn().gapi?.load)i();else{const a=nM("iframefcb");return kn()[a]=()=>{gapi.load?i():e(bn(n,"network-request-failed"))},tM(`${eM()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw su=null,t})}let su=null;function eO(n){return su=su||tO(n),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new cl(5e3,15e3),iO="__/auth/iframe",sO="emulator/auth/iframe",rO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oO(n){const t=n.config;ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Yg(t,sO):`https://${n.config.authDomain}/${iO}`,i={apiKey:t.apiKey,appName:n.name,v:ca},a=aO.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${la(i).slice(1)}`}async function lO(n){const t=await eO(n),e=kn().gapi;return ht(e,n,"internal-error"),t.open({where:document.body,url:oO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rO,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=bn(n,"network-request-failed"),h=kn().setTimeout(()=>{o(c)},nO.get());function f(){kn().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uO=500,hO=600,fO="_blank",dO="http://localhost";class E0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gO(n,t,e,i=uO,a=hO){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...cO,width:i.toString(),height:a.toString(),top:o,left:c},g=Oe().toLowerCase();e&&(h=fS(g)?fO:e),uS(g)&&(t=t||dO,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[b,x])=>`${y}${b}=${x},`,"");if(WR(g)&&h!=="_self")return pO(t||"",h),new E0(null);const _=window.open(t||"",h,m);ht(_,n,"popup-blocked");try{_.focus()}catch{}return new E0(_)}function pO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="__/auth/handler",_O="emulator/auth/handler",yO=encodeURIComponent("fac");async function T0(n,t,e,i,a,o){ht(n.config.authDomain,n,"auth-domain-config-required"),ht(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ca,eventId:a};if(t instanceof Kg){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",sg(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))c[m]=_}if(t instanceof hl){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const m of Object.keys(h))h[m]===void 0&&delete h[m];const f=await n._getAppCheckToken(),g=f?`#${yO}=${encodeURIComponent(f)}`:"";return`${vO(n)}?${la(h).slice(1)}${g}`}function vO({config:n}){return n.emulator?Yg(n,_O):`https://${n.authDomain}/${mO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class bO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=qM,this._overrideRedirectResult=jM}async _openPopup(t,e,i,a){gi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await T0(t,e,i,ug(),a);return gO(t,o,Qg())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await T0(t,e,i,ug(),a);return TM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(gi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await lO(t),i=new WM(t);return e.register("authEvent",a=>(ht(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Pd,{type:Pd},a=>{const o=a?.[0]?.[Pd];o!==void 0&&e(!!o),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=$M(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return _S()||hS()||Gg()}}const SO=bO;var w0="@firebase/auth",C0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TO(n){$r(new Fs("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ht(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(n)},g=new ZR(i,a,o,f);return sM(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),$r(new Fs("auth-internal",t=>{const e=ul(t.getProvider("auth").getImmediate());return(i=>new xO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(w0,C0,EO(n)),ts(w0,C0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=300,CO=Y1("authIdTokenMaxAge")||wO;let A0=null;const AO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>CO)return;const a=e?.token;A0!==a&&(A0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function RO(n=J1()){const t=Fg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=iM(n,{popupRedirectResolver:SO,persistence:[kM,SM,CS]}),i=Y1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=AO(o.toString());_M(e,c,()=>c(e.currentUser)),mM(e,h=>c(h))}}const a=V1("auth");return a&&rM(e,`http://${a}`),e}function MO(){return document.getElementsByTagName("head")?.[0]??document}JR({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=bn("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",MO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TO("Browser");var R0={};const M0="@firebase/database",O0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LS="";function OO(n){LS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),le(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:jo(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Un(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DO(t)}}catch{}return new NO},zs=PS("localStorage"),kO=PS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Bg("@firebase/database"),IO=(function(){let n=1;return function(){return n++}})(),zS=function(n){const t=_A(n),e=new dA;e.update(t);const i=e.digest();return Pg.encodeByteArray(i)},dl=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=dl.apply(null,i):typeof i=="object"?t+=le(i):t+=i,t+=" "}return t};let No=null,D0=!0;const LO=function(n,t){W(!0,"Can't turn on custom loggers persistently."),Wr.logLevel=Lt.VERBOSE,No=Wr.log.bind(Wr)},Se=function(...n){if(D0===!0&&(D0=!1,No===null&&kO.get("logging_enabled")===!0&&LO()),No){const t=dl.apply(null,n);No(t)}},gl=function(n){return function(...t){Se(n,...t)}},dg=function(...n){const t="FIREBASE INTERNAL ERROR: "+dl(...n);Wr.error(t)},pi=function(...n){const t=`FIREBASE FATAL ERROR: ${dl(...n)}`;throw Wr.error(t),new Error(t)},Be=function(...n){const t="FIREBASE WARNING: "+dl(...n);Wr.warn(t)},PO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zg=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zO=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Zr="[MIN_NAME]",qs="[MAX_NAME]",Qs=function(n,t){if(n===t)return 0;if(n===Zr||t===qs)return-1;if(t===Zr||n===qs)return 1;{const e=N0(n),i=N0(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},UO=function(n,t){return n===t?0:n<t?-1:1},_o=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+le(t))},Jg=function(n){if(typeof n!="object"||n===null)return le(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=le(t[i]),e+=":",e+=Jg(n[t[i]]);return e+="}",e},US=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)a+t>e?i.push(n.substring(a,e)):i.push(n.substring(a,a+t));return i};function xe(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const HS=function(n){W(!Zg(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let a,o,c,h,f;n===0?(o=0,c=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(o=0,c=Math.round(n/Math.pow(2,1-i-e))));const g=[];for(f=e;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(f=t;f;f-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(a?1:0),g.reverse();const m=g.join("");let _="";for(f=0;f<64;f+=8){let y=parseInt(m.substr(f,8),2).toString(16);y.length===1&&(y="0"+y),_=_+y}return _.toLowerCase()},HO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jO(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const FO=new RegExp("^-?(0*)\\d{1,10}$"),VO=-2147483648,qO=2147483647,N0=function(n){if(FO.test(n)){const t=Number(n);if(t>=VO&&t<=qO)return t}return null},ha=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Be("Exception was thrown by user callback.",e),t},Math.floor(0))}},YO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ko=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,cn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(t)}}class ru{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ru.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="5",BS="v",jS="s",FS="r",VS="f",qS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,YS="ls",WS="p",gg="ac",GS="websocket",XS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,e,i,a,o=!1,c="",h=!1,f=!1,g=null){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function XO(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function QS(n,t,e){W(typeof t=="string","typeof type must == string"),W(typeof e=="object","typeof params must == object");let i;if(t===GS)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===XS)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);XO(n)&&(e.ns=n.namespace);const a=[];return xe(e,(o,c)=>{a.push(o+"="+c)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.counters_={}}incrementCounter(t,e=1){Un(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return W2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={},Ud={};function ep(n){const t=n.toString();return zd[t]||(zd[t]=new KO),zd[t]}function QO(n,t){const e=n.toString();return Ud[e]||(Ud[e]=t()),Ud[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&ha(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="start",ZO="close",JO="pLPCommand",tD="pRTLPCB",$S="id",ZS="pw",JS="ser",eD="cb",nD="seg",iD="ts",sD="d",rD="dframe",tx=1870,ex=30,aD=tx-ex,oD=25e3,lD=3e4;class jr{constructor(t,e,i,a,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(t),this.stats_=ep(e),this.urlFn=f=>(this.appCheckToken&&(f[gg]=this.appCheckToken),QS(e,XS,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new $O(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lD)),zO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new np((...o)=>{const[c,h,f,g,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===k0)this.id=h,this.password=f;else if(c===ZO)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[k0]="t",i[JS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[eD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[BS]=tp,this.transportSessionId&&(i[jS]=this.transportSessionId),this.lastSessionId&&(i[YS]=this.lastSessionId),this.applicationId&&(i[WS]=this.applicationId),this.appCheckToken&&(i[gg]=this.appCheckToken),typeof location<"u"&&location.hostname&&qS.test(location.hostname)&&(i[FS]=VS);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jr.forceAllow_=!0}static forceDisallow(){jr.forceDisallow_=!0}static isAvailable(){return jr.forceAllow_?!0:!jr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HO()&&!BO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=le(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=j1(e),a=US(i,aD);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[rD]="t",i[$S]=t,i[ZS]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=le(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class np{constructor(t,e,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IO(),window[JO+this.uniqueCallbackIdentifier]=t,window[tD+this.uniqueCallbackIdentifier]=e,this.myIFrame=np.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Se("frame writing exception"),h.stack&&Se(h.stack),Se(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Se("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$S]=this.myID,t[ZS]=this.myPW,t[JS]=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ex+i.length<=tx;){const c=this.pendingSegs.shift();i=i+"&"+nD+a+"="+c.seg+"&"+iD+a+"="+c.ts+"&"+sD+a+"="+c.d,a++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(oD)),o=()=>{clearTimeout(a),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Se("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=16384,uD=45e3;let vu=null;typeof MozWebSocket<"u"?vu=MozWebSocket:typeof WebSocket<"u"&&(vu=WebSocket);class _n{constructor(t,e,i,a,o,c,h){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=ep(e),this.connURL=_n.connectionURL_(e,c,h,a,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,a,o){const c={};return c[BS]=tp,typeof location<"u"&&location.hostname&&qS.test(location.hostname)&&(c[FS]=VS),e&&(c[jS]=e),i&&(c[YS]=i),a&&(c[gg]=a),o&&(c[WS]=o),QS(t,GS,c)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zs.set("previous_websocket_failure",!0);try{let i;rA(),this.mySock=new vu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&vu!==null&&!_n.forceDisallow_}static previouslyFailed(){return zs.isInMemoryStorage||zs.get("previous_websocket_failure")===!0}markConnectionHealthy(){zs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=jo(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(W(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=le(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=US(e,cD);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uD))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static get ALL_TRANSPORTS(){return[jr,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=_n&&_n.isAvailable();let i=e&&!_n.previouslyFailed();if(t.webSocketOnly&&(e||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_n];else{const a=this.transports_=[];for(const o of Yo.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);Yo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6e4,fD=5e3,dD=10*1024,gD=100*1024,Hd="t",I0="d",pD="s",L0="r",mD="e",P0="o",z0="a",U0="n",H0="p",_D="h";class yD{constructor(t,e,i,a,o,c,h,f,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new Yo(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=ko(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Hd in t){const e=t[Hd];e===z0?this.upgradeIfSecondaryHealthy_():e===L0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===P0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=_o("t",t),i=_o("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:H0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:z0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:U0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=_o("t",t),i=_o("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=_o(Hd,t);if(I0 in t){const i=t[I0];if(e===_D){const a={...i};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(e===U0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===pD?this.onConnectionShutdown_(i):e===L0?this.onReset_(i):e===mD?dg("Server Error: "+i):e===P0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),tp!==i&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),ko(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hD))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ko(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:H0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.allowedEvents_=t,this.listeners_={},W(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let o=0;o<a.length;o++)if(a[o].callback===e&&(!i||i===a[o].context)){a.splice(o,1);return}}validateEventType_(t){W(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ix{static getInstance(){return new bu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return W(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=32,j0=768;class Pt{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function At(){return new Pt("")}function xt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function os(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Pt(n.pieces_,t)}function ip(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function vD(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Wo(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function sx(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Pt(t,0)}function $t(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Pt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Pt(e,0)}function St(n){return n.pieceNum_>=n.pieces_.length}function Me(n,t){const e=xt(n),i=xt(t);if(e===null)return t;if(e===i)return Me(Ft(n),Ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function bD(n,t){const e=Wo(n,0),i=Wo(t,0);for(let a=0;a<e.length&&a<i.length;a++){const o=Qs(e[a],i[a]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function rx(n,t){if(os(n)!==os(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function un(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(os(n)>os(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class SD{constructor(t,e){this.errorPrefix_=e,this.parts_=Wo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Yu(this.parts_[i]);ax(this)}}function xD(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Yu(t),ax(n)}function ED(n){const t=n.parts_.pop();n.byteLength_-=Yu(t),n.parts_.length>0&&(n.byteLength_-=1)}function ax(n){if(n.byteLength_>j0)throw new Error(n.errorPrefix_+"has a key path longer than "+j0+" bytes ("+n.byteLength_+").");if(n.parts_.length>B0)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B0+") or object contains a cycle "+Is(n))}function Is(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends ix{static getInstance(){return new sp}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return W(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=1e3,TD=300*1e3,F0=30*1e3,wD=1.3,CD=3e4,AD="server_kill",V0=3;class hi extends nx{constructor(t,e,i,a,o,c,h,f){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=hi.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yo,this.maxReconnectDelay_=TD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&bu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const a=++this.requestNumber_,o={r:a,a:t,b:e};this.log_(le(o)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const e=new qu,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,a){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:e,query:t,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),a=e._queryIdentifier;this.log_("Listen on "+i+" for "+a);const o={p:i},c="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const f=h.d,g=h.s;hi.warnOnListenWarnings_(f,e),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(i,a),t.onComplete&&t.onComplete(g,f))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Un(t,"w")){const i=Qr(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||fA(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=hA(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,a=>{const o=a.s,c=a.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,e)}sendUnlisten_(t,e,i,a){this.log_("Unlisten on "+t+" for "+e);const o={p:t},c="n";a&&(o.q=i,o.t=a),this.sendRequest(c,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,a){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(t,e,i,a){this.putInternal("p",t,e,i,a)}merge(t,e,i,a){this.putInternal("m",t,e,i,a)}putInternal(t,e,i,a,o){this.initConnection_();const c={p:e,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+le(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):dg("Unrecognized action received from server: "+le(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CD&&(this.reconnectDelay_=yo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+hi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,i())},g=function(_){W(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:f,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);c?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,h=new yD(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,b=>{Be(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(AD)},o))}catch(_){this.log_("Failed to get token: "+_),c||(this.repoInfo_.nodeAdmin&&Be(_),f())}}}interrupt(t){Se("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Se("Resuming connection for reason: "+t),delete this.interruptReasons_[t],sg(this.interruptReasons_)&&(this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>Jg(o)).join("$"):i="default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,e){const i=new Pt(t).toString();let a;if(this.listens.has(i)){const o=this.listens.get(i);a=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,e){Se("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=V0&&(this.reconnectDelay_=F0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Se("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=V0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+LS.replace(/\./g,"-")]=1,Ug()?t["framework.cordova"]=1:X1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=bu.getInstance().currentlyOnline();return sg(this.interruptReasons_)&&t}}hi.nextPersistentConnectionId_=0;hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new yt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new yt(Zr,t),a=new yt(Zr,e);return this.compare(i,a)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;class ox extends Ku{static get __EMPTY_NODE(){return Uc}static set __EMPTY_NODE(t){Uc=t}compare(t,e){return Qs(t.name,e.name)}isDefinedOn(t){throw aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return yt.MIN}maxPost(){return new yt(qs,Uc)}makePost(t,e){return W(typeof t=="string","KeyIndex indexValue must always be a string."),new yt(t,Uc)}toString(){return".key"}}const Gr=new ox;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,e,i,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,a&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??me.RED,this.left=a??Ue.EMPTY_NODE,this.right=o??Ue.EMPTY_NODE}copy(t,e,i,a,o){return new me(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a=a.copy(null,e,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ue.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,a;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class RD{copy(t,e,i,a,o){return this}insert(t,e,i){return new me(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ue{constructor(t,e=Ue.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ue(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new Ue(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Hc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Hc(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Hc(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Hc(this.root_,null,this.comparator_,!0,t)}}Ue.EMPTY_NODE=new RD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,t){return Qs(n.name,t.name)}function rp(n,t){return Qs(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg;function OD(n){pg=n}const lx=function(n){return typeof n=="number"?"number:"+HS(n):"string:"+n},cx=function(n){if(n.isLeafNode()){const t=n.val();W(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Un(t,".sv"),"Priority must be a string or number.")}else W(n===pg||n.isEmpty(),"priority of unexpected type.");W(n===pg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q0;class pe{static set __childrenNodeConstructor(t){q0=t}static get __childrenNodeConstructor(){return q0}constructor(t,e=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return St(t)?this:xt(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=xt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||os(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+lx(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=HS(this.value_):t+=this.value_,this.lazyHash_=zS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(W(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,a=pe.VALUE_TYPE_ORDER.indexOf(e),o=pe.VALUE_TYPE_ORDER.indexOf(i);return W(a>=0,"Unknown leaf type: "+e),W(o>=0,"Unknown leaf type: "+i),a===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ux,hx;function DD(n){ux=n}function ND(n){hx=n}class kD extends Ku{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),o=i.compareTo(a);return o===0?Qs(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(qs,new pe("[PRIORITY-POST]",hx))}makePost(t,e){const i=ux(t);return new yt(e,new pe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Zt=new kD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=Math.log(2);class LD{constructor(t){const e=o=>parseInt(Math.log(o)/ID,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const a=i(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Su=function(n,t,e,i){n.sort(t);const a=function(f,g){const m=g-f;let _,y;if(m===0)return null;if(m===1)return _=n[f],y=e?e(_):_,new me(y,_.node,me.BLACK,null,null);{const b=parseInt(m/2,10)+f,x=a(f,b),E=a(b+1,g);return _=n[b],y=e?e(_):_,new me(y,_.node,me.BLACK,x,E)}},o=function(f){let g=null,m=null,_=n.length;const y=function(x,E){const T=_-x,A=_;_-=x;const M=a(T+1,A),U=n[T],q=e?e(U):U;b(new me(q,U.node,E,null,M))},b=function(x){g?(g.left=x,g=x):(m=x,g=x)};for(let x=0;x<f.count;++x){const E=f.nextBitIsOne(),T=Math.pow(2,f.count-(x+1));E?y(T,me.BLACK):(y(T,me.BLACK),y(T,me.RED))}return m},c=new LD(n.length),h=o(c);return new Ue(i||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;const Ur={};class oi{static get Default(){return W(Ur&&Zt,"ChildrenNode.ts has not been loaded"),Bd=Bd||new oi({".priority":Ur},{".priority":Zt}),Bd}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=Qr(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ue?e:null}hasIndex(t){return Un(this.indexSet_,t.toString())}addIndex(t,e){W(t!==Gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const o=e.getIterator(yt.Wrap);let c=o.getNext();for(;c;)a=a||t.isDefinedOn(c.node),i.push(c),c=o.getNext();let h;a?h=Su(i,t.getCompare()):h=Ur;const f=t.toString(),g={...this.indexSet_};g[f]=t;const m={...this.indexes_};return m[f]=h,new oi(m,g)}addToIndexes(t,e){const i=fu(this.indexes_,(a,o)=>{const c=Qr(this.indexSet_,o);if(W(c,"Missing index implementation for "+o),a===Ur)if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(yt.Wrap);let g=f.getNext();for(;g;)g.name!==t.name&&h.push(g),g=f.getNext();return h.push(t),Su(h,c.getCompare())}else return Ur;else{const h=e.get(t.name);let f=a;return h&&(f=f.remove(new yt(t.name,h))),f.insert(t,t.node)}});return new oi(i,this.indexSet_)}removeFromIndexes(t,e){const i=fu(this.indexes_,a=>{if(a===Ur)return a;{const o=e.get(t.name);return o?a.remove(new yt(t.name,o)):a}});return new oi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo;class ct{static get EMPTY_NODE(){return vo||(vo=new ct(new Ue(rp),null,oi.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cx(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vo}updatePriority(t){return this.children_.isEmpty()?this:new ct(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?vo:e}}getChild(t){const e=xt(t);return e===null?this:this.getImmediateChild(e).getChild(Ft(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(W(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new yt(t,e);let a,o;e.isEmpty()?(a=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const c=a.isEmpty()?vo:this.priorityNode_;return new ct(a,c,o)}}updateChild(t,e){const i=xt(t);if(i===null)return e;{W(xt(t)!==".priority"||os(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Ft(t),e);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,a=0,o=!0;if(this.forEachChild(Zt,(c,h)=>{e[c]=h.val(t),i++,o&&ct.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):o=!1}),!t&&o&&a<2*i){const c=[];for(const h in e)c[h]=e[h];return c}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+lx(this.getPriority().val())+":"),this.forEachChild(Zt,(e,i)=>{const a=i.hash();a!==""&&(t+=":"+e+":"+a)}),this.lazyHash_=t===""?"":zS(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const a=this.resolveIndex_(i);if(a){const o=a.getPredecessorKey(new yt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new yt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new yt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>e(a.name,a.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,yt.Wrap);let o=a.peek();for(;o!=null&&e.compare(o,t)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,yt.Wrap);let o=a.peek();for(;o!=null&&e.compare(o,t)>0;)a.getNext(),o=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pl?-1:0}withIndex(t){if(t===Gr||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ct(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===Gr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Zt),a=e.getIterator(Zt);let o=i.getNext(),c=a.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=a.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===Gr?null:this.indexMap_.get(t.toString())}}ct.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PD extends ct{constructor(){super(new Ue(rp),ct.EMPTY_NODE,oi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ct.EMPTY_NODE}isEmpty(){return!1}}const pl=new PD;Object.defineProperties(yt,{MIN:{value:new yt(Zr,ct.EMPTY_NODE)},MAX:{value:new yt(qs,pl)}});ox.__EMPTY_NODE=ct.EMPTY_NODE;pe.__childrenNodeConstructor=ct;OD(pl);ND(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=!0;function _e(n,t=null){if(n===null)return ct.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),W(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new pe(e,_e(t))}if(!(n instanceof Array)&&zD){const e=[];let i=!1;if(xe(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=_e(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new yt(c,f)))}}),e.length===0)return ct.EMPTY_NODE;const o=Su(e,MD,c=>c.name,rp);if(i){const c=Su(e,Zt.getCompare());return new ct(o,_e(t),new oi({".priority":c},{".priority":Zt}))}else return new ct(o,_e(t),oi.Default)}else{let e=ct.EMPTY_NODE;return xe(n,(i,a)=>{if(Un(n,i)&&i.substring(0,1)!=="."){const o=_e(a);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(_e(t))}}DD(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends Ku{constructor(t){super(),this.indexPath_=t,W(!St(t)&&xt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),o=i.compareTo(a);return o===0?Qs(t.name,e.name):o}makePost(t,e){const i=_e(t),a=ct.EMPTY_NODE.updateChild(this.indexPath_,i);return new yt(e,a)}maxPost(){const t=ct.EMPTY_NODE.updateChild(this.indexPath_,pl);return new yt(qs,t)}toString(){return Wo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends Ku{compare(t,e){const i=t.node.compareTo(e.node);return i===0?Qs(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(t,e){const i=_e(t);return new yt(e,i)}toString(){return".value"}}const BD=new HD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){return{type:"value",snapshotNode:n}}function Jr(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Go(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Xo(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function jD(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t){this.index_=t}updateChild(t,e,i,a,o,c){W(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(a).equals(i.getChild(a))&&h.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Go(e,h)):W(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Jr(e,i)):c.trackChildChange(Xo(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Zt,(a,o)=>{e.hasChild(a)||i.trackChildChange(Go(a,o))}),e.isLeafNode()||e.forEachChild(Zt,(a,o)=>{if(t.hasChild(a)){const c=t.getImmediateChild(a);c.equals(o)||i.trackChildChange(Xo(a,o,c))}else i.trackChildChange(Jr(a,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ct.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.indexedFilter_=new ap(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ko.getStartPost_(t),this.endPost_=Ko.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,o,c){return this.matches(new yt(e,i))||(i=ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ct.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(ct.EMPTY_NODE);const o=this;return e.forEachChild(Zt,(c,h)=>{o.matches(new yt(c,h))||(a=a.updateImmediateChild(c,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ko(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,o,c){return this.rangedFilter_.matches(new yt(e,i))||(i=ct.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=ct.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){a=ct.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=e.withIndex(this.index_),a=a.updatePriority(ct.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,o){let c;if(this.reverse_){const _=this.index_.getCompare();c=(y,b)=>_(b,y)}else c=this.index_.getCompare();const h=t;W(h.numChildren()===this.limit_,"");const f=new yt(e,i),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(f);if(h.hasChild(e)){const _=h.getImmediateChild(e);let y=a.getChildAfterChild(this.index_,g,this.reverse_);for(;y!=null&&(y.name===e||h.hasChild(y.name));)y=a.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:c(y,f);if(m&&!i.isEmpty()&&b>=0)return o?.trackChildChange(Xo(e,i,_)),h.updateImmediateChild(e,i);{o?.trackChildChange(Go(e,_));const E=h.updateImmediateChild(e,ct.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(Jr(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return i.isEmpty()?t:m&&c(g,f)>=0?(o!=null&&(o.trackChildChange(Go(g.name,g.node)),o.trackChildChange(Jr(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(g.name,ct.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zt}copy(){const t=new op;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function VD(n){return n.loadsAllData()?new ap(n.getIndex()):n.hasLimit()?new FD(n):new Ko(n)}function Y0(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Zt?e="$priority":n.index_===BD?e="$value":n.index_===Gr?e="$key":(W(n.index_ instanceof UD,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=le(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=le(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+le(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=le(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+le(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function W0(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Zt&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends nx{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(W(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=gl("p:rest:"),this.listens_={}}listen(t,e,i,a){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=xu.getListenId_(t,i),h={};this.listens_[c]=h;const f=Y0(t._queryParams);this.restRequest_(o+".json",f,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(o,_,!1,i),Qr(this.listens_,c)===h){let y;g?g===401?y="permission_denied":y="rest_error:"+g:y="ok",a(y,null)}})}unlisten(t,e){const i=xu.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Y0(t._queryParams),i=t._path.toString(),a=new qu;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(e.auth=a.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+la(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=jo(h.responseText)}catch{Be("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Be("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(){return{value:null,children:new Map}}function dx(n,t,e){if(St(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=xt(t);n.children.has(i)||n.children.set(i,Eu());const a=n.children.get(i);t=Ft(t),dx(a,t,e)}}function mg(n,t,e){n.value!==null?e(t,n.value):YD(n,(i,a)=>{const o=new Pt(t.toString()+"/"+i);mg(a,o,e)})}function YD(n,t){n.children.forEach((e,i)=>{t(i,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&xe(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=10*1e3,GD=30*1e3,XD=300*1e3;class KD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new WD(t);const i=G0+(GD-G0)*Math.random();ko(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;xe(t,(a,o)=>{o>0&&Un(this.statsToReport_,a)&&(e[a]=o,i=!0)}),i&&this.server_.reportStats(e),ko(this.reportStats_.bind(this),Math.floor(Math.random()*2*XD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vn||(vn={}));function lp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function up(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=vn.ACK_USER_WRITE,this.source=lp()}operationForChild(t){if(St(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Pt(t));return new Tu(At(),e,this.revert)}}else return W(xt(this.path)===t,"operationForChild called for unrelated child."),new Tu(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,e){this.source=t,this.path=e,this.type=vn.LISTEN_COMPLETE}operationForChild(t){return St(this.path)?new Qo(this.source,At()):new Qo(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=vn.OVERWRITE}operationForChild(t){return St(this.path)?new Ys(this.source,At(),this.snap.getImmediateChild(t)):new Ys(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=vn.MERGE}operationForChild(t){if(St(this.path)){const e=this.children.subtree(new Pt(t));return e.isEmpty()?null:e.value?new Ys(this.source,At(),e.value):new ta(this.source,At(),e)}else return W(xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ta(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;const e=xt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $D(n,t,e,i){const a=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(jD(c.childName,c.snapshotNode))}),bo(n,a,"child_removed",t,i,e),bo(n,a,"child_added",t,i,e),bo(n,a,"child_moved",o,i,e),bo(n,a,"child_changed",t,i,e),bo(n,a,"value",t,i,e),a}function bo(n,t,e,i,a,o){const c=i.filter(h=>h.type===e);c.sort((h,f)=>JD(n,h,f)),c.forEach(h=>{const f=ZD(n,h,o);a.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(f,n.query_))})})}function ZD(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function JD(n,t,e){if(t.childName==null||e.childName==null)throw aa("Should only compare child_ events.");const i=new yt(t.childName,t.snapshotNode),a=new yt(e.childName,e.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n,t){return{eventCache:n,serverCache:t}}function Io(n,t,e,i){return Qu(new ls(t,e,i),n.serverCache)}function gx(n,t,e,i){return Qu(n.eventCache,new ls(t,e,i))}function wu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ws(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;const tN=()=>(jd||(jd=new Ue(UO)),jd);class jt{static fromObject(t){let e=new jt(null);return xe(t,(i,a)=>{e=e.set(new Pt(i),a)}),e}constructor(t,e=tN()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:At(),value:this.value};if(St(t))return null;{const i=xt(t),a=this.children.get(i);if(a!==null){const o=a.findRootMostMatchingPathAndValue(Ft(t),e);return o!=null?{path:$t(new Pt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(St(t))return this;{const e=xt(t),i=this.children.get(e);return i!==null?i.subtree(Ft(t)):new jt(null)}}set(t,e){if(St(t))return new jt(e,this.children);{const i=xt(t),o=(this.children.get(i)||new jt(null)).set(Ft(t),e),c=this.children.insert(i,o);return new jt(this.value,c)}}remove(t){if(St(t))return this.children.isEmpty()?new jt(null):new jt(null,this.children);{const e=xt(t),i=this.children.get(e);if(i){const a=i.remove(Ft(t));let o;return a.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,a),this.value===null&&o.isEmpty()?new jt(null):new jt(this.value,o)}else return this}}get(t){if(St(t))return this.value;{const e=xt(t),i=this.children.get(e);return i?i.get(Ft(t)):null}}setTree(t,e){if(St(t))return e;{const i=xt(t),o=(this.children.get(i)||new jt(null)).setTree(Ft(t),e);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new jt(this.value,c)}}fold(t){return this.fold_(At(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,o)=>{i[a]=o.fold_($t(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,At(),e)}findOnPath_(t,e,i){const a=this.value?i(e,this.value):!1;if(a)return a;if(St(t))return null;{const o=xt(t),c=this.children.get(o);return c?c.findOnPath_(Ft(t),$t(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,At(),e)}foreachOnPath_(t,e,i){if(St(t))return this;{this.value&&i(e,this.value);const a=xt(t),o=this.children.get(a);return o?o.foreachOnPath_(Ft(t),$t(e,a),i):new jt(null)}}foreach(t){this.foreach_(At(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_($t(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.writeTree_=t}static empty(){return new Sn(new jt(null))}}function Lo(n,t,e){if(St(t))return new Sn(new jt(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const a=i.path;let o=i.value;const c=Me(a,t);return o=o.updateChild(c,e),new Sn(n.writeTree_.set(a,o))}else{const a=new jt(e),o=n.writeTree_.setTree(t,a);return new Sn(o)}}}function _g(n,t,e){let i=n;return xe(e,(a,o)=>{i=Lo(i,$t(t,a),o)}),i}function X0(n,t){if(St(t))return Sn.empty();{const e=n.writeTree_.setTree(t,new jt(null));return new Sn(e)}}function yg(n,t){return $s(n,t)!=null}function $s(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(Me(e.path,t)):null}function K0(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Zt,(i,a)=>{t.push(new yt(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&t.push(new yt(i,a.value))}),t}function ns(n,t){if(St(t))return n;{const e=$s(n,t);return e!=null?new Sn(new jt(e)):new Sn(n.writeTree_.subtree(t))}}function vg(n){return n.writeTree_.isEmpty()}function ea(n,t){return px(At(),n.writeTree_,t)}function px(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,o)=>{a===".priority"?(W(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=px($t(n,a),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild($t(n,".priority"),i)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n,t){return vx(t,n)}function eN(n,t,e,i,a){W(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Lo(n.visibleWrites,t,e)),n.lastWriteId=i}function nN(n,t,e,i){W(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=_g(n.visibleWrites,t,e),n.lastWriteId=i}function iN(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function sN(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);W(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,o=!1,c=n.allWrites.length-1;for(;a&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&rN(h,i.path)?a=!1:un(i.path,h.path)&&(o=!0)),c--}if(a){if(o)return aN(n),!0;if(i.snap)n.visibleWrites=X0(n.visibleWrites,i.path);else{const h=i.children;xe(h,f=>{n.visibleWrites=X0(n.visibleWrites,$t(i.path,f))})}return!0}else return!1}function rN(n,t){if(n.snap)return un(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&un($t(n.path,e),t))return!0;return!1}function aN(n){n.visibleWrites=mx(n.allWrites,oN,At()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function oN(n){return n.visible}function mx(n,t,e){let i=Sn.empty();for(let a=0;a<n.length;++a){const o=n[a];if(t(o)){const c=o.path;let h;if(o.snap)un(e,c)?(h=Me(e,c),i=Lo(i,h,o.snap)):un(c,e)&&(h=Me(c,e),i=Lo(i,At(),o.snap.getChild(h)));else if(o.children){if(un(e,c))h=Me(e,c),i=_g(i,h,o.children);else if(un(c,e))if(h=Me(c,e),St(h))i=_g(i,At(),o.children);else{const f=Qr(o.children,xt(h));if(f){const g=f.getChild(Ft(h));i=Lo(i,At(),g)}}}else throw aa("WriteRecord should have .snap or .children")}}return i}function _x(n,t,e,i,a){if(!i&&!a){const o=$s(n.visibleWrites,t);if(o!=null)return o;{const c=ns(n.visibleWrites,t);if(vg(c))return e;if(e==null&&!yg(c,At()))return null;{const h=e||ct.EMPTY_NODE;return ea(c,h)}}}else{const o=ns(n.visibleWrites,t);if(!a&&vg(o))return e;if(!a&&e==null&&!yg(o,At()))return null;{const c=function(g){return(g.visible||a)&&(!i||!~i.indexOf(g.writeId))&&(un(g.path,t)||un(t,g.path))},h=mx(n.allWrites,c,t),f=e||ct.EMPTY_NODE;return ea(h,f)}}}function lN(n,t,e){let i=ct.EMPTY_NODE;const a=$s(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Zt,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=ns(n.visibleWrites,t);return e.forEachChild(Zt,(c,h)=>{const f=ea(ns(o,new Pt(c)),h);i=i.updateImmediateChild(c,f)}),K0(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=ns(n.visibleWrites,t);return K0(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function cN(n,t,e,i,a){W(i||a,"Either existingEventSnap or existingServerSnap must exist");const o=$t(t,e);if(yg(n.visibleWrites,o))return null;{const c=ns(n.visibleWrites,o);return vg(c)?a.getChild(e):ea(c,a.getChild(e))}}function uN(n,t,e,i){const a=$t(t,e),o=$s(n.visibleWrites,a);if(o!=null)return o;if(i.isCompleteForChild(e)){const c=ns(n.visibleWrites,a);return ea(c,i.getNode().getImmediateChild(e))}else return null}function hN(n,t){return $s(n.visibleWrites,t)}function fN(n,t,e,i,a,o,c){let h;const f=ns(n.visibleWrites,t),g=$s(f,At());if(g!=null)h=g;else if(e!=null)h=ea(f,e);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=c.getCompare(),y=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let b=y.getNext();for(;b&&m.length<a;)_(b,i)!==0&&m.push(b),b=y.getNext();return m}else return[]}function dN(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function Cu(n,t,e,i){return _x(n.writeTree,n.treePath,t,e,i)}function hp(n,t){return lN(n.writeTree,n.treePath,t)}function Q0(n,t,e,i){return cN(n.writeTree,n.treePath,t,e,i)}function Au(n,t){return hN(n.writeTree,$t(n.treePath,t))}function gN(n,t,e,i,a,o){return fN(n.writeTree,n.treePath,t,e,i,a,o)}function fp(n,t,e){return uN(n.writeTree,n.treePath,t,e)}function yx(n,t){return vx($t(n.treePath,t),n.writeTree)}function vx(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;W(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const o=a.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,Xo(i,t.snapshotNode,a.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,Go(i,a.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,Jr(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,Xo(i,t.snapshotNode,a.oldSnap));else throw aa("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const bx=new mN;class dp{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fp(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ws(this.viewCache_),o=gN(this.writes_,a,e,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n){return{filter:n}}function yN(n,t){W(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),W(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function vN(n,t,e,i,a){const o=new pN;let c,h;if(e.type===vn.OVERWRITE){const g=e;g.source.fromUser?c=bg(n,t,g.path,g.snap,i,a,o):(W(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!St(g.path),c=Ru(n,t,g.path,g.snap,i,a,h,o))}else if(e.type===vn.MERGE){const g=e;g.source.fromUser?c=SN(n,t,g.path,g.children,i,a,o):(W(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Sg(n,t,g.path,g.children,i,a,h,o))}else if(e.type===vn.ACK_USER_WRITE){const g=e;g.revert?c=TN(n,t,g.path,i,a,o):c=xN(n,t,g.path,g.affectedTree,i,a,o)}else if(e.type===vn.LISTEN_COMPLETE)c=EN(n,t,e.path,i,o);else throw aa("Unknown operation type: "+e.type);const f=o.getChanges();return bN(t,c,f),{viewCache:c,changes:f}}function bN(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=wu(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(fx(wu(t)))}}function Sx(n,t,e,i,a,o){const c=t.eventCache;if(Au(i,e)!=null)return t;{let h,f;if(St(e))if(W(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Ws(t),m=g instanceof ct?g:ct.EMPTY_NODE,_=hp(i,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const g=Cu(i,Ws(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=xt(e);if(g===".priority"){W(os(e)===1,"Can't have a priority with additional path components");const m=c.getNode();f=t.serverCache.getNode();const _=Q0(i,e,m,f);_!=null?h=n.filter.updatePriority(m,_):h=c.getNode()}else{const m=Ft(e);let _;if(c.isCompleteForChild(g)){f=t.serverCache.getNode();const y=Q0(i,e,c.getNode(),f);y!=null?_=c.getNode().getImmediateChild(g).updateChild(m,y):_=c.getNode().getImmediateChild(g)}else _=fp(i,g,t.serverCache);_!=null?h=n.filter.updateChild(c.getNode(),g,_,m,a,o):h=c.getNode()}}return Io(t,h,c.isFullyInitialized()||St(e),n.filter.filtersNodes())}}function Ru(n,t,e,i,a,o,c,h){const f=t.serverCache;let g;const m=c?n.filter:n.filter.getIndexedFilter();if(St(e))g=m.updateFullNode(f.getNode(),i,null);else if(m.filtersNodes()&&!f.isFiltered()){const b=f.getNode().updateChild(e,i);g=m.updateFullNode(f.getNode(),b,null)}else{const b=xt(e);if(!f.isCompleteForPath(e)&&os(e)>1)return t;const x=Ft(e),T=f.getNode().getImmediateChild(b).updateChild(x,i);b===".priority"?g=m.updatePriority(f.getNode(),T):g=m.updateChild(f.getNode(),b,T,x,bx,null)}const _=gx(t,g,f.isFullyInitialized()||St(e),m.filtersNodes()),y=new dp(a,_,o);return Sx(n,_,e,a,y,h)}function bg(n,t,e,i,a,o,c){const h=t.eventCache;let f,g;const m=new dp(a,t,o);if(St(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=Io(t,g,!0,n.filter.filtersNodes());else{const _=xt(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),i),f=Io(t,g,h.isFullyInitialized(),h.isFiltered());else{const y=Ft(e),b=h.getNode().getImmediateChild(_);let x;if(St(y))x=i;else{const E=m.getCompleteChild(_);E!=null?ip(y)===".priority"&&E.getChild(sx(y)).isEmpty()?x=E:x=E.updateChild(y,i):x=ct.EMPTY_NODE}if(b.equals(x))f=t;else{const E=n.filter.updateChild(h.getNode(),_,x,y,m,c);f=Io(t,E,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function $0(n,t){return n.eventCache.isCompleteForChild(t)}function SN(n,t,e,i,a,o,c){let h=t;return i.foreach((f,g)=>{const m=$t(e,f);$0(t,xt(m))&&(h=bg(n,h,m,g,a,o,c))}),i.foreach((f,g)=>{const m=$t(e,f);$0(t,xt(m))||(h=bg(n,h,m,g,a,o,c))}),h}function Z0(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function Sg(n,t,e,i,a,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f=t,g;St(e)?g=i:g=new jt(null).setTree(e,i);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,y)=>{if(m.hasChild(_)){const b=t.serverCache.getNode().getImmediateChild(_),x=Z0(n,b,y);f=Ru(n,f,new Pt(_),x,a,o,c,h)}}),g.children.inorderTraversal((_,y)=>{const b=!t.serverCache.isCompleteForChild(_)&&y.value===null;if(!m.hasChild(_)&&!b){const x=t.serverCache.getNode().getImmediateChild(_),E=Z0(n,x,y);f=Ru(n,f,new Pt(_),E,a,o,c,h)}}),f}function xN(n,t,e,i,a,o,c){if(Au(a,e)!=null)return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(i.value!=null){if(St(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return Ru(n,t,e,f.getNode().getChild(e),a,o,h,c);if(St(e)){let g=new jt(null);return f.getNode().forEachChild(Gr,(m,_)=>{g=g.set(new Pt(m),_)}),Sg(n,t,e,g,a,o,h,c)}else return t}else{let g=new jt(null);return i.foreach((m,_)=>{const y=$t(e,m);f.isCompleteForPath(y)&&(g=g.set(m,f.getNode().getChild(y)))}),Sg(n,t,e,g,a,o,h,c)}}function EN(n,t,e,i,a){const o=t.serverCache,c=gx(t,o.getNode(),o.isFullyInitialized()||St(e),o.isFiltered());return Sx(n,c,e,i,bx,a)}function TN(n,t,e,i,a,o){let c;if(Au(i,e)!=null)return t;{const h=new dp(i,t,a),f=t.eventCache.getNode();let g;if(St(e)||xt(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Cu(i,Ws(t));else{const _=t.serverCache.getNode();W(_ instanceof ct,"serverChildren would be complete if leaf node"),m=hp(i,_)}m=m,g=n.filter.updateFullNode(f,m,o)}else{const m=xt(e);let _=fp(i,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=f.getImmediateChild(m)),_!=null?g=n.filter.updateChild(f,m,_,Ft(e),h,o):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(f,m,ct.EMPTY_NODE,Ft(e),h,o):g=f,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Cu(i,Ws(t)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||Au(i,At())!=null,Io(t,g,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ap(i.getIndex()),o=VD(i);this.processor_=_N(o);const c=e.serverCache,h=e.eventCache,f=a.updateFullNode(ct.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(ct.EMPTY_NODE,h.getNode(),null),m=new ls(f,c.isFullyInitialized(),a.filtersNodes()),_=new ls(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qu(_,m),this.eventGenerator_=new QD(this.query_)}get query(){return this.query_}}function CN(n){return n.viewCache_.serverCache.getNode()}function AN(n){return wu(n.viewCache_)}function RN(n,t){const e=Ws(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!St(t)&&!e.getImmediateChild(xt(t)).isEmpty())?e.getChild(t):null}function J0(n){return n.eventRegistrations_.length===0}function MN(n,t){n.eventRegistrations_.push(t)}function tb(n,t,e){const i=[];if(e){W(t==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,a);c&&i.push(c)})}if(t){let a=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(!c.matches(t))a.push(c);else if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function eb(n,t,e,i){t.type===vn.MERGE&&t.source.queryId!==null&&(W(Ws(n.viewCache_),"We should always have a full cache before handling merges"),W(wu(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,o=vN(n.processor_,a,t,e,i);return yN(n.processor_,o.viewCache),W(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,xx(n,o.changes,o.viewCache.eventCache.getNode(),null)}function ON(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Zt,(o,c)=>{i.push(Jr(o,c))}),e.isFullyInitialized()&&i.push(fx(e.getNode())),xx(n,i,e.getNode(),t)}function xx(n,t,e,i){const a=i?[i]:n.eventRegistrations_;return $D(n.eventGenerator_,t,e,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;class Ex{constructor(){this.views=new Map}}function DN(n){W(!Mu,"__referenceConstructor has already been defined"),Mu=n}function NN(){return W(Mu,"Reference.ts has not been loaded"),Mu}function kN(n){return n.views.size===0}function gp(n,t,e,i){const a=t.source.queryId;if(a!==null){const o=n.views.get(a);return W(o!=null,"SyncTree gave us an op for an invalid query."),eb(o,t,e,i)}else{let o=[];for(const c of n.views.values())o=o.concat(eb(c,t,e,i));return o}}function Tx(n,t,e,i,a){const o=t._queryIdentifier,c=n.views.get(o);if(!c){let h=Cu(e,a?i:null),f=!1;h?f=!0:i instanceof ct?(h=hp(e,i),f=!1):(h=ct.EMPTY_NODE,f=!1);const g=Qu(new ls(h,f,!1),new ls(i,a,!1));return new wN(t,g)}return c}function IN(n,t,e,i,a,o){const c=Tx(n,t,i,a,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),MN(c,e),ON(c,e)}function LN(n,t,e,i){const a=t._queryIdentifier,o=[];let c=[];const h=cs(n);if(a==="default")for(const[f,g]of n.views.entries())c=c.concat(tb(g,e,i)),J0(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||o.push(g.query));else{const f=n.views.get(a);f&&(c=c.concat(tb(f,e,i)),J0(f)&&(n.views.delete(a),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!cs(n)&&o.push(new(NN())(t._repo,t._path)),{removed:o,events:c}}function wx(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function is(n,t){let e=null;for(const i of n.views.values())e=e||RN(i,t);return e}function Cx(n,t){if(t._queryParams.loadsAllData())return Zu(n);{const i=t._queryIdentifier;return n.views.get(i)}}function Ax(n,t){return Cx(n,t)!=null}function cs(n){return Zu(n)!=null}function Zu(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou;function PN(n){W(!Ou,"__referenceConstructor has already been defined"),Ou=n}function zN(){return W(Ou,"Reference.ts has not been loaded"),Ou}let UN=1;class nb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new jt(null),this.pendingWriteTree_=dN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HN(n,t,e,i,a){return eN(n.pendingWriteTree_,t,e,i,a),a?fa(n,new Ys(lp(),t,e)):[]}function BN(n,t,e,i){nN(n.pendingWriteTree_,t,e,i);const a=jt.fromObject(e);return fa(n,new ta(lp(),t,a))}function Us(n,t,e=!1){const i=iN(n.pendingWriteTree_,t);if(sN(n.pendingWriteTree_,t)){let o=new jt(null);return i.snap!=null?o=o.set(At(),!0):xe(i.children,c=>{o=o.set(new Pt(c),!0)}),fa(n,new Tu(i.path,o,e))}else return[]}function ml(n,t,e){return fa(n,new Ys(cp(),t,e))}function jN(n,t,e){const i=jt.fromObject(e);return fa(n,new ta(cp(),t,i))}function FN(n,t){return fa(n,new Qo(cp(),t))}function VN(n,t,e){const i=pp(n,e);if(i){const a=mp(i),o=a.path,c=a.queryId,h=Me(o,t),f=new Qo(up(c),h);return _p(n,o,f)}else return[]}function Rx(n,t,e,i,a=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||Ax(c,t))){const f=LN(c,t,e,i);kN(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=f.removed;if(h=f.events,!a){const m=g.findIndex(y=>y._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(o,(y,b)=>cs(b));if(m&&!_){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const b=GN(y);for(let x=0;x<b.length;++x){const E=b[x],T=E.query,A=kx(n,E);n.listenProvider_.startListening(Po(T),$o(n,T),A.hashFn,A.onComplete)}}}!_&&g.length>0&&!i&&(m?n.listenProvider_.stopListening(Po(t),null):g.forEach(y=>{const b=n.queryToTagMap.get(Ju(y));n.listenProvider_.stopListening(Po(y),b)}))}XN(n,g)}return h}function Mx(n,t,e,i){const a=pp(n,i);if(a!=null){const o=mp(a),c=o.path,h=o.queryId,f=Me(c,t),g=new Ys(up(h),f,e);return _p(n,c,g)}else return[]}function qN(n,t,e,i){const a=pp(n,i);if(a){const o=mp(a),c=o.path,h=o.queryId,f=Me(c,t),g=jt.fromObject(e),m=new ta(up(h),f,g);return _p(n,c,m)}else return[]}function YN(n,t,e,i=!1){const a=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(a,(y,b)=>{const x=Me(y,a);o=o||is(b,x),c=c||cs(b)});let h=n.syncPointTree_.get(a);h?(c=c||cs(h),o=o||is(h,At())):(h=new Ex,n.syncPointTree_=n.syncPointTree_.set(a,h));let f;o!=null?f=!0:(f=!1,o=ct.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((b,x)=>{const E=is(x,At());E&&(o=o.updateImmediateChild(b,E))}));const g=Ax(h,t);if(!g&&!t._queryParams.loadsAllData()){const y=Ju(t);W(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=KN();n.queryToTagMap.set(y,b),n.tagToQueryMap.set(b,y)}const m=$u(n.pendingWriteTree_,a);let _=IN(h,t,e,m,o,f);if(!g&&!c&&!i){const y=Cx(h,t);_=_.concat(QN(n,t,y))}return _}function Ox(n,t,e){const a=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const f=Me(c,t),g=is(h,f);if(g)return g});return _x(a,t,o,e,!0)}function WN(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(g,m)=>{const _=Me(g,e);i=i||is(m,_)});let a=n.syncPointTree_.get(e);a?i=i||is(a,At()):(a=new Ex,n.syncPointTree_=n.syncPointTree_.set(e,a));const o=i!=null,c=o?new ls(i,!0,!1):null,h=$u(n.pendingWriteTree_,t._path),f=Tx(a,t,h,o?c.getNode():ct.EMPTY_NODE,o);return AN(f)}function fa(n,t){return Dx(t,n.syncPointTree_,null,$u(n.pendingWriteTree_,At()))}function Dx(n,t,e,i){if(St(n.path))return Nx(n,t,e,i);{const a=t.get(At());e==null&&a!=null&&(e=is(a,At()));let o=[];const c=xt(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const g=e?e.getImmediateChild(c):null,m=yx(i,c);o=o.concat(Dx(h,f,g,m))}return a&&(o=o.concat(gp(a,n,i,e))),o}}function Nx(n,t,e,i){const a=t.get(At());e==null&&a!=null&&(e=is(a,At()));let o=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,g=yx(i,c),m=n.operationForChild(c);m&&(o=o.concat(Nx(m,h,f,g)))}),a&&(o=o.concat(gp(a,n,i,e))),o}function kx(n,t){const e=t.query,i=$o(n,e);return{hashFn:()=>(CN(t)||ct.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?VN(n,e._path,i):FN(n,e._path);{const o=jO(a,e);return Rx(n,e,null,o)}}}}function $o(n,t){const e=Ju(t);return n.queryToTagMap.get(e)}function Ju(n){return n._path.toString()+"$"+n._queryIdentifier}function pp(n,t){return n.tagToQueryMap.get(t)}function mp(n){const t=n.indexOf("$");return W(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Pt(n.substr(0,t))}}function _p(n,t,e){const i=n.syncPointTree_.get(t);W(i,"Missing sync point for query tag that we're tracking");const a=$u(n.pendingWriteTree_,t);return gp(i,e,a,null)}function GN(n){return n.fold((t,e,i)=>{if(e&&cs(e))return[Zu(e)];{let a=[];return e&&(a=wx(e)),xe(i,(o,c)=>{a=a.concat(c)}),a}})}function Po(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(zN())(n._repo,n._path):n}function XN(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=Ju(i),o=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(o)}}}function KN(){return UN++}function QN(n,t,e){const i=t._path,a=$o(n,t),o=kx(n,e),c=n.listenProvider_.startListening(Po(t),a,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(a)W(!cs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((g,m,_)=>{if(!St(g)&&m&&cs(m))return[Zu(m).query];{let y=[];return m&&(y=y.concat(wx(m).map(b=>b.query))),xe(_,(b,x)=>{y=y.concat(x)}),y}});for(let g=0;g<f.length;++g){const m=f[g];n.listenProvider_.stopListening(Po(m),$o(n,m))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new yp(e)}node(){return this.node_}}class vp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=$t(this.path_,t);return new vp(this.syncTree_,e)}node(){return Ox(this.syncTree_,this.path_)}}const $N=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},ib=function(n,t,e){if(!n||typeof n!="object")return n;if(W(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return ZN(n[".sv"],t,e);if(typeof n[".sv"]=="object")return JN(n[".sv"],t);W(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},ZN=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:W(!1,"Unexpected server value: "+n)}},JN=function(n,t,e){n.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const a=t.node();if(W(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const c=a.getValue();return typeof c!="number"?i:c+i},Ix=function(n,t,e,i){return bp(t,new vp(e,n),i)},tk=function(n,t,e){return bp(n,new yp(t),e)};function bp(n,t,e){const i=n.getPriority().val(),a=ib(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=ib(c.getValue(),t,e);return h!==c.getValue()||a!==c.getPriority().val()?new pe(h,_e(a)):n}else{const c=n;return o=c,a!==c.getPriority().val()&&(o=o.updatePriority(new pe(a))),c.forEachChild(Zt,(h,f)=>{const g=bp(f,t.getImmediateChild(h),e);g!==f&&(o=o.updateImmediateChild(h,g))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function xp(n,t){let e=t instanceof Pt?t:new Pt(t),i=n,a=xt(e);for(;a!==null;){const o=Qr(i.node.children,a)||{children:{},childCount:0};i=new Sp(a,i,o),e=Ft(e),a=xt(e)}return i}function da(n){return n.node.value}function Lx(n,t){n.node.value=t,xg(n)}function Px(n){return n.node.childCount>0}function ek(n){return da(n)===void 0&&!Px(n)}function th(n,t){xe(n.node.children,(e,i)=>{t(new Sp(e,n,i))})}function zx(n,t,e,i){e&&t(n),th(n,a=>{zx(a,t,!0)})}function nk(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function _l(n){return new Pt(n.parent===null?n.name:_l(n.parent)+"/"+n.name)}function xg(n){n.parent!==null&&ik(n.parent,n.name,n)}function ik(n,t,e){const i=ek(e),a=Un(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,xg(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,xg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=/[\[\].#$\/\u0000-\u001F\u007F]/,rk=/[\[\].#$\u0000-\u001F\u007F]/,Fd=10*1024*1024,Ep=function(n){return typeof n=="string"&&n.length!==0&&!sk.test(n)},Ux=function(n){return typeof n=="string"&&n.length!==0&&!rk.test(n)},ak=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ux(n)},ok=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Zg(n)||n&&typeof n=="object"&&Un(n,".sv")},Tp=function(n,t,e){const i=e instanceof Pt?new SD(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+Is(i));if(typeof t=="function")throw new Error(n+"contains a function "+Is(i)+" with contents = "+t.toString());if(Zg(t))throw new Error(n+"contains "+t.toString()+" "+Is(i));if(typeof t=="string"&&t.length>Fd/3&&Yu(t)>Fd)throw new Error(n+"contains a string greater than "+Fd+" utf8 bytes "+Is(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,o=!1;if(xe(t,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!Ep(c)))throw new Error(n+" contains an invalid key ("+c+") "+Is(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xD(i,c),Tp(n,h,i),ED(i)}),a&&o)throw new Error(n+' contains ".value" child '+Is(i)+" in addition to actual children.")}},lk=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Wo(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!Ep(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(bD);let a=null;for(e=0;e<t.length;e++){if(i=t[e],a!==null&&un(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},ck=function(n,t,e,i){const a=Hg(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const o=[];xe(t,(c,h)=>{const f=new Pt(c);if(Tp(a,h,$t(e,f)),ip(f)===".priority"&&!ok(h))throw new Error(a+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),lk(a,o)},Hx=function(n,t,e,i){if(!Ux(e))throw new Error(Hg(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uk=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hx(n,t,e)},hk=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Ep(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!ak(e))throw new Error(Hg(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bx(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],o=a.getPath();e!==null&&!rx(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(a)}e&&n.eventLists_.push(e)}function Pn(n,t,e){Bx(n,e),dk(n,i=>un(i,t)||un(t,i))}function dk(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const o=a.path;t(o)?(gk(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function gk(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();No&&Se("event: "+e.toString()),ha(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="repo_interrupt",mk=25;class _k{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eu(),this.transactionQueueTree_=new Sp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yk(n,t,e){if(n.stats_=ep(n.repoInfo_),n.forceRestClient_||YO())n.server_=new xu(n.repoInfo_,(i,a,o,c)=>{sb(n,i,a,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>rb(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new hi(n.repoInfo_,t,(i,a,o,c)=>{sb(n,i,a,o,c)},i=>{rb(n,i)},i=>{bk(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=QO(n.repoInfo_,()=>new KD(n.stats_,n.server_)),n.infoData_=new qD,n.infoSyncTree_=new nb({startListening:(i,a,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=ml(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Cp(n,"connected",!1),n.serverSyncTree_=new nb({startListening:(i,a,o,c)=>(n.server_.listen(i,o,a,(h,f)=>{const g=c(h,f);Pn(n.eventQueue_,i._path,g)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function vk(n){const e=n.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function wp(n){return $N({timestamp:vk(n)})}function sb(n,t,e,i,a){n.dataUpdateCount++;const o=new Pt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(a)if(i){const f=fu(e,g=>_e(g));c=qN(n.serverSyncTree_,o,f,a)}else{const f=_e(e);c=Mx(n.serverSyncTree_,o,f,a)}else if(i){const f=fu(e,g=>_e(g));c=jN(n.serverSyncTree_,o,f)}else{const f=_e(e);c=ml(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=Zo(n,o)),Pn(n.eventQueue_,h,c)}function rb(n,t){Cp(n,"connected",t),t===!1&&Ek(n)}function bk(n,t){xe(t,(e,i)=>{Cp(n,e,i)})}function Cp(n,t,e){const i=new Pt("/.info/"+t),a=_e(e);n.infoData_.updateSnapshot(i,a);const o=ml(n.infoSyncTree_,i,a);Pn(n.eventQueue_,i,o)}function jx(n){return n.nextWriteId_++}function Sk(n,t,e){const i=WN(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(a=>{const o=_e(a).withIndex(t._queryParams.getIndex());YN(n.serverSyncTree_,t,e,!0);let c;if(t._queryParams.loadsAllData())c=ml(n.serverSyncTree_,t._path,o);else{const h=$o(n.serverSyncTree_,t);c=Mx(n.serverSyncTree_,t._path,o,h)}return Pn(n.eventQueue_,t._path,c),Rx(n.serverSyncTree_,t,e,null,!0),o},a=>(eh(n,"get for query "+le(t)+" failed: "+a),Promise.reject(new Error(a))))}function xk(n,t,e,i){eh(n,"update",{path:t.toString(),value:e});let a=!0;const o=wp(n),c={};if(xe(e,(h,f)=>{a=!1,c[h]=Ix($t(t,h),_e(f),n.serverSyncTree_,o)}),a)Se("update() called with empty data.  Don't do anything."),ab(n,i,"ok",void 0);else{const h=jx(n),f=BN(n.serverSyncTree_,t,c,h);Bx(n.eventQueue_,f),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||Be("update at "+t+" failed: "+g);const y=Us(n.serverSyncTree_,h,!_),b=y.length>0?Zo(n,t):t;Pn(n.eventQueue_,b,y),ab(n,i,g,m)}),xe(e,g=>{const m=Wx(n,$t(t,g));Zo(n,m)}),Pn(n.eventQueue_,t,[])}}function Ek(n){eh(n,"onDisconnectEvents");const t=wp(n),e=Eu();mg(n.onDisconnect_,At(),(a,o)=>{const c=Ix(a,o,n.serverSyncTree_,t);dx(e,a,c)});let i=[];mg(e,At(),(a,o)=>{i=i.concat(ml(n.serverSyncTree_,a,o));const c=Wx(n,a);Zo(n,c)}),n.onDisconnect_=Eu(),Pn(n.eventQueue_,At(),i)}function Tk(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pk)}function eh(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Se(e,...t)}function ab(n,t,e,i){t&&ha(()=>{if(e==="ok")t(null);else{const a=(e||"error").toUpperCase();let o=a;i&&(o+=": "+i);const c=new Error(o);c.code=a,t(c)}})}function Fx(n,t,e){return Ox(n.serverSyncTree_,t,e)||ct.EMPTY_NODE}function Ap(n,t=n.transactionQueueTree_){if(t||nh(n,t),da(t)){const e=qx(n,t);W(e.length>0,"Sending zero length transaction queue"),e.every(a=>a.status===0)&&wk(n,_l(t),e)}else Px(t)&&th(t,e=>{Ap(n,e)})}function wk(n,t,e){const i=e.map(g=>g.currentWriteId),a=Fx(n,t,i);let o=a;const c=a.hash();for(let g=0;g<e.length;g++){const m=e[g];W(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Me(t,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const h=o.val(!0),f=t;n.server_.put(f.toString(),h,g=>{eh(n,"transaction put response",{path:f.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let y=0;y<e.length;y++)e[y].status=2,m=m.concat(Us(n.serverSyncTree_,e[y].currentWriteId)),e[y].onComplete&&_.push(()=>e[y].onComplete(null,!0,e[y].currentOutputSnapshotResolved)),e[y].unwatcher();nh(n,xp(n.transactionQueueTree_,t)),Ap(n,n.transactionQueueTree_),Pn(n.eventQueue_,t,m);for(let y=0;y<_.length;y++)ha(_[y])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{Be("transaction at "+f.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}Zo(n,t)}},c)}function Zo(n,t){const e=Vx(n,t),i=_l(e),a=qx(n,e);return Ck(n,a,i),i}function Ck(n,t,e){if(t.length===0)return;const i=[];let a=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],g=Me(e,f.path);let m=!1,_;if(W(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,_=f.abortReason,a=a.concat(Us(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=mk)m=!0,_="maxretry",a=a.concat(Us(n.serverSyncTree_,f.currentWriteId,!0));else{const y=Fx(n,f.path,c);f.currentInputSnapshot=y;const b=t[h].update(y.val());if(b!==void 0){Tp("transaction failed: Data returned ",b,f.path);let x=_e(b);typeof b=="object"&&b!=null&&Un(b,".priority")||(x=x.updatePriority(y.getPriority()));const T=f.currentWriteId,A=wp(n),M=tk(x,y,A);f.currentOutputSnapshotRaw=x,f.currentOutputSnapshotResolved=M,f.currentWriteId=jx(n),c.splice(c.indexOf(T),1),a=a.concat(HN(n.serverSyncTree_,f.path,M,f.currentWriteId,f.applyLocally)),a=a.concat(Us(n.serverSyncTree_,T,!0))}else m=!0,_="nodata",a=a.concat(Us(n.serverSyncTree_,f.currentWriteId,!0))}Pn(n.eventQueue_,e,a),a=[],m&&(t[h].status=2,(function(y){setTimeout(y,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(_),!1,null))))}nh(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)ha(i[h]);Ap(n,n.transactionQueueTree_)}function Vx(n,t){let e,i=n.transactionQueueTree_;for(e=xt(t);e!==null&&da(i)===void 0;)i=xp(i,e),t=Ft(t),e=xt(t);return i}function qx(n,t){const e=[];return Yx(n,t,e),e.sort((i,a)=>i.order-a.order),e}function Yx(n,t,e){const i=da(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);th(t,a=>{Yx(n,a,e)})}function nh(n,t){const e=da(t);if(e){let i=0;for(let a=0;a<e.length;a++)e[a].status!==2&&(e[i]=e[a],i++);e.length=i,Lx(t,e.length>0?e:void 0)}th(t,i=>{nh(n,i)})}function Wx(n,t){const e=_l(Vx(n,t)),i=xp(n.transactionQueueTree_,t);return nk(i,a=>{Vd(n,a)}),Vd(n,i),zx(i,a=>{Vd(n,a)}),e}function Vd(n,t){const e=da(t);if(e){const i=[];let a=[],o=-1;for(let c=0;c<e.length;c++)e[c].status===3||(e[c].status===1?(W(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):(W(e[c].status===0,"Unexpected transaction status in abort"),e[c].unwatcher(),a=a.concat(Us(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Lx(t,void 0):e.length=o+1,Pn(n.eventQueue_,_l(t),a);for(let c=0;c<i.length;c++)ha(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function Rk(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Be(`Invalid query segment '${e}' in query '${n}'`)}return t}const ob=function(n,t){const e=Mk(n),i=e.namespace;e.domain==="firebase.com"&&pi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||PO();const a=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new KS(e.host,e.secure,i,a,t,"",i!==e.subdomain),path:new Pt(e.pathString)}},Mk=function(n){let t="",e="",i="",a="",o="",c=!0,h="https",f=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(a=Ak(n.substring(m,_)));const y=Rk(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",f=parseInt(t.substring(g+1),10)):g=t.length;const b=t.slice(0,g);if(b.toLowerCase()==="localhost")e="localhost";else if(b.split(".").length<=2)e=b;else{const x=t.indexOf(".");i=t.substring(0,x).toLowerCase(),e=t.substring(x+1),o=i}"ns"in y&&(o=y.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:a,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}}class Dk{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return St(this._path)?null:ip(this._path)}get ref(){return new _i(this._repo,this._path)}get _queryIdentifier(){const t=W0(this._queryParams),e=Jg(t);return e==="{}"?"default":e}get _queryObject(){return W0(this._queryParams)}isEqual(t){if(t=$e(t),!(t instanceof Rp))return!1;const e=this._repo===t._repo,i=rx(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return e&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+vD(this._path)}}class _i extends Rp{constructor(t,e){super(t,e,new op,!1)}get parent(){const t=sx(this._path);return t===null?null:new _i(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Jo{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Pt(t),i=Eg(this.ref,t);return new Jo(this._node.getChild(e),i,Zt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>t(new Jo(a,Eg(this.ref,i),Zt)))}hasChild(t){const e=new Pt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gi(n,t){return n=$e(n),n._checkNotDeleted("ref"),t!==void 0?Eg(n._root,t):n._root}function Eg(n,t){return n=$e(n),xt(n._path)===null?uk("child","path",t):Hx("child","path",t),new _i(n._repo,$t(n._path,t))}function lb(n,t){ck("update",t,n._path);const e=new qu;return xk(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Xi(n){n=$e(n);const t=new Nk(()=>{}),e=new Mp(t);return Sk(n._repo,n,e).then(i=>new Jo(i,new _i(n._repo,n._path),n._queryParams.getIndex()))}class Mp{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new Ok("value",this,new Jo(t.snapshotNode,new _i(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Dk(this,t,e):null}matches(t){return t instanceof Mp?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}DN(_i);PN(_i);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="FIREBASE_DATABASE_EMULATOR_HOST",Tg={};let Ik=!1;function Lk(n,t,e,i){const a=t.lastIndexOf(":"),o=t.substring(0,a),c=oa(o);n.repoInfo_=new KS(t,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function Pk(n,t,e,i,a){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=ob(o,a),h=c.repoInfo,f;typeof process<"u"&&R0&&(f=R0[kk]),f?(o=`http://${f}?ns=${h.namespace}`,c=ob(o,a),h=c.repoInfo):c.repoInfo.secure;const g=new GO(n.name,n.options,t);hk("Invalid Firebase Database URL",c),St(c.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Uk(h,n,g,new WO(n,e));return new Hk(m,n)}function zk(n,t){const e=Tg[t];(!e||e[n.key]!==n)&&pi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Tk(n),delete e[n.key]}function Uk(n,t,e,i){let a=Tg[t.name];a||(a={},Tg[t.name]=a);let o=a[n.toURLString()];return o&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new _k(n,Ik,e,i),a[n.toURLString()]=o,o}class Hk{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _i(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pi("Cannot call "+t+" on a deleted database.")}}function Bk(n=J1(),t){const e=Fg(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=Z2("database");i&&jk(e,...i)}return e}function jk(n,t,e,i={}){n=$e(n),n._checkNotDeleted("useEmulator");const a=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(a===n._repoInternal.repoInfo_.host&&js(i,o.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new ru(ru.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:J2(i.mockUserToken,n.app.options.projectId);c=new ru(h)}oa(t)&&(W1(t),G1("Database",!0)),Lk(o,a,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){OO(ca),$r(new Fs("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Pk(i,a,o,e)},"PUBLIC").setMultipleInstances(!0)),ts(M0,O0,n),ts(M0,O0,"esm2020")}hi.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};hi.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};Fk();const Vk={apiKey:"AIzaSyBc0dGkBKXhK_0AcfXFo2aHvoWXQHu0VEY",authDomain:"english-master-5ca79.firebaseapp.com",databaseURL:"https://english-master-5ca79-default-rtdb.firebaseio.com",projectId:"english-master-5ca79",storageBucket:"english-master-5ca79.firebasestorage.app",messagingSenderId:"1003173994906",appId:"1:1003173994906:web:a85404f0c521270a8d1a23",measurementId:"G-S1T3737QG1"},qk=Z1(Vk),na=RO(),Ki=Bk(qk),Gx=new si;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yl(n){return n+.5|0}const Qi=(n,t,e)=>Math.max(Math.min(n,e),t);function Ao(n){return Qi(yl(n*2.55),0,255)}function ss(n){return Qi(yl(n*255),0,255)}function ii(n){return Qi(yl(n/2.55)/100,0,1)}function cb(n){return Qi(yl(n*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wg=[..."0123456789ABCDEF"],Yk=n=>wg[n&15],Wk=n=>wg[(n&240)>>4]+wg[n&15],Bc=n=>(n&240)>>4===(n&15),Gk=n=>Bc(n.r)&&Bc(n.g)&&Bc(n.b)&&Bc(n.a);function Xk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ln[n[1]]*17,g:255&ln[n[2]]*17,b:255&ln[n[3]]*17,a:t===5?ln[n[4]]*17:255}:(t===7||t===9)&&(e={r:ln[n[1]]<<4|ln[n[2]],g:ln[n[3]]<<4|ln[n[4]],b:ln[n[5]]<<4|ln[n[6]],a:t===9?ln[n[7]]<<4|ln[n[8]]:255})),e}const Kk=(n,t)=>n<255?t(n):"";function Qk(n){var t=Gk(n)?Yk:Wk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Kk(n.a,t):void 0}const $k=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xx(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function Zk(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Jk(n,t,e){const i=Xx(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function t3(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Op(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,g,m;return o!==c&&(m=o-c,g=h>.5?m/(2-o-c):m/(o+c),f=t3(e,i,a,m,o),f=f*60+.5),[f|0,g||0,h]}function Dp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ss)}function Np(n,t,e){return Dp(Xx,n,t,e)}function e3(n,t,e){return Dp(Jk,n,t,e)}function n3(n,t,e){return Dp(Zk,n,t,e)}function Kx(n){return(n%360+360)%360}function i3(n){const t=$k.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ao(+t[5]):ss(+t[5]));const a=Kx(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=e3(a,o,c):t[1]==="hsv"?i=n3(a,o,c):i=Np(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function s3(n,t){var e=Op(n);e[0]=Kx(e[0]+t),e=Np(e),n.r=e[0],n.g=e[1],n.b=e[2]}function r3(n){if(!n)return;const t=Op(n),e=t[0],i=cb(t[1]),a=cb(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${ii(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const ub={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a3(){const n={},t=Object.keys(hb),e=Object.keys(ub);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,ub[o]);o=parseInt(hb[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let jc;function o3(n){jc||(jc=a3(),jc.transparent=[0,0,0,0]);const t=jc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const l3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function c3(n){const t=l3.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Ao(c):Qi(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Ao(i):Qi(i,0,255)),a=255&(t[4]?Ao(a):Qi(a,0,255)),o=255&(t[6]?Ao(o):Qi(o,0,255)),{r:i,g:a,b:o,a:e}}}function u3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ii(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qd=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Hr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function h3(n,t,e){const i=Hr(ii(n.r)),a=Hr(ii(n.g)),o=Hr(ii(n.b));return{r:ss(qd(i+e*(Hr(ii(t.r))-i))),g:ss(qd(a+e*(Hr(ii(t.g))-a))),b:ss(qd(o+e*(Hr(ii(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Fc(n,t,e){if(n){let i=Op(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Np(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Qx(n,t){return n&&Object.assign(t||{},n)}function fb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ss(n[3]))):(t=Qx(n,{r:0,g:0,b:0,a:1}),t.a=ss(t.a)),t}function f3(n){return n.charAt(0)==="r"?c3(n):i3(n)}class tl{constructor(t){if(t instanceof tl)return t;const e=typeof t;let i;e==="object"?i=fb(t):e==="string"&&(i=Xk(t)||o3(t)||f3(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Qx(this._rgb);return t&&(t.a=ii(t.a)),t}set rgb(t){this._rgb=fb(t)}rgbString(){return this._valid?u3(this._rgb):void 0}hexString(){return this._valid?Qk(this._rgb):void 0}hslString(){return this._valid?r3(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=h3(this._rgb,t._rgb,e)),this}clone(){return new tl(this.rgb)}alpha(t){return this._rgb.a=ss(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=yl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fc(this._rgb,2,t),this}darken(t){return Fc(this._rgb,2,-t),this}saturate(t){return Fc(this._rgb,1,t),this}desaturate(t){return Fc(this._rgb,1,-t),this}rotate(t){return s3(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ti(){}const d3=(()=>{let n=0;return()=>n++})();function Ht(n){return n==null}function ce(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function wt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function fn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Mn(n,t){return fn(n)?n:t}function Tt(n,t){return typeof n>"u"?t:n}const g3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,$x=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function qt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Dt(n,t,e,i){let a,o,c;if(ce(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(wt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Du(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Nu(n){if(ce(n))return n.map(Nu);if(wt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Nu(n[e[a]]);return t}return n}function Zx(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function p3(n,t,e,i){if(!Zx(n))return;const a=t[n],o=e[n];wt(a)&&wt(o)?el(a,o,i):t[n]=Nu(o)}function el(n,t,e){const i=ce(t)?t:[t],a=i.length;if(!wt(n))return n;e=e||{};const o=e.merger||p3;let c;for(let h=0;h<a;++h){if(c=i[h],!wt(c))continue;const f=Object.keys(c);for(let g=0,m=f.length;g<m;++g)o(f[g],n,c,e)}return n}function zo(n,t){return el(n,t,{merger:m3})}function m3(n,t,e){if(!Zx(n))return;const i=t[n],a=e[n];wt(i)&&wt(a)?zo(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Nu(a))}const db={"":n=>n,x:n=>n.x,y:n=>n.y};function _3(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function y3(n){const t=_3(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Gs(n,t){return(db[t]||(db[t]=y3(t)))(n)}function kp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const nl=n=>typeof n<"u",us=n=>typeof n=="function",gb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function v3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ut=Math.PI,re=2*Ut,ku=Number.POSITIVE_INFINITY,b3=Ut/180,ue=Ut/2,Os=Ut/4,pb=Ut*2/3,Jx=Math.log10,rs=Math.sign;function au(n,t,e){return Math.abs(n-t)<e}function mb(n){const t=Math.round(n);n=au(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Jx(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function S3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function x3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Iu(n){return!x3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function E3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function T3(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function li(n){return n*(Ut/180)}function w3(n){return n*(180/Ut)}function _b(n){if(!fn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tE(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ut&&(o+=re),{angle:o,distance:a}}function C3(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Nn(n){return(n%re+re)%re}function Lu(n,t,e,i){const a=Nn(n),o=Nn(t),c=Nn(e),h=Nn(o-a),f=Nn(c-a),g=Nn(a-o),m=Nn(a-c);return a===o||a===c||i&&o===c||h>f&&g<m}function He(n,t,e){return Math.max(t,Math.min(e,n))}function A3(n){return He(n,-32768,32767)}function Hs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Ip(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const Cg=(n,t,e,i)=>Ip(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),R3=(n,t,e)=>Ip(n,e,i=>n[i][t]>=e);function M3(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const eE=["push","pop","shift","splice","unshift"];function O3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),eE.forEach(e=>{const i="_onData"+kp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function yb(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(eE.forEach(o=>{delete n[o]}),delete n._chartjs)}function nE(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const iE=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function sE(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,iE.call(window,()=>{i=!1,n.apply(t,e)}))}}function D3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Lp=n=>n==="start"?"left":n==="end"?"right":"center",Ce=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,N3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Vc=n=>n===0||n===1,vb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*re/e)),bb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*re/e)+1,Uo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ue)+1,easeOutSine:n=>Math.sin(n*ue),easeInOutSine:n=>-.5*(Math.cos(Ut*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Vc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Vc(n)?n:vb(n,.075,.3),easeOutElastic:n=>Vc(n)?n:bb(n,.075,.3),easeInOutElastic(n){return Vc(n)?n:n<.5?.5*vb(n*2,.1125,.45):.5+.5*bb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Uo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Uo.easeInBounce(n*2)*.5:Uo.easeOutBounce(n*2-1)*.5+.5};function rE(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Sb(n){return rE(n)?n:new tl(n)}function Yd(n){return rE(n)?n:new tl(n).saturate(.5).darken(.1).hexString()}const k3=["x","y","borderWidth","radius","tension"],I3=["color","borderColor","backgroundColor"];function L3(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:I3},numbers:{type:"number",properties:k3}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function P3(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xb=new Map;function z3(n,t){t=t||{};const e=n+JSON.stringify(t);let i=xb.get(e);return i||(i=new Intl.NumberFormat(n,t),xb.set(e,i)),i}function Pp(n,t,e){return z3(t,e).format(n)}const U3={values(n){return ce(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=H3(n,e)}const c=Jx(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Pp(n,i,f)}};function H3(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var aE={formatters:U3};function B3(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Xs=Object.create(null),Ag=Object.create(null);function Ho(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Wd(n,t,e){return typeof t=="string"?el(Ho(n,t),e):el(Ho(n,""),t)}class j3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Yd(a.backgroundColor),this.hoverBorderColor=(i,a)=>Yd(a.borderColor),this.hoverColor=(i,a)=>Yd(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Wd(this,t,e)}get(t){return Ho(this,t)}describe(t,e){return Wd(Ag,t,e)}override(t,e){return Wd(Xs,t,e)}route(t,e,i,a){const o=Ho(this,t),c=Ho(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[a];return wt(f)?Object.assign({},g,f):Tt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var ne=new j3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[L3,P3,B3]);function F3(n){return!n||Ht(n.size)||Ht(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Eb(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function Ds(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function Tb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function wb(n,t,e,i){oE(n,t,e,i,null)}function oE(n,t,e,i,a){let o,c,h,f,g,m,_,y;const b=t.pointStyle,x=t.rotation,E=t.radius;let T=(x||0)*b3;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(T),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),b){default:a?n.ellipse(e,i,a/2,E,0,0,re):n.arc(e,i,E,0,re),n.closePath();break;case"triangle":m=a?a/2:E,n.moveTo(e+Math.sin(T)*m,i-Math.cos(T)*E),T+=pb,n.lineTo(e+Math.sin(T)*m,i-Math.cos(T)*E),T+=pb,n.lineTo(e+Math.sin(T)*m,i-Math.cos(T)*E),n.closePath();break;case"rectRounded":g=E*.516,f=E-g,c=Math.cos(T+Os)*f,_=Math.cos(T+Os)*(a?a/2-g:f),h=Math.sin(T+Os)*f,y=Math.sin(T+Os)*(a?a/2-g:f),n.arc(e-_,i-h,g,T-Ut,T-ue),n.arc(e+y,i-c,g,T-ue,T),n.arc(e+_,i+h,g,T,T+ue),n.arc(e-y,i+c,g,T+ue,T+Ut),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*E,m=a?a/2:f,n.rect(e-m,i-f,2*m,2*f);break}T+=Os;case"rectRot":_=Math.cos(T)*(a?a/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+y,i-c),n.lineTo(e+_,i+h),n.lineTo(e-y,i+c),n.closePath();break;case"crossRot":T+=Os;case"cross":_=Math.cos(T)*(a?a/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"star":_=Math.cos(T)*(a?a/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c),T+=Os,_=Math.cos(T)*(a?a/2:E),c=Math.cos(T)*E,h=Math.sin(T)*E,y=Math.sin(T)*(a?a/2:E),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"line":c=a?a/2:Math.cos(T)*E,h=Math.sin(T)*E,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(T)*(a?a/2:E),i+Math.sin(T)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function lE(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function zp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Up(n){n.restore()}function V3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ht(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function q3(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,m=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,m),n.lineTo(h,m),n.stroke()}}function Y3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function il(n,t,e,i,a,o={}){const c=ce(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,V3(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&Y3(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ht(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),q3(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function Pu(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ut,Ut,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ut,ue,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ue,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-ue,!0),n.lineTo(e+c.topLeft,i)}const W3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,G3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function X3(n,t){const e=(""+n).match(W3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const K3=n=>+n||0;function Hp(n,t){const e={},i=wt(t),a=i?Object.keys(t):t,o=wt(n)?i?c=>Tt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=K3(o(c));return e}function cE(n){return Hp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Xr(n){return Hp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function dn(n){const t=cE(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ae(n,t){n=n||{},t=t||ne.font;let e=Tt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Tt(n.style,t.style);i&&!(""+i).match(G3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Tt(n.family,t.family),lineHeight:X3(Tt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Tt(n.weight,t.weight),string:""};return a.string=F3(a),a}function qc(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function Q3(n,t,e){const{min:i,max:a}=n,o=$x(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function ga(n,t){return Object.assign(Object.create(n),t)}function Bp(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=dE("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>Bp([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return hE(h,f,()=>s4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Ab(h).includes(f)},ownKeys(h){return Ab(h)},set(h,f,g){const m=h._storage||(h._storage=a());return h[f]=m[f]=g,delete h._keys,!0}})}function ia(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:uE(n,i),setContext:o=>ia(n,o,e,i),override:o=>ia(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return hE(o,c,()=>Z3(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function uE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:us(e)?e:()=>e,isIndexable:us(i)?i:()=>i}}const $3=(n,t)=>n?n+kp(t):t,jp=(n,t)=>wt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Z3(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return us(h)&&c.isScriptable(t)&&(h=J3(t,h,n,e)),ce(h)&&h.length&&(h=t4(t,h,n,c.isIndexable)),jp(t,h)&&(h=ia(h,a,o&&o[t],c)),h}function J3(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),jp(n,f)&&(f=Fp(a._scopes,a,n,f)),f}function t4(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(wt(t[0])){const f=t,g=a._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=Fp(g,a,n,m);t.push(ia(_,o,c&&c[n],h))}}return t}function fE(n,t,e){return us(n)?n(t,e):n}const e4=(n,t)=>n===!0?t:typeof n=="string"?Gs(t,n):void 0;function n4(n,t,e,i,a){for(const o of t){const c=e4(e,o);if(c){n.add(c);const h=fE(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Fp(n,t,e,i){const a=t._rootScopes,o=fE(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=Cb(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=Cb(h,c,o,f,i),f===null)?!1:Bp(Array.from(h),[""],a,o,()=>i4(t,e,i))}function Cb(n,t,e,i,a){for(;e;)e=n4(n,t,e,i,a);return e}function i4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return ce(a)&&wt(e)?e:a||{}}function s4(n,t,e,i){let a;for(const o of t)if(a=dE($3(o,n),e),typeof a<"u")return jp(n,a)?Fp(e,i,n,a):a}function dE(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Ab(n){let t=n._keys;return t||(t=n._keys=r4(n._scopes)),t}function r4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function Vp(){return typeof window<"u"&&typeof document<"u"}function qp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zu(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const ih=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function a4(n,t){return ih(n).getPropertyValue(t)}const o4=["top","right","bottom","left"];function Bs(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=o4[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const l4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function c4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(l4(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ls(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=ih(e),o=a.boxSizing==="border-box",c=Bs(a,"padding"),h=Bs(a,"border","width"),{x:f,y:g,box:m}=c4(n,e),_=c.left+(m&&h.left),y=c.top+(m&&h.top);let{width:b,height:x}=t;return o&&(b-=c.width+h.width,x-=c.height+h.height),{x:Math.round((f-_)/b*e.width/i),y:Math.round((g-y)/x*e.height/i)}}function u4(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&qp(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=ih(o),f=Bs(h,"border","width"),g=Bs(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=zu(h.maxWidth,o,"clientWidth"),a=zu(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||ku,maxHeight:a||ku}}const Yc=n=>Math.round(n*10)/10;function h4(n,t,e,i){const a=ih(n),o=Bs(a,"margin"),c=zu(a.maxWidth,n,"clientWidth")||ku,h=zu(a.maxHeight,n,"clientHeight")||ku,f=u4(n,t,e);let{width:g,height:m}=f;if(a.boxSizing==="content-box"){const y=Bs(a,"border","width"),b=Bs(a,"padding");g-=b.width+y.width,m-=b.height+y.height}return g=Math.max(0,g-o.width),m=Math.max(0,i?g/i:m-o.height),g=Yc(Math.min(g,c,f.maxWidth)),m=Yc(Math.min(m,h,f.maxHeight)),g&&!m&&(m=Yc(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,g=Yc(Math.floor(m*i))),{width:g,height:m}}function Rb(n,t,e){const i=t||1,a=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const f4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Vp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Mb(n,t){const e=a4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const d4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},g4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Kr(n,t,e){return n?d4(t,e):g4()}function gE(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function pE(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Wc(n,t,e){return n.options.clip?n[e]:t[e]}function p4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Wc(e,t,"left"),right:Wc(e,t,"right"),top:Wc(i,t,"top"),bottom:Wc(i,t,"bottom")}:t}function m4(n,t){const e=t._clip;if(e.disabled)return!1;const i=p4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=iE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ei=new _4;const Ob="transparent",y4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Sb(n||Ob),a=i.valid&&Sb(t||Ob);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class v4{constructor(t,e,i,a){const o=e[i];a=qc([t.to,a,o,t.from]);const c=qc([t.from,o,a]);this._active=!0,this._fn=t.fn||y4[t.type||typeof c],this._easing=Uo[t.easing]||Uo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=qc([t.to,e,a,t.from]),this._from=qc([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class mE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!wt(t))return;const e=Object.keys(ne.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!wt(o))return;const c={};for(const h of e)c[h]=o[h];(ce(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=S4(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&b4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const m=e[g];let _=o[g];const y=i.get(g);if(_)if(y&&_.active()){_.update(y,m,h);continue}else _.cancel();if(!y||!y.duration){t[g]=m;continue}o[g]=_=new v4(y,t,g,m),a.push(_)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ei.add(this._chart,i),!0}}function b4(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function S4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Db(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function x4(n,t,e){if(e===!1)return!1;const i=Db(n,e),a=Db(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function E4(n){let t,e,i,a;return wt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function _E(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function Nb(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let m=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(m=!0,i.all)continue;break}g=n.values[f],fn(g)&&(o||t===0||rs(t)===rs(g))&&(t+=g)}return!m&&!i.all?0:t}function T4(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,m;for(f=0,g=c.length;f<g;++f)m=c[f],h[f]={[a]:m,[o]:n[m]};return h}function Gd(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function w4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function C4(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function A4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function kb(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function Ib(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,m=w4(o,c,i),_=t.length;let y;for(let b=0;b<_;++b){const x=t[b],{[f]:E,[g]:T}=x,A=x._stacks||(x._stacks={});y=A[g]=A4(a,m,E),y[h]=T,y._top=kb(y,c,!0,i.type),y._bottom=kb(y,c,!1,i.type);const M=y._visualValues||(y._visualValues={});M[h]=T}}function Xd(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function R4(n,t){return ga(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function M4(n,t,e){return ga(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function So(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Kd=n=>n==="reset"||n==="none",Lb=(n,t)=>t?n:Object.assign({},n),O4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_E(e,!0),values:null};class Yp{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&So(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(_,y,b,x)=>_==="x"?y:_==="r"?x:b,o=e.xAxisID=Tt(i.xAxisID,Xd(t,"x")),c=e.yAxisID=Tt(i.yAxisID,Xd(t,"y")),h=e.rAxisID=Tt(i.rAxisID,Xd(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,c,h),m=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&yb(this._data,this),t._stacked&&So(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(wt(e)){const a=this._cachedMeta;this._data=T4(e,a)}else if(i!==e){if(i){yb(i,this);const a=this._cachedMeta;So(a),a._parsed=[]}e&&Object.isExtensible(e)&&O3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=Gd(e.vScale,e),e.stack!==i.stack&&(a=!0,So(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(Ib(this,e._parsed),e._stacked=Gd(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],m,_,y;if(this._parsing===!1)i._parsed=a,i._sorted=!0,y=a;else{ce(a[t])?y=this.parseArrayData(i,a,t,e):wt(a[t])?y=this.parseObjectData(i,a,t,e):y=this.parsePrimitiveData(i,a,t,e);const b=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)i._parsed[m+t]=_=y[m],f&&(b()&&(f=!1),g=_);i._sorted=f}c&&Ib(this,y)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),m=o===c,_=new Array(a);let y,b,x;for(y=0,b=a;y<b;++y)x=y+i,_[y]={[h]:m||o.parse(g[x],x),[f]:c.parse(e[x],x)};return _}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,g,m,_;for(f=0,g=a;f<g;++f)m=f+i,_=e[m],h[f]={x:o.parse(_[0],m),y:c.parse(_[1],m)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let m,_,y,b;for(m=0,_=a;m<_;++m)y=m+i,b=e[y],g[m]={x:o.parse(Gs(b,h),y),y:c.parse(Gs(b,f),y)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:_E(a,!0),values:e._stacks[t.axis]._visualValues};return Nb(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=Nb(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=O4(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=C4(h);let y,b;function x(){b=a[y];const E=b[h.axis];return!fn(b[t.axis])||m>E||_<E}for(y=0;y<c&&!(!x()&&(this.updateRangeFromParsed(g,t,b,f),o));++y);if(o){for(y=c-1;y>=0;--y)if(!x()){this.updateRangeFromParsed(g,t,b,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],fn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=E4(Tt(this.options.clip,x4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,h,f),m=h;m<h+f;++m){const _=a[m];_.hidden||(_.active&&g?c.push(_):_.draw(t,o))}for(m=0;m<c.length;++m)c[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=M4(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=R4(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&nl(i);if(h)return Lb(h,f);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=a?[`${t}Hover`,"hover",t,""]:[t,""],y=g.getOptionScopes(this.getDataset(),m),b=Object.keys(ne.elements[t]),x=()=>this.getContext(i,a,e),E=g.resolveNamedOptions(y,b,x,_);return E.$shared&&(E.$shared=f,o[c]=Object.freeze(Lb(E,f))),E}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(y,this.getContext(t,i,e))}const g=new mE(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Kd(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){Kd(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Kd(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&So(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function D4(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=nE(i.sort((a,o)=>a-o))}return n._cache.$bar}function N4(n){const t=n.iScale,e=D4(t,n.type);let i=t._length,a,o,c,h;const f=()=>{c===32767||c===-32768||(nl(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),f();return i}function k4(n,t,e,i){const a=e.barThickness;let o,c;return Ht(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function I4(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function L4(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:a,end:o,min:c,max:h}}function yE(n,t,e,i){return ce(n)?L4(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Pb(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,f=[];let g,m,_,y;for(g=e,m=e+i;g<m;++g)y=t[g],_={},_[a.axis]=h||a.parse(c[g],g),f.push(yE(y,_,o,g));return f}function Qd(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function P4(n,t,e){return n!==0?rs(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function z4(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function U4(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:m}=z4(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=g:(e._bottom||0)===i?a=m:(o[zb(m,c,h,f)]=!0,a=g)),o[zb(a,c,h,f)]=!0,n.borderSkipped=o}function zb(n,t,e,i){return i?(n=H4(n,t,e),n=Ub(n,e,t)):n=Ub(n,t,e),n}function H4(n,t,e){return n===t?e:n===e?t:n}function Ub(n,t,e){return n==="start"?t:n==="end"?e:n}function B4(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class j4 extends Yp{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,a){return Pb(t,e,i,a)}parseArrayData(t,e,i,a){return Pb(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,m=c.axis==="x"?h:f,_=[];let y,b,x,E;for(y=i,b=i+a;y<b;++y)E=e[y],x={},x[o.axis]=o.parse(Gs(E,g),y),_.push(yE(Gs(E,m),x,c,y));return _}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=Qd(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,a);for(let b=e;b<e+i;b++){const x=this.getParsed(b),E=o||Ht(x[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),T=this._calculateBarIndexPixels(b,m),A=(x._stacks||{})[h.axis],M={horizontal:g,base:E.base,enableBorderRadius:!A||Qd(x._custom)||c===A._top||c===A._bottom,x:g?E.head:T.center,y:g?T.center:E.head,height:g?T.size:Math.abs(E.size),width:g?Math.abs(E.size):T.size};y&&(M.options=_||this.resolveDataElementOptions(b,t[b].active?"active":a));const U=M.options||t[b].options;U4(M,U,A,c),B4(M,U,m.ratio),this.updateElement(t[b],b,M,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=m=>{const _=m._parsed.find(b=>b[i.axis]===f),y=_&&_[m.vScale.axis];if(Ht(y)||isNaN(y))return!0};for(const m of a)if(!(e!==void 0&&g(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Tt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||N4(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,m=Qd(g);let _=f[e.axis],y=0,b=i?this.applyStack(e,f,i):_,x,E;b!==_&&(y=b-_,b=_),m&&(_=g.barStart,b=g.barEnd-g.barStart,_!==0&&rs(_)!==rs(g.barEnd)&&(y=0),y+=_);const T=!Ht(o)&&!m?o:y;let A=e.getPixelForValue(T);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(y+b):x=A,E=x-A,Math.abs(E)<c){E=P4(E,e,h)*c,_===h&&(A-=E/2);const M=e.getPixelForDecimal(0),U=e.getPixelForDecimal(1),q=Math.min(M,U),B=Math.max(M,U);A=Math.max(Math.min(A,B),q),x=A+E,i&&!m&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(x)-e.getValueForPixel(A))}if(A===e.getPixelForValue(h)){const M=rs(E)*e.getLineWidthForValue(h)/2;A+=M,E-=M}return{size:E,base:A,head:x,center:x+E/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=Tt(a.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,_=a.barThickness==="flex"?I4(t,e,a,m*g):k4(t,e,a,m*g),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Tt(y,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+b;h=_.start+_.chunk*x+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function F4(n,t,e){let i=1,a=1,o=0,c=0;if(t<re){const h=n,f=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(f),y=Math.sin(f),b=(U,q,B)=>Lu(U,h,f,!0)?1:Math.max(q,q*e,B,B*e),x=(U,q,B)=>Lu(U,h,f,!0)?-1:Math.min(q,q*e,B,B*e),E=b(0,g,_),T=b(ue,m,y),A=x(Ut,g,_),M=x(Ut+ue,m,y);i=(E-A)/2,a=(T-M)/2,o=-(E+A)/2,c=-(T+M)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class V4 extends Yp{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(wt(i[t])){const{key:f="value"}=this._parsing;o=g=>+Gs(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return li(this.options.rotation-90)}_getCircumference(){return li(this.options.circumference)}_getRotationExtents(){let t=re,e=-re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(g3(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:x,offsetY:E}=F4(_,m,f),T=(i.width-c)/y,A=(i.height-c)/b,M=Math.max(Math.min(T,A)/2,0),U=$x(this.options.radius,M),q=Math.max(U*f,0),B=(U-q)/this._getVisibleDatasetWeightTotal();this.offsetX=x*U,this.offsetY=E*U,a.total=this.calculateTotal(),this.outerRadius=U-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/re)}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,y=o&&g.animateScale,b=y?0:this.innerRadius,x=y?0:this.outerRadius,{sharedOptions:E,includeOptions:T}=this._getSharedOptions(e,a);let A=this._getRotation(),M;for(M=0;M<e;++M)A+=this._circumference(M,o);for(M=e;M<e+i;++M){const U=this._circumference(M,o),q=t[M],B={x:m+this.offsetX,y:_+this.offsetY,startAngle:A,endAngle:A+U,circumference:U,outerRadius:x,innerRadius:b};T&&(B.options=E||this.resolveDataElementOptions(M,q.active?"active":a)),A+=U,this.updateElement(q,M,B,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Pp(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,c,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,h=c.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Ns(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wp{static override(t){Object.assign(Wp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ns()}parse(){return Ns()}format(){return Ns()}add(){return Ns()}diff(){return Ns()}startOf(){return Ns()}endOf(){return Ns()}}var q4={_date:Wp};function Y4(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?R3:Cg;if(i){if(a._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const y=g(o,t,e-_),b=g(o,t,e+_);return{lo:y.lo,hi:b.hi}}}}else{const m=g(o,t,e);if(f){const{vScale:_}=a._cachedMeta,{_parsed:y}=n,b=y.slice(0,m.lo+1).reverse().findIndex(E=>!Ht(E[_.axis]));m.lo-=Math.max(0,b);const x=y.slice(m.hi).findIndex(E=>!Ht(E[_.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:o.length-1}}function sh(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:m}=o[h],{lo:_,hi:y}=Y4(o[h],t,c,a);for(let b=_;b<=y;++b){const x=m[b];x.skip||i(x,g,b)}}}function W4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function $d(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||sh(n,e,t,function(h,f,g){!a&&!lE(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function G4(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:g,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:_}=tE(c,{x:t.x,y:t.y});Lu(_,g,m)&&a.push({element:c,datasetIndex:h,index:f})}return sh(n,e,t,o),a}function X4(n,t,e,i,a,o){let c=[];const h=W4(e);let f=Number.POSITIVE_INFINITY;function g(m,_,y){const b=m.inRange(t.x,t.y,a);if(i&&!b)return;const x=m.getCenterPoint(a);if(!(!!o||n.isPointInArea(x))&&!b)return;const T=h(t,x);T<f?(c=[{element:m,datasetIndex:_,index:y}],f=T):T===f&&c.push({element:m,datasetIndex:_,index:y})}return sh(n,e,t,g),c}function Zd(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?G4(n,t,e,a):X4(n,t,e,i,a,o)}function Hb(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return sh(n,e,t,(f,g,m)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:g,index:m}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var K4={modes:{index(n,t,e,i){const a=Ls(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?$d(n,a,o,i,c):Zd(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:g.index,index:m})}),f):[]},dataset(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?$d(n,a,o,i,c):Zd(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:f,index:m})}return h},point(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return $d(n,a,o,i,c)},nearest(n,t,e,i){const a=Ls(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Zd(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=Ls(t,n);return Hb(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Ls(t,n);return Hb(n,a,"y",e.intersect,i)}}};const vE=["left","top","right","bottom"];function xo(n,t){return n.filter(e=>e.pos===t)}function Bb(n,t){return n.filter(e=>vE.indexOf(e.pos)===-1&&e.box.axis===t)}function Eo(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Q4(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function $4(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!vE.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function Z4(n,t){const e=$4(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=m?m*a:f&&t.availableHeight)}return e}function J4(n){const t=Q4(n),e=Eo(t.filter(g=>g.box.fullSize),!0),i=Eo(xo(t,"left"),!0),a=Eo(xo(t,"right")),o=Eo(xo(t,"top"),!0),c=Eo(xo(t,"bottom")),h=Bb(t,"x"),f=Bb(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:xo(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function jb(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bE(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function t6(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!wt(a)){e.size&&(n[a]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[a]+=e.size}o.getPadding&&bE(c,o.getPadding());const h=Math.max(0,t.outerWidth-jb(c,n,"left","right")),f=Math.max(0,t.outerHeight-jb(c,n,"top","bottom")),g=h!==n.w,m=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:m}:{same:m,other:g}}function e6(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function n6(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Ro(n,t,e,i){const a=[];let o,c,h,f,g,m;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,n6(h.horizontal,t));const{same:_,other:y}=t6(t,e,h,i);g|=_&&a.length,m=m||y,f.fullSize||a.push(h)}return g&&Ro(a,t,e,i)||m}function Gc(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function Fb(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,y=g.size||f.height;nl(g.start)&&(c=g.start),f.fullSize?Gc(f,a.left,c,e.outerWidth-a.right-a.left,y):Gc(f,t.left+g.placed,c,_,y),g.start=c,g.placed+=_,c=f.bottom}else{const _=t.h*m,y=g.size||f.width;nl(g.start)&&(o=g.start),f.fullSize?Gc(f,o,a.top,y,e.outerHeight-a.bottom-a.top):Gc(f,o,t.top+g.placed,y,_),g.start=o,g.placed+=_,o=f.right}}t.x=o,t.y=c}var hn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=dn(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=J4(n.boxes),f=h.vertical,g=h.horizontal;Dt(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=f.reduce((E,T)=>T.box.options&&T.box.options.display===!1?E:E+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},a);bE(y,dn(i));const b=Object.assign({maxPadding:y,w:o,h:c,x:a.left,y:a.top},a),x=Z4(f.concat(g),_);Ro(h.fullSize,b,_,x),Ro(f,b,_,x),Ro(g,b,_,x)&&Ro(f,b,_,x),e6(b),Fb(h.leftAndTop,b,_,x),b.x+=b.w,b.y+=b.h,Fb(h.rightAndBottom,b,_,x),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Dt(h.chartArea,E=>{const T=E.box;Object.assign(T,n.chartArea),T.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class SE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class i6 extends SE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ou="$chartjs",s6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vb=n=>n===null||n==="";function r6(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[ou]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Vb(a)){const o=Mb(n,"width");o!==void 0&&(n.width=o)}if(Vb(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Mb(n,"height");o!==void 0&&(n.height=o)}return n}const xE=f4?{passive:!0}:!1;function a6(n,t,e){n&&n.addEventListener(t,e,xE)}function o6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,xE)}function l6(n,t){const e=s6[n.type]||n.type,{x:i,y:a}=Ls(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Uu(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function c6(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uu(h.addedNodes,i),c=c&&!Uu(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function u6(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uu(h.removedNodes,i),c=c&&!Uu(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const sl=new Map;let qb=0;function EE(){const n=window.devicePixelRatio;n!==qb&&(qb=n,sl.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function h6(n,t){sl.size||window.addEventListener("resize",EE),sl.set(n,t)}function f6(n){sl.delete(n),sl.size||window.removeEventListener("resize",EE)}function d6(n,t,e){const i=n.canvas,a=i&&qp(i);if(!a)return;const o=sE((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,m=f.contentRect.height;g===0&&m===0||o(g,m)});return c.observe(a),h6(n,o),c}function Jd(n,t,e){e&&e.disconnect(),t==="resize"&&f6(n)}function g6(n,t,e){const i=n.canvas,a=sE(o=>{n.ctx!==null&&e(l6(o,n))},n);return a6(i,t,a),a}class p6 extends SE{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(r6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[ou])return!1;const i=e[ou].initial;["height","width"].forEach(o=>{const c=i[o];Ht(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[ou],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:c6,detach:u6,resize:d6}[e]||g6;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Jd,detach:Jd,resize:Jd}[e]||o6)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return h4(t,e,i,a)}isAttached(t){const e=t&&qp(t);return!!(e&&e.isConnected)}}function m6(n){return!Vp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?i6:p6}class Zs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Iu(this.x)&&Iu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function _6(n,t){const e=n.options.ticks,i=y6(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?b6(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>a)return S6(t,g,o,c/a),g;const m=v6(o,t,a);if(c>0){let _,y;const b=c>1?Math.round((f-h)/(c-1)):null;for(Xc(t,g,m,Ht(b)?0:h-b,h),_=0,y=c-1;_<y;_++)Xc(t,g,m,o[_],o[_+1]);return Xc(t,g,m,f,Ht(b)?t.length:f+b),g}return Xc(t,g,m),g}function y6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function v6(n,t,e){const i=x6(n),a=t.length/e;if(!i)return Math.max(a,1);const o=S3(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function b6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function S6(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function Xc(n,t,e,i,a){const o=Tt(i,0),c=Math.min(Tt(a,n.length),n.length);let h=0,f,g,m;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),m=o;m<0;)h++,m=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===m&&(t.push(n[g]),h++,m=Math.round(o+h*e))}function x6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const E6=n=>n==="left"?"right":n==="right"?"left":n,Yb=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Wb=(n,t)=>Math.min(t||n,n);function Gb(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function T6(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>c+h)))return f}function w6(n,t){Dt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function To(n){return n.drawTicks?n.tickLength:0}function Xb(n,t){if(!n.display)return 0;const e=Ae(n.font,t),i=dn(n.padding);return(ce(n.text)?n.text.length:1)*e.lineHeight+i.height}function C6(n,t){return ga(n,{scale:t,type:"scale"})}function A6(n,t,e){return ga(n,{tick:e,index:t,type:"tick"})}function R6(n,t,e){let i=Lp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=E6(i)),i}function M6(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:m}=f;let _=0,y,b,x;const E=c-a,T=h-o;if(n.isHorizontal()){if(b=Ce(i,o,h),wt(e)){const A=Object.keys(e)[0],M=e[A];x=m[A].getPixelForValue(M)+E-t}else e==="center"?x=(g.bottom+g.top)/2+E-t:x=Yb(n,e,t);y=h-o}else{if(wt(e)){const A=Object.keys(e)[0],M=e[A];b=m[A].getPixelForValue(M)-T+t}else e==="center"?b=(g.left+g.right)/2-T+t:b=Yb(n,e,t);x=Ce(i,c,a),_=e==="left"?-ue:ue}return{titleX:b,titleY:x,maxWidth:y,rotation:_}}class pa extends Zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Mn(t,Number.POSITIVE_INFINITY),e=Mn(e,Number.NEGATIVE_INFINITY),i=Mn(i,Number.POSITIVE_INFINITY),a=Mn(a,Number.NEGATIVE_INFINITY),{min:Mn(t,i),max:Mn(e,a),minDefined:fn(t),maxDefined:fn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Mn(e,Mn(i,e)),max:Mn(i,Mn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Q3(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Gb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=_6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=qt(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Wb(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,b=He(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:b/(i-1),_+6>h&&(h=b/(i-(t.offset?.5:1)),f=this.maxHeight-To(t.grid)-e.padding-Xb(t.title,this.chart.options.font),g=Math.sqrt(_*_+y*y),c=w3(Math.min(Math.asin(He((m.highest.height+6)/h,-1,1)),Math.asin(He(f/g,-1,1))-Math.asin(He(y/g,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=Xb(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=To(o)+f):(t.height=this.maxHeight,t.width=To(o)+f),i.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:y}=this._getLabelSizes(),b=i.padding*2,x=li(this.labelRotation),E=Math.cos(x),T=Math.sin(x);if(h){const A=i.mirror?0:T*_.width+E*y.height;t.height=Math.min(this.maxHeight,t.height+A+b)}else{const A=i.mirror?0:E*_.width+T*y.height;t.width=Math.min(this.maxWidth,t.width+A+b)}this._calculatePadding(g,m,T,E)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;f?g?(y=a*t.width,b=i*e.height):(y=i*t.height,b=a*e.width):o==="start"?b=e.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,b=e.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-_+c)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ht(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Gb(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Wb(e,i));let g=0,m=0,_,y,b,x,E,T,A,M,U,q,B;for(_=0;_<e;_+=f){if(x=t[_].label,E=this._resolveTickFontOptions(_),a.font=T=E.string,A=o[T]=o[T]||{data:{},gc:[]},M=E.lineHeight,U=q=0,!Ht(x)&&!ce(x))U=Eb(a,A.data,A.gc,U,x),q=M;else if(ce(x))for(y=0,b=x.length;y<b;++y)B=x[y],!Ht(B)&&!ce(B)&&(U=Eb(a,A.data,A.gc,U,B),q+=M);c.push(U),h.push(q),g=Math.max(U,g),m=Math.max(q,m)}w6(o,e);const K=c.indexOf(g),Q=h.indexOf(m),$=Z=>({width:c[Z]||0,height:h[Z]||0});return{first:$(0),last:$(e-1),widest:$(K),highest:$(Q),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return A3(this._alignToPixels?Ds(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=A6(this.getContext(),t,i))}return this.$context||(this.$context=C6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=li(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,g=this.isHorizontal(),_=this.ticks.length+(f?1:0),y=To(o),b=[],x=h.setContext(this.getContext()),E=x.display?x.width:0,T=E/2,A=function(L){return Ds(i,L,E)};let M,U,q,B,K,Q,$,Z,lt,at,st,Vt;if(c==="top")M=A(this.bottom),Q=this.bottom-y,Z=M-T,at=A(t.top)+T,Vt=t.bottom;else if(c==="bottom")M=A(this.top),at=t.top,Vt=A(t.bottom)-T,Q=M+T,Z=this.top+y;else if(c==="left")M=A(this.right),K=this.right-y,$=M-T,lt=A(t.left)+T,st=t.right;else if(c==="right")M=A(this.left),lt=t.left,st=A(t.right)-T,K=M+T,$=this.left+y;else if(e==="x"){if(c==="center")M=A((t.top+t.bottom)/2+.5);else if(wt(c)){const L=Object.keys(c)[0],Y=c[L];M=A(this.chart.scales[L].getPixelForValue(Y))}at=t.top,Vt=t.bottom,Q=M+T,Z=Q+y}else if(e==="y"){if(c==="center")M=A((t.left+t.right)/2);else if(wt(c)){const L=Object.keys(c)[0],Y=c[L];M=A(this.chart.scales[L].getPixelForValue(Y))}K=M-T,$=K-y,lt=t.left,st=t.right}const Jt=Tt(a.ticks.maxTicksLimit,_),ft=Math.max(1,Math.ceil(_/Jt));for(U=0;U<_;U+=ft){const L=this.getContext(U),Y=o.setContext(L),tt=h.setContext(L),dt=Y.lineWidth,C=Y.color,V=tt.dash||[],X=tt.dashOffset,G=Y.tickWidth,et=Y.tickColor,mt=Y.tickBorderDash||[],it=Y.tickBorderDashOffset;q=T6(this,U,f),q!==void 0&&(B=Ds(i,q,dt),g?K=$=lt=st=B:Q=Z=at=Vt=B,b.push({tx1:K,ty1:Q,tx2:$,ty2:Z,x1:lt,y1:at,x2:st,y2:Vt,width:dt,color:C,borderDash:V,borderDashOffset:X,tickWidth:G,tickColor:et,tickBorderDash:mt,tickBorderDashOffset:it}))}return this._ticksLength=_,this._borderValue=M,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:m,mirror:_}=o,y=To(i.grid),b=y+m,x=_?-m:b,E=-li(this.labelRotation),T=[];let A,M,U,q,B,K,Q,$,Z,lt,at,st,Vt="middle";if(a==="top")K=this.bottom-x,Q=this._getXAxisLabelAlignment();else if(a==="bottom")K=this.top+x,Q=this._getXAxisLabelAlignment();else if(a==="left"){const ft=this._getYAxisLabelAlignment(y);Q=ft.textAlign,B=ft.x}else if(a==="right"){const ft=this._getYAxisLabelAlignment(y);Q=ft.textAlign,B=ft.x}else if(e==="x"){if(a==="center")K=(t.top+t.bottom)/2+b;else if(wt(a)){const ft=Object.keys(a)[0],L=a[ft];K=this.chart.scales[ft].getPixelForValue(L)+b}Q=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")B=(t.left+t.right)/2-b;else if(wt(a)){const ft=Object.keys(a)[0],L=a[ft];B=this.chart.scales[ft].getPixelForValue(L)}Q=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(f==="start"?Vt="top":f==="end"&&(Vt="bottom"));const Jt=this._getLabelSizes();for(A=0,M=h.length;A<M;++A){U=h[A],q=U.label;const ft=o.setContext(this.getContext(A));$=this.getPixelForTick(A)+o.labelOffset,Z=this._resolveTickFontOptions(A),lt=Z.lineHeight,at=ce(q)?q.length:1;const L=at/2,Y=ft.color,tt=ft.textStrokeColor,dt=ft.textStrokeWidth;let C=Q;c?(B=$,Q==="inner"&&(A===M-1?C=this.options.reverse?"left":"right":A===0?C=this.options.reverse?"right":"left":C="center"),a==="top"?g==="near"||E!==0?st=-at*lt+lt/2:g==="center"?st=-Jt.highest.height/2-L*lt+lt:st=-Jt.highest.height+lt/2:g==="near"||E!==0?st=lt/2:g==="center"?st=Jt.highest.height/2-L*lt:st=Jt.highest.height-at*lt,_&&(st*=-1),E!==0&&!ft.showLabelBackdrop&&(B+=lt/2*Math.sin(E))):(K=$,st=(1-at)*lt/2);let V;if(ft.showLabelBackdrop){const X=dn(ft.backdropPadding),G=Jt.heights[A],et=Jt.widths[A];let mt=st-X.top,it=0-X.left;switch(Vt){case"middle":mt-=G/2;break;case"bottom":mt-=G;break}switch(Q){case"center":it-=et/2;break;case"right":it-=et;break;case"inner":A===M-1?it-=et:A>0&&(it-=et/2);break}V={left:it,top:mt,width:et+X.width,height:G+X.height,color:ft.backdropColor}}T.push({label:q,font:Z,textOffset:st,options:{rotation:E,color:Y,strokeColor:tt,strokeWidth:dt,textAlign:C,textBaseline:Vt,translation:[B,K],backdrop:V}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-li(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,m;return e==="left"?a?(m=this.right+o,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m+=f)):(m=this.right-h,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m=this.left)):e==="right"?a?(m=this.left+o,i==="near"?g="right":i==="center"?(g="center",m-=f/2):(g="left",m-=f)):(m=this.left+h,i==="near"?g="left":i==="center"?(g="center",m+=f/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,m,_,y;this.isHorizontal()?(g=Ds(t,this.left,c)-c/2,m=Ds(t,this.right,h)+h/2,_=y=f):(_=Ds(t,this.top,c)-c/2,y=Ds(t,this.bottom,h)+h/2,g=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&zp(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,m=c.textOffset;il(i,g,0,m,f,h)}a&&Up(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=Ae(i.font),c=dn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||wt(e)?(f+=c.bottom,ce(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:m,maxWidth:_,rotation:y}=M6(this,f,e,h);il(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:y,textAlign:R6(h,e,a),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Tt(t.grid&&t.grid.z,-1),a=Tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==pa.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ae(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kc{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;N6(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,O6(t,c,i),this.override&&ne.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in ne[a]&&(delete ne[a][i],this.override&&delete Xs[i])}}function O6(n,t,e){const i=el(Object.create(null),[e?ne.get(e):{},ne.get(t),n.defaults]);ne.set(t,i),n.defaultRoutes&&D6(t,n.defaultRoutes),n.descriptors&&ne.describe(t,n.descriptors)}function D6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");ne.route(o,a,f,h)})}function N6(n){return"id"in n&&"defaults"in n}class k6{constructor(){this.controllers=new Kc(Yp,"datasets",!0),this.elements=new Kc(Zs,"elements"),this.plugins=new Kc(Object,"plugins"),this.scales=new Kc(pa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Dt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=kp(t);qt(i["before"+a],[],i),e[t](i),qt(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Dn=new k6;class I6{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(qt(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Tt(i.options&&i.options.plugins,{}),o=L6(i);return a===!1&&!e?[]:z6(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function L6(n){const t={},e=[],i=Object.keys(Dn.plugins.items);for(let o=0;o<i.length;o++)e.push(Dn.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function P6(n,t){return!t&&n===!1?null:n===!0?{}:n}function z6(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=P6(i[f],a);g!==null&&o.push({plugin:h,options:U6(n.config,{plugin:h,local:e[f]},g,c)})}return o}function U6(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rg(n,t){const e=ne.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function H6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function B6(n,t){return n===t?"_index_":"_value_"}function Kb(n){if(n==="x"||n==="y"||n==="r")return n}function j6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Mg(n,...t){if(Kb(n))return n;for(const e of t){const i=e.axis||j6(e.position)||n.length>1&&Kb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Qb(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function F6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Qb(n,"x",e[0])||Qb(n,"y",e[0])}return{}}function V6(n,t){const e=Xs[n.type]||{scales:{}},i=t.scales||{},a=Rg(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!wt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Mg(c,h,F6(c,n),ne.scales[h.type]),g=B6(f,a),m=e.scales||{};o[c]=zo(Object.create(null),[{axis:f},h,m[f],m[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Rg(h,t),m=(Xs[h]||{}).scales||{};Object.keys(m).forEach(_=>{const y=H6(_,f),b=c[y+"AxisID"]||y;o[b]=o[b]||Object.create(null),zo(o[b],[{axis:y},i[b],m[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];zo(h,[ne.scales[h.type],ne.scale])}),o}function TE(n){const t=n.options||(n.options={});t.plugins=Tt(t.plugins,{}),t.scales=V6(n,t)}function wE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function q6(n){return n=n||{},n.data=wE(n.data),TE(n),n}const $b=new Map,CE=new Set;function Qc(n,t){let e=$b.get(n);return e||(e=t(),$b.set(n,e),CE.add(e)),e}const wo=(n,t,e)=>{const i=Gs(t,e);i!==void 0&&n.add(i)};class Y6{constructor(t){this._config=q6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>wo(f,t,_))),m.forEach(_=>wo(f,a,_)),m.forEach(_=>wo(f,Xs[o]||{},_)),m.forEach(_=>wo(f,ne,_)),m.forEach(_=>wo(f,Ag,_))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),CE.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Xs[e]||{},ne.datasets[e]||{},{type:e},ne,Ag]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Zb(this._resolverCache,t,a);let f=c;if(G6(c,e)){o.$shared=!1,i=us(i)?i():i;const g=this.createResolver(t,i,h);f=ia(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=Zb(this._resolverCache,t,i);return wt(e)?ia(o,e,void 0,a):o}}function Zb(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:Bp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const W6=n=>wt(n)&&Object.getOwnPropertyNames(n).some(t=>us(n[t]));function G6(n,t){const{isScriptable:e,isIndexable:i}=uE(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(us(h)||W6(h))||c&&ce(h))return!0}return!1}var X6="4.5.0";const K6=["top","bottom","left","right","chartArea"];function Jb(n,t){return n==="top"||n==="bottom"||K6.indexOf(n)===-1&&t==="x"}function t1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function e1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),qt(e&&e.onComplete,[n],t)}function Q6(n){const t=n.chart,e=t.options.animation;qt(e&&e.onProgress,[n],t)}function AE(n){return Vp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lu={},n1=n=>{const t=AE(n);return Object.values(lu).filter(e=>e.canvas===t).pop()};function $6(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function Z6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let vl=class{static defaults=ne;static instances=lu;static overrides=Xs;static registry=Dn;static version=X6;static getChart=n1;static register(...t){Dn.add(...t),i1()}static unregister(...t){Dn.remove(...t),i1()}constructor(t,e){const i=this.config=new Y6(e),a=AE(t),o=n1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||m6(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,m=f&&f.width;if(this.id=d3(),this.ctx=h,this.canvas=f,this.width=m,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new I6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=D3(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],lu[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ei.listen(this,"complete",e1),ei.listen(this,"progress",Q6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return Ht(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tb(this.canvas,this.ctx),this}stop(){return ei.stop(this),this}resize(t,e){ei.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Rb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),qt(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Dt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Mg(c,h),g=f==="r",m=f==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Dt(o,c=>{const h=c.options,f=h.id,g=Mg(f,h),m=Tt(h.type,c.dtype);(h.position===void 0||Jb(h.position,g)!==Jb(c.dposition))&&(h.position=c.dposition),a[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const y=Dn.getScale(m);_=new y({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),Dt(a,(c,h)=>{c||delete i[h]}),Dt(i,c=>{hn.configure(this,c,c.options),hn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(t1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Rg(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Dn.getController(h),{datasetElementType:g,dataElementType:m}=ne.datasets[h];Object.assign(f,{dataElementType:Dn.getElement(m),datasetElementType:g&&Dn.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),y=!a&&o.indexOf(_)===-1;_.buildOrUpdateElements(y),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Dt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(t1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Dt(this.scales,t=>{hn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!gb(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;$6(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!gb(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Dt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,us(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ei.has(this)?this.attached&&!ei.running(this)&&ei.start(this):(this.draw(),e1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=m4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&zp(e,a),t.controller.draw(),a&&Up(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return lE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=K4.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=ga(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);nl(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ei.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Tb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete lu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Dt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Dt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Dt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Du(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=v3(t),g=Z6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,qt(o.onHover,[t,h,this],this),f&&qt(o.onClick,[t,h,this],this));const m=!Du(h,a);return(m||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,m}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function i1(){return Dt(vl.instances,n=>n._plugins.invalidate())}function J6(n,t,e){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:m}=f,_=Math.min(g/c,Nn(i-e));if(n.beginPath(),n.arc(a,o,c-g/2,i+_/2,e-_/2),h>0){const y=Math.min(g/h,Nn(i-e));n.arc(a,o,h+g/2,e-y/2,i+y/2,!0)}else{const y=Math.min(g/2,c*Nn(i-e));if(m==="round")n.arc(a,o,y,e-Ut/2,i+Ut/2,!0);else if(m==="bevel"){const b=2*y*y,x=-b*Math.cos(e+Ut/2)+a,E=-b*Math.sin(e+Ut/2)+o,T=b*Math.cos(i+Ut/2)+a,A=b*Math.sin(i+Ut/2)+o;n.lineTo(x,E),n.lineTo(T,A)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function tI(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=a/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>a?(g=a/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,a,e+ue,i-ue),n.closePath(),n.clip()}function eI(n){return Hp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function nI(n,t,e,i){const a=eI(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return He(f,0,Math.min(o,g))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:He(a.innerStart,0,c),innerEnd:He(a.innerEnd,0,c)}}function Br(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Hu(n,t,e,i,a,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-g,0),y=m>0?m+i+e+g:0;let b=0;const x=a-f;if(i){const ft=m>0?m-i:0,L=_>0?_-i:0,Y=(ft+L)/2,tt=Y!==0?x*Y/(Y+i):x;b=(x-tt)/2}const E=Math.max(.001,x*_-e/Ut)/_,T=(x-E)/2,A=f+T+b,M=a-T-b,{outerStart:U,outerEnd:q,innerStart:B,innerEnd:K}=nI(t,y,_,M-A),Q=_-U,$=_-q,Z=A+U/Q,lt=M-q/$,at=y+B,st=y+K,Vt=A+B/at,Jt=M-K/st;if(n.beginPath(),o){const ft=(Z+lt)/2;if(n.arc(c,h,_,Z,ft),n.arc(c,h,_,ft,lt),q>0){const dt=Br($,lt,c,h);n.arc(dt.x,dt.y,q,lt,M+ue)}const L=Br(st,M,c,h);if(n.lineTo(L.x,L.y),K>0){const dt=Br(st,Jt,c,h);n.arc(dt.x,dt.y,K,M+ue,Jt+Math.PI)}const Y=(M-K/y+(A+B/y))/2;if(n.arc(c,h,y,M-K/y,Y,!0),n.arc(c,h,y,Y,A+B/y,!0),B>0){const dt=Br(at,Vt,c,h);n.arc(dt.x,dt.y,B,Vt+Math.PI,A-ue)}const tt=Br(Q,A,c,h);if(n.lineTo(tt.x,tt.y),U>0){const dt=Br(Q,Z,c,h);n.arc(dt.x,dt.y,U,A-ue,Z)}}else{n.moveTo(c,h);const ft=Math.cos(Z)*_+c,L=Math.sin(Z)*_+h;n.lineTo(ft,L);const Y=Math.cos(lt)*_+c,tt=Math.sin(lt)*_+h;n.lineTo(Y,tt)}n.closePath()}function iI(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Hu(n,t,e,i,f,a);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%re||re))}return Hu(n,t,e,i,f,a),n.fill(),f}function sI(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:y,borderRadius:b}=f,x=f.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=y,x?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let E=t.endAngle;if(o){Hu(n,t,e,i,E,a);for(let T=0;T<o;++T)n.stroke();isNaN(h)||(E=c+(h%re||re))}x&&tI(n,t,E),f.selfJoin&&E-c>=Ut&&b===0&&m!=="miter"&&J6(n,t,E),o||(Hu(n,t,e,i,E,a),n.stroke())}class rI extends Zs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=tE(a,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,b=Tt(_,f-h),x=Lu(o,h,f)&&h!==f,E=b>=re||x,T=Hs(c,g+y,m+y);return E&&T}getCenterPoint(t){const{x:e,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,m=(a+o)/2,_=(c+h+g+f)/2;return{x:e+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,a=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>re?Math.floor(i/re):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(Ut,i||0)),g=a*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,iI(t,this,g,o,c),sI(t,this,g,o,c),t.restore()}}function RE(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,m,_;return n.horizontal?(_=c/2,h=Math.min(e,a),f=Math.max(e,a),g=i-_,m=i+_):(_=o/2,h=e-_,f=e+_,g=Math.min(i,a),m=Math.max(i,a)),{left:h,top:g,right:f,bottom:m}}function $i(n,t,e,i){return n?0:He(t,e,i)}function aI(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=cE(i);return{t:$i(a.top,o.top,0,e),r:$i(a.right,o.right,0,t),b:$i(a.bottom,o.bottom,0,e),l:$i(a.left,o.left,0,t)}}function oI(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=Xr(a),c=Math.min(t,e),h=n.borderSkipped,f=i||wt(a);return{topLeft:$i(!f||h.top||h.left,o.topLeft,0,c),topRight:$i(!f||h.top||h.right,o.topRight,0,c),bottomLeft:$i(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:$i(!f||h.bottom||h.right,o.bottomRight,0,c)}}function lI(n){const t=RE(n),e=t.right-t.left,i=t.bottom-t.top,a=aI(n,e/2,i/2),o=oI(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function tg(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&RE(n,i);return h&&(a||Hs(t,h.left,h.right))&&(o||Hs(e,h.top,h.bottom))}function cI(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function uI(n,t){n.rect(t.x,t.y,t.w,t.h)}function eg(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class hI extends Zs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=lI(this),h=cI(c.radius)?Pu:uI;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,eg(c,e,o)),t.clip(),h(t,eg(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,eg(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return tg(this,t,e,i)}inXRange(t,e){return tg(this,t,null,e)}inYRange(t,e){return tg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const s1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},fI=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class r1 extends Zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=Ae(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=s1(i,o);let g,m;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(c,o,h,f)+10):(m=this.maxHeight,g=this._fitCols(c,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],m=a+h;let _=t;o.textAlign="left",o.textBaseline="middle";let y=-1,b=-m;return this.legendItems.forEach((x,E)=>{const T=i+e/2+o.measureText(x.text).width;(E===0||g[g.length-1]+T+2*h>c)&&(_+=m,g[g.length-(E>0?0:1)]=0,b+=m,y++),f[E]={left:0,top:b,row:y,width:T,height:a},g[g.length-1]+=T+h}),_}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],m=c-t;let _=h,y=0,b=0,x=0,E=0;return this.legendItems.forEach((T,A)=>{const{itemWidth:M,itemHeight:U}=dI(i,e,o,T,a);A>0&&b+U+2*h>m&&(_+=y+h,g.push({width:y,height:b}),x+=y+h,E++,y=b=0),f[A]={left:x,top:b,col:E,width:M,height:U},y=Math.max(y,M),b+=U+h}),_+=y,g.push({width:y,height:b}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Kr(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Ce(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=Ce(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+a}else{let h=0,f=Ce(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=Ce(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zp(t,this),this._draw(),Up(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=ne.color,f=Kr(t.rtl,this.left,this.width),g=Ae(c.font),{padding:m}=c,_=g.size,y=_/2;let b;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:x,boxHeight:E,itemHeight:T}=s1(c,_),A=function(K,Q,$){if(isNaN(x)||x<=0||isNaN(E)||E<0)return;a.save();const Z=Tt($.lineWidth,1);if(a.fillStyle=Tt($.fillStyle,h),a.lineCap=Tt($.lineCap,"butt"),a.lineDashOffset=Tt($.lineDashOffset,0),a.lineJoin=Tt($.lineJoin,"miter"),a.lineWidth=Z,a.strokeStyle=Tt($.strokeStyle,h),a.setLineDash(Tt($.lineDash,[])),c.usePointStyle){const lt={radius:E*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:Z},at=f.xPlus(K,x/2),st=Q+y;oE(a,lt,at,st,c.pointStyleWidth&&x)}else{const lt=Q+Math.max((_-E)/2,0),at=f.leftForLtr(K,x),st=Xr($.borderRadius);a.beginPath(),Object.values(st).some(Vt=>Vt!==0)?Pu(a,{x:at,y:lt,w:x,h:E,radius:st}):a.rect(at,lt,x,E),a.fill(),Z!==0&&a.stroke()}a.restore()},M=function(K,Q,$){il(a,$.text,K,Q+T/2,g,{strikethrough:$.hidden,textAlign:f.textAlign($.textAlign)})},U=this.isHorizontal(),q=this._computeTitleHeight();U?b={x:Ce(o,this.left+m,this.right-i[0]),y:this.top+m+q,line:0}:b={x:this.left+m,y:Ce(o,this.top+q+m,this.bottom-e[0].height),line:0},gE(this.ctx,t.textDirection);const B=T+m;this.legendItems.forEach((K,Q)=>{a.strokeStyle=K.fontColor,a.fillStyle=K.fontColor;const $=a.measureText(K.text).width,Z=f.textAlign(K.textAlign||(K.textAlign=c.textAlign)),lt=x+y+$;let at=b.x,st=b.y;f.setWidth(this.width),U?Q>0&&at+lt+m>this.right&&(st=b.y+=B,b.line++,at=b.x=Ce(o,this.left+m,this.right-i[b.line])):Q>0&&st+B>this.bottom&&(at=b.x=at+e[b.line].width+m,b.line++,st=b.y=Ce(o,this.top+q+m,this.bottom-e[b.line].height));const Vt=f.x(at);if(A(Vt,st,K),at=N3(Z,at+x+y,U?at+lt:this.right,t.rtl),M(f.x(at),st,K),U)b.x+=lt+m;else if(typeof K.text!="string"){const Jt=g.lineHeight;b.y+=ME(K,Jt)+m}else b.y+=B}),pE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ae(e.font),a=dn(e.padding);if(!e.display)return;const o=Kr(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+g,_=Ce(t.align,_,this.right-y);else{const x=this.columnSizes.reduce((E,T)=>Math.max(E,T.height),0);m=g+Ce(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const b=Ce(h,_,_+y);c.textAlign=o.textAlign(Lp(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,il(c,e.text,b,m,i)}_computeTitleHeight(){const t=this.options.title,e=Ae(t.font),i=dn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Hs(t,this.left,this.right)&&Hs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Hs(t,a.left,a.left+a.width)&&Hs(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!mI(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=fI(a,i);a&&!o&&qt(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&qt(e.onHover,[t,i,this],this)}else i&&qt(e.onClick,[t,i,this],this)}}function dI(n,t,e,i,a){const o=gI(i,n,t,e),c=pI(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function gI(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function pI(n,t,e){let i=n;return typeof t.text!="string"&&(i=ME(t,e)),i}function ME(n,t){const e=n.text?n.text.length:0;return t*e}function mI(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var OE={id:"legend",_element:r1,start(n,t,e){const i=n.legend=new r1({ctx:n.ctx,options:e,chart:n});hn.configure(n,i,e),hn.addBox(n,i)},stop(n){hn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;hn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),m=dn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class DE extends Zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ce(i.text)?i.text.length:1;this._padding=dn(i.padding);const o=a*Ae(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,g,m,_;return this.isHorizontal()?(m=Ce(h,i,o),_=e+t,g=o-i):(c.position==="left"?(m=i+t,_=Ce(h,a,e),f=Ut*-.5):(m=o-t,_=Ce(h,e,a),f=Ut*.5),g=a-e),{titleX:m,titleY:_,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ae(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);il(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:Lp(e.align),textBaseline:"middle",translation:[c,h]})}}function _I(n,t){const e=new DE({ctx:n.ctx,options:t,chart:n});hn.configure(n,e,t),hn.addBox(n,e),n.titleBlock=e}var yI={id:"title",_element:DE,start(n,t,e){_I(n,e)},stop(n){const t=n.titleBlock;hn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;hn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mo={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),m=C3(t,g);m<a&&(a=m,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function On(n,t){return t&&(ce(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ni(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function vI(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function a1(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Ae(t.bodyFont),g=Ae(t.titleFont),m=Ae(t.footerFont),_=o.length,y=a.length,b=i.length,x=dn(t.padding);let E=x.height,T=0,A=i.reduce((q,B)=>q+B.before.length+B.lines.length+B.after.length,0);if(A+=n.beforeBody.length+n.afterBody.length,_&&(E+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),A){const q=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;E+=b*q+(A-b)*f.lineHeight+(A-1)*t.bodySpacing}y&&(E+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let M=0;const U=function(q){T=Math.max(T,e.measureText(q).width+M)};return e.save(),e.font=g.string,Dt(n.title,U),e.font=f.string,Dt(n.beforeBody.concat(n.afterBody),U),M=t.displayColors?c+2+t.boxPadding:0,Dt(i,q=>{Dt(q.before,U),Dt(q.lines,U),Dt(q.after,U)}),M=0,e.font=m.string,Dt(n.footer,U),e.restore(),T+=x.width,{width:T,height:E}}function bI(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function SI(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function xI(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=c-o/2&&(g="right"),SI(g,n,t,e)&&(g="center"),g}function o1(n,t,e){const i=e.yAlign||t.yAlign||bI(n,e);return{xAlign:e.xAlign||t.xAlign||xI(n,t,e,i),yAlign:i}}function EI(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function TI(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function l1(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:b}=Xr(c);let x=EI(t,h);const E=TI(t,f,g);return f==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(m,y)+a:h==="right"&&(x+=Math.max(_,b)+a),{x:He(x,0,i.width-t.width),y:He(E,0,i.height-t.height)}}function $c(n,t,e){const i=dn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function c1(n){return On([],ni(n))}function wI(n,t,e){return ga(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function u1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const NE={beforeTitle:ti,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ti,beforeBody:ti,beforeLabel:ti,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ht(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ti,afterBody:ti,beforeFooter:ti,footer:ti,afterFooter:ti};function Pe(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?NE[t].call(e,i):a}class h1 extends Zs{static positioners=Mo;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new mE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=wI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Pe(i,"beforeTitle",this,t),o=Pe(i,"title",this,t),c=Pe(i,"afterTitle",this,t);let h=[];return h=On(h,ni(a)),h=On(h,ni(o)),h=On(h,ni(c)),h}getBeforeBody(t,e){return c1(Pe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Dt(t,o=>{const c={before:[],lines:[],after:[]},h=u1(i,o);On(c.before,ni(Pe(h,"beforeLabel",this,o))),On(c.lines,Pe(h,"label",this,o)),On(c.after,ni(Pe(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return c1(Pe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Pe(i,"beforeFooter",this,t),o=Pe(i,"footer",this,t),c=Pe(i,"afterFooter",this,t);let h=[];return h=On(h,ni(a)),h=On(h,ni(o)),h=On(h,ni(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(vI(this.chart,e[f]));return t.filter&&(h=h.filter((m,_,y)=>t.filter(m,_,y,i))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,i))),Dt(h,m=>{const _=u1(t.callbacks,m);a.push(Pe(_,"labelColor",this,m)),o.push(Pe(_,"labelPointStyle",this,m)),c.push(Pe(_,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Mo[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=a1(this,i),g=Object.assign({},h,f),m=o1(this.chart,i,g),_=l1(i,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:_}=Xr(h),{x:y,y:b}=t,{width:x,height:E}=e;let T,A,M,U,q,B;return o==="center"?(q=b+E/2,a==="left"?(T=y,A=T-c,U=q+c,B=q-c):(T=y+x,A=T+c,U=q-c,B=q+c),M=T):(a==="left"?A=y+Math.max(f,m)+c:a==="right"?A=y+x-Math.max(g,_)-c:A=this.caretX,o==="top"?(U=b,q=U-c,T=A-c,M=A+c):(U=b+E,q=U+c,T=A+c,M=A-c),B=U),{x1:T,x2:A,x3:M,y1:U,y2:q,y3:B}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const g=Kr(i.rtl,this.x,this.width);for(t.x=$c(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Ae(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,m=Ae(o.bodyFont),_=$c(this,"left",o),y=a.x(_),b=f<m.lineHeight?(m.lineHeight-f)/2:0,x=e.y+b;if(o.usePointStyle){const E={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=a.leftForLtr(y,g)+g/2,A=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,wb(t,E,T,A),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,wb(t,E,T,A)}else{t.lineWidth=wt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const E=a.leftForLtr(y,g),T=a.leftForLtr(a.xPlus(y,1),g-2),A=Xr(c.borderRadius);Object.values(A).some(M=>M!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Pu(t,{x:E,y:x,w:g,h:f,radius:A}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Pu(t,{x:T,y:x+1,w:g-2,h:f-2,radius:A}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(E,x,g,f),t.strokeRect(E,x,g,f),t.fillStyle=c.backgroundColor,t.fillRect(T,x+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:m}=i,_=Ae(i.bodyFont);let y=_.lineHeight,b=0;const x=Kr(i.rtl,this.x,this.width),E=function($){e.fillText($,x.x(t.x+b),t.y+y/2),t.y+=y+o},T=x.textAlign(c);let A,M,U,q,B,K,Q;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=$c(this,T,i),e.fillStyle=i.bodyColor,Dt(this.beforeBody,E),b=h&&T!=="right"?c==="center"?g/2+m:g+2+m:0,q=0,K=a.length;q<K;++q){for(A=a[q],M=this.labelTextColors[q],e.fillStyle=M,Dt(A.before,E),U=A.lines,h&&U.length&&(this._drawColorBox(e,t,q,x,i),y=Math.max(_.lineHeight,f)),B=0,Q=U.length;B<Q;++B)E(U[B]),y=_.lineHeight;Dt(A.after,E)}b=0,y=_.lineHeight,Dt(this.afterBody,E),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=Kr(i.rtl,this.x,this.width);for(t.x=$c(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Ae(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:m}=i,{topLeft:_,topRight:y,bottomLeft:b,bottomRight:x}=Xr(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-y,f),e.quadraticCurveTo(h+g,f,h+g,f+y),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+m-x),e.quadraticCurveTo(h+g,f+m,h+g-x,f+m),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+b,f+m),e.quadraticCurveTo(h,f+m,h,f+m-b),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Mo[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=a1(this,t),f=Object.assign({},c,this._size),g=o1(e,t,f),m=l1(t,f,g,e);(a._to!==m.x||o._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=dn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),gE(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),pE(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Du(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Du(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Mo[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var kE={id:"tooltip",_element:h1,positioners:Mo,afterInit(n,t,e){e&&(n.tooltip=new h1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CI=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function AI(n,t,e,i){const a=n.indexOf(t);if(a===-1)return CI(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const RI=(n,t)=>n===null?null:He(Math.round(n),0,t);function f1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class MI extends pa{static id="category";static defaults={ticks:{callback:f1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ht(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:AI(i,t,Tt(e,t),this._addedLabels),RI(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return f1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function OI(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:g,maxTicks:m,maxDigits:_,includeBounds:y}=n,b=o||1,x=m-1,{min:E,max:T}=t,A=!Ht(c),M=!Ht(h),U=!Ht(g),q=(T-E)/(_+1);let B=mb((T-E)/x/b)*b,K,Q,$,Z;if(B<1e-14&&!A&&!M)return[{value:E},{value:T}];Z=Math.ceil(T/B)-Math.floor(E/B),Z>x&&(B=mb(Z*B/x/b)*b),Ht(f)||(K=Math.pow(10,f),B=Math.ceil(B*K)/K),a==="ticks"?(Q=Math.floor(E/B)*B,$=Math.ceil(T/B)*B):(Q=E,$=T),A&&M&&o&&E3((h-c)/o,B/1e3)?(Z=Math.round(Math.min((h-c)/B,m)),B=(h-c)/Z,Q=c,$=h):U?(Q=A?c:Q,$=M?h:$,Z=g-1,B=($-Q)/Z):(Z=($-Q)/B,au(Z,Math.round(Z),B/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const lt=Math.max(_b(B),_b(Q));K=Math.pow(10,Ht(f)?lt:f),Q=Math.round(Q*K)/K,$=Math.round($*K)/K;let at=0;for(A&&(y&&Q!==c?(e.push({value:c}),Q<c&&at++,au(Math.round((Q+at*B)*K)/K,c,d1(c,q,n))&&at++):Q<c&&at++);at<Z;++at){const st=Math.round((Q+at*B)*K)/K;if(M&&st>h)break;e.push({value:st})}return M&&y&&$!==h?e.length&&au(e[e.length-1].value,h,d1(h,q,n))?e[e.length-1].value=h:e.push({value:h}):(!M||$===h)&&e.push({value:$}),e}function d1(n,t,{horizontal:e,minRotation:i}){const a=li(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class DI extends pa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ht(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=rs(a),g=rs(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=OI(a,o);return t.bounds==="ticks"&&T3(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Pp(t,this.chart.options.locale,this.options.ticks.format)}}class NI extends DI{static id="linear";static defaults={ticks:{callback:aE.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fn(t)?t:0,this.max=fn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=li(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const rh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ze=Object.keys(rh);function g1(n,t){return n-t}function p1(n,t){if(Ht(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),fn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Iu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function m1(n,t,e,i){const a=ze.length;for(let o=ze.indexOf(n);o<a-1;++o){const c=rh[ze[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return ze[o]}return ze[a-1]}function kI(n,t,e,i,a){for(let o=ze.length-1;o>=ze.indexOf(e);o--){const c=ze[o];if(rh[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return ze[e?ze.indexOf(e):0]}function II(n){for(let t=ze.indexOf(n)+1,e=ze.length;t<e;++t)if(rh[ze[t]].common)return ze[t]}function _1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Ip(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function LI(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function y1(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:LI(n,i,a,e)}class v1 extends pa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new q4._date(t.adapters.date);a.init(e),zo(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:p1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=fn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=fn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=M3(a,o,c);return this._unit=e.unit||(i.autoSkip?m1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):kI(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:II(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),y1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=He(e,0,c),i=He(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||m1(o.minUnit,e,i,this._getLabelCapacity(e)),h=Tt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Iu(f)||f===!0,m={};let _=e,y,b;if(g&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(y=_,b=0;y<i;y=+t.add(y,h,c),b++)_1(m,y,x);return(y===i||a.bounds==="ticks"||b===1)&&_1(m,y,x),Object.keys(m).sort(g1).map(E=>+E)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return qt(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,m=f&&h[f],_=g&&h[g],y=i[e],b=g&&_&&y&&y.major;return this._adapter.format(t,a||(b?_:m))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=li(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,y1(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(p1(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nE(t.sort(g1))}}function Zc(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=Cg(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=Cg(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class x5 extends v1{static id="timeseries";static defaults=v1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Zc(e,this.min),this._tableRange=Zc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,g,m;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)m=a[c+1],f=a[c-1],g=a[c],Math.round((m+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Zc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Zc(this._table,i*this._tableRange+this._minPos,!0)}}const IE="label";function b1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function PI(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function LE(n,t){n.labels=t}function PE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IE;const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function zI(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IE;const e={labels:[],datasets:[]};return LE(e,n.labels),PE(e,n.datasets,t),e}function UI(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:m,updateMode:_,...y}=n,b=z.useRef(null),x=z.useRef(null),E=()=>{b.current&&(x.current=new vl(b.current,{type:c,data:zI(h,o),options:f&&{...f},plugins:g}),b1(t,x.current))},T=()=>{b1(t,null),x.current&&(x.current.destroy(),x.current=null)};return z.useEffect(()=>{!a&&x.current&&f&&PI(x.current,f)},[a,f]),z.useEffect(()=>{!a&&x.current&&LE(x.current.config.data,h.labels)},[a,h.labels]),z.useEffect(()=>{!a&&x.current&&h.datasets&&PE(x.current.config.data,h.datasets,o)},[a,h.datasets]),z.useEffect(()=>{x.current&&(a?(T(),setTimeout(E)):x.current.update(_))},[a,f,h.labels,h.datasets,_]),z.useEffect(()=>{x.current&&(T(),setTimeout(E))},[c]),z.useEffect(()=>(E(),()=>T()),[]),ci.createElement("canvas",{ref:b,role:"img",height:e,width:i,...y},m)}const HI=z.forwardRef(UI);function zE(n,t){return vl.register(t),z.forwardRef((e,i)=>ci.createElement(HI,{...e,ref:i,type:n}))}const BI=zE("bar",j4),jI=zE("doughnut",V4),UE=z.createContext(),FI=({children:n})=>{const[t,e]=z.useState(null),[i,a]=z.useState(!0);z.useEffect(()=>{const c=yM(na,h=>{e(h),a(!1)});return()=>c()},[]);const o={user:t,loading:i};return P.jsx(UE.Provider,{value:o,children:!i&&n})},bl=()=>z.useContext(UE);vl.register(rI,kE,OE);const VI=({values:n})=>{const{user:t,loading:e}=bl(),[i,a]=z.useState(0),o=async f=>{if(!f){a(0),setCalculating(!1);return}try{const g=Gi(Ki,`emr-users/${f.uid}/progress`),_=(await Xi(g)).val(),y=Gi(Ki,"words"),x=(await Xi(y)).size;if(_&&x>0){const E=Math.round(_.currentIndex/x*100);a(E)}else a(0)}catch(g){console.error("Error calculating progress:",g),a(0)}};z.useEffect(()=>{e||o(t)},[t,e]);const c=["#14B8A6","#3B82F6","#F59E0B","#E5E7EB"],h={datasets:[{data:n,backgroundColor:c.map(f=>`${f}7F`),borderColor:c,borderWidth:1}]};return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"relative w-full h-full flex-1 min-h-40",children:[P.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:P.jsx(jI,{data:h})}),P.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:t?P.jsxs("p",{className:"text-6xl font-black",children:[i,"%"]}):P.jsx("p",{className:"text-6xl font-black",children:"-%"})})]}),P.jsxs("div",{className:"flex w-full justify-center gap-4",children:[P.jsx("p",{className:"bg-teal-400/50 px-2 rounded border border-teal-400",children:"easy"}),P.jsx("p",{className:"bg-blue-400/50 px-2 rounded border border-blue-400",children:"normal"}),P.jsx("p",{className:"bg-amber-400/50 px-2 rounded border border-amber-400",children:"hard"}),P.jsx("p",{className:"bg-gray-200/50 px-2 rounded border border-gray-200",children:"not study"})]})]})};vl.register(MI,NI,hI,yI,kE,OE);const qI=()=>{const{user:n,loading:t}=bl(),[e,i]=z.useState({labels:[],datasets:[]});if(z.useEffect(()=>{n&&(async()=>{const c=Gi(Ki,`emr-users/${n.uid}/wordHistories`);try{const h=await Xi(c);if(h.exists()){const f=h.val(),g=new Date;g.setHours(0,0,0,0);const m=new Date(g);m.setDate(g.getDate()-6);const _={},y=[];for(let b=0;b<7;b++){const x=new Date(m);x.setDate(m.getDate()+b);const E=x.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});_[E]=0,y.push(E)}for(const b in f){const x=f[b];if(x.lastReviewed){const E=new Date(x.lastReviewed);if(E>=m){const T=E.toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"});_.hasOwnProperty(T)&&_[T]++}}}i({labels:y,datasets:[{data:y.map(b=>_[b]),backgroundColor:"#FB923C7F",borderColor:"#FB923C",borderWidth:1}]})}}catch(h){console.error(":",h)}})()},[n]),t)return P.jsx("div",{children:"Loading..."});const a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Words"},ticks:{stepSize:1}},x:{title:{display:!0,text:"Date"}}}};return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"w-full h-full flex-1",children:P.jsx(BI,{data:e,options:a})}),P.jsx("div",{className:"flex w-full justify-center gap-4",children:P.jsx("p",{className:"bg-orange-400/50 px-2 rounded border border-orange-400",children:"Study words"})})]})},YI=()=>{const{user:n,loading:t}=bl();return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"p-4 flex flex-col items-center h-full",children:[P.jsxs("h1",{className:"font-bold text-xl",children:["Welcome back, ",n?.displayName,"!"]}),P.jsxs("div",{className:"flex flex-col gap-2 p-2 flex-1 overflow-auto",children:[P.jsx(VI,{values:[2,0,0,540]}),P.jsx(qI,{})]})]})})},WI=()=>P.jsx(P.Fragment,{children:P.jsx("div",{className:"p-4",children:"Oh, not found your page."})});var HE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S1=ci.createContext&&ci.createContext(HE),GI=["attr","size","title"];function XI(n,t){if(n==null)return{};var e=KI(n,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function KI(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Bu(){return Bu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bu.apply(this,arguments)}function x1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function ju(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(e),!0).forEach(function(i){QI(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x1(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function QI(n,t,e){return t=$I(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $I(n){var t=ZI(n,"string");return typeof t=="symbol"?t:t+""}function ZI(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function BE(n){return n&&n.map((t,e)=>ci.createElement(t.tag,ju({key:e},t.attr),BE(t.child)))}function xn(n){return t=>ci.createElement(JI,Bu({attr:ju({},n.attr)},t),BE(n.child))}function JI(n){var t=e=>{var{attr:i,size:a,title:o}=n,c=XI(n,GI),h=a||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),ci.createElement("svg",Bu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:ju(ju({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&ci.createElement("title",null,o),n.children)};return S1!==void 0?ci.createElement(S1.Consumer,null,e=>t(e)):t(HE)}function t5(n){return xn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 18.71875 6.78125 L 17.28125 8.21875 L 24.0625 15 L 4 15 L 4 17 L 24.0625 17 L 17.28125 23.78125 L 18.71875 25.21875 L 27.21875 16.71875 L 27.90625 16 L 27.21875 15.28125 Z"},child:[]}]})(n)}function e5(n){return xn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 28.28125 6.28125 L 11 23.5625 L 3.71875 16.28125 L 2.28125 17.71875 L 10.28125 25.71875 L 11 26.40625 L 11.71875 25.71875 L 29.71875 7.71875 Z"},child:[]}]})(n)}function n5(n){return xn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 4 C 10.421875 4 5.742188 7.832031 4.40625 13 L 6.46875 13 C 7.746094 8.945313 11.53125 6 16 6 C 21.515625 6 26 10.484375 26 16 C 26 21.515625 21.515625 26 16 26 C 11.53125 26 7.746094 23.054688 6.46875 19 L 4.40625 19 C 5.742188 24.167969 10.421875 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 15.34375 11.28125 L 13.90625 12.71875 L 16.1875 15 L 4 15 L 4 17 L 16.1875 17 L 13.90625 19.28125 L 15.34375 20.71875 L 19.34375 16.71875 L 20.03125 16 L 19.34375 15.28125 Z"},child:[]}]})(n)}function i5(n){return xn({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"},child:[]}]})(n)}const s5=({word:n,isMeaning:t})=>{const e=()=>{if(!n)return"-";const i=n.Word.length,a="_".repeat(i);return n.ExampleSentence.replace(n.Word,a)};return P.jsx(P.Fragment,{children:P.jsx("div",{className:"border-2 border-sky-400 rounded-md shadow-xl bg-gray-100 flex flex-col justify-center items-center w-full p-4 gap-4 h-72 overflow-auto",children:n?t?P.jsxs(P.Fragment,{children:[P.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),P.jsx("p",{className:"font-JP",children:n.Meaning}),P.jsx("span",{className:"border-b w-full border-sky-400"}),P.jsx("p",{children:n.ExampleSentence}),P.jsx("p",{className:"font-JP",children:n.ExampleTranslation})]}):P.jsxs(P.Fragment,{children:[P.jsx("p",{className:"font-extrabold text-3xl",children:n.Word}),P.jsx("p",{children:n.PartOfSpeech}),P.jsx("span",{className:"border-b w-full border-sky-400"}),P.jsx("p",{children:e()})]}):P.jsxs(P.Fragment,{children:[P.jsx("p",{className:"animate-pulse h-12 bg-gray-200 rounded-full w-44"}),P.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-24"}),P.jsx("span",{className:"border-b w-full border-sky-400"}),P.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"}),P.jsx("p",{className:"animate-pulse h-6 bg-gray-200 rounded-full w-full"})]})})})},r5=()=>{const[n,t]=z.useState([]),[e,i]=z.useState(null),[a,o]=z.useState(-1),[c,h]=z.useState(!1),{user:f,loading:g}=bl();z.useEffect(()=>{if(!f)return;(async()=>{const x=Gi(Ki,`emr-users/${f.uid}/progress/currentIndex`),E=await Xi(x);E.val()?o(E.val()):o(0),i(n[a])})()},[n]),z.useEffect(()=>{(async()=>{const x=Gi(Ki,"words");try{const T=(await Xi(x)).val();t(Object.entries(T).map(([A,M])=>({id:A,...M})).sort(A=>A.id))}catch(E){console.error(E)}})()},[]);const m=()=>{const b=a+1;b>=n.length||(h(!1),i(n[b]),o(b))},_=async b=>{if(!e)return;const x=f.uid,E=Gi(Ki,`emr-users/${x}/wordHistories/${e.id}`);try{const M=(await Xi(E)).val()||{correctCount:0,incorrectCount:0,difficulty:"new"},U={correctCount:b?M.correctCount+1:M.correctCount,incorrectCount:b?M.incorrectCount:M.incorrectCount+1,lastReviewed:new Date().toISOString(),difficulty:y(M,b)};await lb(E,U)}catch(A){console.error(A)}const T=Gi(Ki,`emr-users/${x}/progress`);try{const M=(await Xi(T)).val()||{repeat:0,currentIndex:0},q={repeat:a==n.length?M.repeat+1:M.repeat,currentIndex:a+1};await lb(T,q)}catch(A){console.error(A)}},y=(b,x)=>{const E=x?b.correctCount+1:b.correctCount,T=x?b.incorrectCount:b.incorrectCount+1,A=["easy","normal","hard"],M=E/(E+T-1);return M>=.8?A[0]:M<=.3?A[2]:A[1]};return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"h-full flex justify-around items-center p-4 flex-col",children:[e?P.jsxs("p",{className:"h-6",children:[a+1,"/",n.length]}):P.jsx("p",{className:"h-6 w-24 animate-pulse bg-gray-200 rounded-full"}),P.jsx(s5,{word:e,isMeaning:c},e?.id),P.jsx("div",{children:P.jsx("div",{className:"flex gap-8 justify-center",children:c?P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>{_(!0),m()},className:"btn-icon bg-green-500 text-white",children:P.jsx(e5,{className:"size-8"})}),P.jsx("button",{onClick:()=>{_(!1),m()},className:"btn-icon bg-red-500 text-white",children:P.jsx(i5,{className:"size-8"})})]}):P.jsx("button",{className:"btn-icon bg-orange-400 text-white",onClick:()=>h(!0),children:P.jsx(t5,{className:"size-8"})})})})]})})},a5=()=>{const[n,t]=z.useState([]),[e,i]=z.useState("");z.useEffect(()=>{try{(async()=>{const h=Gi(Ki,"words");try{const g=(await Xi(h)).val();t(Object.entries(g).map(([m,_])=>({id:m,..._})))}catch(f){console.error(f)}})()}catch(c){console.error(c)}},[]);const a=c=>i(c.target.value),o=n.filter(c=>c.Word.toLowerCase().includes(e.toLowerCase())).sort(c=>c.Word);return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"h-full px-2 pt-2 flex flex-col overflow-hidden",children:[P.jsx("input",{onChange:a,value:e,className:"rounded-full p-2 border border-orange-400 shadow"}),n.length==0?P.jsx("div",{className:"flex-1 flex items-center justify-center",children:P.jsx("div",{className:"loader"})}):P.jsx("div",{className:"overflow-y-auto flex-1",children:P.jsx("ul",{children:o.map(c=>P.jsxs("li",{id:c.id,className:"p-2 border-b",children:[P.jsx("p",{className:"text-xl font-semibold",children:c.Word}),P.jsx("p",{className:"text-base font-JP",children:c.Meaning})]},c.id))})})]})})};function o5(n){return xn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function l5(n){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function c5(n){return xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function u5(n){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function h5(n){return xn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(n)}const f5=()=>P.jsx(P.Fragment,{children:P.jsx("nav",{className:"border-t border-sky-500",children:P.jsxs("ul",{className:"flex justify-around",children:[P.jsx("li",{children:P.jsxs(Fr,{to:"/",className:"flex flex-col items-center justify-center p-2 gap-2",children:[P.jsx(c5,{className:"size-6"}),P.jsx("p",{className:"text-xs",children:"Home"})]})}),P.jsx("li",{children:P.jsxs(Fr,{to:"/study",className:"flex flex-col items-center justify-center p-2 gap-2",children:[P.jsx(h5,{className:"size-6"}),P.jsx("p",{className:"text-xs",children:"Study"})]})}),P.jsx("li",{children:P.jsxs(Fr,{to:"/words",className:"flex flex-col items-center justify-center p-2 gap-2",children:[P.jsx(u5,{className:"size-6"}),P.jsx("p",{className:"text-xs",children:"Words"})]})})]})})});function d5(n){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m93.19 329.38 47.45-304.07c1.64-10.37 15.55-12.82 20.46-3.55l51 95.45zM432 400l-46.74-276.79a11 11 0 0 0-18.54-6L80 400l159.36 91.91a33.18 33.18 0 0 0 31.91 0zM302.36 158.93l-36.54-69.54a10.86 10.86 0 0 0-19.36 0L85.83 375.74z"},child:[]}]})(n)}function g5(n){return xn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"},child:[]}]})(n)}const p5=async()=>{try{const n=await kS(na,Gx);pM(na.currentUser,n)}catch(n){console.error(n)}},m5=async()=>{try{await kS(na,Gx)}catch(n){console.error(n)}},_5=async()=>{try{await uM(na)}catch(n){console.error(n)}},y5=()=>{try{na.signOut()}catch(n){console.error(n)}},v5=()=>P.jsx(P.Fragment,{children:P.jsx("div",{className:"bg-gray-400/50 fixed top-0 left-0 w-full h-dvh flex items-center justify-center z-50",children:P.jsxs("div",{className:"shadow-xl rounded-xl p-4 bg-gray-50 flex items-center jusitfy-center flex-col max-w-72",children:[P.jsxs("h1",{className:"text-2xl font-bold text-center",children:[P.jsx("p",{children:"Welcome to"}),P.jsx("p",{children:"New"}),P.jsx("p",{children:"English Master!"})]}),P.jsx("p",{className:"pt-2 text-base text-center font-thin",children:"Weve been developing English Master with Blazor, and now were excited to start creating it with React. Enjoy the new, evolved English Master!"}),P.jsxs("div",{className:"p-4 w-full",children:[P.jsx("button",{onClick:m5,className:"btn-primary",children:"Sign in with Google"}),P.jsx("p",{className:"text-center font-thin",children:"or"}),P.jsx("button",{className:"btn-secondary",onClick:_5,children:"Start as Guest"})]}),P.jsx("p",{className:"text-base font-thin p-2",children:"Powered by"}),P.jsxs("div",{className:"flex justify-center gap-2",children:[P.jsx(l5,{className:"size-6"}),P.jsx(d5,{className:"size-6"}),P.jsx(g5,{className:"size-6"})]}),P.jsx("p",{className:"text-base font-thin p-2",children:"Developed by"}),P.jsxs("a",{href:"https://github.com/fukicycle",className:"flex justify-center items-center gap-2",children:["Fuki Sato",P.jsx(o5,{})]})]})})});function b5(){const{user:n,loading:t}=bl();return P.jsxs(P.Fragment,{children:[t?P.jsx("div",{className:"fixed top-0 left-0 w-full h-dvh flex justify-center items-center bg-gray-400/50",children:P.jsx("div",{className:"loader"})}):!n&&P.jsx(v5,{}),P.jsxs("div",{className:"h-dvh bg-gray-50 font-Montserrat flex flex-col pb-safe",children:[P.jsxs("div",{className:"bg-sky-500 shadow-xl p-2 flex items-center justify-between h-16",children:[P.jsx(Fr,{to:"/",className:" text-white text-xl text-bold",children:"English Master"}),n&&!n.isAnonymous?P.jsx("img",{src:n.photoURL,className:"rounded-full h-full shadow-md",onClick:y5}):P.jsx("button",{className:"btn-icon",onClick:p5,children:P.jsx(n5,{className:"size-8"})})]}),P.jsx("div",{className:"flex-1 overflow-hidden",children:P.jsxs(u2,{children:[P.jsx(Co,{path:"/",element:P.jsx(YI,{})}),P.jsx(Co,{path:"/study",element:P.jsx(r5,{})}),P.jsx(Co,{path:"/words",element:P.jsx(a5,{})}),P.jsx(Co,{path:"*",element:P.jsx(WI,{})})]})}),P.jsx(f5,{})]})]})}vC.createRoot(document.getElementById("root")).render(P.jsx(z.StrictMode,{children:P.jsx(FI,{children:P.jsx(k2,{basename:"/english-master-react/",children:P.jsx(b5,{})})})}));
